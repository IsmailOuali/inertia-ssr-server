var _a;
import { jsxs, jsx, Fragment } from "react/jsx-runtime";
import * as React from "react";
import React__default, { useState, useEffect, createElement, Fragment as Fragment$1, useRef, forwardRef, useImperativeHandle, Component as Component$1, createRef as createRef$1, PureComponent as PureComponent$1, useCallback, useMemo } from "react";
import { usePage, Link, router, useForm, Head, createInertiaApp } from "@inertiajs/react";
import { motion, AnimatePresence } from "framer-motion";
import { ArrowLeft, FileText, AlertCircle, Building, Tag, MapPin, Calendar as Calendar$2, FileUp, Download, X, Save, User as User$1, Package, CheckCircle, Truck, Briefcase, UserIcon, ChevronDown, Settings, LogOut, Menu, Search, ArrowRight, Home as Home$1, Shield, Zap, Star, LockKeyhole, CheckCircle2, Loader2, LogIn, Mail, Lock, EyeOff, Eye, Sparkles, Clock, Check, HelpCircle, ChevronUp, ChevronLeft, ChevronRight, Award, Users, Send, MessageSquare, ArrowUpRight, FileCheck, FileClock, FileX, Plus, Phone, BanknoteIcon, Info, Copy, Smartphone, CreditCard, Scale, AlertTriangle, Globe, ShoppingCart, ShieldCheck, Server, List, RefreshCw, XCircle, Filter, BadgeDollarSign, Edit as Edit$2, Building2, Upload, Printer, Share2, PlusCircle, SlidersHorizontal, CalendarIcon, Receipt, ShieldAlert, ServerCrash, Hash, Trash2, Loader, ExternalLink, ArrowUp, Newspaper, MessageCircle } from "lucide-react";
import { Inertia as Inertia$1 } from "@inertiajs/inertia";
import toast from "react-hot-toast";
import { XMarkIcon, CheckIcon, StarIcon } from "@heroicons/react/24/solid";
import _extends$1 from "@babel/runtime/helpers/esm/extends";
import PropTypes from "prop-types";
import { unstable_generateUtilityClasses, unstable_generateUtilityClass, unstable_composeClasses, unstable_useEnhancedEffect, unstable_useForkRef, unstable_ownerDocument, unstable_capitalize, unstable_useId, HTMLElementType, unstable_useEventCallback, refType, unstable_debounce, unstable_ownerWindow, chainPropTypes } from "@mui/utils";
import _objectWithoutPropertiesLoose$1 from "@babel/runtime/helpers/esm/objectWithoutPropertiesLoose";
import _toPropertyKey$1 from "@babel/runtime/helpers/esm/toPropertyKey";
import { createSelector as createSelector$1, defaultMemoize } from "reselect";
import { styled as styled$1, useTheme, alpha, lighten, darken, useThemeProps } from "@mui/material/styles/index.js";
import InputBase from "@mui/material/InputBase/index.js";
import Autocomplete, { createFilterOptions } from "@mui/material/Autocomplete/index.js";
import clsx, { clsx as clsx$1 } from "clsx";
import MenuList from "@mui/material/MenuList/index.js";
import ClickAwayListener from "@mui/material/ClickAwayListener/index.js";
import Grow from "@mui/material/Grow/index.js";
import Paper from "@mui/material/Paper/index.js";
import Popper from "@mui/material/Popper/index.js";
import MenuItem from "@mui/material/MenuItem/index.js";
import * as ReactDOM from "react-dom";
import { flushSync as flushSync$1, createPortal as createPortal$1 } from "react-dom";
import Badge$1 from "@mui/material/Badge/index.js";
import { styled } from "@mui/system";
import Divider from "@mui/material/Divider/index.js";
import ListItemIcon from "@mui/material/ListItemIcon/index.js";
import ListItemText from "@mui/material/ListItemText/index.js";
import MUICheckbox from "@mui/material/Checkbox/index.js";
import TextField from "@mui/material/TextField/index.js";
import MUIFormControl from "@mui/material/FormControl/index.js";
import MUISelect from "@mui/material/Select/index.js";
import MUISwitch, { switchClasses } from "@mui/material/Switch/index.js";
import MUIButton from "@mui/material/Button/index.js";
import IconButton from "@mui/material/IconButton/index.js";
import MUIInputAdornment from "@mui/material/InputAdornment/index.js";
import MUITooltip from "@mui/material/Tooltip/index.js";
import MUIInputLabel from "@mui/material/InputLabel/index.js";
import MUIChip from "@mui/material/Chip/index.js";
import { createSvgIcon } from "@mui/material/utils/index.js";
import FormControlLabel from "@mui/material/FormControlLabel/index.js";
import FocusTrap from "@mui/material/Unstable_TrapFocus/index.js";
import TablePagination, { tablePaginationClasses } from "@mui/material/TablePagination/index.js";
import CircularProgress from "@mui/material/CircularProgress/index.js";
import Skeleton from "@mui/material/Skeleton/index.js";
import { Transition, Dialog, TransitionChild, DialogPanel } from "@headlessui/react";
import { Slot } from "@radix-ui/react-slot";
import { cva } from "class-variance-authority";
import { twMerge } from "tailwind-merge";
import { toast as toast$1 } from "sonner";
import { Link as Link$1 } from "@inertiajs/inertia-react";
import { QueryClient, QueryClientProvider, useQuery } from "@tanstack/react-query";
import { MagnifyingGlassIcon, FunnelIcon, XMarkIcon as XMarkIcon$1, XCircleIcon, CheckCircleIcon, EyeIcon, ChevronLeftIcon, ChevronRightIcon, TrashIcon, PlusIcon, PencilSquareIcon, CurrencyDollarIcon } from "@heroicons/react/24/outline";
import axios from "axios";
import { stringify, parse as parse$1 } from "qs";
import * as LabelPrimitive from "@radix-ui/react-label";
import * as preact from "preact";
import { createElement as createElement$1, Component, Fragment as Fragment$2, isValidElement, render, createRef } from "preact";
import { createPortal } from "preact/compat";
import interactionPlugin from "@fullcalendar/interaction";
import { ResponsiveContainer, LineChart, Line, PieChart, Pie, Cell, AreaChart, Area, BarChart, Bar, XAxis, YAxis, Tooltip, Legend } from "recharts";
import * as CheckboxPrimitive from "@radix-ui/react-checkbox";
import { useNavigate, useParams } from "react-router-dom";
import createServer from "@inertiajs/react/server";
import { renderToString } from "react-dom/server";
import pretty from "pretty";
var DefaultContext = {
  color: void 0,
  size: void 0,
  className: void 0,
  style: void 0,
  attr: void 0
};
var IconContext = React__default.createContext && /* @__PURE__ */ React__default.createContext(DefaultContext);
var _excluded$Q = ["attr", "size", "title"];
function _objectWithoutProperties(source, excluded) {
  if (source == null) return {};
  var target = _objectWithoutPropertiesLoose(source, excluded);
  var key, i2;
  if (Object.getOwnPropertySymbols) {
    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);
    for (i2 = 0; i2 < sourceSymbolKeys.length; i2++) {
      key = sourceSymbolKeys[i2];
      if (excluded.indexOf(key) >= 0) continue;
      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;
      target[key] = source[key];
    }
  }
  return target;
}
function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  for (var key in source) {
    if (Object.prototype.hasOwnProperty.call(source, key)) {
      if (excluded.indexOf(key) >= 0) continue;
      target[key] = source[key];
    }
  }
  return target;
}
function _extends() {
  _extends = Object.assign ? Object.assign.bind() : function(target) {
    for (var i2 = 1; i2 < arguments.length; i2++) {
      var source = arguments[i2];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends.apply(this, arguments);
}
function ownKeys(e2, r) {
  var t = Object.keys(e2);
  if (Object.getOwnPropertySymbols) {
    var o2 = Object.getOwnPropertySymbols(e2);
    r && (o2 = o2.filter(function(r2) {
      return Object.getOwnPropertyDescriptor(e2, r2).enumerable;
    })), t.push.apply(t, o2);
  }
  return t;
}
function _objectSpread(e2) {
  for (var r = 1; r < arguments.length; r++) {
    var t = null != arguments[r] ? arguments[r] : {};
    r % 2 ? ownKeys(Object(t), true).forEach(function(r2) {
      _defineProperty(e2, r2, t[r2]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e2, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function(r2) {
      Object.defineProperty(e2, r2, Object.getOwnPropertyDescriptor(t, r2));
    });
  }
  return e2;
}
function _defineProperty(obj, key, value) {
  key = _toPropertyKey(key);
  if (key in obj) {
    Object.defineProperty(obj, key, { value, enumerable: true, configurable: true, writable: true });
  } else {
    obj[key] = value;
  }
  return obj;
}
function _toPropertyKey(t) {
  var i2 = _toPrimitive(t, "string");
  return "symbol" == typeof i2 ? i2 : i2 + "";
}
function _toPrimitive(t, r) {
  if ("object" != typeof t || !t) return t;
  var e2 = t[Symbol.toPrimitive];
  if (void 0 !== e2) {
    var i2 = e2.call(t, r);
    if ("object" != typeof i2) return i2;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return ("string" === r ? String : Number)(t);
}
function Tree2Element(tree) {
  return tree && tree.map((node, i2) => /* @__PURE__ */ React__default.createElement(node.tag, _objectSpread({
    key: i2
  }, node.attr), Tree2Element(node.child)));
}
function GenIcon(data) {
  return (props) => /* @__PURE__ */ React__default.createElement(IconBase, _extends({
    attr: _objectSpread({}, data.attr)
  }, props), Tree2Element(data.child));
}
function IconBase(props) {
  var elem = (conf) => {
    var {
      attr,
      size,
      title
    } = props, svgProps = _objectWithoutProperties(props, _excluded$Q);
    var computedSize = size || conf.size || "1em";
    var className;
    if (conf.className) className = conf.className;
    if (props.className) className = (className ? className + " " : "") + props.className;
    return /* @__PURE__ */ React__default.createElement("svg", _extends({
      stroke: "currentColor",
      fill: "currentColor",
      strokeWidth: "0"
    }, conf.attr, attr, svgProps, {
      className,
      style: _objectSpread(_objectSpread({
        color: props.color || conf.color
      }, conf.style), props.style),
      height: computedSize,
      width: computedSize,
      xmlns: "http://www.w3.org/2000/svg"
    }), title && /* @__PURE__ */ React__default.createElement("title", null, title), props.children);
  };
  return IconContext !== void 0 ? /* @__PURE__ */ React__default.createElement(IconContext.Consumer, null, (conf) => elem(conf)) : elem(DefaultContext);
}
function MdCheckCircleOutline(props) {
  return GenIcon({ "attr": { "viewBox": "0 0 24 24" }, "child": [{ "tag": "path", "attr": { "fill": "none", "d": "M0 0h24v24H0V0zm0 0h24v24H0V0z" }, "child": [] }, { "tag": "path", "attr": { "d": "M16.59 7.58 10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z" }, "child": [] }] })(props);
}
function MdCheckCircle(props) {
  return GenIcon({ "attr": { "viewBox": "0 0 24 24" }, "child": [{ "tag": "path", "attr": { "fill": "none", "d": "M0 0h24v24H0z" }, "child": [] }, { "tag": "path", "attr": { "d": "M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" }, "child": [] }] })(props);
}
function MdDashboard(props) {
  return GenIcon({ "attr": { "viewBox": "0 0 24 24" }, "child": [{ "tag": "path", "attr": { "fill": "none", "d": "M0 0h24v24H0z" }, "child": [] }, { "tag": "path", "attr": { "d": "M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z" }, "child": [] }] })(props);
}
function MdDescription(props) {
  return GenIcon({ "attr": { "viewBox": "0 0 24 24" }, "child": [{ "tag": "path", "attr": { "fill": "none", "d": "M0 0h24v24H0z" }, "child": [] }, { "tag": "path", "attr": { "d": "M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z" }, "child": [] }] })(props);
}
function MdLabel(props) {
  return GenIcon({ "attr": { "viewBox": "0 0 24 24" }, "child": [{ "tag": "path", "attr": { "fill": "none", "d": "M0 0h24v24H0z" }, "child": [] }, { "tag": "path", "attr": { "d": "M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16z" }, "child": [] }] })(props);
}
function MdLeaderboard(props) {
  return GenIcon({ "attr": { "viewBox": "0 0 24 24" }, "child": [{ "tag": "path", "attr": { "fill": "none", "d": "M0 0h24v24H0z" }, "child": [] }, { "tag": "path", "attr": { "d": "M7.5 21H2V9h5.5v12zm7.25-18h-5.5v18h5.5V3zM22 11h-5.5v10H22V11z" }, "child": [] }] })(props);
}
function MdLogout(props) {
  return GenIcon({ "attr": { "viewBox": "0 0 24 24" }, "child": [{ "tag": "path", "attr": { "fill": "none", "d": "M0 0h24v24H0z" }, "child": [] }, { "tag": "path", "attr": { "d": "m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z" }, "child": [] }] })(props);
}
function MdPayment(props) {
  return GenIcon({ "attr": { "viewBox": "0 0 24 24" }, "child": [{ "tag": "path", "attr": { "fill": "none", "d": "M0 0h24v24H0z" }, "child": [] }, { "tag": "path", "attr": { "d": "M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z" }, "child": [] }] })(props);
}
function MdSearch(props) {
  return GenIcon({ "attr": { "viewBox": "0 0 24 24" }, "child": [{ "tag": "path", "attr": { "fill": "none", "d": "M0 0h24v24H0z" }, "child": [] }, { "tag": "path", "attr": { "d": "M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" }, "child": [] }] })(props);
}
function MdSwapHorizontalCircle(props) {
  return GenIcon({ "attr": { "viewBox": "0 0 24 24" }, "child": [{ "tag": "path", "attr": { "fill": "none", "d": "M0 0h24v24H0V0z" }, "child": [] }, { "tag": "path", "attr": { "d": "M22 12c0-5.52-4.48-10-10-10S2 6.48 2 12s4.48 10 10 10 10-4.48 10-10zm-7-5.5 3.5 3.5-3.5 3.5V11h-4V9h4V6.5zm-6 11L5.5 14 9 10.5V13h4v2H9v2.5z" }, "child": [] }] })(props);
}
function MdErrorOutline(props) {
  return GenIcon({ "attr": { "viewBox": "0 0 24 24" }, "child": [{ "tag": "path", "attr": { "fill": "none", "d": "M0 0h24v24H0V0z" }, "child": [] }, { "tag": "path", "attr": { "d": "M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z" }, "child": [] }] })(props);
}
function MdMessage(props) {
  return GenIcon({ "attr": { "viewBox": "0 0 24 24" }, "child": [{ "tag": "path", "attr": { "fill": "none", "d": "M0 0h24v24H0z" }, "child": [] }, { "tag": "path", "attr": { "d": "M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z" }, "child": [] }] })(props);
}
function MdPhone(props) {
  return GenIcon({ "attr": { "viewBox": "0 0 24 24" }, "child": [{ "tag": "path", "attr": { "fill": "none", "d": "M0 0h24v24H0z" }, "child": [] }, { "tag": "path", "attr": { "d": "M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z" }, "child": [] }] })(props);
}
function MdAdd(props) {
  return GenIcon({ "attr": { "viewBox": "0 0 24 24" }, "child": [{ "tag": "path", "attr": { "fill": "none", "d": "M0 0h24v24H0z" }, "child": [] }, { "tag": "path", "attr": { "d": "M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z" }, "child": [] }] })(props);
}
function MdFilterList(props) {
  return GenIcon({ "attr": { "viewBox": "0 0 24 24" }, "child": [{ "tag": "path", "attr": { "fill": "none", "d": "M0 0h24v24H0z" }, "child": [] }, { "tag": "path", "attr": { "d": "M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z" }, "child": [] }] })(props);
}
function MdInventory2(props) {
  return GenIcon({ "attr": { "viewBox": "0 0 24 24" }, "child": [{ "tag": "path", "attr": { "fill": "none", "d": "M0 0h24v24H0z" }, "child": [] }, { "tag": "path", "attr": { "d": "M20 2H4c-1 0-2 .9-2 2v3.01c0 .72.43 1.34 1 1.69V20c0 1.1 1.1 2 2 2h14c.9 0 2-.9 2-2V8.7c.57-.35 1-.97 1-1.69V4c0-1.1-1-2-2-2zm-5 12H9v-2h6v2zm5-7H4V4h16v3z" }, "child": [] }] })(props);
}
function MdSave(props) {
  return GenIcon({ "attr": { "viewBox": "0 0 24 24" }, "child": [{ "tag": "path", "attr": { "fill": "none", "d": "M0 0h24v24H0z" }, "child": [] }, { "tag": "path", "attr": { "d": "M17 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z" }, "child": [] }] })(props);
}
function MdSend(props) {
  return GenIcon({ "attr": { "viewBox": "0 0 24 24" }, "child": [{ "tag": "path", "attr": { "fill": "none", "d": "M0 0h24v24H0z" }, "child": [] }, { "tag": "path", "attr": { "d": "M2.01 21 23 12 2.01 3 2 10l15 2-15 2z" }, "child": [] }] })(props);
}
function MdSort(props) {
  return GenIcon({ "attr": { "viewBox": "0 0 24 24" }, "child": [{ "tag": "path", "attr": { "fill": "none", "d": "M0 0h24v24H0z" }, "child": [] }, { "tag": "path", "attr": { "d": "M3 18h6v-2H3v2zM3 6v2h18V6H3zm0 7h12v-2H3v2z" }, "child": [] }] })(props);
}
function MdAccessTime(props) {
  return GenIcon({ "attr": { "viewBox": "0 0 24 24" }, "child": [{ "tag": "path", "attr": { "fill": "none", "d": "M0 0h24v24H0z" }, "child": [] }, { "tag": "path", "attr": { "d": "M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z" }, "child": [] }, { "tag": "path", "attr": { "d": "M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z" }, "child": [] }] })(props);
}
function MdAttachFile(props) {
  return GenIcon({ "attr": { "viewBox": "0 0 24 24" }, "child": [{ "tag": "path", "attr": { "fill": "none", "d": "M0 0h24v24H0z" }, "child": [] }, { "tag": "path", "attr": { "d": "M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5a2.5 2.5 0 0 1 5 0v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5a2.5 2.5 0 0 0 5 0V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z" }, "child": [] }] })(props);
}
function MdTitle(props) {
  return GenIcon({ "attr": { "viewBox": "0 0 24 24" }, "child": [{ "tag": "path", "attr": { "fill": "none", "d": "M0 0h24v24H0V0z" }, "child": [] }, { "tag": "path", "attr": { "d": "M5 4v3h5.5v12h3V7H19V4z" }, "child": [] }] })(props);
}
function MdFileUpload(props) {
  return GenIcon({ "attr": { "viewBox": "0 0 24 24" }, "child": [{ "tag": "path", "attr": { "fill": "none", "d": "M0 0h24v24H0z" }, "child": [] }, { "tag": "path", "attr": { "d": "M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z" }, "child": [] }] })(props);
}
function MdNewspaper(props) {
  return GenIcon({ "attr": { "viewBox": "0 0 24 24" }, "child": [{ "tag": "path", "attr": { "fill": "none", "d": "M0 0h24v24H0z" }, "child": [] }, { "tag": "path", "attr": { "d": "m22 3-1.67 1.67L18.67 3 17 4.67 15.33 3l-1.66 1.67L12 3l-1.67 1.67L8.67 3 7 4.67 5.33 3 3.67 4.67 2 3v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V3zM11 19H4v-6h7v6zm9 0h-7v-2h7v2zm0-4h-7v-2h7v2zm0-4H4V8h16v3z" }, "child": [] }] })(props);
}
function MdUpload(props) {
  return GenIcon({ "attr": { "viewBox": "0 0 24 24" }, "child": [{ "tag": "path", "attr": { "fill": "none", "d": "M0 0h24v24H0z" }, "child": [] }, { "tag": "path", "attr": { "d": "M5 20h14v-2H5v2zm0-10h4v6h6v-6h4l-7-7-7 7z" }, "child": [] }] })(props);
}
function MdEdit(props) {
  return GenIcon({ "attr": { "viewBox": "0 0 24 24" }, "child": [{ "tag": "path", "attr": { "fill": "none", "d": "M0 0h24v24H0z" }, "child": [] }, { "tag": "path", "attr": { "d": "M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a.996.996 0 0 0 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z" }, "child": [] }] })(props);
}
function MdCategory(props) {
  return GenIcon({ "attr": { "viewBox": "0 0 24 24" }, "child": [{ "tag": "path", "attr": { "fill": "none", "d": "M0 0h24v24H0z" }, "child": [] }, { "tag": "path", "attr": { "d": "m12 2-5.5 9h11z" }, "child": [] }, { "tag": "circle", "attr": { "cx": "17.5", "cy": "17.5", "r": "4.5" }, "child": [] }, { "tag": "path", "attr": { "d": "M3 13.5h8v8H3z" }, "child": [] }] })(props);
}
function MdDeliveryDining(props) {
  return GenIcon({ "attr": { "viewBox": "0 0 24 24" }, "child": [{ "tag": "path", "attr": { "fill": "none", "d": "M0 0h24v24H0z" }, "child": [] }, { "tag": "path", "attr": { "d": "M19 7c0-1.1-.9-2-2-2h-3v2h3v2.65L13.52 14H10V9H6c-2.21 0-4 1.79-4 4v3h2c0 1.66 1.34 3 3 3s3-1.34 3-3h4.48L19 10.35V7zM7 17c-.55 0-1-.45-1-1h2c0 .55-.45 1-1 1z" }, "child": [] }, { "tag": "path", "attr": { "d": "M5 6h5v2H5zM19 13c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3zm0 4c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z" }, "child": [] }] })(props);
}
function MdArrowBack(props) {
  return GenIcon({ "attr": { "viewBox": "0 0 24 24" }, "child": [{ "tag": "path", "attr": { "fill": "none", "d": "M0 0h24v24H0z" }, "child": [] }, { "tag": "path", "attr": { "d": "M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z" }, "child": [] }] })(props);
}
function MdArrowDownward(props) {
  return GenIcon({ "attr": { "viewBox": "0 0 24 24" }, "child": [{ "tag": "path", "attr": { "fill": "none", "d": "M0 0h24v24H0V0z" }, "child": [] }, { "tag": "path", "attr": { "d": "m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z" }, "child": [] }] })(props);
}
function MdArrowUpward(props) {
  return GenIcon({ "attr": { "viewBox": "0 0 24 24" }, "child": [{ "tag": "path", "attr": { "fill": "none", "d": "M0 0h24v24H0V0z" }, "child": [] }, { "tag": "path", "attr": { "d": "m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z" }, "child": [] }] })(props);
}
function MdCancel(props) {
  return GenIcon({ "attr": { "viewBox": "0 0 24 24" }, "child": [{ "tag": "path", "attr": { "fill": "none", "d": "M0 0h24v24H0z" }, "child": [] }, { "tag": "path", "attr": { "d": "M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z" }, "child": [] }] })(props);
}
function MdClose(props) {
  return GenIcon({ "attr": { "viewBox": "0 0 24 24" }, "child": [{ "tag": "path", "attr": { "fill": "none", "d": "M0 0h24v24H0z" }, "child": [] }, { "tag": "path", "attr": { "d": "M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" }, "child": [] }] })(props);
}
function MdExpandLess(props) {
  return GenIcon({ "attr": { "viewBox": "0 0 24 24" }, "child": [{ "tag": "path", "attr": { "fill": "none", "d": "M0 0h24v24H0z" }, "child": [] }, { "tag": "path", "attr": { "d": "m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z" }, "child": [] }] })(props);
}
function MdExpandMore(props) {
  return GenIcon({ "attr": { "viewBox": "0 0 24 24" }, "child": [{ "tag": "path", "attr": { "fill": "none", "d": "M0 0h24v24H0z" }, "child": [] }, { "tag": "path", "attr": { "d": "M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z" }, "child": [] }] })(props);
}
function MdMenu(props) {
  return GenIcon({ "attr": { "viewBox": "0 0 24 24" }, "child": [{ "tag": "path", "attr": { "fill": "none", "d": "M0 0h24v24H0z" }, "child": [] }, { "tag": "path", "attr": { "d": "M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z" }, "child": [] }] })(props);
}
function MdRefresh(props) {
  return GenIcon({ "attr": { "viewBox": "0 0 24 24" }, "child": [{ "tag": "path", "attr": { "fill": "none", "d": "M0 0h24v24H0z" }, "child": [] }, { "tag": "path", "attr": { "d": "M17.65 6.35A7.958 7.958 0 0 0 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0 1 12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z" }, "child": [] }] })(props);
}
function MdConfirmationNumber(props) {
  return GenIcon({ "attr": { "viewBox": "0 0 24 24" }, "child": [{ "tag": "path", "attr": { "fill": "none", "d": "M0 0h24v24H0z" }, "child": [] }, { "tag": "path", "attr": { "d": "M22 10V6a2 2 0 0 0-2-2H4c-1.1 0-1.99.89-1.99 2v4c1.1 0 1.99.9 1.99 2s-.89 2-2 2v4c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2v-4c-1.1 0-2-.9-2-2s.9-2 2-2zm-9 7.5h-2v-2h2v2zm0-4.5h-2v-2h2v2zm0-4.5h-2v-2h2v2z" }, "child": [] }] })(props);
}
function MdPriorityHigh(props) {
  return GenIcon({ "attr": { "viewBox": "0 0 24 24" }, "child": [{ "tag": "path", "attr": { "fill": "none", "d": "M0 0h24v24H0z" }, "child": [] }, { "tag": "circle", "attr": { "cx": "12", "cy": "19", "r": "2" }, "child": [] }, { "tag": "path", "attr": { "d": "M10 3h4v12h-4z" }, "child": [] }] })(props);
}
function MdGroup(props) {
  return GenIcon({ "attr": { "viewBox": "0 0 24 24" }, "child": [{ "tag": "path", "attr": { "fill": "none", "d": "M0 0h24v24H0z" }, "child": [] }, { "tag": "path", "attr": { "d": "M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z" }, "child": [] }] })(props);
}
function MdPerson(props) {
  return GenIcon({ "attr": { "viewBox": "0 0 24 24" }, "child": [{ "tag": "path", "attr": { "fill": "none", "d": "M0 0h24v24H0z" }, "child": [] }, { "tag": "path", "attr": { "d": "M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z" }, "child": [] }] })(props);
}
function MdOutlineCalendarMonth(props) {
  return GenIcon({ "attr": { "viewBox": "0 0 24 24" }, "child": [{ "tag": "path", "attr": { "fill": "none", "d": "M0 0h24v24H0z" }, "child": [] }, { "tag": "path", "attr": { "d": "M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V10h14v10zm0-12H5V6h14v2zM9 14H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2zm-8 4H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2z" }, "child": [] }] })(props);
}
function MdOutlineCalendarToday(props) {
  return GenIcon({ "attr": { "viewBox": "0 0 24 24" }, "child": [{ "tag": "path", "attr": { "fill": "none", "d": "M0 0h24v24H0V0z" }, "child": [] }, { "tag": "path", "attr": { "d": "M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 18H4V10h16v11zm0-13H4V5h16v3z" }, "child": [] }] })(props);
}
function MdOutlineDeleteOutline(props) {
  return GenIcon({ "attr": { "viewBox": "0 0 24 24" }, "child": [{ "tag": "path", "attr": { "fill": "none", "d": "M0 0h24v24H0V0z" }, "child": [] }, { "tag": "path", "attr": { "d": "M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5-1-1h-5l-1 1H5v2h14V4h-3.5z" }, "child": [] }] })(props);
}
function MdOutlineWatchLater(props) {
  return GenIcon({ "attr": { "viewBox": "0 0 24 24" }, "child": [{ "tag": "path", "attr": { "fill": "none", "d": "M0 0h24v24H0z" }, "child": [] }, { "tag": "path", "attr": { "d": "M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm.5-13H11v6l5.2 3.2.8-1.3-4.5-2.7V7z" }, "child": [] }] })(props);
}
function MdOutlineInbox(props) {
  return GenIcon({ "attr": { "viewBox": "0 0 24 24" }, "child": [{ "tag": "path", "attr": { "fill": "none", "d": "M0 0h24v24H0V0z" }, "child": [] }, { "tag": "path", "attr": { "d": "M19 3H5c-1.1 0-2 .9-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5v-3h3.56c.69 1.19 1.97 2 3.45 2s2.75-.81 3.45-2H19v3zm0-5h-4.99c0 1.1-.9 2-2 2s-2-.9-2-2H5V5h14v9z" }, "child": [] }] })(props);
}
function MdOutlineAutoGraph(props) {
  return GenIcon({ "attr": { "viewBox": "0 0 24 24" }, "child": [{ "tag": "path", "attr": { "fill": "none", "d": "M0 0h24v24H0z" }, "child": [] }, { "tag": "path", "attr": { "d": "M14.06 9.94 12 9l2.06-.94L15 6l.94 2.06L18 9l-2.06.94L15 12l-.94-2.06zM4 14l.94-2.06L7 11l-2.06-.94L4 8l-.94 2.06L1 11l2.06.94L4 14zm4.5-5 1.09-2.41L12 5.5 9.59 4.41 8.5 2 7.41 4.41 5 5.5l2.41 1.09L8.5 9zm-4 11.5 6-6.01 4 4L23 8.93l-1.41-1.41-7.09 7.97-4-4L3 19l1.5 1.5z" }, "child": [] }] })(props);
}
function MdOutlineInsertDriveFile(props) {
  return GenIcon({ "attr": { "viewBox": "0 0 24 24" }, "child": [{ "tag": "path", "attr": { "fill": "none", "d": "M0 0h24v24H0V0z" }, "child": [] }, { "tag": "path", "attr": { "d": "M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zM6 20V4h7v5h5v11H6z" }, "child": [] }] })(props);
}
function MdOutlineCloudUpload(props) {
  return GenIcon({ "attr": { "viewBox": "0 0 24 24" }, "child": [{ "tag": "path", "attr": { "fill": "none", "d": "M0 0h24v24H0V0z" }, "child": [] }, { "tag": "path", "attr": { "d": "M19.35 10.04A7.49 7.49 0 0 0 12 4C9.11 4 6.6 5.64 5.35 8.04A5.994 5.994 0 0 0 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM19 18H6c-2.21 0-4-1.79-4-4 0-2.05 1.53-3.76 3.56-3.97l1.07-.11.5-.95A5.469 5.469 0 0 1 12 6c2.62 0 4.88 1.86 5.39 4.43l.3 1.5 1.53.11A2.98 2.98 0 0 1 22 15c0 1.65-1.35 3-3 3zM8 13h2.55v3h2.9v-3H16l-4-4z" }, "child": [] }] })(props);
}
function MdOutlineDownload(props) {
  return GenIcon({ "attr": { "viewBox": "0 0 24 24" }, "child": [{ "tag": "path", "attr": { "fill": "none", "d": "M0 0h24v24H0V0z" }, "child": [] }, { "tag": "path", "attr": { "d": "M19 9h-4V3H9v6H5l7 7 7-7zm-8 2V5h2v6h1.17L12 13.17 9.83 11H11zm-6 7h14v2H5z" }, "child": [] }] })(props);
}
function MdOutlineFileDownload(props) {
  return GenIcon({ "attr": { "viewBox": "0 0 24 24" }, "child": [{ "tag": "path", "attr": { "fill": "none", "d": "M0 0h24v24H0z" }, "child": [] }, { "tag": "path", "attr": { "d": "M18 15v3H6v-3H4v3c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-3h-2zm-1-4-1.41-1.41L13 12.17V4h-2v8.17L8.41 9.59 7 11l5 5 5-5z" }, "child": [] }] })(props);
}
function MdOutlineNewspaper(props) {
  return GenIcon({ "attr": { "viewBox": "0 0 24 24" }, "child": [{ "tag": "path", "attr": { "fill": "none", "d": "M0 0h24v24H0z" }, "child": [] }, { "tag": "path", "attr": { "d": "m22 3-1.67 1.67L18.67 3 17 4.67 15.33 3l-1.66 1.67L12 3l-1.67 1.67L8.67 3 7 4.67 5.33 3 3.67 4.67 2 3v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V3zM11 19H4v-6h7v6zm9 0h-7v-2h7v2zm0-4h-7v-2h7v2zm0-4H4V8h16v3z" }, "child": [] }] })(props);
}
function MdOutlineRefresh(props) {
  return GenIcon({ "attr": { "viewBox": "0 0 24 24" }, "child": [{ "tag": "path", "attr": { "fill": "none", "d": "M0 0h24v24H0V0z" }, "child": [] }, { "tag": "path", "attr": { "d": "M17.65 6.35A7.958 7.958 0 0 0 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0 1 12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z" }, "child": [] }] })(props);
}
function MdOutlineBusinessCenter(props) {
  return GenIcon({ "attr": { "viewBox": "0 0 24 24" }, "child": [{ "tag": "path", "attr": { "fill": "none", "d": "M0 0h24v24H0V0z" }, "child": [] }, { "tag": "path", "attr": { "d": "M20 7h-4V5l-2-2h-4L8 5v2H4c-1.1 0-2 .9-2 2v5c0 .75.4 1.38 1 1.73V19c0 1.11.89 2 2 2h14c1.11 0 2-.89 2-2v-3.28c.59-.35 1-.99 1-1.72V9c0-1.1-.9-2-2-2zM10 5h4v2h-4V5zM4 9h16v5h-5v-3H9v3H4V9zm9 6h-2v-2h2v2zm6 4H5v-3h4v1h6v-1h4v3z" }, "child": [] }] })(props);
}
function MdOutlineWavingHand(props) {
  return GenIcon({ "attr": { "viewBox": "0 0 24 24" }, "child": [{ "tag": "path", "attr": { "fill": "none", "d": "M0 0h24v24H0z" }, "child": [] }, { "tag": "path", "attr": { "d": "M7.03 4.95 3.49 8.49c-3.32 3.32-3.32 8.7 0 12.02s8.7 3.32 12.02 0l6.01-6.01a2.517 2.517 0 0 0-.39-3.86l.39-.39c.97-.97.97-2.56 0-3.54-.16-.16-.35-.3-.54-.41a2.497 2.497 0 0 0-3.72-3.05 2.517 2.517 0 0 0-3.88-.42l-2.51 2.51a2.493 2.493 0 0 0-3.84-.39zm1.41 1.42c.2-.2.51-.2.71 0 .2.2.2.51 0 .71l-3.18 3.18a3 3 0 0 1 0 4.24l1.41 1.41a5.004 5.004 0 0 0 1.12-5.36l6.3-6.3c.2-.2.51-.2.71 0s.2.51 0 .71l-4.6 4.6 1.41 1.41 6.01-6.01c.2-.2.51-.2.71 0 .2.2.2.51 0 .71l-6.01 6.01 1.41 1.41 4.95-4.95c.2-.2.51-.2.71 0 .2.2.2.51 0 .71l-5.66 5.66 1.41 1.41 3.54-3.54c.2-.2.51-.2.71 0 .2.2.2.51 0 .71l-6 6.01c-2.54 2.54-6.65 2.54-9.19 0s-2.54-6.65 0-9.19l3.53-3.54zM23 17c0 3.31-2.69 6-6 6v-1.5c2.48 0 4.5-2.02 4.5-4.5H23zM1 7c0-3.31 2.69-6 6-6v1.5C4.52 2.5 2.5 4.52 2.5 7H1z" }, "child": [] }] })(props);
}
function AdminLayout({ children, title, titleIcon }) {
  const [sidebarOpen, setSidebarOpen] = useState(false);
  const { url } = usePage();
  const { auth } = usePage().props;
  const { adminStats } = usePage().props;
  const [openMenus, setOpenMenus] = useState({});
  const toggleMenu = (menu) => {
    setOpenMenus((prev) => ({ ...prev, [menu]: !prev[menu] }));
  };
  useEffect(() => {
    const handleOutsideClick = (event) => {
      const sidebar = document.getElementById("sidebar");
      const toggleButton = document.getElementById("sidebar-toggle");
      if (sidebar && toggleButton && !sidebar.contains(event.target) && !toggleButton.contains(event.target) && sidebarOpen) {
        setSidebarOpen(false);
      }
    };
    document.addEventListener("mousedown", handleOutsideClick);
    return () => document.removeEventListener("mousedown", handleOutsideClick);
  }, [sidebarOpen]);
  useEffect(() => {
    setSidebarOpen(false);
  }, [url]);
  const isActive = (href) => url.startsWith(href);
  return /* @__PURE__ */ jsxs("div", { className: "flex h-screen w-full bg-gray-100 overflow-hidden", children: [
    sidebarOpen && /* @__PURE__ */ jsx("div", { className: "fixed inset-0 z-20 bg-black bg-opacity-50 lg:hidden", onClick: () => setSidebarOpen(false) }),
    /* @__PURE__ */ jsxs(
      "aside",
      {
        id: "sidebar",
        className: `fixed lg:static inset-y-0 left-0 z-30 w-64 bg-black text-white transform transition-transform duration-300 ease-in-out ${sidebarOpen ? "translate-x-0" : "-translate-x-full"} lg:translate-x-0 flex flex-col h-full overflow-y-auto shadow-lg`,
        children: [
          /* @__PURE__ */ jsxs("div", { className: "h-14 flex items-center justify-between px-4 border-b border-[#00377f]/20", children: [
            /* @__PURE__ */ jsx("div", { className: "flex items-center space-x-2", children: /* @__PURE__ */ jsx("img", { src: "/Logo_dark.webp", alt: "Wepress Eco Logo", className: "w-36" }) }),
            /* @__PURE__ */ jsx(
              "button",
              {
                className: "lg:hidden text-white p-1 rounded-md hover:bg-[#00377f]/20",
                onClick: () => setSidebarOpen(false),
                children: /* @__PURE__ */ jsx(MdClose, { size: 20 })
              }
            )
          ] }),
          /* @__PURE__ */ jsx("nav", { className: "mt-3 px-3 flex-1 overflow-y-auto", children: /* @__PURE__ */ jsxs("ul", { className: "space-y-1", children: [
            /* @__PURE__ */ jsx("li", { children: /* @__PURE__ */ jsxs(
              Link,
              {
                href: "/dashboard",
                className: `flex items-center space-x-3 px-3 py-2 rounded-lg transition-colors ${isActive("/dashboard") ? "bg-white/10 text-white" : "text-white/70 hover:bg-white/10 hover:text-white"}`,
                children: [
                  /* @__PURE__ */ jsx(MdDashboard, {}),
                  /* @__PURE__ */ jsx("span", { className: "text-sm", children: "Tableau de bord" })
                ]
              }
            ) }),
            /* @__PURE__ */ jsxs("li", { children: [
              /* @__PURE__ */ jsxs(
                "button",
                {
                  className: "flex items-center justify-between w-full px-3 py-2 rounded-lg text-white/70 hover:text-white hover:bg-white/10",
                  onClick: () => toggleMenu("annonces"),
                  children: [
                    /* @__PURE__ */ jsxs("div", { className: "flex items-center space-x-3 relative", children: [
                      /* @__PURE__ */ jsx(MdInventory2, {}),
                      /* @__PURE__ */ jsx("span", { className: "text-sm", children: "Annonces légales" }),
                      (adminStats == null ? void 0 : adminStats.pendingAnnoncesCount) > 0 && /* @__PURE__ */ jsx("span", { className: "ml-2 bg-red-500 text-white text-[10px] font-bold rounded-full h-4 w-4 flex items-center justify-center animate-pulse", children: adminStats.pendingAnnoncesCount })
                    ] }),
                    openMenus["annonces"] ? /* @__PURE__ */ jsx(MdExpandLess, {}) : /* @__PURE__ */ jsx(MdExpandMore, {})
                  ]
                }
              ),
              openMenus["annonces"] && /* @__PURE__ */ jsxs("ul", { className: "ml-6 mt-1 space-y-1", children: [
                /* @__PURE__ */ jsx("li", { children: /* @__PURE__ */ jsx(Link, { href: "/annonce", className: `block px-3 py-1 text-sm ${isActive("/annonce") ? "text-white" : "text-white/70 hover:text-white"}`, children: "Liste des annonces" }) }),
                /* @__PURE__ */ jsx("li", { children: /* @__PURE__ */ jsx(Link, { href: "/annonce/create", className: `block px-3 py-1 text-sm ${isActive("/annonce/create") ? "text-white" : "text-white/70 hover:text-white"}`, children: "Publier annonce légale" }) })
              ] })
            ] }),
            /* @__PURE__ */ jsxs("li", { children: [
              /* @__PURE__ */ jsxs(
                "button",
                {
                  className: "flex items-center justify-between w-full px-3 py-2 rounded-lg text-white/70 hover:text-white hover:bg-white/10",
                  onClick: () => toggleMenu("appels"),
                  children: [
                    /* @__PURE__ */ jsxs("div", { className: "flex items-center space-x-3 relative", children: [
                      /* @__PURE__ */ jsx(MdPhone, {}),
                      /* @__PURE__ */ jsx("span", { className: "text-sm", children: "Appels d’offres" }),
                      (adminStats == null ? void 0 : adminStats.pendingAppelsCount) > 0 && /* @__PURE__ */ jsx("span", { className: "ml-2 bg-orange-500 text-white text-[10px] font-bold rounded-full h-4 w-4 flex items-center justify-center animate-pulse", children: adminStats.pendingAppelsCount })
                    ] }),
                    openMenus["appels"] ? /* @__PURE__ */ jsx(MdExpandLess, {}) : /* @__PURE__ */ jsx(MdExpandMore, {})
                  ]
                }
              ),
              openMenus["appels"] && /* @__PURE__ */ jsxs("ul", { className: "ml-6 mt-1 space-y-1", children: [
                /* @__PURE__ */ jsx("li", { children: /* @__PURE__ */ jsx(Link, { href: "/appel-offres/all", className: `block px-3 py-1 text-sm ${isActive("/appel-offres/all") ? "text-white" : "text-white/70 hover:text-white"}`, children: "Les appels d’offres" }) }),
                /* @__PURE__ */ jsx("li", { children: /* @__PURE__ */ jsx(Link, { href: "/admin/appel-offres/create", className: `block px-3 py-1 text-sm ${isActive("/admin/appel-offres/create") ? "text-white" : "text-white/70 hover:text-white"}`, children: "Publier un appel d’offre" }) })
              ] })
            ] }),
            /* @__PURE__ */ jsxs("li", { children: [
              /* @__PURE__ */ jsxs(
                "button",
                {
                  className: "flex items-center justify-between w-full px-3 py-2 rounded-lg text-white/70 hover:text-white hover:bg-white/10",
                  onClick: () => toggleMenu("users"),
                  children: [
                    /* @__PURE__ */ jsxs("div", { className: "flex items-center space-x-3", children: [
                      /* @__PURE__ */ jsx(MdGroup, {}),
                      /* @__PURE__ */ jsx("span", { className: "text-sm", children: "Utilisateurs" })
                    ] }),
                    openMenus["users"] ? /* @__PURE__ */ jsx(MdExpandLess, {}) : /* @__PURE__ */ jsx(MdExpandMore, {})
                  ]
                }
              ),
              openMenus["users"] && /* @__PURE__ */ jsxs("ul", { className: "ml-6 mt-1 space-y-1", children: [
                /* @__PURE__ */ jsx("li", { children: /* @__PURE__ */ jsx(Link, { href: "/user", className: `block px-3 py-1 text-sm ${isActive("/user") ? "text-white" : "text-white/70 hover:text-white"}`, children: "Tous les utilisateurs" }) }),
                /* @__PURE__ */ jsx("li", { children: /* @__PURE__ */ jsx(Link, { href: "/user/favorites", className: `block px-3 py-1 text-sm ${isActive("/user/favorites") ? "text-white" : "text-white/70 hover:text-white"}`, children: "Utilisateurs favoris" }) })
              ] })
            ] }),
            /* @__PURE__ */ jsx("li", { children: /* @__PURE__ */ jsxs(Link, { href: "/journaux", className: `flex items-center space-x-3 px-3 py-2 rounded-lg ${isActive("/journaux") ? "bg-white/10 text-white" : "text-white/70 hover:bg-white/10 hover:text-white"}`, children: [
              /* @__PURE__ */ jsx(MdNewspaper, {}),
              /* @__PURE__ */ jsx("span", { className: "text-sm", children: "Journaux" })
            ] }) }),
            /* @__PURE__ */ jsx("li", { children: /* @__PURE__ */ jsxs(Link, { href: "/admin/annonce-a-livrer", className: `flex items-center space-x-3 px-3 py-2 rounded-lg ${isActive("/admin/annonce-a-livrer") ? "bg-white/10 text-white" : "text-white/70 hover:bg-white/10 hover:text-white"}`, children: [
              /* @__PURE__ */ jsx(MdDeliveryDining, {}),
              /* @__PURE__ */ jsx("span", { className: "text-sm", children: "À livrer" })
            ] }) }),
            /* @__PURE__ */ jsx("li", { children: /* @__PURE__ */ jsxs(Link, { href: "/admin/paiement", className: `flex items-center space-x-3 px-3 py-2 rounded-lg ${isActive("/admin/paiement") ? "bg-white/10 text-white" : "text-white/70 hover:bg-white/10 hover:text-white"}`, children: [
              /* @__PURE__ */ jsx(MdPayment, {}),
              /* @__PURE__ */ jsx("span", { className: "text-sm", children: "Paiement" })
            ] }) }),
            /* @__PURE__ */ jsx("li", { children: /* @__PURE__ */ jsxs(Link, { href: "/tickets", className: `flex items-center space-x-3 px-3 py-2 rounded-lg ${isActive("/tickets") ? "bg-white/10 text-white" : "text-white/70 hover:bg-white/10 hover:text-white"}`, children: [
              /* @__PURE__ */ jsx(MdConfirmationNumber, {}),
              /* @__PURE__ */ jsx("span", { className: "text-sm", children: "Tickets / Support" }),
              (adminStats == null ? void 0 : adminStats.newTicketsCount) > 0 && /* @__PURE__ */ jsx("span", { className: "ml-auto bg-red-500 text-white text-[10px] font-bold rounded-full h-4 w-4 flex items-center justify-center animate-pulse", children: adminStats.newTicketsCount })
            ] }) })
          ] }) }),
          /* @__PURE__ */ jsxs("div", { className: "p-3 border-t border-[#00377f]/20", children: [
            /* @__PURE__ */ jsxs("div", { className: "flex items-center space-x-3 mb-2", children: [
              /* @__PURE__ */ jsx("div", { className: "w-8 h-8 rounded-full bg-white/10 flex items-center justify-center", children: /* @__PURE__ */ jsx(MdPerson, { className: "text-base" }) }),
              /* @__PURE__ */ jsxs("div", { children: [
                /* @__PURE__ */ jsx("p", { className: "text-xs font-medium", children: auth.user.name }),
                /* @__PURE__ */ jsx("p", { className: "text-xs text-white/70", children: auth.user.email })
              ] })
            ] }),
            /* @__PURE__ */ jsxs(
              Link,
              {
                href: "/logout",
                method: "post",
                as: "button",
                className: "flex items-center space-x-2 text-white/70 hover:text-white w-full px-3 py-1.5 rounded-lg hover:bg-white/10 transition-colors text-xs",
                children: [
                  /* @__PURE__ */ jsx(MdLogout, { size: 16 }),
                  /* @__PURE__ */ jsx("span", { children: "Déconnexion" })
                ]
              }
            )
          ] })
        ]
      }
    ),
    /* @__PURE__ */ jsxs("div", { className: "flex-1 flex flex-col overflow-hidden w-full", children: [
      /* @__PURE__ */ jsxs("header", { children: [
        /* @__PURE__ */ jsx(
          "button",
          {
            id: "sidebar-toggle",
            className: "lg:hidden p-2 rounded-md text-gray-600 hover:bg-gray-100 mr-2",
            onClick: () => setSidebarOpen(!sidebarOpen),
            children: /* @__PURE__ */ jsx(MdMenu, { size: 24 })
          }
        ),
        /* @__PURE__ */ jsxs("div", { className: "flex items-center space-x-3", children: [
          titleIcon && /* @__PURE__ */ jsx("div", { className: "text-[#00377f] text-xl", children: titleIcon }),
          /* @__PURE__ */ jsx("h1", { className: "text-lg font-medium text-gray-800", children: title })
        ] })
      ] }),
      /* @__PURE__ */ jsx("main", { className: "flex-1 overflow-y-auto bg-gray-50 w-full", children })
    ] })
  ] });
}
function AuthenticatedLayout({
  header,
  children
}) {
  const { auth, success } = usePage().props;
  const user = auth.user;
  const isAdmin = (user == null ? void 0 : user.roles) ? user.roles.includes("admin") || user.roles.includes("moderator") : false;
  if (isAdmin) {
    return /* @__PURE__ */ jsxs(AdminLayout, { children: [
      header && /* @__PURE__ */ jsx("header", { className: "bg-white shadow dark:bg-gray-800 p-4", children: /* @__PURE__ */ jsx("div", { className: "w-full", children: header }) }),
      /* @__PURE__ */ jsxs("main", { className: "w-full", children: [
        success && /* @__PURE__ */ jsx("div", { className: "bg-emerald-300 py-4 p-6 rounded mb-8", children: success }),
        children
      ] })
    ] });
  }
  return /* @__PURE__ */ jsx("div", { children: /* @__PURE__ */ jsxs("div", { className: "min-h-screen bg-gray-100 dark:bg-gray-900", children: [
    header && /* @__PURE__ */ jsx("header", { className: "bg-white shadow dark:bg-gray-800 mt-[5rem] p-4", children: /* @__PURE__ */ jsx("div", { className: "mx-auto max-w-7xl px-4 sm:px-6 lg:px-8", children: header }) }),
    /* @__PURE__ */ jsx("div", { className: "py-12", children: /* @__PURE__ */ jsxs("div", { className: "mx-auto max-w-7xl sm:px-6 lg:px-8", children: [
      success && /* @__PURE__ */ jsx("div", { className: "bg-emerald-300 py-4 p-6 rounded mb-8", children: success }),
      /* @__PURE__ */ jsx("main", { children })
    ] }) })
  ] }) });
}
function ApprovedAnnonces({ annonces, categories = [], search, category }) {
  const [searchTerm, setSearchTerm] = useState(search || "");
  const [selectedCategory, setSelectedCategory] = useState(category || "");
  const handleSearch = (e2) => {
    e2.preventDefault();
    router.get("/annonces/approved", { search: searchTerm, category: selectedCategory }, {
      preserveState: true,
      // Preserve the current component state
      replace: true
      // Replace the current history state
    });
  };
  return /* @__PURE__ */ jsx(AuthenticatedLayout, { children: /* @__PURE__ */ jsx("div", { className: "py-12", children: /* @__PURE__ */ jsxs("div", { className: "max-w-7xl mx-auto sm:px-6 lg:px-8", children: [
    /* @__PURE__ */ jsx("h1", { className: "text-2xl font-semibold mb-6", children: "Approved Annonces" }),
    /* @__PURE__ */ jsx("form", { onSubmit: handleSearch, className: "mb-6", children: /* @__PURE__ */ jsxs("div", { className: "flex gap-2", children: [
      /* @__PURE__ */ jsx(
        "input",
        {
          type: "text",
          placeholder: "Search by title...",
          value: searchTerm,
          onChange: (e2) => setSearchTerm(e2.target.value),
          className: "w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
        }
      ),
      /* @__PURE__ */ jsxs(
        "select",
        {
          value: selectedCategory,
          onChange: (e2) => setSelectedCategory(e2.target.value),
          className: "px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",
          children: [
            /* @__PURE__ */ jsx("option", { value: "", children: "All Categories" }),
            categories.length > 0 ? categories.map((cat) => /* @__PURE__ */ jsx("option", { value: cat, children: cat }, cat)) : /* @__PURE__ */ jsx("option", { value: "", disabled: true, children: "No categories available" })
          ]
        }
      ),
      /* @__PURE__ */ jsx(
        "button",
        {
          type: "submit",
          className: "px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",
          children: "Search"
        }
      )
    ] }) }),
    /* @__PURE__ */ jsx("div", { className: "bg-white overflow-hidden shadow-sm sm:rounded-lg", children: /* @__PURE__ */ jsx("div", { className: "p-6 bg-white border-b border-gray-200", children: annonces.data.length > 0 ? annonces.data.map((annonce) => /* @__PURE__ */ jsxs("div", { className: "p-8 pt-4 border-2", children: [
      /* @__PURE__ */ jsx("h2", { className: "text-xl font-bold", children: annonce.title }),
      /* @__PURE__ */ jsx("p", { className: "text-gray-600", children: annonce.content }),
      /* @__PURE__ */ jsxs("p", { className: "text-sm text-gray-500", children: [
        "Category: ",
        annonce.category
      ] }),
      /* @__PURE__ */ jsxs("p", { className: "text-sm text-gray-500", children: [
        "Status: ",
        annonce.status
      ] }),
      /* @__PURE__ */ jsx("a", { href: `/annonce/${annonce.id}`, className: "text-blue-500 hover:underline", children: "View Details" })
    ] }, annonce.id)) : /* @__PURE__ */ jsx("p", { children: "No approved annonces found." }) }) })
  ] }) }) });
}
const __vite_glob_0_0 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: ApprovedAnnonces
}, Symbol.toStringTag, { value: "Module" }));
function HiOutlineArrowLeft$1(props) {
  return GenIcon({ "attr": { "fill": "none", "viewBox": "0 0 24 24", "strokeWidth": "2", "stroke": "currentColor", "aria-hidden": "true" }, "child": [{ "tag": "path", "attr": { "strokeLinecap": "round", "strokeLinejoin": "round", "d": "M10 19l-7-7m0 0l7-7m-7 7h18" }, "child": [] }] })(props);
}
function HiOutlineCalendar(props) {
  return GenIcon({ "attr": { "fill": "none", "viewBox": "0 0 24 24", "strokeWidth": "2", "stroke": "currentColor", "aria-hidden": "true" }, "child": [{ "tag": "path", "attr": { "strokeLinecap": "round", "strokeLinejoin": "round", "d": "M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" }, "child": [] }] })(props);
}
function HiOutlineCheck(props) {
  return GenIcon({ "attr": { "fill": "none", "viewBox": "0 0 24 24", "strokeWidth": "2", "stroke": "currentColor", "aria-hidden": "true" }, "child": [{ "tag": "path", "attr": { "strokeLinecap": "round", "strokeLinejoin": "round", "d": "M5 13l4 4L19 7" }, "child": [] }] })(props);
}
function HiOutlineClock(props) {
  return GenIcon({ "attr": { "fill": "none", "viewBox": "0 0 24 24", "strokeWidth": "2", "stroke": "currentColor", "aria-hidden": "true" }, "child": [{ "tag": "path", "attr": { "strokeLinecap": "round", "strokeLinejoin": "round", "d": "M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" }, "child": [] }] })(props);
}
function HiOutlineDocumentText$1(props) {
  return GenIcon({ "attr": { "fill": "none", "viewBox": "0 0 24 24", "strokeWidth": "2", "stroke": "currentColor", "aria-hidden": "true" }, "child": [{ "tag": "path", "attr": { "strokeLinecap": "round", "strokeLinejoin": "round", "d": "M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" }, "child": [] }] })(props);
}
function HiOutlineDocument(props) {
  return GenIcon({ "attr": { "fill": "none", "viewBox": "0 0 24 24", "strokeWidth": "2", "stroke": "currentColor", "aria-hidden": "true" }, "child": [{ "tag": "path", "attr": { "strokeLinecap": "round", "strokeLinejoin": "round", "d": "M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z" }, "child": [] }] })(props);
}
function HiOutlineEye$1(props) {
  return GenIcon({ "attr": { "fill": "none", "viewBox": "0 0 24 24", "strokeWidth": "2", "stroke": "currentColor", "aria-hidden": "true" }, "child": [{ "tag": "path", "attr": { "strokeLinecap": "round", "strokeLinejoin": "round", "d": "M15 12a3 3 0 11-6 0 3 3 0 016 0z" }, "child": [] }, { "tag": "path", "attr": { "strokeLinecap": "round", "strokeLinejoin": "round", "d": "M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" }, "child": [] }] })(props);
}
function HiOutlineGlobe(props) {
  return GenIcon({ "attr": { "fill": "none", "viewBox": "0 0 24 24", "strokeWidth": "2", "stroke": "currentColor", "aria-hidden": "true" }, "child": [{ "tag": "path", "attr": { "strokeLinecap": "round", "strokeLinejoin": "round", "d": "M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z" }, "child": [] }] })(props);
}
function HiOutlineIdentification(props) {
  return GenIcon({ "attr": { "fill": "none", "viewBox": "0 0 24 24", "strokeWidth": "2", "stroke": "currentColor", "aria-hidden": "true" }, "child": [{ "tag": "path", "attr": { "strokeLinecap": "round", "strokeLinejoin": "round", "d": "M10 6H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V8a2 2 0 00-2-2h-5m-4 0V5a2 2 0 114 0v1m-4 0a2 2 0 104 0m-5 8a2 2 0 100-4 2 2 0 000 4zm0 0c1.306 0 2.417.835 2.83 2M9 14a3.001 3.001 0 00-2.83 2M15 11h3m-3 4h2" }, "child": [] }] })(props);
}
function HiOutlineLocationMarker(props) {
  return GenIcon({ "attr": { "fill": "none", "viewBox": "0 0 24 24", "strokeWidth": "2", "stroke": "currentColor", "aria-hidden": "true" }, "child": [{ "tag": "path", "attr": { "strokeLinecap": "round", "strokeLinejoin": "round", "d": "M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" }, "child": [] }, { "tag": "path", "attr": { "strokeLinecap": "round", "strokeLinejoin": "round", "d": "M15 11a3 3 0 11-6 0 3 3 0 016 0z" }, "child": [] }] })(props);
}
function HiOutlineOfficeBuilding(props) {
  return GenIcon({ "attr": { "fill": "none", "viewBox": "0 0 24 24", "strokeWidth": "2", "stroke": "currentColor", "aria-hidden": "true" }, "child": [{ "tag": "path", "attr": { "strokeLinecap": "round", "strokeLinejoin": "round", "d": "M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" }, "child": [] }] })(props);
}
function HiOutlinePaperClip(props) {
  return GenIcon({ "attr": { "fill": "none", "viewBox": "0 0 24 24", "strokeWidth": "2", "stroke": "currentColor", "aria-hidden": "true" }, "child": [{ "tag": "path", "attr": { "strokeLinecap": "round", "strokeLinejoin": "round", "d": "M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13" }, "child": [] }] })(props);
}
function HiOutlineSave(props) {
  return GenIcon({ "attr": { "fill": "none", "viewBox": "0 0 24 24", "strokeWidth": "2", "stroke": "currentColor", "aria-hidden": "true" }, "child": [{ "tag": "path", "attr": { "strokeLinecap": "round", "strokeLinejoin": "round", "d": "M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4" }, "child": [] }] })(props);
}
function HiOutlineSparkles(props) {
  return GenIcon({ "attr": { "fill": "none", "viewBox": "0 0 24 24", "strokeWidth": "2", "stroke": "currentColor", "aria-hidden": "true" }, "child": [{ "tag": "path", "attr": { "strokeLinecap": "round", "strokeLinejoin": "round", "d": "M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z" }, "child": [] }] })(props);
}
function HiOutlineTag(props) {
  return GenIcon({ "attr": { "fill": "none", "viewBox": "0 0 24 24", "strokeWidth": "2", "stroke": "currentColor", "aria-hidden": "true" }, "child": [{ "tag": "path", "attr": { "strokeLinecap": "round", "strokeLinejoin": "round", "d": "M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z" }, "child": [] }] })(props);
}
function HiOutlineUser$1(props) {
  return GenIcon({ "attr": { "fill": "none", "viewBox": "0 0 24 24", "strokeWidth": "2", "stroke": "currentColor", "aria-hidden": "true" }, "child": [{ "tag": "path", "attr": { "strokeLinecap": "round", "strokeLinejoin": "round", "d": "M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" }, "child": [] }] })(props);
}
function HiOutlineX(props) {
  return GenIcon({ "attr": { "fill": "none", "viewBox": "0 0 24 24", "strokeWidth": "2", "stroke": "currentColor", "aria-hidden": "true" }, "child": [{ "tag": "path", "attr": { "strokeLinecap": "round", "strokeLinejoin": "round", "d": "M6 18L18 6M6 6l12 12" }, "child": [] }] })(props);
}
function CreateAnnonce({
  cities,
  users,
  auth
}) {
  var _a2;
  const { data, setData, errors, processing, post } = useForm({
    title: "",
    nameSociete: "",
    nom: "",
    RC: "",
    category: "",
    date: "",
    content: "",
    file: null,
    ville: cities[0] || "",
    user_id: users.length > 0 ? users[0].id : "",
    is_anonyme: false
  });
  const [isHoveringSubmit, setIsHoveringSubmit] = useState(false);
  const [selectedFileName, setSelectedFileName] = useState(null);
  const [villeSearch, setVilleSearch] = useState("");
  const [showVilleDropdown, setShowVilleDropdown] = useState(false);
  const [userSearch, setUserSearch] = useState("");
  const [showUserDropdown, setShowUserDropdown] = useState(false);
  const filteredCities = cities.filter(
    (city) => city.toLowerCase().includes(villeSearch.toLowerCase())
  );
  const createAnnonce = (ev) => {
    ev.preventDefault();
    post(route("annonce.store"), {
      preserveScroll: true,
      forceFormData: true,
      onSuccess: () => console.log("Announcement created successfully"),
      onError: (errors2) => console.log("Error creating announcement:", errors2)
    });
  };
  const handleFileChange = (e2) => {
    var _a3;
    const file = ((_a3 = e2.target.files) == null ? void 0 : _a3[0]) || null;
    setData("file", file);
    setSelectedFileName((file == null ? void 0 : file.name) || null);
  };
  const filteredUsers = users.filter(
    (user) => `${user.name} ${user.email}`.toLowerCase().includes(userSearch.toLowerCase())
  );
  return /* @__PURE__ */ jsx(
    AuthenticatedLayout,
    {
      header: /* @__PURE__ */ jsxs("div", { className: "flex items-center", children: [
        /* @__PURE__ */ jsx("div", { className: "bg-indigo-50 p-3 rounded-xl mr-4 shadow-sm border border-indigo-100", children: /* @__PURE__ */ jsx(HiOutlineDocument, { className: "text-indigo-600 text-2xl" }) }),
        /* @__PURE__ */ jsxs("div", { children: [
          /* @__PURE__ */ jsx("h2", { className: "text-2xl font-bold text-gray-800", children: "Créer une nouvelle annonce" }),
          /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 mt-1", children: "Remplissez le formulaire pour publier votre annonce" })
        ] })
      ] }),
      children: /* @__PURE__ */ jsx("div", { className: "py-8 px-4 sm:px-6 lg:px-8 overflow-x-hidden", children: /* @__PURE__ */ jsx("div", { className: "max-w-6xl mx-auto", children: /* @__PURE__ */ jsxs(
        motion.div,
        {
          initial: { opacity: 0, y: 20 },
          animate: { opacity: 1, y: 0 },
          transition: { duration: 0.5 },
          className: "bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm",
          children: [
            /* @__PURE__ */ jsx("div", { className: "bg-gradient-to-r from-indigo-50 to-gray-50 border-b border-gray-200 p-6", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center", children: [
              /* @__PURE__ */ jsx("div", { className: "bg-white p-3 rounded-xl shadow-sm mr-4", children: /* @__PURE__ */ jsx(HiOutlineSparkles, { className: "text-indigo-500 text-xl" }) }),
              /* @__PURE__ */ jsxs("div", { children: [
                /* @__PURE__ */ jsx("h3", { className: "text-lg font-semibold text-gray-800", children: "Informations de l'annonce" }),
                /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500", children: "Tous les champs marqués sont obligatoires" })
              ] })
            ] }) }),
            /* @__PURE__ */ jsx("div", { className: "p-6 md:p-8", children: /* @__PURE__ */ jsxs("form", { onSubmit: createAnnonce, encType: "multipart/form-data", className: "space-y-8 w-full", children: [
              /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8", children: [
                /* @__PURE__ */ jsxs("div", { className: "space-y-6 w-full", children: [
                  /* @__PURE__ */ jsxs("div", { className: "group flex items-center space-x-3", children: [
                    /* @__PURE__ */ jsx(
                      "input",
                      {
                        type: "checkbox",
                        id: "is_anonyme",
                        checked: data.is_anonyme,
                        onChange: (e2) => setData("is_anonyme", e2.target.checked),
                        className: "h-4 w-4 text-indigo-600 border-gray-300 rounded"
                      }
                    ),
                    /* @__PURE__ */ jsx("label", { htmlFor: "is_anonyme", className: "text-sm text-gray-700", children: "Publier comme anonyme" })
                  ] }),
                  /* @__PURE__ */ jsxs("div", { className: "group", children: [
                    /* @__PURE__ */ jsxs(
                      "label",
                      {
                        htmlFor: "nameSociete",
                        className: "block text-gray-700 font-medium mb-2 transition-all duration-300 group-focus-within:text-indigo-600 flex items-center",
                        children: [
                          /* @__PURE__ */ jsx(HiOutlineOfficeBuilding, { className: "mr-2 h-5 w-5 text-gray-500 group-focus-within:text-indigo-500" }),
                          "Nom de la société"
                        ]
                      }
                    ),
                    /* @__PURE__ */ jsx("div", { className: "relative", children: /* @__PURE__ */ jsx(
                      "input",
                      {
                        id: "nameSociete",
                        type: "text",
                        value: data.nameSociete,
                        onChange: (e2) => setData("nameSociete", e2.target.value),
                        className: "w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-200 focus:border-indigo-500 transition-all shadow-sm",
                        placeholder: "Entrez le nom de la société",
                        required: true
                      }
                    ) }),
                    errors.nameSociete && /* @__PURE__ */ jsx(
                      motion.p,
                      {
                        initial: { opacity: 0, y: -10 },
                        animate: { opacity: 1, y: 0 },
                        className: "text-red-500 text-sm mt-2",
                        children: errors.nameSociete
                      }
                    )
                  ] }),
                  /* @__PURE__ */ jsxs("div", { className: "group", children: [
                    /* @__PURE__ */ jsxs(
                      "label",
                      {
                        htmlFor: "RC",
                        className: "block text-gray-700 font-medium mb-2 transition-all duration-300 group-focus-within:text-indigo-600 flex items-center",
                        children: [
                          /* @__PURE__ */ jsx(HiOutlineIdentification, { className: "mr-2 h-5 w-5 text-gray-500 group-focus-within:text-indigo-500" }),
                          "RC"
                        ]
                      }
                    ),
                    /* @__PURE__ */ jsx("div", { className: "relative", children: /* @__PURE__ */ jsx(
                      "input",
                      {
                        id: "RC",
                        type: "text",
                        value: data.RC,
                        onChange: (e2) => setData("RC", e2.target.value),
                        className: "w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-200 focus:border-indigo-500 transition-all shadow-sm",
                        placeholder: "Entrez le numéro RC",
                        required: true
                      }
                    ) }),
                    errors.RC && /* @__PURE__ */ jsx(
                      motion.p,
                      {
                        initial: { opacity: 0, y: -10 },
                        animate: { opacity: 1, y: 0 },
                        className: "text-red-500 text-sm mt-2",
                        children: errors.RC
                      }
                    )
                  ] }),
                  /* @__PURE__ */ jsxs("div", { className: "group", children: [
                    /* @__PURE__ */ jsxs(
                      "label",
                      {
                        htmlFor: "category",
                        className: "block text-gray-700 font-medium mb-2 transition-all duration-300 group-focus-within:text-indigo-600 flex items-center",
                        children: [
                          /* @__PURE__ */ jsx(HiOutlineTag, { className: "mr-2 h-5 w-5 text-gray-500 group-focus-within:text-indigo-500" }),
                          "Catégorie"
                        ]
                      }
                    ),
                    /* @__PURE__ */ jsxs("div", { className: "relative", children: [
                      /* @__PURE__ */ jsxs(
                        "select",
                        {
                          id: "category",
                          value: data.category,
                          onChange: (e2) => setData("category", e2.target.value),
                          className: "w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-200 focus:border-indigo-500 transition-all shadow-sm appearance-none bg-white",
                          required: true,
                          children: [
                            /* @__PURE__ */ jsx("option", { value: "", disabled: true, children: "Sélectionnez une catégorie" }),
                            /* @__PURE__ */ jsx("option", { value: "CONSTITUTION", children: "Constitution" }),
                            /* @__PURE__ */ jsx("option", { value: "MODIFICATION", children: "Modification" }),
                            /* @__PURE__ */ jsx("option", { value: "DISSOLUTION", children: "Dissolution" }),
                            /* @__PURE__ */ jsx("option", { value: "AUTRE", children: "Autre" })
                          ]
                        }
                      ),
                      /* @__PURE__ */ jsx("div", { className: "absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none", children: /* @__PURE__ */ jsx("svg", { className: "h-5 w-5 text-gray-500", fill: "none", viewBox: "0 0 24 24", stroke: "currentColor", children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M19 9l-7 7-7-7" }) }) })
                    ] }),
                    errors.category && /* @__PURE__ */ jsx(
                      motion.p,
                      {
                        initial: { opacity: 0, y: -10 },
                        animate: { opacity: 1, y: 0 },
                        className: "text-red-500 text-sm mt-2",
                        children: errors.category
                      }
                    )
                  ] })
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "space-y-6 w-full", children: [
                  /* @__PURE__ */ jsxs("div", { className: "group", children: [
                    /* @__PURE__ */ jsxs(
                      "label",
                      {
                        htmlFor: "user_id",
                        className: "block text-gray-700 font-medium mb-2 transition-all duration-300 group-focus-within:text-indigo-600 flex items-center",
                        children: [
                          /* @__PURE__ */ jsx(HiOutlineUser$1, { className: "mr-2 h-5 w-5 text-gray-500 group-focus-within:text-indigo-500" }),
                          "Assigner à un utilisateur"
                        ]
                      }
                    ),
                    /* @__PURE__ */ jsxs("div", { className: "relative", children: [
                      /* @__PURE__ */ jsx(
                        "input",
                        {
                          type: "text",
                          placeholder: "Rechercher un utilisateur",
                          className: "w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-200 focus:border-indigo-500 transition-all shadow-sm",
                          value: userSearch || ((_a2 = users.find((u2) => u2.id === data.user_id)) == null ? void 0 : _a2.name) || "",
                          onFocus: () => setShowUserDropdown(true),
                          onChange: (e2) => {
                            setUserSearch(e2.target.value);
                            setData("user_id", "");
                          }
                        }
                      ),
                      showUserDropdown && filteredUsers.length > 0 && /* @__PURE__ */ jsx("ul", { className: "absolute z-10 mt-1 w-full bg-white border border-gray-200 rounded-md max-h-48 overflow-auto shadow-lg", children: filteredUsers.map((user) => /* @__PURE__ */ jsxs(
                        "li",
                        {
                          onClick: () => {
                            setData("user_id", user.id);
                            setUserSearch("");
                            setShowUserDropdown(false);
                          },
                          className: "px-4 py-2 text-sm cursor-pointer hover:bg-gray-100",
                          children: [
                            user.name,
                            " (",
                            user.email,
                            ")"
                          ]
                        },
                        user.id
                      )) })
                    ] }),
                    errors.user_id && /* @__PURE__ */ jsx(
                      motion.p,
                      {
                        initial: { opacity: 0, y: -10 },
                        animate: { opacity: 1, y: 0 },
                        className: "text-red-500 text-sm mt-2",
                        children: errors.user_id
                      }
                    )
                  ] }),
                  /* @__PURE__ */ jsxs("div", { className: "group", children: [
                    /* @__PURE__ */ jsxs(
                      "label",
                      {
                        htmlFor: "ville",
                        className: "block text-gray-700 font-medium mb-2 transition-all duration-300 group-focus-within:text-indigo-600 flex items-center",
                        children: [
                          /* @__PURE__ */ jsx(HiOutlineLocationMarker, { className: "mr-2 h-5 w-5 text-gray-500 group-focus-within:text-indigo-500" }),
                          "Ville"
                        ]
                      }
                    ),
                    /* @__PURE__ */ jsxs("div", { className: "relative", children: [
                      /* @__PURE__ */ jsx(
                        "input",
                        {
                          type: "text",
                          placeholder: "Rechercher une ville",
                          className: "w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-200 focus:border-indigo-500 transition-all shadow-sm",
                          value: villeSearch || data.ville,
                          onFocus: () => setShowVilleDropdown(true),
                          onChange: (e2) => {
                            setVilleSearch(e2.target.value);
                            setData("ville", "");
                          }
                        }
                      ),
                      showVilleDropdown && filteredCities.length > 0 && /* @__PURE__ */ jsx("ul", { className: "absolute z-10 mt-1 w-full bg-white border border-gray-200 rounded-md max-h-48 overflow-auto shadow-lg", children: filteredCities.map((city, index2) => /* @__PURE__ */ jsx(
                        "li",
                        {
                          onClick: () => {
                            setData("ville", city);
                            setVilleSearch("");
                            setShowVilleDropdown(false);
                          },
                          className: "px-4 py-2 text-sm cursor-pointer hover:bg-gray-100",
                          children: city
                        },
                        index2
                      )) })
                    ] }),
                    errors.ville && /* @__PURE__ */ jsx(
                      motion.p,
                      {
                        initial: { opacity: 0, y: -10 },
                        animate: { opacity: 1, y: 0 },
                        className: "text-red-500 text-sm mt-2",
                        children: errors.ville
                      }
                    )
                  ] }),
                  /* @__PURE__ */ jsxs("div", { className: "group", children: [
                    /* @__PURE__ */ jsxs(
                      "label",
                      {
                        htmlFor: "date",
                        className: "block text-gray-700 font-medium mb-2 transition-all duration-300 group-focus-within:text-indigo-600 flex items-center",
                        children: [
                          /* @__PURE__ */ jsx(HiOutlineCalendar, { className: "mr-2 h-5 w-5 text-gray-500 group-focus-within:text-indigo-500" }),
                          "Date"
                        ]
                      }
                    ),
                    /* @__PURE__ */ jsx("div", { className: "relative", children: /* @__PURE__ */ jsx(
                      "input",
                      {
                        id: "date",
                        type: "date",
                        value: data.date,
                        onChange: (e2) => setData("date", e2.target.value),
                        className: "w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-200 focus:border-indigo-500 transition-all shadow-sm",
                        required: true
                      }
                    ) }),
                    errors.date && /* @__PURE__ */ jsx(
                      motion.p,
                      {
                        initial: { opacity: 0, y: -10 },
                        animate: { opacity: 1, y: 0 },
                        className: "text-red-500 text-sm mt-2",
                        children: errors.date
                      }
                    )
                  ] }),
                  /* @__PURE__ */ jsxs("div", { className: "group", children: [
                    /* @__PURE__ */ jsxs(
                      "label",
                      {
                        htmlFor: "file",
                        className: "block text-gray-700 font-medium mb-2 transition-all duration-300 group-focus-within:text-indigo-600 flex items-center",
                        children: [
                          /* @__PURE__ */ jsx(HiOutlinePaperClip, { className: "mr-2 h-5 w-5 text-gray-500 group-focus-within:text-indigo-500" }),
                          "Télécharger un fichier"
                        ]
                      }
                    ),
                    /* @__PURE__ */ jsx("div", { className: "mt-1 flex justify-center px-4 pt-5 pb-6 border-2 border-gray-200 border-dashed rounded-lg hover:border-indigo-300 transition-colors duration-300 group-focus-within:border-indigo-400 bg-gray-50", children: /* @__PURE__ */ jsxs("div", { className: "space-y-1 text-center", children: [
                      /* @__PURE__ */ jsx(
                        "svg",
                        {
                          className: "mx-auto h-12 w-12 text-gray-400 group-focus-within:text-indigo-500 transition-colors duration-300",
                          stroke: "currentColor",
                          fill: "none",
                          viewBox: "0 0 48 48",
                          "aria-hidden": "true",
                          children: /* @__PURE__ */ jsx(
                            "path",
                            {
                              d: "M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",
                              strokeWidth: 2,
                              strokeLinecap: "round",
                              strokeLinejoin: "round"
                            }
                          )
                        }
                      ),
                      /* @__PURE__ */ jsxs("div", { className: "flex flex-wrap text-sm text-gray-600 justify-center", children: [
                        /* @__PURE__ */ jsxs(
                          "label",
                          {
                            htmlFor: "file",
                            className: "relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500 transition-colors duration-300 px-3 py-1 shadow-sm",
                            children: [
                              /* @__PURE__ */ jsx("span", { children: "Télécharger un fichier" }),
                              /* @__PURE__ */ jsx(
                                "input",
                                {
                                  id: "file",
                                  type: "file",
                                  className: "sr-only",
                                  accept: ".pdf,.doc,.docx",
                                  onChange: handleFileChange
                                }
                              )
                            ]
                          }
                        ),
                        /* @__PURE__ */ jsx("p", { className: "pl-1 pt-1", children: "ou glisser-déposer" })
                      ] }),
                      /* @__PURE__ */ jsx("p", { className: "text-xs text-gray-500", children: "PDF, DOC, DOCX jusqu'à 10MB" })
                    ] }) }),
                    selectedFileName && /* @__PURE__ */ jsxs(
                      motion.div,
                      {
                        initial: { opacity: 0, y: 10 },
                        animate: { opacity: 1, y: 0 },
                        className: "mt-3 flex items-center text-sm text-gray-700 bg-indigo-50 p-2 rounded-lg border border-indigo-100",
                        children: [
                          /* @__PURE__ */ jsx(HiOutlineDocumentText$1, { className: "h-4 w-4 mr-2 text-indigo-500" }),
                          /* @__PURE__ */ jsxs("span", { className: "truncate", children: [
                            "Fichier sélectionné: ",
                            /* @__PURE__ */ jsx("span", { className: "font-medium", children: selectedFileName })
                          ] })
                        ]
                      }
                    ),
                    errors.file && /* @__PURE__ */ jsx(
                      motion.p,
                      {
                        initial: { opacity: 0, y: -10 },
                        animate: { opacity: 1, y: 0 },
                        className: "text-red-500 text-sm mt-2",
                        children: errors.file
                      }
                    )
                  ] })
                ] })
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "group", children: [
                /* @__PURE__ */ jsxs(
                  "label",
                  {
                    htmlFor: "content",
                    className: "block text-gray-700 font-medium mb-2 transition-all duration-300 group-focus-within:text-indigo-600 flex items-center",
                    children: [
                      /* @__PURE__ */ jsx(HiOutlineDocumentText$1, { className: "mr-2 h-5 w-5 text-gray-500 group-focus-within:text-indigo-500" }),
                      "Contenu"
                    ]
                  }
                ),
                /* @__PURE__ */ jsx("div", { className: "relative", children: /* @__PURE__ */ jsx(
                  "textarea",
                  {
                    id: "content",
                    rows: 6,
                    value: data.content,
                    onChange: (e2) => setData("content", e2.target.value),
                    className: "w-full p-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-200 focus:border-indigo-500 transition-all shadow-sm resize-none",
                    placeholder: "Entrez le contenu de l'annonce...",
                    required: true
                  }
                ) }),
                errors.content && /* @__PURE__ */ jsx(
                  motion.p,
                  {
                    initial: { opacity: 0, y: -10 },
                    animate: { opacity: 1, y: 0 },
                    className: "text-red-500 text-sm mt-2",
                    children: errors.content
                  }
                )
              ] }),
              /* @__PURE__ */ jsx("div", { className: "flex justify-end pt-4", children: /* @__PURE__ */ jsxs(
                motion.button,
                {
                  type: "submit",
                  className: "bg-[#1f2937] hover:bg-[#1f2937]/80 text-white px-8 py-3 rounded-lg flex items-center justify-center transition-all duration-300 shadow-sm",
                  disabled: processing,
                  onMouseEnter: () => setIsHoveringSubmit(true),
                  onMouseLeave: () => setIsHoveringSubmit(false),
                  whileHover: { scale: 1.02 },
                  whileTap: { scale: 0.98 },
                  children: [
                    /* @__PURE__ */ jsx(
                      HiOutlineSave,
                      {
                        className: `mr-2 h-5 w-5 transition-transform duration-300 ${isHoveringSubmit ? "translate-x-1" : ""}`
                      }
                    ),
                    processing ? "Enregistrement..." : "Enregistrer l'annonce"
                  ]
                }
              ) })
            ] }) })
          ]
        }
      ) }) })
    }
  );
}
const __vite_glob_0_1 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: CreateAnnonce
}, Symbol.toStringTag, { value: "Module" }));
function Edit$1({ annonce, auth }) {
  const [isSubmitting, setIsSubmitting] = useState(false);
  const { data, setData, errors, processing, progress, put } = useForm({
    title: annonce.title || "",
    content: annonce.content || "",
    category: annonce.category || "",
    nameSociete: annonce.nameSociete || "",
    RC: annonce.RC || "",
    ville: annonce.ville || "",
    pdf: null,
    date: annonce.date || ""
  });
  const categoryOptions = ["CONSTITUTION", "MODIFICATION", "DISSOLUTION", "OTHER"];
  const handleFileChange = (e2) => {
    if (e2.target.files && e2.target.files.length > 0) {
      setData("pdf", e2.target.files[0]);
    }
  };
  const updateAnnonce = (e2) => {
    e2.preventDefault();
    setIsSubmitting(true);
    put(route("annonces.update", annonce.slug), {
      preserveScroll: true,
      onSuccess: () => {
        setIsSubmitting(false);
        router.visit(route("admin.dashboard"));
      },
      onError: () => {
        setIsSubmitting(false);
      }
    });
  };
  const getCategoryBadge = (category) => {
    switch (category) {
      case "CONSTITUTION":
        return "bg-blue-50 text-blue-700 border border-blue-200";
      case "MODIFICATION":
        return "bg-purple-50 text-purple-700 border border-purple-200";
      case "DISSOLUTION":
        return "bg-orange-50 text-orange-700 border border-orange-200";
      case "OTHER":
        return "bg-gray-50 text-gray-700 border border-gray-200";
      default:
        return "bg-gray-50 text-gray-700 border border-gray-200";
    }
  };
  return /* @__PURE__ */ jsx(Fragment, { children: /* @__PURE__ */ jsx(AuthenticatedLayout, { header: /* @__PURE__ */ jsx("div", { className: "flex items-center" }), children: /* @__PURE__ */ jsx("div", { className: "py-4 sm:py-6 md:py-8", children: /* @__PURE__ */ jsxs("div", { className: "w-full max-w-[76rem] mx-auto px-4", children: [
    /* @__PURE__ */ jsx("div", { className: "flex flex-col sm:flex-row sm:items-center justify-between mb-4 sm:mb-6 md:mb-8", children: /* @__PURE__ */ jsxs(
      motion.button,
      {
        initial: { opacity: 0, x: 20 },
        animate: { opacity: 1, x: 0 },
        transition: { duration: 0.5 },
        onClick: () => window.history.back(),
        className: "flex items-center gap-1 sm:gap-2 px-3 sm:px-4 py-1.5 sm:py-2 bg-white border border-gray-200 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors shadow-sm text-xs sm:text-sm",
        children: [
          /* @__PURE__ */ jsx(ArrowLeft, { className: "h-3.5 w-3.5 sm:h-4 sm:w-4" }),
          "Retour aux annonces"
        ]
      }
    ) }),
    /* @__PURE__ */ jsxs(
      motion.div,
      {
        initial: { opacity: 0, y: 20 },
        animate: { opacity: 1, y: 0 },
        transition: { duration: 0.5 },
        className: "bg-white/90 backdrop-blur-md rounded-xl sm:rounded-2xl shadow-md border border-gray-200 overflow-hidden hover:shadow-lg transition-all duration-300",
        children: [
          /* @__PURE__ */ jsxs("div", { className: "bg-gradient-to-r from-[#1D3557] to-[#1D3557]/80 p-4 sm:p-6 text-white relative overflow-hidden", children: [
            /* @__PURE__ */ jsx("div", { className: "absolute top-0 right-0 w-32 sm:w-64 h-32 sm:h-64 bg-white/5 rounded-bl-full -mr-16 sm:-mr-32 -mt-16 sm:-mt-32" }),
            /* @__PURE__ */ jsxs("div", { className: "flex items-center relative z-10", children: [
              /* @__PURE__ */ jsx("div", { className: "bg-white/20 p-1.5 sm:p-2.5 rounded-lg mr-3 sm:mr-4 shadow-sm", children: /* @__PURE__ */ jsx(FileText, { className: "h-4 w-4 sm:h-5 sm:w-5 text-white" }) }),
              /* @__PURE__ */ jsxs("div", { children: [
                /* @__PURE__ */ jsx("h2", { className: "text-base sm:text-xl font-semibold", children: "Détails de l'annonce" }),
                /* @__PURE__ */ jsx("p", { className: "text-white/80 text-xs sm:text-sm mt-0.5 sm:mt-1", children: "Mettez à jour les informations de votre annonce légale" })
              ] })
            ] })
          ] }),
          /* @__PURE__ */ jsxs(
            "form",
            {
              id: "mobile-form",
              onSubmit: updateAnnonce,
              encType: "multipart/form-data",
              className: "p-4 sm:p-6 space-y-4 sm:space-y-6",
              children: [
                /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsxs("label", { htmlFor: "title", className: "block text-xs sm:text-sm font-medium text-gray-700 mb-1", children: [
                    "Titre ",
                    /* @__PURE__ */ jsx("span", { className: "text-[#E63946]", children: "*" })
                  ] }),
                  /* @__PURE__ */ jsx(
                    "input",
                    {
                      type: "text",
                      id: "title",
                      className: `mt-1 block w-full rounded-lg border ${errors.title ? "border-[#E63946]" : "border-gray-300"} px-3 sm:px-4 py-2 sm:py-2.5 shadow-sm focus:border-[#1D3557] focus:ring focus:ring-[#1D3557]/20 focus:ring-opacity-50 text-xs sm:text-sm`,
                      value: data.title,
                      onChange: (e2) => setData("title", e2.target.value),
                      placeholder: "Entrez le titre de l'annonce",
                      required: true
                    }
                  ),
                  errors.title && /* @__PURE__ */ jsxs("p", { className: "mt-1 text-xs sm:text-sm text-[#E63946] flex items-center", children: [
                    /* @__PURE__ */ jsx(AlertCircle, { className: "h-3 w-3 sm:h-3.5 sm:w-3.5 mr-1" }),
                    errors.title
                  ] })
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "bg-gray-50 p-3 sm:p-5 rounded-xl border border-gray-100 shadow-sm", children: [
                  /* @__PURE__ */ jsxs("div", { className: "flex items-center mb-3 sm:mb-4", children: [
                    /* @__PURE__ */ jsx("div", { className: "bg-[#1D3557]/10 p-1.5 sm:p-2 rounded-lg mr-2 sm:mr-3", children: /* @__PURE__ */ jsx(Building, { className: "h-3.5 w-3.5 sm:h-5 sm:w-5 text-[#1D3557]" }) }),
                    /* @__PURE__ */ jsx("h3", { className: "font-medium text-sm sm:text-base text-[#1D3557]", children: "Informations de l'entreprise" })
                  ] }),
                  /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4", children: [
                    /* @__PURE__ */ jsxs("div", { children: [
                      /* @__PURE__ */ jsxs("label", { htmlFor: "nameSociete", className: "block text-xs sm:text-sm font-medium text-gray-700 mb-1", children: [
                        "Nom de la société ",
                        /* @__PURE__ */ jsx("span", { className: "text-[#E63946]", children: "*" })
                      ] }),
                      /* @__PURE__ */ jsxs("div", { className: "relative", children: [
                        /* @__PURE__ */ jsx("div", { className: "absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none", children: /* @__PURE__ */ jsx(Building, { className: "h-3.5 w-3.5 sm:h-4 sm:w-4 text-gray-400" }) }),
                        /* @__PURE__ */ jsx(
                          "input",
                          {
                            type: "text",
                            id: "nameSociete",
                            className: `mt-1 block w-full rounded-lg border ${errors.nameSociete ? "border-[#E63946]" : "border-gray-300"} pl-8 sm:pl-10 pr-3 sm:pr-4 py-2 sm:py-2.5 shadow-sm focus:border-[#1D3557] focus:ring focus:ring-[#1D3557]/20 focus:ring-opacity-50 text-xs sm:text-sm`,
                            value: data.nameSociete,
                            onChange: (e2) => setData("nameSociete", e2.target.value),
                            placeholder: "Nom de l'entreprise",
                            required: true
                          }
                        )
                      ] }),
                      errors.nameSociete && /* @__PURE__ */ jsxs("p", { className: "mt-1 text-xs sm:text-sm text-[#E63946] flex items-center", children: [
                        /* @__PURE__ */ jsx(AlertCircle, { className: "h-3 w-3 sm:h-3.5 sm:w-3.5 mr-1" }),
                        errors.nameSociete
                      ] })
                    ] }),
                    /* @__PURE__ */ jsxs("div", { children: [
                      /* @__PURE__ */ jsxs("label", { htmlFor: "RC", className: "block text-xs sm:text-sm font-medium text-gray-700 mb-1", children: [
                        "RC ",
                        /* @__PURE__ */ jsx("span", { className: "text-[#E63946]", children: "*" })
                      ] }),
                      /* @__PURE__ */ jsxs("div", { className: "relative", children: [
                        /* @__PURE__ */ jsx("div", { className: "absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none", children: /* @__PURE__ */ jsx(Tag, { className: "h-3.5 w-3.5 sm:h-4 sm:w-4 text-gray-400" }) }),
                        /* @__PURE__ */ jsx(
                          "input",
                          {
                            type: "text",
                            id: "RC",
                            className: `mt-1 block w-full rounded-lg border ${errors.RC ? "border-[#E63946]" : "border-gray-300"} pl-8 sm:pl-10 pr-3 sm:pr-4 py-2 sm:py-2.5 shadow-sm focus:border-[#1D3557] focus:ring focus:ring-[#1D3557]/20 focus:ring-opacity-50 text-xs sm:text-sm`,
                            value: data.RC,
                            onChange: (e2) => setData("RC", e2.target.value),
                            placeholder: "Identifiant Commun de l'Entreprise",
                            required: true
                          }
                        )
                      ] }),
                      errors.RC && /* @__PURE__ */ jsxs("p", { className: "mt-1 text-xs sm:text-sm text-[#E63946] flex items-center", children: [
                        /* @__PURE__ */ jsx(AlertCircle, { className: "h-3 w-3 sm:h-3.5 sm:w-3.5 mr-1" }),
                        errors.RC
                      ] })
                    ] }),
                    /* @__PURE__ */ jsxs("div", { children: [
                      /* @__PURE__ */ jsx("label", { htmlFor: "ville", className: "block text-xs sm:text-sm font-medium text-gray-700 mb-1", children: "Ville" }),
                      /* @__PURE__ */ jsxs("div", { className: "relative", children: [
                        /* @__PURE__ */ jsx("div", { className: "absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none", children: /* @__PURE__ */ jsx(MapPin, { className: "h-3.5 w-3.5 sm:h-4 sm:w-4 text-gray-400" }) }),
                        /* @__PURE__ */ jsx(
                          "input",
                          {
                            type: "text",
                            id: "ville",
                            className: `mt-1 block w-full rounded-lg border ${errors.ville ? "border-[#E63946]" : "border-gray-300"} pl-8 sm:pl-10 pr-3 sm:pr-4 py-2 sm:py-2.5 shadow-sm focus:border-[#1D3557] focus:ring focus:ring-[#1D3557]/20 focus:ring-opacity-50 text-xs sm:text-sm`,
                            value: data.ville,
                            onChange: (e2) => setData("ville", e2.target.value),
                            placeholder: "Ville de l'entreprise"
                          }
                        )
                      ] }),
                      errors.ville && /* @__PURE__ */ jsxs("p", { className: "mt-1 text-xs sm:text-sm text-[#E63946] flex items-center", children: [
                        /* @__PURE__ */ jsx(AlertCircle, { className: "h-3 w-3 sm:h-3.5 sm:w-3.5 mr-1" }),
                        errors.ville
                      ] })
                    ] }),
                    /* @__PURE__ */ jsxs("div", { children: [
                      /* @__PURE__ */ jsx("label", { htmlFor: "date", className: "block text-xs sm:text-sm font-medium text-gray-700 mb-1", children: "Date" }),
                      /* @__PURE__ */ jsxs("div", { className: "relative", children: [
                        /* @__PURE__ */ jsx("div", { className: "absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none", children: /* @__PURE__ */ jsx(Calendar$2, { className: "h-3.5 w-3.5 sm:h-4 sm:w-4 text-gray-400" }) }),
                        /* @__PURE__ */ jsx(
                          "input",
                          {
                            type: "date",
                            id: "date",
                            className: `mt-1 block w-full rounded-lg border ${errors.date ? "border-[#E63946]" : "border-gray-300"} pl-8 sm:pl-10 pr-3 sm:pr-4 py-2 sm:py-2.5 shadow-sm focus:border-[#1D3557] focus:ring focus:ring-[#1D3557]/20 focus:ring-opacity-50 text-xs sm:text-sm`,
                            value: data.date,
                            onChange: (e2) => setData("date", e2.target.value)
                          }
                        )
                      ] }),
                      errors.date && /* @__PURE__ */ jsxs("p", { className: "mt-1 text-xs sm:text-sm text-[#E63946] flex items-center", children: [
                        /* @__PURE__ */ jsx(AlertCircle, { className: "h-3 w-3 sm:h-3.5 sm:w-3.5 mr-1" }),
                        errors.date
                      ] })
                    ] }),
                    /* @__PURE__ */ jsxs("div", { children: [
                      /* @__PURE__ */ jsxs("label", { htmlFor: "category", className: "block text-xs sm:text-sm font-medium text-gray-700 mb-1", children: [
                        "Catégorie ",
                        /* @__PURE__ */ jsx("span", { className: "text-[#E63946]", children: "*" })
                      ] }),
                      /* @__PURE__ */ jsxs("div", { className: "relative", children: [
                        /* @__PURE__ */ jsx("div", { className: "absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none", children: /* @__PURE__ */ jsx(Tag, { className: "h-3.5 w-3.5 sm:h-4 sm:w-4 text-gray-400" }) }),
                        /* @__PURE__ */ jsxs(
                          "select",
                          {
                            id: "category",
                            className: `mt-1 block w-full rounded-lg border ${errors.category ? "border-[#E63946]" : "border-gray-300"} pl-8 sm:pl-10 pr-8 sm:pr-10 py-2 sm:py-2.5 shadow-sm focus:border-[#1D3557] focus:ring focus:ring-[#1D3557]/20 focus:ring-opacity-50 appearance-none bg-white text-xs sm:text-sm`,
                            value: data.category,
                            onChange: (e2) => setData("category", e2.target.value),
                            required: true,
                            children: [
                              /* @__PURE__ */ jsx("option", { value: "", disabled: true, children: "Sélectionnez une catégorie" }),
                              categoryOptions.map((category) => /* @__PURE__ */ jsx("option", { value: category, children: category }, category))
                            ]
                          }
                        ),
                        /* @__PURE__ */ jsx("div", { className: "absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none", children: /* @__PURE__ */ jsx(
                          "svg",
                          {
                            className: "h-3.5 w-3.5 sm:h-4 sm:w-4 text-gray-400",
                            fill: "none",
                            viewBox: "0 0 24 24",
                            stroke: "currentColor",
                            children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M19 9l-7 7-7-7" })
                          }
                        ) })
                      ] }),
                      errors.category && /* @__PURE__ */ jsxs("p", { className: "mt-1 text-xs sm:text-sm text-[#E63946] flex items-center", children: [
                        /* @__PURE__ */ jsx(AlertCircle, { className: "h-3 w-3 sm:h-3.5 sm:w-3.5 mr-1" }),
                        errors.category
                      ] })
                    ] })
                  ] }),
                  data.category && /* @__PURE__ */ jsx("div", { className: "mt-3 sm:mt-4 pt-3 sm:pt-4 border-t border-gray-200", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
                    /* @__PURE__ */ jsx("span", { className: "text-xs sm:text-sm text-gray-500", children: "Catégorie sélectionnée:" }),
                    /* @__PURE__ */ jsx(
                      "span",
                      {
                        className: `text-xs font-medium px-2 sm:px-2.5 py-0.5 sm:py-1 rounded-full ${getCategoryBadge(
                          data.category
                        )}`,
                        children: data.category
                      }
                    )
                  ] }) })
                ] }),
                /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsxs("label", { htmlFor: "content", className: "block text-xs sm:text-sm font-medium text-gray-700 mb-1", children: [
                    "Contenu ",
                    /* @__PURE__ */ jsx("span", { className: "text-[#E63946]", children: "*" })
                  ] }),
                  /* @__PURE__ */ jsx(
                    "textarea",
                    {
                      id: "content",
                      rows: 6,
                      className: `mt-1 block w-full rounded-lg border ${errors.content ? "border-[#E63946]" : "border-gray-300"} px-3 sm:px-4 py-2 sm:py-2.5 shadow-sm focus:border-[#1D3557] focus:ring focus:ring-[#1D3557]/20 focus:ring-opacity-50 text-xs sm:text-sm`,
                      value: data.content,
                      onChange: (e2) => setData("content", e2.target.value),
                      placeholder: "Entrez le contenu détaillé de votre annonce légale...",
                      required: true
                    }
                  ),
                  errors.content && /* @__PURE__ */ jsxs("p", { className: "mt-1 text-xs sm:text-sm text-[#E63946] flex items-center", children: [
                    /* @__PURE__ */ jsx(AlertCircle, { className: "h-3 w-3 sm:h-3.5 sm:w-3.5 mr-1" }),
                    errors.content
                  ] })
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "bg-gray-50 p-3 sm:p-5 rounded-xl border border-gray-100 shadow-sm", children: [
                  /* @__PURE__ */ jsxs("div", { className: "flex items-center mb-3 sm:mb-4", children: [
                    /* @__PURE__ */ jsx("div", { className: "bg-[#1D3557]/10 p-1.5 sm:p-2 rounded-lg mr-2 sm:mr-3", children: /* @__PURE__ */ jsx(FileUp, { className: "h-3.5 w-3.5 sm:h-5 sm:w-5 text-[#1D3557]" }) }),
                    /* @__PURE__ */ jsx("h3", { className: "font-medium text-sm sm:text-base text-[#1D3557]", children: "Document attaché" })
                  ] }),
                  /* @__PURE__ */ jsxs("div", { className: "mt-1", children: [
                    /* @__PURE__ */ jsxs("div", { className: "flex flex-wrap items-center gap-2 sm:gap-0", children: [
                      /* @__PURE__ */ jsx(
                        "input",
                        {
                          type: "file",
                          id: "pdf",
                          accept: ".pdf,.doc,.docx",
                          onChange: handleFileChange,
                          className: "hidden"
                        }
                      ),
                      /* @__PURE__ */ jsxs(
                        "label",
                        {
                          htmlFor: "pdf",
                          className: "px-3 sm:px-4 py-2 sm:py-2.5 bg-[#1D3557]/10 hover:bg-[#1D3557]/20 text-[#1D3557] rounded-lg cursor-pointer transition-colors flex items-center shadow-sm text-xs sm:text-sm",
                          children: [
                            /* @__PURE__ */ jsx(FileText, { className: "h-3.5 w-3.5 sm:h-4 sm:w-4 mr-1.5 sm:mr-2" }),
                            "Choisir un fichier"
                          ]
                        }
                      ),
                      /* @__PURE__ */ jsx("span", { className: "ml-0 sm:ml-3 text-xs sm:text-sm text-gray-500", children: data.pdf ? data.pdf.name : annonce.pdf ? "Fichier existant" : "Aucun fichier choisi" })
                    ] }),
                    errors.pdf && /* @__PURE__ */ jsxs("p", { className: "mt-1 text-xs sm:text-sm text-[#E63946] flex items-center", children: [
                      /* @__PURE__ */ jsx(AlertCircle, { className: "h-3 w-3 sm:h-3.5 sm:w-3.5 mr-1" }),
                      errors.pdf
                    ] }),
                    !data.pdf && annonce.pdf && /* @__PURE__ */ jsxs("div", { className: "mt-3 p-3 sm:p-4 bg-blue-50 rounded-lg border border-blue-100 text-xs sm:text-sm", children: [
                      /* @__PURE__ */ jsxs("div", { className: "flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-0", children: [
                        /* @__PURE__ */ jsxs("span", { className: "text-blue-700 font-medium flex items-center", children: [
                          /* @__PURE__ */ jsx(FileText, { className: "h-3.5 w-3.5 sm:h-4 sm:w-4 mr-1 sm:mr-1.5 text-blue-500" }),
                          "Fichier actuel"
                        ] }),
                        /* @__PURE__ */ jsxs(
                          "a",
                          {
                            href: `/storage/${annonce.pdf}`,
                            target: "_blank",
                            rel: "noopener noreferrer",
                            className: "text-[#1D3557] hover:text-[#1D3557]/80 flex items-center bg-white px-2 sm:px-3 py-1 sm:py-1.5 rounded-lg border border-blue-200 shadow-sm hover:shadow transition-all text-xs sm:text-sm w-fit",
                            children: [
                              /* @__PURE__ */ jsx(Download, { className: "h-3.5 w-3.5 sm:h-4 sm:w-4 mr-1 sm:mr-1.5" }),
                              "Télécharger"
                            ]
                          }
                        )
                      ] }),
                      /* @__PURE__ */ jsxs("p", { className: "mt-2 text-gray-600 flex items-start text-xs sm:text-sm", children: [
                        /* @__PURE__ */ jsx(AlertCircle, { className: "h-3.5 w-3.5 sm:h-4 sm:w-4 mr-1 sm:mr-1.5 text-blue-500 flex-shrink-0 mt-0.5" }),
                        "Le téléchargement d'un nouveau fichier remplacera le fichier existant."
                      ] })
                    ] })
                  ] })
                ] }),
                progress && /* @__PURE__ */ jsxs("div", { className: "relative pt-1", children: [
                  /* @__PURE__ */ jsxs("div", { className: "flex mb-2 items-center justify-between", children: [
                    /* @__PURE__ */ jsx("div", { children: /* @__PURE__ */ jsx("span", { className: "text-xs font-semibold inline-block text-[#1D3557]", children: "Téléchargement en cours" }) }),
                    /* @__PURE__ */ jsx("div", { className: "text-right", children: /* @__PURE__ */ jsxs("span", { className: "text-xs font-semibold inline-block text-[#1D3557]", children: [
                      progress.percentage,
                      "%"
                    ] }) })
                  ] }),
                  /* @__PURE__ */ jsx("div", { className: "overflow-hidden h-1.5 sm:h-2 mb-3 sm:mb-4 text-xs flex rounded-full bg-[#1D3557]/20", children: /* @__PURE__ */ jsx(
                    motion.div,
                    {
                      initial: { width: 0 },
                      animate: { width: `${progress.percentage}%` },
                      transition: { duration: 0.5 },
                      className: "shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-[#1D3557] rounded-full"
                    }
                  ) })
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "flex flex-col sm:flex-row justify-end gap-2 sm:gap-3 pt-4 sm:pt-6 border-t border-gray-100", children: [
                  /* @__PURE__ */ jsxs(
                    Link,
                    {
                      href: route("annonces.approved"),
                      className: "inline-flex items-center justify-center px-3 sm:px-4 py-2 sm:py-2.5 bg-white border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors shadow-sm text-xs sm:text-sm",
                      children: [
                        /* @__PURE__ */ jsx(X, { className: "h-3.5 w-3.5 sm:h-4 sm:w-4 mr-1 sm:mr-2" }),
                        "Annuler"
                      ]
                    }
                  ),
                  /* @__PURE__ */ jsxs(
                    "button",
                    {
                      type: "submit",
                      disabled: processing || isSubmitting,
                      className: `inline-flex items-center justify-center px-3 sm:px-5 py-2 sm:py-2.5 bg-[#E63946] text-white rounded-lg hover:bg-[#E63946]/90 transition-colors shadow-sm text-xs sm:text-sm ${processing || isSubmitting ? "opacity-75 cursor-not-allowed" : ""}`,
                      children: [
                        /* @__PURE__ */ jsx(Save, { className: "h-3.5 w-3.5 sm:h-4 sm:w-4 mr-1 sm:mr-2" }),
                        processing || isSubmitting ? "Enregistrement..." : "Enregistrer les modifications"
                      ]
                    }
                  )
                ] })
              ]
            }
          )
        ]
      }
    ),
    /* @__PURE__ */ jsxs("div", { className: "fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-3 flex gap-2 sm:hidden z-10", children: [
      /* @__PURE__ */ jsxs(
        Link,
        {
          href: "/annonces",
          className: "flex-1 inline-flex items-center justify-center px-3 py-2 bg-white border border-gray-200 text-gray-700 rounded-lg shadow-sm text-xs",
          children: [
            /* @__PURE__ */ jsx(X, { className: "h-3.5 w-3.5 mr-1" }),
            "Annuler"
          ]
        }
      ),
      /* @__PURE__ */ jsxs(
        "button",
        {
          type: "submit",
          form: "mobile-form",
          disabled: processing || isSubmitting,
          className: `flex-1 inline-flex items-center justify-center px-3 py-2 bg-[#E63946] text-white rounded-lg shadow-sm text-xs ${processing || isSubmitting ? "opacity-75 cursor-not-allowed" : ""}`,
          children: [
            /* @__PURE__ */ jsx(Save, { className: "h-3.5 w-3.5 mr-1" }),
            processing || isSubmitting ? "..." : "Enregistrer"
          ]
        }
      )
    ] }),
    /* @__PURE__ */ jsx("div", { className: "h-16 sm:hidden" })
  ] }) }) }) });
}
const __vite_glob_0_2 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: Edit$1
}, Symbol.toStringTag, { value: "Module" }));
const GridApiContext = /* @__PURE__ */ React.createContext(void 0);
if (process.env.NODE_ENV !== "production") {
  GridApiContext.displayName = "GridApiContext";
}
function useGridApiContext() {
  const apiRef = React.useContext(GridApiContext);
  if (apiRef === void 0) {
    throw new Error(["MUI: Could not find the data grid context.", "It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.", "This can also happen if you are bundling multiple versions of the data grid."].join("\n"));
  }
  return apiRef;
}
const GridRootPropsContext = /* @__PURE__ */ React.createContext(void 0);
if (process.env.NODE_ENV !== "production") {
  GridRootPropsContext.displayName = "GridRootPropsContext";
}
const useGridRootProps = () => {
  const contextValue = React.useContext(GridRootPropsContext);
  if (!contextValue) {
    throw new Error("MUI: useGridRootProps should only be used inside the DataGrid, DataGridPro or DataGridPremium component.");
  }
  return contextValue;
};
const GridPrivateApiContext = /* @__PURE__ */ React.createContext(void 0);
if (process.env.NODE_ENV !== "production") {
  GridPrivateApiContext.displayName = "GridPrivateApiContext";
}
function useGridPrivateApiContext() {
  const privateApiRef = React.useContext(GridPrivateApiContext);
  if (privateApiRef === void 0) {
    throw new Error(["MUI: Could not find the data grid private context.", "It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.", "This can also happen if you are bundling multiple versions of the data grid."].join("\n"));
  }
  return privateApiRef;
}
const UNINITIALIZED = {};
function useLazyRef(init, initArg) {
  const ref = React.useRef(UNINITIALIZED);
  if (ref.current === UNINITIALIZED) {
    ref.current = init(initArg);
  }
  return ref;
}
const EMPTY = [];
function useOnMount(fn2) {
  React.useEffect(fn2, EMPTY);
}
const buildWarning = (message, gravity = "warning") => {
  let alreadyWarned = false;
  const cleanMessage = Array.isArray(message) ? message.join("\n") : message;
  return () => {
    if (!alreadyWarned) {
      alreadyWarned = true;
      if (gravity === "error") {
        console.error(cleanMessage);
      } else {
        console.warn(cleanMessage);
      }
    }
  };
};
const is = Object.is;
function fastObjectShallowCompare(a, b) {
  if (a === b) {
    return true;
  }
  if (!(a instanceof Object) || !(b instanceof Object)) {
    return false;
  }
  let aLength = 0;
  let bLength = 0;
  for (const key in a) {
    aLength += 1;
    if (!is(a[key], b[key])) {
      return false;
    }
    if (!(key in b)) {
      return false;
    }
  }
  for (const _ in b) {
    bLength += 1;
  }
  return aLength === bLength;
}
const stateNotInitializedWarning = buildWarning(["MUI: `useGridSelector` has been called before the initialization of the state.", "This hook can only be used inside the context of the grid."]);
function isOutputSelector(selector) {
  return selector.acceptsApiRef;
}
function applySelector(apiRef, selector) {
  if (isOutputSelector(selector)) {
    return selector(apiRef);
  }
  return selector(apiRef.current.state);
}
const defaultCompare = Object.is;
const objectShallowCompare = fastObjectShallowCompare;
const createRefs = () => ({
  state: null,
  equals: null,
  selector: null
});
const useGridSelector = (apiRef, selector, equals = defaultCompare) => {
  if (process.env.NODE_ENV !== "production") {
    if (!apiRef.current.state) {
      stateNotInitializedWarning();
    }
  }
  const refs = useLazyRef(createRefs);
  const didInit = refs.current.selector !== null;
  const [state, setState] = React.useState(
    // We don't use an initialization function to avoid allocations
    didInit ? null : applySelector(apiRef, selector)
  );
  refs.current.state = state;
  refs.current.equals = equals;
  refs.current.selector = selector;
  useOnMount(() => {
    return apiRef.current.store.subscribe(() => {
      const newState = applySelector(apiRef, refs.current.selector);
      if (!refs.current.equals(refs.current.state, newState)) {
        refs.current.state = newState;
        setState(newState);
      }
    });
  });
  return state;
};
function getDataGridUtilityClass(slot) {
  return unstable_generateUtilityClass("MuiDataGrid", slot);
}
const gridClasses = unstable_generateUtilityClasses("MuiDataGrid", ["actionsCell", "aggregationColumnHeader", "aggregationColumnHeader--alignLeft", "aggregationColumnHeader--alignCenter", "aggregationColumnHeader--alignRight", "aggregationColumnHeaderLabel", "autoHeight", "autosizing", "booleanCell", "cell--editable", "cell--editing", "cell--textCenter", "cell--textLeft", "cell--textRight", "cell--withRenderer", "cell--rangeTop", "cell--rangeBottom", "cell--rangeLeft", "cell--rangeRight", "cell--selectionMode", "cell", "cellContent", "cellCheckbox", "cellSkeleton", "checkboxInput", "columnHeader--alignCenter", "columnHeader--alignLeft", "columnHeader--alignRight", "columnHeader--dragging", "columnHeader--moving", "columnHeader--numeric", "columnHeader--sortable", "columnHeader--sorted", "columnHeader--filtered", "columnHeader", "columnHeaderCheckbox", "columnHeaderDraggableContainer", "columnHeaderDropZone", "columnHeaderTitle", "columnHeaderTitleContainer", "columnHeaderTitleContainerContent", "columnGroupHeader", "columnHeader--filledGroup", "columnHeader--emptyGroup", "columnHeader--showColumnBorder", "columnHeaders", "columnHeadersInner", "columnHeadersInner--scrollable", "columnSeparator--resizable", "columnSeparator--resizing", "columnSeparator--sideLeft", "columnSeparator--sideRight", "columnSeparator", "columnsPanel", "columnsPanelRow", "detailPanel", "detailPanels", "detailPanelToggleCell", "detailPanelToggleCell--expanded", "footerCell", "panel", "panelHeader", "panelWrapper", "panelContent", "panelFooter", "paper", "editBooleanCell", "editInputCell", "filterForm", "filterFormDeleteIcon", "filterFormLogicOperatorInput", "filterFormColumnInput", "filterFormOperatorInput", "filterFormValueInput", "filterIcon", "footerContainer", "headerFilterRow", "iconButtonContainer", "iconSeparator", "main", "menu", "menuIcon", "menuIconButton", "menuOpen", "menuList", "overlay", "overlayWrapper", "overlayWrapperInner", "root", "root--densityStandard", "root--densityComfortable", "root--densityCompact", "root--disableUserSelection", "row", "row--editable", "row--editing", "row--lastVisible", "row--dragging", "row--dynamicHeight", "row--detailPanelExpanded", "rowReorderCellPlaceholder", "rowCount", "rowReorderCellContainer", "rowReorderCell", "rowReorderCell--draggable", "scrollArea--left", "scrollArea--right", "scrollArea", "selectedRowCount", "sortIcon", "toolbarContainer", "toolbarFilterList", "virtualScroller", "virtualScrollerContent", "virtualScrollerContent--overflowed", "virtualScrollerRenderZone", "pinnedColumns", "pinnedColumns--left", "pinnedColumns--right", "pinnedColumnHeaders", "pinnedColumnHeaders--left", "pinnedColumnHeaders--right", "withBorderColor", "cell--withRightBorder", "columnHeader--withRightBorder", "treeDataGroupingCell", "treeDataGroupingCellToggle", "groupingCriteriaCell", "groupingCriteriaCellToggle", "pinnedRows", "pinnedRows--top", "pinnedRows--bottom", "pinnedRowsRenderZone"]);
const cacheContainer = {
  cache: /* @__PURE__ */ new WeakMap()
};
const missingInstanceIdWarning = buildWarning(["MUI: A selector was called without passing the instance ID, which may impact the performance of the grid.", "To fix, call it with `apiRef`, e.g. `mySelector(apiRef)`, or pass the instance ID explicitly, e.g. `mySelector(state, apiRef.current.instanceId)`."]);
function checkIsAPIRef(value) {
  return "current" in value && "instanceId" in value.current;
}
const DEFAULT_INSTANCE_ID = {
  id: "default"
};
const createSelector = (a, b, c, d, e2, f, ...rest) => {
  if (rest.length > 0) {
    throw new Error("Unsupported number of selectors");
  }
  let selector;
  if (a && b && c) {
    selector = (stateOrApiRef, instanceIdParam) => {
      const isAPIRef = checkIsAPIRef(stateOrApiRef);
      const instanceId = instanceIdParam != null ? instanceIdParam : isAPIRef ? stateOrApiRef.current.instanceId : DEFAULT_INSTANCE_ID;
      const state = isAPIRef ? stateOrApiRef.current.state : stateOrApiRef;
      const va = a(state, instanceId);
      const vb = b(state, instanceId);
      return c(va, vb);
    };
  } else if (a && b) {
    selector = (stateOrApiRef, instanceIdParam) => {
      const isAPIRef = checkIsAPIRef(stateOrApiRef);
      const instanceId = instanceIdParam != null ? instanceIdParam : isAPIRef ? stateOrApiRef.current.instanceId : DEFAULT_INSTANCE_ID;
      const state = isAPIRef ? stateOrApiRef.current.state : stateOrApiRef;
      const va = a(state, instanceId);
      return b(va);
    };
  } else {
    throw new Error("Missing arguments");
  }
  selector.acceptsApiRef = true;
  return selector;
};
const createSelectorMemoized = (...args) => {
  const selector = (...selectorArgs) => {
    var _cache$get, _cache$get3;
    const [stateOrApiRef, instanceId] = selectorArgs;
    const isAPIRef = checkIsAPIRef(stateOrApiRef);
    const cacheKey = isAPIRef ? stateOrApiRef.current.instanceId : instanceId != null ? instanceId : DEFAULT_INSTANCE_ID;
    const state = isAPIRef ? stateOrApiRef.current.state : stateOrApiRef;
    if (process.env.NODE_ENV !== "production") {
      if (cacheKey.id === "default") {
        missingInstanceIdWarning();
      }
    }
    const {
      cache
    } = cacheContainer;
    if (cache.get(cacheKey) && (_cache$get = cache.get(cacheKey)) != null && _cache$get.get(args)) {
      var _cache$get2;
      return (_cache$get2 = cache.get(cacheKey)) == null ? void 0 : _cache$get2.get(args)(state, cacheKey);
    }
    const newSelector = createSelector$1(...args);
    if (!cache.get(cacheKey)) {
      cache.set(cacheKey, /* @__PURE__ */ new Map());
    }
    (_cache$get3 = cache.get(cacheKey)) == null || _cache$get3.set(args, newSelector);
    return newSelector(state, cacheKey);
  };
  selector.acceptsApiRef = true;
  return selector;
};
const gridColumnsStateSelector = (state) => state.columns;
const gridColumnFieldsSelector = createSelector(gridColumnsStateSelector, (columnsState) => columnsState.orderedFields);
const gridColumnLookupSelector = createSelector(gridColumnsStateSelector, (columnsState) => columnsState.lookup);
const gridColumnDefinitionsSelector = createSelectorMemoized(gridColumnFieldsSelector, gridColumnLookupSelector, (allFields, lookup) => allFields.map((field) => lookup[field]));
const gridColumnVisibilityModelSelector = createSelector(gridColumnsStateSelector, (columnsState) => columnsState.columnVisibilityModel);
const gridVisibleColumnDefinitionsSelector = createSelectorMemoized(gridColumnDefinitionsSelector, gridColumnVisibilityModelSelector, (columns, columnVisibilityModel) => columns.filter((column) => columnVisibilityModel[column.field] !== false));
const gridVisibleColumnFieldsSelector = createSelectorMemoized(gridVisibleColumnDefinitionsSelector, (visibleColumns) => visibleColumns.map((column) => column.field));
const gridColumnPositionsSelector = createSelectorMemoized(gridVisibleColumnDefinitionsSelector, (visibleColumns) => {
  const positions = [];
  let currentPosition = 0;
  for (let i2 = 0; i2 < visibleColumns.length; i2 += 1) {
    positions.push(currentPosition);
    currentPosition += visibleColumns[i2].computedWidth;
  }
  return positions;
});
const gridColumnsTotalWidthSelector = createSelector(gridVisibleColumnDefinitionsSelector, gridColumnPositionsSelector, (visibleColumns, positions) => {
  const colCount = visibleColumns.length;
  if (colCount === 0) {
    return 0;
  }
  return positions[colCount - 1] + visibleColumns[colCount - 1].computedWidth;
});
const gridFilterableColumnDefinitionsSelector = createSelectorMemoized(gridColumnDefinitionsSelector, (columns) => columns.filter((col) => col.filterable));
const gridFilterableColumnLookupSelector = createSelectorMemoized(gridColumnDefinitionsSelector, (columns) => columns.reduce((acc, col) => {
  if (col.filterable) {
    acc[col.field] = col;
  }
  return acc;
}, {}));
const gridColumnGroupingSelector = (state) => state.columnGrouping;
const gridColumnGroupsUnwrappedModelSelector = createSelectorMemoized(gridColumnGroupingSelector, (columnGrouping) => {
  var _columnGrouping$unwra;
  return (_columnGrouping$unwra = columnGrouping == null ? void 0 : columnGrouping.unwrappedGroupingModel) != null ? _columnGrouping$unwra : {};
});
const gridColumnGroupsLookupSelector = createSelectorMemoized(gridColumnGroupingSelector, (columnGrouping) => {
  var _columnGrouping$looku;
  return (_columnGrouping$looku = columnGrouping == null ? void 0 : columnGrouping.lookup) != null ? _columnGrouping$looku : {};
});
const gridColumnGroupsHeaderStructureSelector = createSelectorMemoized(gridColumnGroupingSelector, (columnGrouping) => {
  var _columnGrouping$heade;
  return (_columnGrouping$heade = columnGrouping == null ? void 0 : columnGrouping.headerStructure) != null ? _columnGrouping$heade : [];
});
const gridColumnGroupsHeaderMaxDepthSelector = createSelector(gridColumnGroupingSelector, (columnGrouping) => {
  var _columnGrouping$maxDe;
  return (_columnGrouping$maxDe = columnGrouping == null ? void 0 : columnGrouping.maxDepth) != null ? _columnGrouping$maxDe : 0;
});
const gridRowsStateSelector = (state) => state.rows;
const gridRowCountSelector = createSelector(gridRowsStateSelector, (rows) => rows.totalRowCount);
const gridRowsLoadingSelector = createSelector(gridRowsStateSelector, (rows) => rows.loading);
const gridTopLevelRowCountSelector = createSelector(gridRowsStateSelector, (rows) => rows.totalTopLevelRowCount);
const gridRowsLookupSelector = createSelector(gridRowsStateSelector, (rows) => rows.dataRowIdToModelLookup);
const gridRowsDataRowIdToIdLookupSelector = createSelector(gridRowsStateSelector, (rows) => rows.dataRowIdToIdLookup);
const gridRowTreeSelector = createSelector(gridRowsStateSelector, (rows) => rows.tree);
const gridRowGroupingNameSelector = createSelector(gridRowsStateSelector, (rows) => rows.groupingName);
const gridRowTreeDepthsSelector = createSelector(gridRowsStateSelector, (rows) => rows.treeDepths);
const gridRowMaximumTreeDepthSelector = createSelectorMemoized(gridRowsStateSelector, (rows) => {
  const entries = Object.entries(rows.treeDepths);
  if (entries.length === 0) {
    return 1;
  }
  return entries.filter(([, nodeCount]) => nodeCount > 0).map(([depth]) => Number(depth)).sort((a, b) => b - a)[0] + 1;
});
const gridDataRowIdsSelector = createSelector(gridRowsStateSelector, (rows) => rows.dataRowIds);
const gridAdditionalRowGroupsSelector = createSelector(gridRowsStateSelector, (rows) => rows == null ? void 0 : rows.additionalRowGroups);
const gridPinnedRowsSelector = createSelectorMemoized(gridAdditionalRowGroupsSelector, (additionalRowGroups) => {
  var _rawPinnedRows$bottom, _rawPinnedRows$top;
  const rawPinnedRows = additionalRowGroups == null ? void 0 : additionalRowGroups.pinnedRows;
  return {
    bottom: rawPinnedRows == null || (_rawPinnedRows$bottom = rawPinnedRows.bottom) == null ? void 0 : _rawPinnedRows$bottom.map((rowEntry) => {
      var _rowEntry$model;
      return {
        id: rowEntry.id,
        model: (_rowEntry$model = rowEntry.model) != null ? _rowEntry$model : {}
      };
    }),
    top: rawPinnedRows == null || (_rawPinnedRows$top = rawPinnedRows.top) == null ? void 0 : _rawPinnedRows$top.map((rowEntry) => {
      var _rowEntry$model2;
      return {
        id: rowEntry.id,
        model: (_rowEntry$model2 = rowEntry.model) != null ? _rowEntry$model2 : {}
      };
    })
  };
});
const gridPinnedRowsCountSelector = createSelector(gridPinnedRowsSelector, (pinnedRows) => {
  var _pinnedRows$top, _pinnedRows$bottom;
  return ((pinnedRows == null || (_pinnedRows$top = pinnedRows.top) == null ? void 0 : _pinnedRows$top.length) || 0) + ((pinnedRows == null || (_pinnedRows$bottom = pinnedRows.bottom) == null ? void 0 : _pinnedRows$bottom.length) || 0);
});
const useGridAriaAttributes = () => {
  var _rootProps$experiment;
  const apiRef = useGridPrivateApiContext();
  const rootProps = useGridRootProps();
  const visibleColumns = useGridSelector(apiRef, gridVisibleColumnDefinitionsSelector);
  const totalRowCount = useGridSelector(apiRef, gridRowCountSelector);
  const headerGroupingMaxDepth = useGridSelector(apiRef, gridColumnGroupsHeaderMaxDepthSelector);
  const pinnedRowsCount = useGridSelector(apiRef, gridPinnedRowsCountSelector);
  let role = "grid";
  if ((_rootProps$experiment = rootProps.experimentalFeatures) != null && _rootProps$experiment.ariaV7 && rootProps.treeData) {
    role = "treegrid";
  }
  return {
    role,
    "aria-colcount": visibleColumns.length,
    "aria-rowcount": headerGroupingMaxDepth + 1 + pinnedRowsCount + totalRowCount,
    "aria-multiselectable": !rootProps.disableMultipleRowSelection
  };
};
const useUtilityClasses$A = (ownerState) => {
  const {
    classes
  } = ownerState;
  const slots = {
    root: ["main"]
  };
  return unstable_composeClasses(slots, getDataGridUtilityClass, classes);
};
const GridMainContainerRoot = styled("div", {
  name: "MuiDataGrid",
  slot: "Main",
  overridesResolver: (props, styles) => styles.main
})(() => ({
  position: "relative",
  flexGrow: 1,
  display: "flex",
  flexDirection: "column",
  overflow: "hidden"
}));
const GridMainContainer = /* @__PURE__ */ React.forwardRef((props, ref) => {
  var _rootProps$experiment;
  const rootProps = useGridRootProps();
  const classes = useUtilityClasses$A(rootProps);
  const getAriaAttributes = (_rootProps$experiment = rootProps.experimentalFeatures) != null && _rootProps$experiment.ariaV7 ? useGridAriaAttributes : null;
  const ariaAttributes = typeof getAriaAttributes === "function" ? getAriaAttributes() : null;
  return /* @__PURE__ */ jsx(GridMainContainerRoot, _extends$1({
    ref,
    className: classes.root,
    ownerState: rootProps
  }, ariaAttributes, {
    children: props.children
  }));
});
const gridSortingStateSelector = (state) => state.sorting;
const gridSortedRowIdsSelector = createSelector(gridSortingStateSelector, (sortingState) => sortingState.sortedRows);
const gridSortedRowEntriesSelector = createSelectorMemoized(
  gridSortedRowIdsSelector,
  gridRowsLookupSelector,
  // TODO rows v6: Is this the best approach ?
  (sortedIds, idRowsLookup) => sortedIds.map((id) => {
    var _idRowsLookup$id;
    return {
      id,
      model: (_idRowsLookup$id = idRowsLookup[id]) != null ? _idRowsLookup$id : {}
    };
  })
);
const gridSortModelSelector = createSelector(gridSortingStateSelector, (sorting) => sorting.sortModel);
const gridSortColumnLookupSelector = createSelectorMemoized(gridSortModelSelector, (sortModel) => {
  const result = sortModel.reduce((res, sortItem, index2) => {
    res[sortItem.field] = {
      sortDirection: sortItem.sort,
      sortIndex: sortModel.length > 1 ? index2 + 1 : void 0
    };
    return res;
  }, {});
  return result;
});
const gridFilterStateSelector = (state) => state.filter;
const gridFilterModelSelector = createSelector(gridFilterStateSelector, (filterState) => filterState.filterModel);
createSelector(gridFilterModelSelector, (filterModel) => filterModel.quickFilterValues);
const gridVisibleRowsLookupSelector = (state) => state.visibleRowsLookup;
const gridFilteredRowsLookupSelector = createSelector(gridFilterStateSelector, (filterState) => filterState.filteredRowsLookup);
createSelector(gridFilterStateSelector, (filterState) => filterState.filteredDescendantCountLookup);
const gridExpandedSortedRowEntriesSelector = createSelectorMemoized(gridVisibleRowsLookupSelector, gridSortedRowEntriesSelector, (visibleRowsLookup, sortedRows) => sortedRows.filter((row) => visibleRowsLookup[row.id] !== false));
const gridExpandedSortedRowIdsSelector = createSelectorMemoized(gridExpandedSortedRowEntriesSelector, (visibleSortedRowEntries) => visibleSortedRowEntries.map((row) => row.id));
const gridFilteredSortedRowEntriesSelector = createSelectorMemoized(gridFilteredRowsLookupSelector, gridSortedRowEntriesSelector, (filteredRowsLookup, sortedRows) => sortedRows.filter((row) => filteredRowsLookup[row.id] !== false));
const gridFilteredSortedRowIdsSelector = createSelectorMemoized(gridFilteredSortedRowEntriesSelector, (filteredSortedRowEntries) => filteredSortedRowEntries.map((row) => row.id));
const gridFilteredSortedTopLevelRowEntriesSelector = createSelectorMemoized(gridExpandedSortedRowEntriesSelector, gridRowTreeSelector, gridRowMaximumTreeDepthSelector, (visibleSortedRows, rowTree, rowTreeDepth) => {
  if (rowTreeDepth < 2) {
    return visibleSortedRows;
  }
  return visibleSortedRows.filter((row) => {
    var _rowTree$row$id;
    return ((_rowTree$row$id = rowTree[row.id]) == null ? void 0 : _rowTree$row$id.depth) === 0;
  });
});
const gridExpandedRowCountSelector = createSelector(gridExpandedSortedRowEntriesSelector, (visibleSortedRows) => visibleSortedRows.length);
const gridFilteredTopLevelRowCountSelector = createSelector(gridFilteredSortedTopLevelRowEntriesSelector, (visibleSortedTopLevelRows) => visibleSortedTopLevelRows.length);
const gridFilterActiveItemsSelector = createSelectorMemoized(gridFilterModelSelector, gridColumnLookupSelector, (filterModel, columnLookup) => {
  var _filterModel$items;
  return (_filterModel$items = filterModel.items) == null ? void 0 : _filterModel$items.filter((item) => {
    var _column$filterOperato, _item$value;
    if (!item.field) {
      return false;
    }
    const column = columnLookup[item.field];
    if (!(column != null && column.filterOperators) || (column == null || (_column$filterOperato = column.filterOperators) == null ? void 0 : _column$filterOperato.length) === 0) {
      return false;
    }
    const filterOperator = column.filterOperators.find((operator) => operator.value === item.operator);
    if (!filterOperator) {
      return false;
    }
    return !filterOperator.InputComponent || item.value != null && ((_item$value = item.value) == null ? void 0 : _item$value.toString()) !== "";
  });
});
const gridFilterActiveItemsLookupSelector = createSelectorMemoized(gridFilterActiveItemsSelector, (activeFilters) => {
  const result = activeFilters.reduce((res, filterItem) => {
    if (!res[filterItem.field]) {
      res[filterItem.field] = [filterItem];
    } else {
      res[filterItem.field].push(filterItem);
    }
    return res;
  }, {});
  return result;
});
const gridFocusStateSelector = (state) => state.focus;
const gridFocusCellSelector = createSelector(gridFocusStateSelector, (focusState) => focusState.cell);
const gridFocusColumnHeaderSelector = createSelector(gridFocusStateSelector, (focusState) => focusState.columnHeader);
createSelector(gridFocusStateSelector, (focusState) => focusState.columnHeaderFilter);
const unstable_gridFocusColumnGroupHeaderSelector = createSelector(gridFocusStateSelector, (focusState) => focusState.columnGroupHeader);
const gridTabIndexStateSelector = (state) => state.tabIndex;
const gridTabIndexCellSelector = createSelector(gridTabIndexStateSelector, (state) => state.cell);
const gridTabIndexColumnHeaderSelector = createSelector(gridTabIndexStateSelector, (state) => state.columnHeader);
createSelector(gridTabIndexStateSelector, (state) => state.columnHeaderFilter);
const unstable_gridTabIndexColumnGroupHeaderSelector = createSelector(gridTabIndexStateSelector, (state) => state.columnGroupHeader);
const gridDensitySelector = (state) => state.density;
const gridDensityValueSelector = createSelector(gridDensitySelector, (density) => density.value);
const gridDensityFactorSelector = createSelector(gridDensitySelector, (density) => density.factor);
const gridColumnMenuSelector = (state) => state.columnMenu;
function GridBody(props) {
  const {
    VirtualScrollerComponent,
    ColumnHeadersProps,
    children
  } = props;
  const apiRef = useGridPrivateApiContext();
  const rootProps = useGridRootProps();
  const rootRef = React.useRef(null);
  const visibleColumns = useGridSelector(apiRef, gridVisibleColumnDefinitionsSelector);
  const filterColumnLookup = useGridSelector(apiRef, gridFilterActiveItemsLookupSelector);
  const sortColumnLookup = useGridSelector(apiRef, gridSortColumnLookupSelector);
  const columnPositions = useGridSelector(apiRef, gridColumnPositionsSelector);
  const columnHeaderTabIndexState = useGridSelector(apiRef, gridTabIndexColumnHeaderSelector);
  const cellTabIndexState = useGridSelector(apiRef, gridTabIndexCellSelector);
  const columnGroupHeaderTabIndexState = useGridSelector(apiRef, unstable_gridTabIndexColumnGroupHeaderSelector);
  const columnHeaderFocus = useGridSelector(apiRef, gridFocusColumnHeaderSelector);
  const columnGroupHeaderFocus = useGridSelector(apiRef, unstable_gridFocusColumnGroupHeaderSelector);
  const densityFactor = useGridSelector(apiRef, gridDensityFactorSelector);
  const headerGroupingMaxDepth = useGridSelector(apiRef, gridColumnGroupsHeaderMaxDepthSelector);
  const columnMenuState = useGridSelector(apiRef, gridColumnMenuSelector);
  const columnVisibility = useGridSelector(apiRef, gridColumnVisibilityModelSelector);
  const columnGroupsHeaderStructure = useGridSelector(apiRef, gridColumnGroupsHeaderStructureSelector);
  const hasOtherElementInTabSequence = !(columnGroupHeaderTabIndexState === null && columnHeaderTabIndexState === null && cellTabIndexState === null);
  unstable_useEnhancedEffect(() => {
    apiRef.current.computeSizeAndPublishResizeEvent();
    const elementToObserve = rootRef.current;
    if (typeof ResizeObserver === "undefined") {
      return () => {
      };
    }
    let animationFrame;
    const observer = new ResizeObserver(() => {
      animationFrame = requestAnimationFrame(() => {
        apiRef.current.computeSizeAndPublishResizeEvent();
      });
    });
    if (elementToObserve) {
      observer.observe(elementToObserve);
    }
    return () => {
      if (animationFrame) {
        window.cancelAnimationFrame(animationFrame);
      }
      if (elementToObserve) {
        observer.unobserve(elementToObserve);
      }
    };
  }, [apiRef]);
  const columnHeadersRef = React.useRef(null);
  const columnsContainerRef = React.useRef(null);
  const virtualScrollerRef = React.useRef(null);
  apiRef.current.register("private", {
    columnHeadersContainerElementRef: columnsContainerRef,
    columnHeadersElementRef: columnHeadersRef,
    virtualScrollerRef,
    mainElementRef: rootRef
  });
  const hasDimensions = !!apiRef.current.getRootDimensions();
  return /* @__PURE__ */ jsxs(GridMainContainer, {
    ref: rootRef,
    children: [/* @__PURE__ */ jsx(rootProps.slots.columnHeaders, _extends$1({
      ref: columnsContainerRef,
      innerRef: columnHeadersRef,
      visibleColumns,
      filterColumnLookup,
      sortColumnLookup,
      columnPositions,
      columnHeaderTabIndexState,
      columnGroupHeaderTabIndexState,
      columnHeaderFocus,
      columnGroupHeaderFocus,
      densityFactor,
      headerGroupingMaxDepth,
      columnMenuState,
      columnVisibility,
      columnGroupsHeaderStructure,
      hasOtherElementInTabSequence
    }, ColumnHeadersProps)), hasDimensions && /* @__PURE__ */ jsx(
      VirtualScrollerComponent,
      {
        ref: virtualScrollerRef
      }
    ), children]
  });
}
process.env.NODE_ENV !== "production" ? GridBody.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // | To update them edit the TypeScript types and run "yarn proptypes"  |
  // ----------------------------------------------------------------------
  children: PropTypes.node,
  ColumnHeadersProps: PropTypes.object,
  VirtualScrollerComponent: PropTypes.elementType.isRequired
} : void 0;
function GridFooterPlaceholder() {
  var _rootProps$slotProps;
  const rootProps = useGridRootProps();
  if (rootProps.hideFooter) {
    return null;
  }
  return /* @__PURE__ */ jsx(rootProps.slots.footer, _extends$1({}, (_rootProps$slotProps = rootProps.slotProps) == null ? void 0 : _rootProps$slotProps.footer));
}
const GRID_ROOT_GROUP_ID = `auto-generated-group-node-root`;
const GRID_ID_AUTOGENERATED = Symbol("mui.id_autogenerated");
const buildRootGroup = () => ({
  type: "group",
  id: GRID_ROOT_GROUP_ID,
  depth: -1,
  groupingField: null,
  groupingKey: null,
  isAutoGenerated: true,
  children: [],
  childrenFromPath: {},
  childrenExpanded: true,
  parent: null
});
function checkGridRowIdIsValid(id, row, detailErrorMessage = "A row was provided without id in the rows prop:") {
  if (id == null) {
    throw new Error(["MUI: The data grid component requires all rows to have a unique `id` property.", "Alternatively, you can use the `getRowId` prop to specify a custom id for each row.", detailErrorMessage, JSON.stringify(row)].join("\n"));
  }
}
const getRowIdFromRowModel = (rowModel, getRowId, detailErrorMessage) => {
  const id = getRowId ? getRowId(rowModel) : rowModel.id;
  checkGridRowIdIsValid(id, rowModel, detailErrorMessage);
  return id;
};
const createRowsInternalCache = ({
  rows,
  getRowId,
  loading,
  rowCount
}) => {
  const updates = {
    type: "full",
    rows: []
  };
  const dataRowIdToModelLookup = {};
  const dataRowIdToIdLookup = {};
  for (let i2 = 0; i2 < rows.length; i2 += 1) {
    const model = rows[i2];
    const id = getRowIdFromRowModel(model, getRowId);
    dataRowIdToModelLookup[id] = model;
    dataRowIdToIdLookup[id] = id;
    updates.rows.push(id);
  }
  return {
    rowsBeforePartialUpdates: rows,
    loadingPropBeforePartialUpdates: loading,
    rowCountPropBeforePartialUpdates: rowCount,
    updates,
    dataRowIdToIdLookup,
    dataRowIdToModelLookup
  };
};
const getTopLevelRowCount = ({
  tree,
  rowCountProp = 0
}) => {
  const rootGroupNode = tree[GRID_ROOT_GROUP_ID];
  return Math.max(rowCountProp, rootGroupNode.children.length + (rootGroupNode.footerId == null ? 0 : 1));
};
const getRowsStateFromCache = ({
  apiRef,
  rowCountProp = 0,
  loadingProp,
  previousTree,
  previousTreeDepths
}) => {
  const cache = apiRef.current.caches.rows;
  const {
    tree: unProcessedTree,
    treeDepths: unProcessedTreeDepths,
    dataRowIds: unProcessedDataRowIds,
    groupingName
  } = apiRef.current.applyStrategyProcessor("rowTreeCreation", {
    previousTree,
    previousTreeDepths,
    updates: cache.updates,
    dataRowIdToIdLookup: cache.dataRowIdToIdLookup,
    dataRowIdToModelLookup: cache.dataRowIdToModelLookup
  });
  const groupingParamsWithHydrateRows = apiRef.current.unstable_applyPipeProcessors("hydrateRows", {
    tree: unProcessedTree,
    treeDepths: unProcessedTreeDepths,
    dataRowIdToIdLookup: cache.dataRowIdToIdLookup,
    dataRowIds: unProcessedDataRowIds,
    dataRowIdToModelLookup: cache.dataRowIdToModelLookup
  });
  apiRef.current.caches.rows.updates = {
    type: "partial",
    actions: {
      insert: [],
      modify: [],
      remove: []
    },
    idToActionLookup: {}
  };
  return _extends$1({}, groupingParamsWithHydrateRows, {
    totalRowCount: Math.max(rowCountProp, groupingParamsWithHydrateRows.dataRowIds.length),
    totalTopLevelRowCount: getTopLevelRowCount({
      tree: groupingParamsWithHydrateRows.tree,
      rowCountProp
    }),
    groupingName,
    loading: loadingProp
  });
};
const isAutoGeneratedRow = (rowNode) => rowNode.type === "skeletonRow" || rowNode.type === "footer" || rowNode.type === "group" && rowNode.isAutoGenerated || rowNode.type === "pinnedRow" && rowNode.isAutoGenerated;
const getTreeNodeDescendants = (tree, parentId, skipAutoGeneratedRows) => {
  const node = tree[parentId];
  if (node.type !== "group") {
    return [];
  }
  const validDescendants = [];
  for (let i2 = 0; i2 < node.children.length; i2 += 1) {
    const child = node.children[i2];
    if (!skipAutoGeneratedRows || !isAutoGeneratedRow(tree[child])) {
      validDescendants.push(child);
    }
    const childDescendants = getTreeNodeDescendants(tree, child, skipAutoGeneratedRows);
    for (let j = 0; j < childDescendants.length; j += 1) {
      validDescendants.push(childDescendants[j]);
    }
  }
  if (!skipAutoGeneratedRows && node.footerId != null) {
    validDescendants.push(node.footerId);
  }
  return validDescendants;
};
const updateCacheWithNewRows = ({
  previousCache,
  getRowId,
  updates
}) => {
  var _previousCache$update, _previousCache$update2, _previousCache$update3;
  if (previousCache.updates.type === "full") {
    throw new Error("MUI: Unable to prepare a partial update if a full update is not applied yet");
  }
  const uniqueUpdates = /* @__PURE__ */ new Map();
  updates.forEach((update) => {
    const id = getRowIdFromRowModel(update, getRowId, "A row was provided without id when calling updateRows():");
    if (uniqueUpdates.has(id)) {
      uniqueUpdates.set(id, _extends$1({}, uniqueUpdates.get(id), update));
    } else {
      uniqueUpdates.set(id, update);
    }
  });
  const partialUpdates = {
    type: "partial",
    actions: {
      insert: [...(_previousCache$update = previousCache.updates.actions.insert) != null ? _previousCache$update : []],
      modify: [...(_previousCache$update2 = previousCache.updates.actions.modify) != null ? _previousCache$update2 : []],
      remove: [...(_previousCache$update3 = previousCache.updates.actions.remove) != null ? _previousCache$update3 : []]
    },
    idToActionLookup: _extends$1({}, previousCache.updates.idToActionLookup)
  };
  const dataRowIdToModelLookup = _extends$1({}, previousCache.dataRowIdToModelLookup);
  const dataRowIdToIdLookup = _extends$1({}, previousCache.dataRowIdToIdLookup);
  const alreadyAppliedActionsToRemove = {
    insert: {},
    modify: {},
    remove: {}
  };
  uniqueUpdates.forEach((partialRow, id) => {
    const actionAlreadyAppliedToRow = partialUpdates.idToActionLookup[id];
    if (partialRow._action === "delete") {
      if (actionAlreadyAppliedToRow === "remove" || !dataRowIdToModelLookup[id]) {
        return;
      }
      if (actionAlreadyAppliedToRow != null) {
        alreadyAppliedActionsToRemove[actionAlreadyAppliedToRow][id] = true;
      }
      partialUpdates.actions.remove.push(id);
      delete dataRowIdToModelLookup[id];
      delete dataRowIdToIdLookup[id];
      return;
    }
    const oldRow = dataRowIdToModelLookup[id];
    if (oldRow) {
      if (actionAlreadyAppliedToRow === "remove") {
        alreadyAppliedActionsToRemove.remove[id] = true;
        partialUpdates.actions.modify.push(id);
      } else if (actionAlreadyAppliedToRow == null) {
        partialUpdates.actions.modify.push(id);
      }
      dataRowIdToModelLookup[id] = _extends$1({}, oldRow, partialRow);
      return;
    }
    if (actionAlreadyAppliedToRow === "remove") {
      alreadyAppliedActionsToRemove.remove[id] = true;
      partialUpdates.actions.insert.push(id);
    } else if (actionAlreadyAppliedToRow == null) {
      partialUpdates.actions.insert.push(id);
    }
    dataRowIdToModelLookup[id] = partialRow;
    dataRowIdToIdLookup[id] = id;
  });
  const actionTypeWithActionsToRemove = Object.keys(alreadyAppliedActionsToRemove);
  for (let i2 = 0; i2 < actionTypeWithActionsToRemove.length; i2 += 1) {
    const actionType = actionTypeWithActionsToRemove[i2];
    const idsToRemove = alreadyAppliedActionsToRemove[actionType];
    if (Object.keys(idsToRemove).length > 0) {
      partialUpdates.actions[actionType] = partialUpdates.actions[actionType].filter((id) => !idsToRemove[id]);
    }
  }
  return {
    dataRowIdToModelLookup,
    dataRowIdToIdLookup,
    updates: partialUpdates,
    rowsBeforePartialUpdates: previousCache.rowsBeforePartialUpdates,
    loadingPropBeforePartialUpdates: previousCache.loadingPropBeforePartialUpdates,
    rowCountPropBeforePartialUpdates: previousCache.rowCountPropBeforePartialUpdates
  };
};
function calculatePinnedRowsHeight(apiRef) {
  var _pinnedRows$top, _pinnedRows$bottom;
  const pinnedRows = gridPinnedRowsSelector(apiRef);
  const topPinnedRowsHeight = (pinnedRows == null || (_pinnedRows$top = pinnedRows.top) == null ? void 0 : _pinnedRows$top.reduce((acc, value) => {
    acc += apiRef.current.unstable_getRowHeight(value.id);
    return acc;
  }, 0)) || 0;
  const bottomPinnedRowsHeight = (pinnedRows == null || (_pinnedRows$bottom = pinnedRows.bottom) == null ? void 0 : _pinnedRows$bottom.reduce((acc, value) => {
    acc += apiRef.current.unstable_getRowHeight(value.id);
    return acc;
  }, 0)) || 0;
  return {
    top: topPinnedRowsHeight,
    bottom: bottomPinnedRowsHeight
  };
}
function getMinimalContentHeight(apiRef, rowHeight) {
  const densityFactor = gridDensityFactorSelector(apiRef);
  return `var(--DataGrid-overlayHeight, ${2 * Math.floor(rowHeight * densityFactor)}px)`;
}
const GridOverlayWrapperRoot = styled("div", {
  name: "MuiDataGrid",
  slot: "OverlayWrapper",
  shouldForwardProp: (prop) => prop !== "overlayType",
  overridesResolver: (props, styles) => styles.overlayWrapper
})(({
  overlayType
}) => ({
  position: "sticky",
  // To stay in place while scrolling
  top: 0,
  left: 0,
  width: 0,
  // To stay above the content instead of shifting it down
  height: 0,
  // To stay above the content instead of shifting it down
  zIndex: overlayType === "loadingOverlay" ? 5 : 4
  // Should be above pinned columns and detail panel
}));
const GridOverlayWrapperInner = styled("div", {
  name: "MuiDataGrid",
  slot: "OverlayWrapperInner",
  shouldForwardProp: (prop) => prop !== "overlayType",
  overridesResolver: (props, styles) => styles.overlayWrapperInner
})({});
const useUtilityClasses$z = (ownerState) => {
  const {
    classes
  } = ownerState;
  const slots = {
    root: ["overlayWrapper"],
    inner: ["overlayWrapperInner"]
  };
  return unstable_composeClasses(slots, getDataGridUtilityClass, classes);
};
function GridOverlayWrapper(props) {
  var _viewportInnerSize$he, _viewportInnerSize$wi;
  const apiRef = useGridApiContext();
  const rootProps = useGridRootProps();
  const [viewportInnerSize, setViewportInnerSize] = React.useState(() => {
    var _apiRef$current$getRo, _apiRef$current$getRo2;
    return (_apiRef$current$getRo = (_apiRef$current$getRo2 = apiRef.current.getRootDimensions()) == null ? void 0 : _apiRef$current$getRo2.viewportInnerSize) != null ? _apiRef$current$getRo : null;
  });
  const handleViewportSizeChange = React.useCallback(() => {
    var _apiRef$current$getRo3, _apiRef$current$getRo4;
    setViewportInnerSize((_apiRef$current$getRo3 = (_apiRef$current$getRo4 = apiRef.current.getRootDimensions()) == null ? void 0 : _apiRef$current$getRo4.viewportInnerSize) != null ? _apiRef$current$getRo3 : null);
  }, [apiRef]);
  unstable_useEnhancedEffect(() => {
    return apiRef.current.subscribeEvent("viewportInnerSizeChange", handleViewportSizeChange);
  }, [apiRef, handleViewportSizeChange]);
  let height = (_viewportInnerSize$he = viewportInnerSize == null ? void 0 : viewportInnerSize.height) != null ? _viewportInnerSize$he : 0;
  if (rootProps.autoHeight && height === 0) {
    height = getMinimalContentHeight(apiRef, rootProps.rowHeight);
  }
  const classes = useUtilityClasses$z(_extends$1({}, props, {
    classes: rootProps.classes
  }));
  if (!viewportInnerSize) {
    return null;
  }
  return /* @__PURE__ */ jsx(GridOverlayWrapperRoot, {
    className: clsx(classes.root),
    overlayType: props.overlayType,
    children: /* @__PURE__ */ jsx(GridOverlayWrapperInner, _extends$1({
      className: clsx(classes.inner),
      style: {
        height,
        width: (_viewportInnerSize$wi = viewportInnerSize == null ? void 0 : viewportInnerSize.width) != null ? _viewportInnerSize$wi : 0
      }
    }, props))
  });
}
process.env.NODE_ENV !== "production" ? GridOverlayWrapper.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // | To update them edit the TypeScript types and run "yarn proptypes"  |
  // ----------------------------------------------------------------------
  overlayType: PropTypes.string.isRequired
} : void 0;
function GridOverlays() {
  const apiRef = useGridApiContext();
  const rootProps = useGridRootProps();
  const totalRowCount = useGridSelector(apiRef, gridRowCountSelector);
  const visibleRowCount = useGridSelector(apiRef, gridExpandedRowCountSelector);
  const loading = useGridSelector(apiRef, gridRowsLoadingSelector);
  const showNoRowsOverlay = !loading && totalRowCount === 0;
  const showNoResultsOverlay = !loading && totalRowCount > 0 && visibleRowCount === 0;
  let overlay = null;
  let overlayType = "";
  if (showNoRowsOverlay) {
    var _rootProps$slotProps;
    overlay = /* @__PURE__ */ jsx(rootProps.slots.noRowsOverlay, _extends$1({}, (_rootProps$slotProps = rootProps.slotProps) == null ? void 0 : _rootProps$slotProps.noRowsOverlay));
    overlayType = "noRowsOverlay";
  }
  if (showNoResultsOverlay) {
    var _rootProps$slotProps2;
    overlay = /* @__PURE__ */ jsx(rootProps.slots.noResultsOverlay, _extends$1({}, (_rootProps$slotProps2 = rootProps.slotProps) == null ? void 0 : _rootProps$slotProps2.noResultsOverlay));
    overlayType = "noResultsOverlay";
  }
  if (loading) {
    var _rootProps$slotProps3;
    overlay = /* @__PURE__ */ jsx(rootProps.slots.loadingOverlay, _extends$1({}, (_rootProps$slotProps3 = rootProps.slotProps) == null ? void 0 : _rootProps$slotProps3.loadingOverlay));
    overlayType = "loadingOverlay";
  }
  if (overlay === null) {
    return null;
  }
  return /* @__PURE__ */ jsx(GridOverlayWrapper, {
    overlayType,
    children: overlay
  });
}
function fastMemo(component) {
  return /* @__PURE__ */ React.memo(component, fastObjectShallowCompare);
}
let cachedSupportsPreventScroll;
function doesSupportPreventScroll() {
  if (cachedSupportsPreventScroll === void 0) {
    document.createElement("div").focus({
      get preventScroll() {
        cachedSupportsPreventScroll = true;
        return false;
      }
    });
  }
  return cachedSupportsPreventScroll;
}
var GridEditModes = /* @__PURE__ */ function(GridEditModes2) {
  GridEditModes2["Cell"] = "cell";
  GridEditModes2["Row"] = "row";
  return GridEditModes2;
}(GridEditModes || {});
var GridCellModes = /* @__PURE__ */ function(GridCellModes2) {
  GridCellModes2["Edit"] = "edit";
  GridCellModes2["View"] = "view";
  return GridCellModes2;
}(GridCellModes || {});
var GridRowModes = /* @__PURE__ */ function(GridRowModes2) {
  GridRowModes2["Edit"] = "edit";
  GridRowModes2["View"] = "view";
  return GridRowModes2;
}(GridRowModes || {});
var GridLogicOperator = /* @__PURE__ */ function(GridLogicOperator2) {
  GridLogicOperator2["And"] = "and";
  GridLogicOperator2["Or"] = "or";
  return GridLogicOperator2;
}(GridLogicOperator || {});
var GridCellEditStartReasons = /* @__PURE__ */ function(GridCellEditStartReasons2) {
  GridCellEditStartReasons2["enterKeyDown"] = "enterKeyDown";
  GridCellEditStartReasons2["cellDoubleClick"] = "cellDoubleClick";
  GridCellEditStartReasons2["printableKeyDown"] = "printableKeyDown";
  GridCellEditStartReasons2["deleteKeyDown"] = "deleteKeyDown";
  GridCellEditStartReasons2["pasteKeyDown"] = "pasteKeyDown";
  return GridCellEditStartReasons2;
}(GridCellEditStartReasons || {});
var GridCellEditStopReasons = /* @__PURE__ */ function(GridCellEditStopReasons2) {
  GridCellEditStopReasons2["cellFocusOut"] = "cellFocusOut";
  GridCellEditStopReasons2["escapeKeyDown"] = "escapeKeyDown";
  GridCellEditStopReasons2["enterKeyDown"] = "enterKeyDown";
  GridCellEditStopReasons2["tabKeyDown"] = "tabKeyDown";
  GridCellEditStopReasons2["shiftTabKeyDown"] = "shiftTabKeyDown";
  return GridCellEditStopReasons2;
}(GridCellEditStopReasons || {});
var GridRowEditStartReasons = /* @__PURE__ */ function(GridRowEditStartReasons2) {
  GridRowEditStartReasons2["enterKeyDown"] = "enterKeyDown";
  GridRowEditStartReasons2["cellDoubleClick"] = "cellDoubleClick";
  GridRowEditStartReasons2["printableKeyDown"] = "printableKeyDown";
  GridRowEditStartReasons2["deleteKeyDown"] = "deleteKeyDown";
  return GridRowEditStartReasons2;
}(GridRowEditStartReasons || {});
var GridRowEditStopReasons = /* @__PURE__ */ function(GridRowEditStopReasons2) {
  GridRowEditStopReasons2["rowFocusOut"] = "rowFocusOut";
  GridRowEditStopReasons2["escapeKeyDown"] = "escapeKeyDown";
  GridRowEditStopReasons2["enterKeyDown"] = "enterKeyDown";
  GridRowEditStopReasons2["tabKeyDown"] = "tabKeyDown";
  GridRowEditStopReasons2["shiftTabKeyDown"] = "shiftTabKeyDown";
  return GridRowEditStopReasons2;
}(GridRowEditStopReasons || {});
function isLeaf(node) {
  return node.field !== void 0;
}
function isOverflown(element) {
  return element.scrollHeight > element.clientHeight || element.scrollWidth > element.clientWidth;
}
function findParentElementFromClassName(elem, className) {
  return elem.closest(`.${className}`);
}
function escapeOperandAttributeSelector(operand) {
  return operand.replace(/["\\]/g, "\\$&");
}
function getGridColumnHeaderElement(root, field) {
  return root.querySelector(`[role="columnheader"][data-field="${escapeOperandAttributeSelector(field)}"]`);
}
function getGridRowElementSelector(id) {
  return `.${gridClasses.row}[data-id="${escapeOperandAttributeSelector(String(id))}"]`;
}
function getGridRowElement(root, id) {
  return root.querySelector(getGridRowElementSelector(id));
}
function getGridCellElement(root, {
  id,
  field
}) {
  const rowSelector = getGridRowElementSelector(id);
  const cellSelector = `.${gridClasses.cell}[data-field="${escapeOperandAttributeSelector(field)}"]`;
  const selector = `${rowSelector} ${cellSelector}`;
  return root.querySelector(selector);
}
function isEventTargetInPortal(event) {
  if (
    // The target is not an element when triggered by a Select inside the cell
    // See https://github.com/mui/material-ui/issues/10534
    event.target.nodeType === 1 && !event.currentTarget.contains(event.target)
  ) {
    return true;
  }
  return false;
}
function useGridApiMethod(privateApiRef, apiMethods, visibility) {
  const isFirstRender = React.useRef(true);
  React.useEffect(() => {
    isFirstRender.current = false;
    privateApiRef.current.register(visibility, apiMethods);
  }, [privateApiRef, visibility, apiMethods]);
  if (isFirstRender.current) {
    privateApiRef.current.register(visibility, apiMethods);
  }
}
class MissingRowIdError extends Error {
}
function useGridParamsApi(apiRef, props) {
  const {
    getRowId
  } = props;
  const getColumnHeaderParams = React.useCallback((field) => ({
    field,
    colDef: apiRef.current.getColumn(field)
  }), [apiRef]);
  const getRowParams = React.useCallback((id) => {
    const row = apiRef.current.getRow(id);
    if (!row) {
      throw new MissingRowIdError(`No row with id #${id} found`);
    }
    const params = {
      id,
      columns: apiRef.current.getAllColumns(),
      row
    };
    return params;
  }, [apiRef]);
  const getBaseCellParams = React.useCallback((id, field) => {
    const row = apiRef.current.getRow(id);
    const rowNode = apiRef.current.getRowNode(id);
    if (!row || !rowNode) {
      throw new MissingRowIdError(`No row with id #${id} found`);
    }
    const cellFocus = gridFocusCellSelector(apiRef);
    const cellTabIndex = gridTabIndexCellSelector(apiRef);
    const params = {
      id,
      field,
      row,
      rowNode,
      value: row[field],
      colDef: apiRef.current.getColumn(field),
      cellMode: apiRef.current.getCellMode(id, field),
      api: apiRef.current,
      hasFocus: cellFocus !== null && cellFocus.field === field && cellFocus.id === id,
      tabIndex: cellTabIndex && cellTabIndex.field === field && cellTabIndex.id === id ? 0 : -1
    };
    return params;
  }, [apiRef]);
  const getCellParams = React.useCallback((id, field) => {
    const colDef = apiRef.current.getColumn(field);
    const value = apiRef.current.getCellValue(id, field);
    const row = apiRef.current.getRow(id);
    const rowNode = apiRef.current.getRowNode(id);
    if (!row || !rowNode) {
      throw new MissingRowIdError(`No row with id #${id} found`);
    }
    const cellFocus = gridFocusCellSelector(apiRef);
    const cellTabIndex = gridTabIndexCellSelector(apiRef);
    const params = {
      id,
      field,
      row,
      rowNode,
      colDef,
      cellMode: apiRef.current.getCellMode(id, field),
      hasFocus: cellFocus !== null && cellFocus.field === field && cellFocus.id === id,
      tabIndex: cellTabIndex && cellTabIndex.field === field && cellTabIndex.id === id ? 0 : -1,
      value,
      formattedValue: value,
      isEditable: false
    };
    if (colDef && colDef.valueFormatter) {
      params.formattedValue = colDef.valueFormatter({
        id,
        field: params.field,
        value: params.value,
        api: apiRef.current
      });
    }
    params.isEditable = colDef && apiRef.current.isCellEditable(params);
    return params;
  }, [apiRef]);
  const getCellValue = React.useCallback((id, field) => {
    const colDef = apiRef.current.getColumn(field);
    if (!colDef || !colDef.valueGetter) {
      const rowModel = apiRef.current.getRow(id);
      if (!rowModel) {
        throw new MissingRowIdError(`No row with id #${id} found`);
      }
      return rowModel[field];
    }
    return colDef.valueGetter(getBaseCellParams(id, field));
  }, [apiRef, getBaseCellParams]);
  const getRowValue = React.useCallback((row, colDef) => {
    var _getRowId;
    const id = GRID_ID_AUTOGENERATED in row ? row[GRID_ID_AUTOGENERATED] : (_getRowId = getRowId == null ? void 0 : getRowId(row)) != null ? _getRowId : row.id;
    const field = colDef.field;
    if (!colDef || !colDef.valueGetter) {
      return row[field];
    }
    return colDef.valueGetter(getBaseCellParams(id, field));
  }, [getBaseCellParams, getRowId]);
  const getRowFormattedValue = React.useCallback((row, colDef) => {
    var _ref;
    const value = getRowValue(row, colDef);
    if (!colDef || !colDef.valueFormatter) {
      return value;
    }
    const id = (_ref = getRowId ? getRowId(row) : row.id) != null ? _ref : row[GRID_ID_AUTOGENERATED];
    const field = colDef.field;
    return colDef.valueFormatter({
      id,
      field,
      value,
      api: apiRef.current
    });
  }, [apiRef, getRowId, getRowValue]);
  const getColumnHeaderElement = React.useCallback((field) => {
    if (!apiRef.current.rootElementRef.current) {
      return null;
    }
    return getGridColumnHeaderElement(apiRef.current.rootElementRef.current, field);
  }, [apiRef]);
  const getRowElement = React.useCallback((id) => {
    if (!apiRef.current.rootElementRef.current) {
      return null;
    }
    return getGridRowElement(apiRef.current.rootElementRef.current, id);
  }, [apiRef]);
  const getCellElement = React.useCallback((id, field) => {
    if (!apiRef.current.rootElementRef.current) {
      return null;
    }
    return getGridCellElement(apiRef.current.rootElementRef.current, {
      id,
      field
    });
  }, [apiRef]);
  const paramsApi = {
    getCellValue,
    getCellParams,
    getCellElement,
    getRowValue,
    getRowFormattedValue,
    getRowParams,
    getRowElement,
    getColumnHeaderParams,
    getColumnHeaderElement
  };
  useGridApiMethod(apiRef, paramsApi, "public");
}
const _excluded$P = ["changeReason", "unstable_updateValueOnRender"], _excluded2$6 = ["align", "children", "editCellState", "colIndex", "column", "cellMode", "field", "formattedValue", "hasFocus", "height", "isEditable", "isSelected", "rowId", "tabIndex", "style", "value", "width", "className", "showRightBorder", "extendRowFullWidth", "row", "colSpan", "disableDragEvents", "isNotVisible", "onClick", "onDoubleClick", "onMouseDown", "onMouseUp", "onMouseOver", "onKeyDown", "onKeyUp", "onDragEnter", "onDragOver"], _excluded3$1 = ["column", "rowId", "editCellState", "align", "children", "colIndex", "height", "width", "className", "showRightBorder", "extendRowFullWidth", "row", "colSpan", "disableDragEvents", "isNotVisible", "onClick", "onDoubleClick", "onMouseDown", "onMouseUp", "onMouseOver", "onKeyDown", "onKeyUp", "onDragEnter", "onDragOver", "style"], _excluded4 = ["changeReason", "unstable_updateValueOnRender"];
const EMPTY_CELL_PARAMS = {
  id: -1,
  field: "__unset__",
  row: {},
  rowNode: {
    id: -1,
    depth: 0,
    type: "leaf",
    parent: -1,
    groupingKey: null
  },
  colDef: {
    type: "string",
    field: "__unset__",
    computedWidth: 0
  },
  cellMode: GridCellModes.View,
  hasFocus: false,
  tabIndex: -1,
  value: null,
  formattedValue: "__unset__",
  isEditable: false,
  api: {}
};
const useUtilityClasses$y = (ownerState) => {
  const {
    align,
    showRightBorder,
    isEditable,
    isSelected,
    isSelectionMode,
    classes
  } = ownerState;
  const slots = {
    root: ["cell", `cell--text${unstable_capitalize(align)}`, isEditable && "cell--editable", isSelected && "selected", showRightBorder && "cell--withRightBorder", isSelectionMode && !isEditable && "cell--selectionMode", "withBorderColor"],
    content: ["cellContent"]
  };
  return unstable_composeClasses(slots, getDataGridUtilityClass, classes);
};
let warnedOnce = false;
const GridCellWrapper = /* @__PURE__ */ React.forwardRef((props, ref) => {
  const {
    column,
    rowId,
    editCellState
  } = props;
  const apiRef = useGridApiContext();
  const rootProps = useGridRootProps();
  const field = column.field;
  const cellParamsWithAPI = useGridSelector(apiRef, () => {
    try {
      const cellParams = apiRef.current.getCellParams(rowId, field);
      const result = cellParams;
      result.api = apiRef.current;
      return result;
    } catch (e2) {
      if (e2 instanceof MissingRowIdError) {
        return EMPTY_CELL_PARAMS;
      }
      throw e2;
    }
  }, objectShallowCompare);
  const isSelected = useGridSelector(apiRef, () => apiRef.current.unstable_applyPipeProcessors("isCellSelected", false, {
    id: rowId,
    field
  }));
  if (cellParamsWithAPI === EMPTY_CELL_PARAMS) {
    return null;
  }
  const {
    cellMode,
    hasFocus,
    isEditable,
    value,
    formattedValue
  } = cellParamsWithAPI;
  const managesOwnFocus = column.type === "actions";
  const tabIndex = (cellMode === "view" || !isEditable) && !managesOwnFocus ? cellParamsWithAPI.tabIndex : -1;
  const {
    classes: rootClasses,
    getCellClassName
  } = rootProps;
  const classNames = apiRef.current.unstable_applyPipeProcessors("cellClassName", [], {
    id: rowId,
    field
  });
  if (column.cellClassName) {
    classNames.push(typeof column.cellClassName === "function" ? column.cellClassName(cellParamsWithAPI) : column.cellClassName);
  }
  if (getCellClassName) {
    classNames.push(getCellClassName(cellParamsWithAPI));
  }
  let children;
  if (editCellState == null && column.renderCell) {
    children = column.renderCell(cellParamsWithAPI);
    classNames.push(gridClasses["cell--withRenderer"]);
    classNames.push(rootClasses == null ? void 0 : rootClasses["cell--withRenderer"]);
  }
  if (editCellState != null && column.renderEditCell) {
    const updatedRow = apiRef.current.getRowWithUpdatedValues(rowId, column.field);
    const editCellStateRest = _objectWithoutPropertiesLoose$1(editCellState, _excluded$P);
    const params = _extends$1({}, cellParamsWithAPI, {
      row: updatedRow
    }, editCellStateRest);
    children = column.renderEditCell(params);
    classNames.push(gridClasses["cell--editing"]);
    classNames.push(rootClasses == null ? void 0 : rootClasses["cell--editing"]);
  }
  const {
    slots
  } = rootProps;
  const CellComponent = slots.cell;
  const cellProps = _extends$1({}, props, {
    ref,
    field,
    formattedValue,
    hasFocus,
    isEditable,
    isSelected,
    value,
    cellMode,
    children,
    tabIndex,
    className: clsx(classNames)
  });
  return /* @__PURE__ */ React.createElement(CellComponent, cellProps);
});
const GridCell = /* @__PURE__ */ React.forwardRef((props, ref) => {
  var _rootProps$experiment, _rootProps$experiment2;
  const {
    align,
    children: childrenProp,
    colIndex,
    column,
    cellMode,
    field,
    formattedValue,
    hasFocus,
    height,
    isEditable,
    isSelected,
    rowId,
    tabIndex,
    style: styleProp,
    value,
    width,
    className,
    showRightBorder,
    colSpan,
    disableDragEvents,
    isNotVisible,
    onClick,
    onDoubleClick,
    onMouseDown,
    onMouseUp,
    onMouseOver,
    onKeyDown,
    onKeyUp,
    onDragEnter,
    onDragOver
  } = props, other = _objectWithoutPropertiesLoose$1(props, _excluded2$6);
  const valueToRender = formattedValue == null ? value : formattedValue;
  const cellRef = React.useRef(null);
  const handleRef = unstable_useForkRef(ref, cellRef);
  const focusElementRef = React.useRef(null);
  const apiRef = useGridApiContext();
  const rootProps = useGridRootProps();
  const ownerState = {
    align,
    showRightBorder,
    isEditable,
    classes: rootProps.classes,
    isSelected
  };
  const classes = useUtilityClasses$y(ownerState);
  const publishMouseUp = React.useCallback((eventName) => (event) => {
    const params = apiRef.current.getCellParams(rowId, field || "");
    apiRef.current.publishEvent(eventName, params, event);
    if (onMouseUp) {
      onMouseUp(event);
    }
  }, [apiRef, field, onMouseUp, rowId]);
  const publishMouseDown = React.useCallback((eventName) => (event) => {
    const params = apiRef.current.getCellParams(rowId, field || "");
    apiRef.current.publishEvent(eventName, params, event);
    if (onMouseDown) {
      onMouseDown(event);
    }
  }, [apiRef, field, onMouseDown, rowId]);
  const publish = React.useCallback((eventName, propHandler) => (event) => {
    if (!apiRef.current.getRow(rowId)) {
      return;
    }
    const params = apiRef.current.getCellParams(rowId, field || "");
    apiRef.current.publishEvent(eventName, params, event);
    if (propHandler) {
      propHandler(event);
    }
  }, [apiRef, field, rowId]);
  const style = React.useMemo(() => {
    if (isNotVisible) {
      return {
        padding: 0,
        opacity: 0,
        width: 0,
        border: 0
      };
    }
    const cellStyle = _extends$1({
      minWidth: width,
      maxWidth: width,
      minHeight: height,
      maxHeight: height === "auto" ? "none" : height
    }, styleProp);
    return cellStyle;
  }, [width, height, isNotVisible, styleProp]);
  React.useEffect(() => {
    if (!hasFocus || cellMode === GridCellModes.Edit) {
      return;
    }
    const doc = unstable_ownerDocument(apiRef.current.rootElementRef.current);
    if (cellRef.current && !cellRef.current.contains(doc.activeElement)) {
      const focusableElement = cellRef.current.querySelector('[tabindex="0"]');
      const elementToFocus = focusElementRef.current || focusableElement || cellRef.current;
      if (doesSupportPreventScroll()) {
        elementToFocus.focus({
          preventScroll: true
        });
      } else {
        const scrollPosition = apiRef.current.getScrollPosition();
        elementToFocus.focus();
        apiRef.current.scroll(scrollPosition);
      }
    }
  }, [hasFocus, cellMode, apiRef]);
  let handleFocus = other.onFocus;
  if (process.env.NODE_ENV === "test" && (_rootProps$experiment = rootProps.experimentalFeatures) != null && _rootProps$experiment.warnIfFocusStateIsNotSynced) {
    handleFocus = (event) => {
      const focusedCell = gridFocusCellSelector(apiRef);
      if ((focusedCell == null ? void 0 : focusedCell.id) === rowId && focusedCell.field === field) {
        if (typeof other.onFocus === "function") {
          other.onFocus(event);
        }
        return;
      }
      if (!warnedOnce) {
        console.warn([`MUI: The cell with id=${rowId} and field=${field} received focus.`, `According to the state, the focus should be at id=${focusedCell == null ? void 0 : focusedCell.id}, field=${focusedCell == null ? void 0 : focusedCell.field}.`, "Not syncing the state may cause unwanted behaviors since the `cellFocusIn` event won't be fired.", "Call `fireEvent.mouseUp` before the `fireEvent.click` to sync the focus with the state."].join("\n"));
        warnedOnce = true;
      }
    };
  }
  const managesOwnFocus = column.type === "actions";
  let children = childrenProp;
  if (children === void 0) {
    const valueString = valueToRender == null ? void 0 : valueToRender.toString();
    children = /* @__PURE__ */ jsx("div", {
      className: classes.content,
      title: valueString,
      role: "presentation",
      children: valueString
    });
  }
  if (/* @__PURE__ */ React.isValidElement(children) && managesOwnFocus) {
    children = /* @__PURE__ */ React.cloneElement(children, {
      focusElementRef
    });
  }
  const draggableEventHandlers = disableDragEvents ? null : {
    onDragEnter: publish("cellDragEnter", onDragEnter),
    onDragOver: publish("cellDragOver", onDragOver)
  };
  const ariaV7 = (_rootProps$experiment2 = rootProps.experimentalFeatures) == null ? void 0 : _rootProps$experiment2.ariaV7;
  return (
    // eslint-disable-next-line jsx-a11y/no-static-element-interactions
    /* @__PURE__ */ jsx("div", _extends$1({
      ref: handleRef,
      className: clsx(className, classes.root),
      role: ariaV7 ? "gridcell" : "cell",
      "data-field": field,
      "data-colindex": colIndex,
      "aria-colindex": colIndex + 1,
      "aria-colspan": colSpan,
      style,
      tabIndex,
      onClick: publish("cellClick", onClick),
      onDoubleClick: publish("cellDoubleClick", onDoubleClick),
      onMouseOver: publish("cellMouseOver", onMouseOver),
      onMouseDown: publishMouseDown("cellMouseDown"),
      onMouseUp: publishMouseUp("cellMouseUp"),
      onKeyDown: publish("cellKeyDown", onKeyDown),
      onKeyUp: publish("cellKeyUp", onKeyUp)
    }, draggableEventHandlers, other, {
      onFocus: handleFocus,
      children
    }))
  );
});
const MemoizedCellWrapper = fastMemo(GridCellWrapper);
process.env.NODE_ENV !== "production" ? GridCellWrapper.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // | To update them edit the TypeScript types and run "yarn proptypes"  |
  // ----------------------------------------------------------------------
  align: PropTypes.oneOf(["center", "left", "right"]),
  className: PropTypes.string,
  colIndex: PropTypes.number,
  colSpan: PropTypes.number,
  column: PropTypes.object,
  disableDragEvents: PropTypes.bool,
  height: PropTypes.oneOfType([PropTypes.oneOf(["auto"]), PropTypes.number]),
  onClick: PropTypes.func,
  onDoubleClick: PropTypes.func,
  onDragEnter: PropTypes.func,
  onDragOver: PropTypes.func,
  onKeyDown: PropTypes.func,
  onMouseDown: PropTypes.func,
  onMouseUp: PropTypes.func,
  rowId: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),
  showRightBorder: PropTypes.bool,
  width: PropTypes.number
} : void 0;
process.env.NODE_ENV !== "production" ? GridCell.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // | To update them edit the TypeScript types and run "yarn proptypes"  |
  // ----------------------------------------------------------------------
  align: PropTypes.oneOf(["center", "left", "right"]),
  cellMode: PropTypes.oneOf(["edit", "view"]),
  children: PropTypes.node,
  className: PropTypes.string,
  colIndex: PropTypes.number,
  colSpan: PropTypes.number,
  column: PropTypes.object,
  disableDragEvents: PropTypes.bool,
  editCellState: PropTypes.shape({
    changeReason: PropTypes.oneOf(["debouncedSetEditCellValue", "setEditCellValue"]),
    isProcessingProps: PropTypes.bool,
    isValidating: PropTypes.bool,
    value: PropTypes.any
  }),
  isNotVisible: PropTypes.bool,
  height: PropTypes.oneOfType([PropTypes.oneOf(["auto"]), PropTypes.number]),
  onClick: PropTypes.func,
  onDoubleClick: PropTypes.func,
  onDragEnter: PropTypes.func,
  onDragOver: PropTypes.func,
  onKeyDown: PropTypes.func,
  onMouseDown: PropTypes.func,
  onMouseUp: PropTypes.func,
  rowId: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),
  showRightBorder: PropTypes.bool,
  width: PropTypes.number
} : void 0;
const GridCellV7 = /* @__PURE__ */ React.forwardRef((props, ref) => {
  var _getActions, _ref, _rootProps$unstable_c, _rootProps$experiment3, _rootProps$experiment4;
  const {
    column,
    rowId,
    editCellState,
    align,
    colIndex,
    height,
    width,
    className,
    showRightBorder,
    colSpan,
    disableDragEvents,
    isNotVisible,
    onClick,
    onDoubleClick,
    onMouseDown,
    onMouseUp,
    onMouseOver,
    onKeyDown,
    onKeyUp,
    onDragEnter,
    onDragOver,
    style: styleProp
  } = props, other = _objectWithoutPropertiesLoose$1(props, _excluded3$1);
  const apiRef = useGridApiContext();
  const rootProps = useGridRootProps();
  const field = column.field;
  const cellParamsWithAPI = useGridSelector(apiRef, () => {
    try {
      const cellParams = apiRef.current.getCellParams(rowId, field);
      const result = cellParams;
      result.api = apiRef.current;
      return result;
    } catch (e2) {
      if (e2 instanceof MissingRowIdError) {
        return EMPTY_CELL_PARAMS;
      }
      throw e2;
    }
  }, objectShallowCompare);
  const isSelected = useGridSelector(apiRef, () => apiRef.current.unstable_applyPipeProcessors("isCellSelected", false, {
    id: rowId,
    field
  }));
  const {
    cellMode,
    hasFocus,
    isEditable,
    value,
    formattedValue
  } = cellParamsWithAPI;
  const canManageOwnFocus = column.type === "actions" && ((_getActions = (_ref = column).getActions) == null ? void 0 : _getActions.call(_ref, apiRef.current.getRowParams(rowId)).some((action) => !action.props.disabled));
  const tabIndex = (cellMode === "view" || !isEditable) && !canManageOwnFocus ? cellParamsWithAPI.tabIndex : -1;
  const {
    classes: rootClasses,
    getCellClassName
  } = rootProps;
  const classNames = apiRef.current.unstable_applyPipeProcessors("cellClassName", [], {
    id: rowId,
    field
  });
  if (column.cellClassName) {
    classNames.push(typeof column.cellClassName === "function" ? column.cellClassName(cellParamsWithAPI) : column.cellClassName);
  }
  if (getCellClassName) {
    classNames.push(getCellClassName(cellParamsWithAPI));
  }
  const valueToRender = formattedValue == null ? value : formattedValue;
  const cellRef = React.useRef(null);
  const handleRef = unstable_useForkRef(ref, cellRef);
  const focusElementRef = React.useRef(null);
  const isSelectionMode = (_rootProps$unstable_c = rootProps.unstable_cellSelection) != null ? _rootProps$unstable_c : false;
  const ownerState = {
    align,
    showRightBorder,
    isEditable,
    classes: rootProps.classes,
    isSelected,
    isSelectionMode
  };
  const classes = useUtilityClasses$y(ownerState);
  const publishMouseUp = React.useCallback((eventName) => (event) => {
    const params = apiRef.current.getCellParams(rowId, field || "");
    apiRef.current.publishEvent(eventName, params, event);
    if (onMouseUp) {
      onMouseUp(event);
    }
  }, [apiRef, field, onMouseUp, rowId]);
  const publishMouseDown = React.useCallback((eventName) => (event) => {
    const params = apiRef.current.getCellParams(rowId, field || "");
    apiRef.current.publishEvent(eventName, params, event);
    if (onMouseDown) {
      onMouseDown(event);
    }
  }, [apiRef, field, onMouseDown, rowId]);
  const publish = React.useCallback((eventName, propHandler) => (event) => {
    if (!apiRef.current.getRow(rowId)) {
      return;
    }
    const params = apiRef.current.getCellParams(rowId, field || "");
    apiRef.current.publishEvent(eventName, params, event);
    if (propHandler) {
      propHandler(event);
    }
  }, [apiRef, field, rowId]);
  const style = React.useMemo(() => {
    if (isNotVisible) {
      return _extends$1({
        padding: 0,
        opacity: 0,
        width: 0,
        border: 0
      }, styleProp);
    }
    const cellStyle = _extends$1({
      minWidth: width,
      maxWidth: width,
      minHeight: height,
      maxHeight: height === "auto" ? "none" : height
    }, styleProp);
    return cellStyle;
  }, [width, height, isNotVisible, styleProp]);
  React.useEffect(() => {
    if (!hasFocus || cellMode === GridCellModes.Edit) {
      return;
    }
    const doc = unstable_ownerDocument(apiRef.current.rootElementRef.current);
    if (cellRef.current && !cellRef.current.contains(doc.activeElement)) {
      const focusableElement = cellRef.current.querySelector('[tabindex="0"]');
      const elementToFocus = focusElementRef.current || focusableElement || cellRef.current;
      if (doesSupportPreventScroll()) {
        elementToFocus.focus({
          preventScroll: true
        });
      } else {
        const scrollPosition = apiRef.current.getScrollPosition();
        elementToFocus.focus();
        apiRef.current.scroll(scrollPosition);
      }
    }
  }, [hasFocus, cellMode, apiRef]);
  if (cellParamsWithAPI === EMPTY_CELL_PARAMS) {
    return null;
  }
  let handleFocus = other.onFocus;
  if (process.env.NODE_ENV === "test" && (_rootProps$experiment3 = rootProps.experimentalFeatures) != null && _rootProps$experiment3.warnIfFocusStateIsNotSynced) {
    handleFocus = (event) => {
      const focusedCell = gridFocusCellSelector(apiRef);
      if ((focusedCell == null ? void 0 : focusedCell.id) === rowId && focusedCell.field === field) {
        if (typeof other.onFocus === "function") {
          other.onFocus(event);
        }
        return;
      }
      if (!warnedOnce) {
        console.warn([`MUI: The cell with id=${rowId} and field=${field} received focus.`, `According to the state, the focus should be at id=${focusedCell == null ? void 0 : focusedCell.id}, field=${focusedCell == null ? void 0 : focusedCell.field}.`, "Not syncing the state may cause unwanted behaviors since the `cellFocusIn` event won't be fired.", "Call `fireEvent.mouseUp` before the `fireEvent.click` to sync the focus with the state."].join("\n"));
        warnedOnce = true;
      }
    };
  }
  let children;
  if (editCellState == null && column.renderCell) {
    children = column.renderCell(cellParamsWithAPI);
    classNames.push(gridClasses["cell--withRenderer"]);
    classNames.push(rootClasses == null ? void 0 : rootClasses["cell--withRenderer"]);
  }
  if (editCellState != null && column.renderEditCell) {
    const updatedRow = apiRef.current.getRowWithUpdatedValues(rowId, column.field);
    const editCellStateRest = _objectWithoutPropertiesLoose$1(editCellState, _excluded4);
    const params = _extends$1({}, cellParamsWithAPI, {
      row: updatedRow
    }, editCellStateRest);
    children = column.renderEditCell(params);
    classNames.push(gridClasses["cell--editing"]);
    classNames.push(rootClasses == null ? void 0 : rootClasses["cell--editing"]);
  }
  if (children === void 0) {
    const valueString = valueToRender == null ? void 0 : valueToRender.toString();
    children = /* @__PURE__ */ jsx("div", {
      className: classes.content,
      title: valueString,
      role: "presentation",
      children: valueString
    });
  }
  if (/* @__PURE__ */ React.isValidElement(children) && canManageOwnFocus) {
    children = /* @__PURE__ */ React.cloneElement(children, {
      focusElementRef
    });
  }
  const draggableEventHandlers = disableDragEvents ? null : {
    onDragEnter: publish("cellDragEnter", onDragEnter),
    onDragOver: publish("cellDragOver", onDragOver)
  };
  const ariaV7 = (_rootProps$experiment4 = rootProps.experimentalFeatures) == null ? void 0 : _rootProps$experiment4.ariaV7;
  return (
    // eslint-disable-next-line jsx-a11y/no-static-element-interactions
    /* @__PURE__ */ jsx("div", _extends$1({
      ref: handleRef,
      className: clsx(className, classNames, classes.root),
      role: ariaV7 ? "gridcell" : "cell",
      "data-field": field,
      "data-colindex": colIndex,
      "aria-colindex": colIndex + 1,
      "aria-colspan": colSpan,
      style,
      tabIndex,
      onClick: publish("cellClick", onClick),
      onDoubleClick: publish("cellDoubleClick", onDoubleClick),
      onMouseOver: publish("cellMouseOver", onMouseOver),
      onMouseDown: publishMouseDown("cellMouseDown"),
      onMouseUp: publishMouseUp("cellMouseUp"),
      onKeyDown: publish("cellKeyDown", onKeyDown),
      onKeyUp: publish("cellKeyUp", onKeyUp)
    }, draggableEventHandlers, other, {
      onFocus: handleFocus,
      children
    }))
  );
});
process.env.NODE_ENV !== "production" ? GridCellV7.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // | To update them edit the TypeScript types and run "yarn proptypes"  |
  // ----------------------------------------------------------------------
  align: PropTypes.oneOf(["center", "left", "right"]).isRequired,
  className: PropTypes.string,
  colIndex: PropTypes.number.isRequired,
  colSpan: PropTypes.number,
  column: PropTypes.object.isRequired,
  disableDragEvents: PropTypes.bool,
  editCellState: PropTypes.shape({
    changeReason: PropTypes.oneOf(["debouncedSetEditCellValue", "setEditCellValue"]),
    isProcessingProps: PropTypes.bool,
    isValidating: PropTypes.bool,
    value: PropTypes.any
  }),
  height: PropTypes.oneOfType([PropTypes.oneOf(["auto"]), PropTypes.number]).isRequired,
  isNotVisible: PropTypes.bool,
  onClick: PropTypes.func,
  onDoubleClick: PropTypes.func,
  onDragEnter: PropTypes.func,
  onDragOver: PropTypes.func,
  onKeyDown: PropTypes.func,
  onMouseDown: PropTypes.func,
  onMouseUp: PropTypes.func,
  rowId: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,
  showRightBorder: PropTypes.bool,
  width: PropTypes.number.isRequired
} : void 0;
const MemoizedGridCellV7 = fastMemo(GridCellV7);
const _excluded$O = ["id", "value", "formattedValue", "api", "field", "row", "rowNode", "colDef", "cellMode", "isEditable", "hasFocus", "tabIndex"];
const useUtilityClasses$x = (ownerState) => {
  const {
    classes
  } = ownerState;
  const slots = {
    root: ["booleanCell"]
  };
  return unstable_composeClasses(slots, getDataGridUtilityClass, classes);
};
function GridBooleanCellRaw(props) {
  const {
    value
  } = props, other = _objectWithoutPropertiesLoose$1(props, _excluded$O);
  const apiRef = useGridApiContext();
  const rootProps = useGridRootProps();
  const ownerState = {
    classes: rootProps.classes
  };
  const classes = useUtilityClasses$x(ownerState);
  const Icon = React.useMemo(() => value ? rootProps.slots.booleanCellTrueIcon : rootProps.slots.booleanCellFalseIcon, [rootProps.slots.booleanCellFalseIcon, rootProps.slots.booleanCellTrueIcon, value]);
  return /* @__PURE__ */ jsx(Icon, _extends$1({
    fontSize: "small",
    className: classes.root,
    titleAccess: apiRef.current.getLocaleText(value ? "booleanCellTrueLabel" : "booleanCellFalseLabel"),
    "data-value": Boolean(value)
  }, other));
}
process.env.NODE_ENV !== "production" ? GridBooleanCellRaw.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // | To update them edit the TypeScript types and run "yarn proptypes"  |
  // ----------------------------------------------------------------------
  /**
   * GridApi that let you manipulate the grid.
   */
  api: PropTypes.object.isRequired,
  /**
   * The mode of the cell.
   */
  cellMode: PropTypes.oneOf(["edit", "view"]).isRequired,
  /**
   * The column of the row that the current cell belongs to.
   */
  colDef: PropTypes.object.isRequired,
  /**
   * The column field of the cell that triggered the event.
   */
  field: PropTypes.string.isRequired,
  /**
   * A ref allowing to set imperative focus.
   * It can be passed to the element that should receive focus.
   * @ignore - do not document.
   */
  focusElementRef: PropTypes.oneOfType([PropTypes.func, PropTypes.shape({
    current: PropTypes.shape({
      focus: PropTypes.func.isRequired
    })
  })]),
  /**
   * The cell value formatted with the column valueFormatter.
   */
  formattedValue: PropTypes.any,
  /**
   * If true, the cell is the active element.
   */
  hasFocus: PropTypes.bool.isRequired,
  /**
   * The grid row id.
   */
  id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,
  /**
   * If true, the cell is editable.
   */
  isEditable: PropTypes.bool,
  /**
   * The row model of the row that the current cell belongs to.
   */
  row: PropTypes.any.isRequired,
  /**
   * The node of the row that the current cell belongs to.
   */
  rowNode: PropTypes.object.isRequired,
  /**
   * the tabIndex value.
   */
  tabIndex: PropTypes.oneOf([-1, 0]).isRequired,
  /**
   * The cell value.
   * If the column has `valueGetter`, use `params.row` to directly access the fields.
   */
  value: PropTypes.any
} : void 0;
const GridBooleanCell = /* @__PURE__ */ React.memo(GridBooleanCellRaw);
const renderBooleanCell = (params) => {
  if (isAutoGeneratedRow(params.rowNode)) {
    return "";
  }
  return /* @__PURE__ */ jsx(GridBooleanCell, _extends$1({}, params));
};
const _excluded$N = ["id", "value", "formattedValue", "api", "field", "row", "rowNode", "colDef", "cellMode", "isEditable", "tabIndex", "className", "hasFocus", "isValidating", "isProcessingProps", "error", "onValueChange"];
const useUtilityClasses$w = (ownerState) => {
  const {
    classes
  } = ownerState;
  const slots = {
    root: ["editBooleanCell"]
  };
  return unstable_composeClasses(slots, getDataGridUtilityClass, classes);
};
function GridEditBooleanCell(props) {
  var _rootProps$slotProps;
  const {
    id: idProp,
    value,
    field,
    className,
    hasFocus,
    onValueChange
  } = props, other = _objectWithoutPropertiesLoose$1(props, _excluded$N);
  const apiRef = useGridApiContext();
  const inputRef = React.useRef(null);
  const id = unstable_useId();
  const [valueState, setValueState] = React.useState(value);
  const rootProps = useGridRootProps();
  const ownerState = {
    classes: rootProps.classes
  };
  const classes = useUtilityClasses$w(ownerState);
  const handleChange = React.useCallback(async (event) => {
    const newValue = event.target.checked;
    if (onValueChange) {
      await onValueChange(event, newValue);
    }
    setValueState(newValue);
    await apiRef.current.setEditCellValue({
      id: idProp,
      field,
      value: newValue
    }, event);
  }, [apiRef, field, idProp, onValueChange]);
  React.useEffect(() => {
    setValueState(value);
  }, [value]);
  unstable_useEnhancedEffect(() => {
    if (hasFocus) {
      inputRef.current.focus();
    }
  }, [hasFocus]);
  return /* @__PURE__ */ jsx("label", _extends$1({
    htmlFor: id,
    className: clsx(classes.root, className)
  }, other, {
    children: /* @__PURE__ */ jsx(rootProps.slots.baseCheckbox, _extends$1({
      id,
      inputRef,
      checked: Boolean(valueState),
      onChange: handleChange,
      size: "small"
    }, (_rootProps$slotProps = rootProps.slotProps) == null ? void 0 : _rootProps$slotProps.baseCheckbox))
  }));
}
process.env.NODE_ENV !== "production" ? GridEditBooleanCell.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // | To update them edit the TypeScript types and run "yarn proptypes"  |
  // ----------------------------------------------------------------------
  /**
   * GridApi that let you manipulate the grid.
   */
  api: PropTypes.object.isRequired,
  /**
   * The mode of the cell.
   */
  cellMode: PropTypes.oneOf(["edit", "view"]).isRequired,
  changeReason: PropTypes.oneOf(["debouncedSetEditCellValue", "setEditCellValue"]),
  /**
   * The column of the row that the current cell belongs to.
   */
  colDef: PropTypes.object.isRequired,
  /**
   * The column field of the cell that triggered the event.
   */
  field: PropTypes.string.isRequired,
  /**
   * The cell value formatted with the column valueFormatter.
   */
  formattedValue: PropTypes.any,
  /**
   * If true, the cell is the active element.
   */
  hasFocus: PropTypes.bool.isRequired,
  /**
   * The grid row id.
   */
  id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,
  /**
   * If true, the cell is editable.
   */
  isEditable: PropTypes.bool,
  isProcessingProps: PropTypes.bool,
  isValidating: PropTypes.bool,
  /**
   * Callback called when the value is changed by the user.
   * @param {React.ChangeEvent<HTMLInputElement>} event The event source of the callback.
   * @param {boolean} newValue The value that is going to be passed to `apiRef.current.setEditCellValue`.
   * @returns {Promise<void> | void} A promise to be awaited before calling `apiRef.current.setEditCellValue`
   */
  onValueChange: PropTypes.func,
  /**
   * The row model of the row that the current cell belongs to.
   */
  row: PropTypes.any.isRequired,
  /**
   * The node of the row that the current cell belongs to.
   */
  rowNode: PropTypes.object.isRequired,
  /**
   * the tabIndex value.
   */
  tabIndex: PropTypes.oneOf([-1, 0]).isRequired,
  /**
   * The cell value.
   * If the column has `valueGetter`, use `params.row` to directly access the fields.
   */
  value: PropTypes.any
} : void 0;
const renderEditBooleanCell = (params) => /* @__PURE__ */ jsx(GridEditBooleanCell, _extends$1({}, params));
const _excluded$M = ["id", "value", "formattedValue", "api", "field", "row", "rowNode", "colDef", "cellMode", "isEditable", "tabIndex", "hasFocus", "inputProps", "isValidating", "isProcessingProps", "onValueChange"];
const StyledInputBase = styled$1(InputBase)({
  fontSize: "inherit"
});
const useUtilityClasses$v = (ownerState) => {
  const {
    classes
  } = ownerState;
  const slots = {
    root: ["editInputCell"]
  };
  return unstable_composeClasses(slots, getDataGridUtilityClass, classes);
};
function GridEditDateCell(props) {
  const {
    id,
    value: valueProp,
    field,
    colDef,
    hasFocus,
    inputProps,
    onValueChange
  } = props, other = _objectWithoutPropertiesLoose$1(props, _excluded$M);
  const isDateTime = colDef.type === "dateTime";
  const apiRef = useGridApiContext();
  const inputRef = React.useRef();
  const valueTransformed = React.useMemo(() => {
    let parsedDate;
    if (valueProp == null) {
      parsedDate = null;
    } else if (valueProp instanceof Date) {
      parsedDate = valueProp;
    } else {
      parsedDate = new Date((valueProp != null ? valueProp : "").toString());
    }
    let formattedDate;
    if (parsedDate == null || Number.isNaN(parsedDate.getTime())) {
      formattedDate = "";
    } else {
      const localDate = new Date(parsedDate.getTime() - parsedDate.getTimezoneOffset() * 60 * 1e3);
      formattedDate = localDate.toISOString().substr(0, isDateTime ? 16 : 10);
    }
    return {
      parsed: parsedDate,
      formatted: formattedDate
    };
  }, [valueProp, isDateTime]);
  const [valueState, setValueState] = React.useState(valueTransformed);
  const rootProps = useGridRootProps();
  const ownerState = {
    classes: rootProps.classes
  };
  const classes = useUtilityClasses$v(ownerState);
  const parseValueToDate = React.useCallback((value) => {
    if (value === "") {
      return null;
    }
    const [date, time] = value.split("T");
    const [year, month, day] = date.split("-");
    const parsedDate = /* @__PURE__ */ new Date();
    parsedDate.setFullYear(Number(year), Number(month) - 1, Number(day));
    parsedDate.setHours(0, 0, 0, 0);
    if (time) {
      const [hours, minutes] = time.split(":");
      parsedDate.setHours(Number(hours), Number(minutes), 0, 0);
    }
    return parsedDate;
  }, []);
  const handleChange = React.useCallback(async (event) => {
    const newFormattedDate = event.target.value;
    const newParsedDate = parseValueToDate(newFormattedDate);
    if (onValueChange) {
      await onValueChange(event, newParsedDate);
    }
    setValueState({
      parsed: newParsedDate,
      formatted: newFormattedDate
    });
    apiRef.current.setEditCellValue({
      id,
      field,
      value: newParsedDate
    }, event);
  }, [apiRef, field, id, onValueChange, parseValueToDate]);
  React.useEffect(() => {
    setValueState((state) => {
      var _valueTransformed$par, _state$parsed;
      if (valueTransformed.parsed !== state.parsed && ((_valueTransformed$par = valueTransformed.parsed) == null ? void 0 : _valueTransformed$par.getTime()) !== ((_state$parsed = state.parsed) == null ? void 0 : _state$parsed.getTime())) {
        return valueTransformed;
      }
      return state;
    });
  }, [valueTransformed]);
  unstable_useEnhancedEffect(() => {
    if (hasFocus) {
      inputRef.current.focus();
    }
  }, [hasFocus]);
  return /* @__PURE__ */ jsx(StyledInputBase, _extends$1({
    inputRef,
    fullWidth: true,
    className: classes.root,
    type: isDateTime ? "datetime-local" : "date",
    inputProps: _extends$1({
      max: isDateTime ? "9999-12-31T23:59" : "9999-12-31"
    }, inputProps),
    value: valueState.formatted,
    onChange: handleChange
  }, other));
}
process.env.NODE_ENV !== "production" ? GridEditDateCell.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // | To update them edit the TypeScript types and run "yarn proptypes"  |
  // ----------------------------------------------------------------------
  /**
   * GridApi that let you manipulate the grid.
   */
  api: PropTypes.object.isRequired,
  /**
   * The mode of the cell.
   */
  cellMode: PropTypes.oneOf(["edit", "view"]).isRequired,
  changeReason: PropTypes.oneOf(["debouncedSetEditCellValue", "setEditCellValue"]),
  /**
   * The column of the row that the current cell belongs to.
   */
  colDef: PropTypes.object.isRequired,
  /**
   * The column field of the cell that triggered the event.
   */
  field: PropTypes.string.isRequired,
  /**
   * The cell value formatted with the column valueFormatter.
   */
  formattedValue: PropTypes.any,
  /**
   * If true, the cell is the active element.
   */
  hasFocus: PropTypes.bool.isRequired,
  /**
   * The grid row id.
   */
  id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,
  /**
   * If true, the cell is editable.
   */
  isEditable: PropTypes.bool,
  isProcessingProps: PropTypes.bool,
  isValidating: PropTypes.bool,
  /**
   * Callback called when the value is changed by the user.
   * @param {React.ChangeEvent<HTMLInputElement>} event The event source of the callback.
   * @param {Date | null} newValue The value that is going to be passed to `apiRef.current.setEditCellValue`.
   * @returns {Promise<void> | void} A promise to be awaited before calling `apiRef.current.setEditCellValue`
   */
  onValueChange: PropTypes.func,
  /**
   * The row model of the row that the current cell belongs to.
   */
  row: PropTypes.any.isRequired,
  /**
   * The node of the row that the current cell belongs to.
   */
  rowNode: PropTypes.object.isRequired,
  /**
   * the tabIndex value.
   */
  tabIndex: PropTypes.oneOf([-1, 0]).isRequired,
  /**
   * The cell value.
   * If the column has `valueGetter`, use `params.row` to directly access the fields.
   */
  value: PropTypes.any
} : void 0;
const renderEditDateCell = (params) => /* @__PURE__ */ jsx(GridEditDateCell, _extends$1({}, params));
const _excluded$L = ["id", "value", "formattedValue", "api", "field", "row", "rowNode", "colDef", "cellMode", "isEditable", "tabIndex", "hasFocus", "isValidating", "debounceMs", "isProcessingProps", "onValueChange"];
const useUtilityClasses$u = (ownerState) => {
  const {
    classes
  } = ownerState;
  const slots = {
    root: ["editInputCell"]
  };
  return unstable_composeClasses(slots, getDataGridUtilityClass, classes);
};
const GridEditInputCellRoot = styled$1(InputBase, {
  name: "MuiDataGrid",
  slot: "EditInputCell",
  overridesResolver: (props, styles) => styles.editInputCell
})(({
  theme
}) => _extends$1({}, theme.typography.body2, {
  padding: "1px 0",
  "& input": {
    padding: "0 16px",
    height: "100%"
  }
}));
const GridEditInputCell = /* @__PURE__ */ React.forwardRef((props, ref) => {
  const rootProps = useGridRootProps();
  const {
    id,
    value,
    field,
    colDef,
    hasFocus,
    debounceMs = 200,
    isProcessingProps,
    onValueChange
  } = props, other = _objectWithoutPropertiesLoose$1(props, _excluded$L);
  const apiRef = useGridApiContext();
  const inputRef = React.useRef();
  const [valueState, setValueState] = React.useState(value);
  const classes = useUtilityClasses$u(rootProps);
  const handleChange = React.useCallback(async (event) => {
    const newValue = event.target.value;
    if (onValueChange) {
      await onValueChange(event, newValue);
    }
    const column = apiRef.current.getColumn(field);
    let parsedValue = newValue;
    if (column.valueParser) {
      parsedValue = column.valueParser(newValue, apiRef.current.getCellParams(id, field));
    }
    setValueState(parsedValue);
    apiRef.current.setEditCellValue({
      id,
      field,
      value: parsedValue,
      debounceMs,
      unstable_skipValueParser: true
    }, event);
  }, [apiRef, debounceMs, field, id, onValueChange]);
  const meta = apiRef.current.unstable_getEditCellMeta(id, field);
  React.useEffect(() => {
    if ((meta == null ? void 0 : meta.changeReason) !== "debouncedSetEditCellValue") {
      setValueState(value);
    }
  }, [meta, value]);
  unstable_useEnhancedEffect(() => {
    if (hasFocus) {
      inputRef.current.focus();
    }
  }, [hasFocus]);
  return /* @__PURE__ */ jsx(GridEditInputCellRoot, _extends$1({
    ref,
    inputRef,
    className: classes.root,
    ownerState: rootProps,
    fullWidth: true,
    type: colDef.type === "number" ? colDef.type : "text",
    value: valueState != null ? valueState : "",
    onChange: handleChange,
    endAdornment: isProcessingProps ? /* @__PURE__ */ jsx(rootProps.slots.loadIcon, {
      fontSize: "small",
      color: "action"
    }) : void 0
  }, other));
});
process.env.NODE_ENV !== "production" ? GridEditInputCell.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // | To update them edit the TypeScript types and run "yarn proptypes"  |
  // ----------------------------------------------------------------------
  /**
   * GridApi that let you manipulate the grid.
   */
  api: PropTypes.object.isRequired,
  /**
   * The mode of the cell.
   */
  cellMode: PropTypes.oneOf(["edit", "view"]).isRequired,
  changeReason: PropTypes.oneOf(["debouncedSetEditCellValue", "setEditCellValue"]),
  /**
   * The column of the row that the current cell belongs to.
   */
  colDef: PropTypes.object.isRequired,
  debounceMs: PropTypes.number,
  /**
   * The column field of the cell that triggered the event.
   */
  field: PropTypes.string.isRequired,
  /**
   * The cell value formatted with the column valueFormatter.
   */
  formattedValue: PropTypes.any,
  /**
   * If true, the cell is the active element.
   */
  hasFocus: PropTypes.bool.isRequired,
  /**
   * The grid row id.
   */
  id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,
  /**
   * If true, the cell is editable.
   */
  isEditable: PropTypes.bool,
  isProcessingProps: PropTypes.bool,
  isValidating: PropTypes.bool,
  /**
   * Callback called when the value is changed by the user.
   * @param {React.ChangeEvent<HTMLInputElement>} event The event source of the callback.
   * @param {Date | null} newValue The value that is going to be passed to `apiRef.current.setEditCellValue`.
   * @returns {Promise<void> | void} A promise to be awaited before calling `apiRef.current.setEditCellValue`
   */
  onValueChange: PropTypes.func,
  /**
   * The row model of the row that the current cell belongs to.
   */
  row: PropTypes.any.isRequired,
  /**
   * The node of the row that the current cell belongs to.
   */
  rowNode: PropTypes.object.isRequired,
  /**
   * the tabIndex value.
   */
  tabIndex: PropTypes.oneOf([-1, 0]).isRequired,
  /**
   * The cell value.
   * If the column has `valueGetter`, use `params.row` to directly access the fields.
   */
  value: PropTypes.any
} : void 0;
const renderEditInputCell = (params) => /* @__PURE__ */ jsx(GridEditInputCell, _extends$1({}, params));
const isEscapeKey = (key) => key === "Escape";
const isEnterKey = (key) => key === "Enter";
const isTabKey = (key) => key === "Tab";
const isSpaceKey = (key) => key === " ";
const isArrowKeys = (key) => key.indexOf("Arrow") === 0;
const isHomeOrEndKeys = (key) => key === "Home" || key === "End";
const isPageKeys = (key) => key.indexOf("Page") === 0;
function isPrintableKey(event) {
  return event.key.length === 1 && !event.ctrlKey && !event.metaKey;
}
const isNavigationKey = (key) => isHomeOrEndKeys(key) || isArrowKeys(key) || isPageKeys(key) || isSpaceKey(key);
const isKeyboardEvent$1 = (event) => !!event.key;
const isHideMenuKey = (key) => isTabKey(key) || isEscapeKey(key);
function isSingleSelectColDef(colDef) {
  return (colDef == null ? void 0 : colDef.type) === "singleSelect";
}
function getValueFromValueOptions(value, valueOptions, getOptionValue) {
  if (valueOptions === void 0) {
    return void 0;
  }
  const result = valueOptions.find((option) => {
    const optionValue = getOptionValue(option);
    return String(optionValue) === String(value);
  });
  return getOptionValue(result);
}
const _excluded$K = ["id", "value", "formattedValue", "api", "field", "row", "rowNode", "colDef", "cellMode", "isEditable", "tabIndex", "className", "hasFocus", "isValidating", "isProcessingProps", "error", "onValueChange", "initialOpen", "getOptionLabel", "getOptionValue"], _excluded2$5 = ["MenuProps"];
function isKeyboardEvent(event) {
  return !!event.key;
}
function GridEditSingleSelectCell(props) {
  var _rootProps$slotProps, _baseSelectProps$nati, _rootProps$slotProps2;
  const rootProps = useGridRootProps();
  const {
    id,
    value: valueProp,
    field,
    row,
    colDef,
    hasFocus,
    error,
    onValueChange,
    initialOpen = rootProps.editMode === GridEditModes.Cell,
    getOptionLabel: getOptionLabelProp,
    getOptionValue: getOptionValueProp
  } = props, other = _objectWithoutPropertiesLoose$1(props, _excluded$K);
  const apiRef = useGridApiContext();
  const ref = React.useRef();
  const inputRef = React.useRef();
  const [open, setOpen] = React.useState(initialOpen);
  const baseSelectProps = ((_rootProps$slotProps = rootProps.slotProps) == null ? void 0 : _rootProps$slotProps.baseSelect) || {};
  const isSelectNative = (_baseSelectProps$nati = baseSelectProps.native) != null ? _baseSelectProps$nati : false;
  const _ref = ((_rootProps$slotProps2 = rootProps.slotProps) == null ? void 0 : _rootProps$slotProps2.baseSelect) || {}, {
    MenuProps
  } = _ref, otherBaseSelectProps = _objectWithoutPropertiesLoose$1(_ref, _excluded2$5);
  unstable_useEnhancedEffect(() => {
    if (hasFocus) {
      var _inputRef$current;
      (_inputRef$current = inputRef.current) == null || _inputRef$current.focus();
    }
  }, [hasFocus]);
  if (!isSingleSelectColDef(colDef)) {
    return null;
  }
  let valueOptions;
  if (typeof (colDef == null ? void 0 : colDef.valueOptions) === "function") {
    valueOptions = colDef == null ? void 0 : colDef.valueOptions({
      id,
      row,
      field
    });
  } else {
    valueOptions = colDef == null ? void 0 : colDef.valueOptions;
  }
  if (!valueOptions) {
    return null;
  }
  const getOptionValue = getOptionValueProp || colDef.getOptionValue;
  const getOptionLabel = getOptionLabelProp || colDef.getOptionLabel;
  const handleChange = async (event) => {
    if (!isSingleSelectColDef(colDef) || !valueOptions) {
      return;
    }
    setOpen(false);
    const target = event.target;
    const formattedTargetValue = getValueFromValueOptions(target.value, valueOptions, getOptionValue);
    if (onValueChange) {
      await onValueChange(event, formattedTargetValue);
    }
    await apiRef.current.setEditCellValue({
      id,
      field,
      value: formattedTargetValue
    }, event);
  };
  const handleClose = (event, reason) => {
    if (rootProps.editMode === GridEditModes.Row) {
      setOpen(false);
      return;
    }
    if (reason === "backdropClick" || isEscapeKey(event.key)) {
      const params = apiRef.current.getCellParams(id, field);
      apiRef.current.publishEvent("cellEditStop", _extends$1({}, params, {
        reason: isEscapeKey(event.key) ? GridCellEditStopReasons.escapeKeyDown : GridCellEditStopReasons.cellFocusOut
      }));
    }
  };
  const handleOpen = (event) => {
    if (isKeyboardEvent(event) && event.key === "Enter") {
      return;
    }
    setOpen(true);
  };
  if (!valueOptions || !colDef) {
    return null;
  }
  return /* @__PURE__ */ jsx(rootProps.slots.baseSelect, _extends$1({
    ref,
    inputRef,
    value: valueProp,
    onChange: handleChange,
    open,
    onOpen: handleOpen,
    MenuProps: _extends$1({
      onClose: handleClose
    }, MenuProps),
    error,
    native: isSelectNative,
    fullWidth: true
  }, other, otherBaseSelectProps, {
    children: valueOptions.map((valueOption) => {
      var _rootProps$slotProps3;
      const value = getOptionValue(valueOption);
      return /* @__PURE__ */ createElement(rootProps.slots.baseSelectOption, _extends$1({}, ((_rootProps$slotProps3 = rootProps.slotProps) == null ? void 0 : _rootProps$slotProps3.baseSelectOption) || {}, {
        native: isSelectNative,
        key: value,
        value
      }), getOptionLabel(valueOption));
    })
  }));
}
process.env.NODE_ENV !== "production" ? GridEditSingleSelectCell.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // | To update them edit the TypeScript types and run "yarn proptypes"  |
  // ----------------------------------------------------------------------
  /**
   * GridApi that let you manipulate the grid.
   */
  api: PropTypes.object.isRequired,
  /**
   * The mode of the cell.
   */
  cellMode: PropTypes.oneOf(["edit", "view"]).isRequired,
  changeReason: PropTypes.oneOf(["debouncedSetEditCellValue", "setEditCellValue"]),
  /**
   * The column of the row that the current cell belongs to.
   */
  colDef: PropTypes.object.isRequired,
  /**
   * The column field of the cell that triggered the event.
   */
  field: PropTypes.string.isRequired,
  /**
   * The cell value formatted with the column valueFormatter.
   */
  formattedValue: PropTypes.any,
  /**
   * Used to determine the label displayed for a given value option.
   * @param {ValueOptions} value The current value option.
   * @returns {string} The text to be displayed.
   */
  getOptionLabel: PropTypes.func,
  /**
   * Used to determine the value used for a value option.
   * @param {ValueOptions} value The current value option.
   * @returns {string} The value to be used.
   */
  getOptionValue: PropTypes.func,
  /**
   * If true, the cell is the active element.
   */
  hasFocus: PropTypes.bool.isRequired,
  /**
   * The grid row id.
   */
  id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,
  /**
   * If true, the select opens by default.
   */
  initialOpen: PropTypes.bool,
  /**
   * If true, the cell is editable.
   */
  isEditable: PropTypes.bool,
  isProcessingProps: PropTypes.bool,
  isValidating: PropTypes.bool,
  /**
   * Callback called when the value is changed by the user.
   * @param {SelectChangeEvent<any>} event The event source of the callback.
   * @param {any} newValue The value that is going to be passed to `apiRef.current.setEditCellValue`.
   * @returns {Promise<void> | void} A promise to be awaited before calling `apiRef.current.setEditCellValue`
   */
  onValueChange: PropTypes.func,
  /**
   * The row model of the row that the current cell belongs to.
   */
  row: PropTypes.any.isRequired,
  /**
   * The node of the row that the current cell belongs to.
   */
  rowNode: PropTypes.object.isRequired,
  /**
   * the tabIndex value.
   */
  tabIndex: PropTypes.oneOf([-1, 0]).isRequired,
  /**
   * The cell value.
   * If the column has `valueGetter`, use `params.row` to directly access the fields.
   */
  value: PropTypes.any
} : void 0;
const renderEditSingleSelectCell = (params) => /* @__PURE__ */ jsx(GridEditSingleSelectCell, _extends$1({}, params));
const _excluded$J = ["open", "target", "onClose", "children", "position", "className", "onExited"];
const useUtilityClasses$t = (ownerState) => {
  const {
    classes
  } = ownerState;
  const slots = {
    root: ["menu"]
  };
  return unstable_composeClasses(slots, getDataGridUtilityClass, classes);
};
const GridMenuRoot = styled$1(Popper, {
  name: "MuiDataGrid",
  slot: "Menu",
  overridesResolver: (_, styles) => styles.menu
})(({
  theme
}) => ({
  zIndex: theme.zIndex.modal,
  [`& .${gridClasses.menuList}`]: {
    outline: 0
  }
}));
const transformOrigin = {
  "bottom-start": "top left",
  "bottom-end": "top right"
};
function GridMenu(props) {
  var _rootProps$slotProps;
  const {
    open,
    target,
    onClose,
    children,
    position,
    className,
    onExited
  } = props, other = _objectWithoutPropertiesLoose$1(props, _excluded$J);
  const apiRef = useGridApiContext();
  const rootProps = useGridRootProps();
  const classes = useUtilityClasses$t(rootProps);
  const savedFocusRef = React.useRef(null);
  unstable_useEnhancedEffect(() => {
    if (open) {
      savedFocusRef.current = document.activeElement instanceof HTMLElement ? document.activeElement : null;
    } else {
      var _savedFocusRef$curren, _savedFocusRef$curren2;
      (_savedFocusRef$curren = savedFocusRef.current) == null || (_savedFocusRef$curren2 = _savedFocusRef$curren.focus) == null || _savedFocusRef$curren2.call(_savedFocusRef$curren);
      savedFocusRef.current = null;
    }
  }, [open]);
  React.useEffect(() => {
    const eventName = open ? "menuOpen" : "menuClose";
    apiRef.current.publishEvent(eventName, {
      target
    });
  }, [apiRef, open, target]);
  const handleExited = (popperOnExited) => (node) => {
    if (popperOnExited) {
      popperOnExited();
    }
    if (onExited) {
      onExited(node);
    }
  };
  const handleClickAway = (event) => {
    if (event.target && (target === event.target || target != null && target.contains(event.target))) {
      return;
    }
    onClose(event);
  };
  return /* @__PURE__ */ jsx(GridMenuRoot, _extends$1({
    as: rootProps.slots.basePopper,
    className: clsx(className, classes.root),
    ownerState: rootProps,
    open,
    anchorEl: target,
    transition: true,
    placement: position
  }, other, (_rootProps$slotProps = rootProps.slotProps) == null ? void 0 : _rootProps$slotProps.basePopper, {
    children: ({
      TransitionProps,
      placement
    }) => /* @__PURE__ */ jsx(ClickAwayListener, {
      onClickAway: handleClickAway,
      mouseEvent: "onMouseDown",
      children: /* @__PURE__ */ jsx(Grow, _extends$1({}, TransitionProps, {
        style: {
          transformOrigin: transformOrigin[placement]
        },
        onExited: handleExited(TransitionProps == null ? void 0 : TransitionProps.onExited),
        children: /* @__PURE__ */ jsx(Paper, {
          children
        })
      }))
    })
  }));
}
process.env.NODE_ENV !== "production" ? GridMenu.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // | To update them edit the TypeScript types and run "yarn proptypes"  |
  // ----------------------------------------------------------------------
  children: PropTypes.node,
  onClose: PropTypes.func.isRequired,
  onExited: PropTypes.func,
  /**
   * If `true`, the component is shown.
   */
  open: PropTypes.bool.isRequired,
  position: PropTypes.oneOf(["bottom-end", "bottom-start", "bottom", "left-end", "left-start", "left", "right-end", "right-start", "right", "top-end", "top-start", "top"]),
  target: HTMLElementType
} : void 0;
const _excluded$I = ["api", "colDef", "id", "hasFocus", "isEditable", "field", "value", "formattedValue", "row", "rowNode", "cellMode", "tabIndex", "position", "focusElementRef"];
const hasActions = (colDef) => typeof colDef.getActions === "function";
function GridActionsCell(props) {
  var _rootProps$slotProps;
  const {
    colDef,
    id,
    hasFocus,
    tabIndex,
    position = "bottom-end",
    focusElementRef
  } = props, other = _objectWithoutPropertiesLoose$1(props, _excluded$I);
  const [focusedButtonIndex, setFocusedButtonIndex] = React.useState(-1);
  const [open, setOpen] = React.useState(false);
  const apiRef = useGridApiContext();
  const rootRef = React.useRef(null);
  const buttonRef = React.useRef(null);
  const ignoreCallToFocus = React.useRef(false);
  const touchRippleRefs = React.useRef({});
  const theme = useTheme();
  const menuId = unstable_useId();
  const buttonId = unstable_useId();
  const rootProps = useGridRootProps();
  if (!hasActions(colDef)) {
    throw new Error("MUI: Missing the `getActions` property in the `GridColDef`.");
  }
  const options = colDef.getActions(apiRef.current.getRowParams(id));
  const iconButtons = options.filter((option) => !option.props.showInMenu);
  const menuButtons = options.filter((option) => option.props.showInMenu);
  const numberOfButtons = iconButtons.length + (menuButtons.length ? 1 : 0);
  React.useLayoutEffect(() => {
    if (!hasFocus) {
      Object.entries(touchRippleRefs.current).forEach(([index2, ref]) => {
        ref == null || ref.stop({}, () => {
          delete touchRippleRefs.current[index2];
        });
      });
    }
  }, [hasFocus]);
  React.useEffect(() => {
    if (focusedButtonIndex < 0 || !rootRef.current) {
      return;
    }
    if (focusedButtonIndex >= rootRef.current.children.length) {
      return;
    }
    const child = rootRef.current.children[focusedButtonIndex];
    child.focus({
      preventScroll: true
    });
  }, [focusedButtonIndex]);
  React.useEffect(() => {
    if (!hasFocus) {
      setFocusedButtonIndex(-1);
      ignoreCallToFocus.current = false;
    }
  }, [hasFocus]);
  React.useImperativeHandle(focusElementRef, () => ({
    focus() {
      if (!ignoreCallToFocus.current) {
        const focusableButtonIndex = options.findIndex((o2) => !o2.props.disabled);
        setFocusedButtonIndex(focusableButtonIndex);
      }
    }
  }), [options]);
  React.useEffect(() => {
    if (focusedButtonIndex >= numberOfButtons) {
      setFocusedButtonIndex(numberOfButtons - 1);
    }
  }, [focusedButtonIndex, numberOfButtons]);
  const showMenu = () => {
    setOpen(true);
    setFocusedButtonIndex(numberOfButtons - 1);
    ignoreCallToFocus.current = true;
  };
  const hideMenu = () => {
    setOpen(false);
  };
  const handleTouchRippleRef = (index2) => (instance) => {
    touchRippleRefs.current[index2] = instance;
  };
  const handleButtonClick = (index2, onClick) => (event) => {
    setFocusedButtonIndex(index2);
    ignoreCallToFocus.current = true;
    if (onClick) {
      onClick(event);
    }
  };
  const handleRootKeyDown = (event) => {
    if (numberOfButtons <= 1) {
      return;
    }
    const getNewIndex = (index2, direction) => {
      var _options;
      if (index2 < 0 || index2 > options.length) {
        return index2;
      }
      const rtlMod = theme.direction === "rtl" ? -1 : 1;
      const indexMod = (direction === "left" ? -1 : 1) * rtlMod;
      return (_options = options[index2 + indexMod]) != null && _options.props.disabled ? getNewIndex(index2 + indexMod, direction) : index2 + indexMod;
    };
    let newIndex = focusedButtonIndex;
    if (event.key === "ArrowRight") {
      newIndex = getNewIndex(focusedButtonIndex, "right");
    } else if (event.key === "ArrowLeft") {
      newIndex = getNewIndex(focusedButtonIndex, "left");
    }
    if (newIndex < 0 || newIndex >= numberOfButtons) {
      return;
    }
    if (newIndex !== focusedButtonIndex) {
      event.preventDefault();
      event.stopPropagation();
      setFocusedButtonIndex(newIndex);
    }
  };
  const handleListKeyDown = (event) => {
    if (event.key === "Tab") {
      event.preventDefault();
    }
    if (["Tab", "Escape"].includes(event.key)) {
      hideMenu();
    }
  };
  return /* @__PURE__ */ jsxs("div", _extends$1({
    role: "menu",
    ref: rootRef,
    tabIndex: -1,
    className: gridClasses.actionsCell,
    onKeyDown: handleRootKeyDown
  }, other, {
    children: [iconButtons.map((button, index2) => /* @__PURE__ */ React.cloneElement(button, {
      key: index2,
      touchRippleRef: handleTouchRippleRef(index2),
      onClick: handleButtonClick(index2, button.props.onClick),
      tabIndex: focusedButtonIndex === index2 ? tabIndex : -1
    })), menuButtons.length > 0 && buttonId && /* @__PURE__ */ jsx(rootProps.slots.baseIconButton, _extends$1({
      ref: buttonRef,
      id: buttonId,
      "aria-label": apiRef.current.getLocaleText("actionsCellMore"),
      "aria-haspopup": "menu",
      "aria-expanded": open,
      "aria-controls": open ? menuId : void 0,
      role: "menuitem",
      size: "small",
      onClick: showMenu,
      touchRippleRef: handleTouchRippleRef(buttonId),
      tabIndex: focusedButtonIndex === iconButtons.length ? tabIndex : -1
    }, (_rootProps$slotProps = rootProps.slotProps) == null ? void 0 : _rootProps$slotProps.baseIconButton, {
      children: /* @__PURE__ */ jsx(rootProps.slots.moreActionsIcon, {
        fontSize: "small"
      })
    })), menuButtons.length > 0 && /* @__PURE__ */ jsx(GridMenu, {
      open,
      target: buttonRef.current,
      position,
      onClose: hideMenu,
      children: /* @__PURE__ */ jsx(MenuList, {
        id: menuId,
        className: gridClasses.menuList,
        onKeyDown: handleListKeyDown,
        "aria-labelledby": buttonId,
        variant: "menu",
        autoFocusItem: true,
        children: menuButtons.map((button, index2) => /* @__PURE__ */ React.cloneElement(button, {
          key: index2,
          closeMenu: hideMenu
        }))
      })
    })]
  }));
}
process.env.NODE_ENV !== "production" ? GridActionsCell.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // | To update them edit the TypeScript types and run "yarn proptypes"  |
  // ----------------------------------------------------------------------
  api: PropTypes.object,
  /**
   * The mode of the cell.
   */
  cellMode: PropTypes.oneOf(["edit", "view"]).isRequired,
  /**
   * The column of the row that the current cell belongs to.
   */
  colDef: PropTypes.object.isRequired,
  /**
   * The column field of the cell that triggered the event.
   */
  field: PropTypes.string.isRequired,
  /**
   * A ref allowing to set imperative focus.
   * It can be passed to the element that should receive focus.
   * @ignore - do not document.
   */
  focusElementRef: PropTypes.oneOfType([PropTypes.func, PropTypes.shape({
    current: PropTypes.shape({
      focus: PropTypes.func.isRequired
    })
  })]),
  /**
   * The cell value formatted with the column valueFormatter.
   */
  formattedValue: PropTypes.any,
  /**
   * If true, the cell is the active element.
   */
  hasFocus: PropTypes.bool.isRequired,
  /**
   * The grid row id.
   */
  id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,
  /**
   * If true, the cell is editable.
   */
  isEditable: PropTypes.bool,
  position: PropTypes.oneOf(["bottom-end", "bottom-start", "bottom", "left-end", "left-start", "left", "right-end", "right-start", "right", "top-end", "top-start", "top"]),
  /**
   * The row model of the row that the current cell belongs to.
   */
  row: PropTypes.any.isRequired,
  /**
   * The node of the row that the current cell belongs to.
   */
  rowNode: PropTypes.object.isRequired,
  /**
   * the tabIndex value.
   */
  tabIndex: PropTypes.oneOf([-1, 0]).isRequired,
  /**
   * The cell value.
   * If the column has `valueGetter`, use `params.row` to directly access the fields.
   */
  value: PropTypes.any
} : void 0;
const renderActionsCell = (params) => /* @__PURE__ */ jsx(GridActionsCell, _extends$1({}, params));
const _excluded$H = ["field", "align", "width", "contentWidth"];
const useUtilityClasses$s = (ownerState) => {
  const {
    align,
    classes
  } = ownerState;
  const slots = {
    root: ["cell", "cellSkeleton", `cell--text${unstable_capitalize(align)}`, "withBorderColor"]
  };
  return unstable_composeClasses(slots, getDataGridUtilityClass, classes);
};
function GridSkeletonCell(props) {
  const {
    align,
    width,
    contentWidth
  } = props, other = _objectWithoutPropertiesLoose$1(props, _excluded$H);
  const rootProps = useGridRootProps();
  const ownerState = {
    classes: rootProps.classes,
    align
  };
  const classes = useUtilityClasses$s(ownerState);
  return /* @__PURE__ */ jsx("div", _extends$1({
    className: classes.root,
    style: {
      width
    }
  }, other, {
    children: /* @__PURE__ */ jsx(Skeleton, {
      width: `${contentWidth}%`
    })
  }));
}
process.env.NODE_ENV !== "production" ? GridSkeletonCell.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // | To update them edit the TypeScript types and run "yarn proptypes"  |
  // ----------------------------------------------------------------------
  align: PropTypes.string.isRequired,
  contentWidth: PropTypes.number.isRequired,
  field: PropTypes.string.isRequired,
  width: PropTypes.number.isRequired
} : void 0;
function getBorderColor(theme) {
  if (theme.vars) {
    return theme.vars.palette.TableCell.border;
  }
  if (theme.palette.mode === "light") {
    return lighten(alpha(theme.palette.divider, 1), 0.88);
  }
  return darken(alpha(theme.palette.divider, 1), 0.68);
}
const columnHeadersStyles = {
  [`.${gridClasses.columnSeparator}, .${gridClasses["columnSeparator--resizing"]}`]: {
    visibility: "visible",
    width: "auto"
  }
};
const columnHeaderStyles = {
  [`& .${gridClasses.iconButtonContainer}`]: {
    visibility: "visible",
    width: "auto"
  },
  [`& .${gridClasses.menuIcon}`]: {
    width: "auto",
    visibility: "visible"
  }
};
const GridRootStyles = styled$1("div", {
  name: "MuiDataGrid",
  slot: "Root",
  overridesResolver: (props, styles) => [
    {
      [`&.${gridClasses.autoHeight}`]: styles.autoHeight
    },
    {
      [`&.${gridClasses.aggregationColumnHeader}`]: styles.aggregationColumnHeader
    },
    {
      [`&.${gridClasses["aggregationColumnHeader--alignLeft"]}`]: styles["aggregationColumnHeader--alignLeft"]
    },
    {
      [`&.${gridClasses["aggregationColumnHeader--alignCenter"]}`]: styles["aggregationColumnHeader--alignCenter"]
    },
    {
      [`&.${gridClasses["aggregationColumnHeader--alignRight"]}`]: styles["aggregationColumnHeader--alignRight"]
    },
    {
      [`&.${gridClasses.aggregationColumnHeaderLabel}`]: styles.aggregationColumnHeaderLabel
    },
    {
      [`&.${gridClasses["root--disableUserSelection"]} .${gridClasses.cell}`]: styles["root--disableUserSelection"]
    },
    {
      [`&.${gridClasses.autosizing}`]: styles.autosizing
    },
    {
      [`& .${gridClasses.editBooleanCell}`]: styles.editBooleanCell
    },
    {
      [`& .${gridClasses["cell--editing"]}`]: styles["cell--editing"]
    },
    {
      [`& .${gridClasses["cell--textCenter"]}`]: styles["cell--textCenter"]
    },
    {
      [`& .${gridClasses["cell--textLeft"]}`]: styles["cell--textLeft"]
    },
    {
      [`& .${gridClasses["cell--textRight"]}`]: styles["cell--textRight"]
    },
    // TODO v6: Remove
    {
      [`& .${gridClasses["cell--withRenderer"]}`]: styles["cell--withRenderer"]
    },
    {
      [`& .${gridClasses.cell}`]: styles.cell
    },
    {
      [`& .${gridClasses["cell--rangeTop"]}`]: styles["cell--rangeTop"]
    },
    {
      [`& .${gridClasses["cell--rangeBottom"]}`]: styles["cell--rangeBottom"]
    },
    {
      [`& .${gridClasses["cell--rangeLeft"]}`]: styles["cell--rangeLeft"]
    },
    {
      [`& .${gridClasses["cell--rangeRight"]}`]: styles["cell--rangeRight"]
    },
    {
      [`& .${gridClasses["cell--withRightBorder"]}`]: styles["cell--withRightBorder"]
    },
    {
      [`& .${gridClasses.cellContent}`]: styles.cellContent
    },
    {
      [`& .${gridClasses.cellCheckbox}`]: styles.cellCheckbox
    },
    {
      [`& .${gridClasses.cellSkeleton}`]: styles.cellSkeleton
    },
    {
      [`& .${gridClasses.checkboxInput}`]: styles.checkboxInput
    },
    {
      [`& .${gridClasses["columnHeader--alignCenter"]}`]: styles["columnHeader--alignCenter"]
    },
    {
      [`& .${gridClasses["columnHeader--alignLeft"]}`]: styles["columnHeader--alignLeft"]
    },
    {
      [`& .${gridClasses["columnHeader--alignRight"]}`]: styles["columnHeader--alignRight"]
    },
    {
      [`& .${gridClasses["columnHeader--dragging"]}`]: styles["columnHeader--dragging"]
    },
    {
      [`& .${gridClasses["columnHeader--moving"]}`]: styles["columnHeader--moving"]
    },
    {
      [`& .${gridClasses["columnHeader--numeric"]}`]: styles["columnHeader--numeric"]
    },
    {
      [`& .${gridClasses["columnHeader--sortable"]}`]: styles["columnHeader--sortable"]
    },
    {
      [`& .${gridClasses["columnHeader--sorted"]}`]: styles["columnHeader--sorted"]
    },
    {
      [`& .${gridClasses["columnHeader--withRightBorder"]}`]: styles["columnHeader--withRightBorder"]
    },
    {
      [`& .${gridClasses.columnHeader}`]: styles.columnHeader
    },
    {
      [`& .${gridClasses.headerFilterRow}`]: styles.headerFilterRow
    },
    {
      [`& .${gridClasses.columnHeaderCheckbox}`]: styles.columnHeaderCheckbox
    },
    {
      [`& .${gridClasses.columnHeaderDraggableContainer}`]: styles.columnHeaderDraggableContainer
    },
    {
      [`& .${gridClasses.columnHeaderTitleContainer}`]: styles.columnHeaderTitleContainer
    },
    {
      [`& .${gridClasses["columnSeparator--resizable"]}`]: styles["columnSeparator--resizable"]
    },
    {
      [`& .${gridClasses["columnSeparator--resizing"]}`]: styles["columnSeparator--resizing"]
    },
    {
      [`& .${gridClasses.columnSeparator}`]: styles.columnSeparator
    },
    {
      [`& .${gridClasses.filterIcon}`]: styles.filterIcon
    },
    {
      [`& .${gridClasses.iconSeparator}`]: styles.iconSeparator
    },
    {
      [`& .${gridClasses.menuIcon}`]: styles.menuIcon
    },
    {
      [`& .${gridClasses.menuIconButton}`]: styles.menuIconButton
    },
    {
      [`& .${gridClasses.menuOpen}`]: styles.menuOpen
    },
    {
      [`& .${gridClasses.menuList}`]: styles.menuList
    },
    {
      [`& .${gridClasses["row--editable"]}`]: styles["row--editable"]
    },
    {
      [`& .${gridClasses["row--editing"]}`]: styles["row--editing"]
    },
    {
      [`& .${gridClasses["row--dragging"]}`]: styles["row--dragging"]
    },
    {
      [`& .${gridClasses.row}`]: styles.row
    },
    {
      [`& .${gridClasses.rowReorderCellPlaceholder}`]: styles.rowReorderCellPlaceholder
    },
    {
      [`& .${gridClasses.rowReorderCell}`]: styles.rowReorderCell
    },
    {
      [`& .${gridClasses["rowReorderCell--draggable"]}`]: styles["rowReorderCell--draggable"]
    },
    {
      [`& .${gridClasses.sortIcon}`]: styles.sortIcon
    },
    {
      [`& .${gridClasses.withBorderColor}`]: styles.withBorderColor
    },
    {
      [`& .${gridClasses.treeDataGroupingCell}`]: styles.treeDataGroupingCell
    },
    {
      [`& .${gridClasses.treeDataGroupingCellToggle}`]: styles.treeDataGroupingCellToggle
    },
    {
      [`& .${gridClasses.detailPanelToggleCell}`]: styles.detailPanelToggleCell
    },
    {
      [`& .${gridClasses["detailPanelToggleCell--expanded"]}`]: styles["detailPanelToggleCell--expanded"]
    },
    styles.root
  ]
})(({
  theme
}) => {
  const borderColor = getBorderColor(theme);
  const radius = theme.shape.borderRadius;
  const gridStyle = _extends$1({
    "--unstable_DataGrid-radius": typeof radius === "number" ? `${radius}px` : radius,
    "--unstable_DataGrid-headWeight": theme.typography.fontWeightMedium,
    "--unstable_DataGrid-overlayBackground": theme.vars ? `rgba(${theme.vars.palette.background.defaultChannel} / ${theme.vars.palette.action.disabledOpacity})` : alpha(theme.palette.background.default, theme.palette.action.disabledOpacity),
    "--DataGrid-cellOffsetMultiplier": 2,
    flex: 1,
    boxSizing: "border-box",
    position: "relative",
    borderWidth: "1px",
    borderStyle: "solid",
    borderColor,
    borderRadius: "var(--unstable_DataGrid-radius)",
    color: (theme.vars || theme).palette.text.primary
  }, theme.typography.body2, {
    outline: "none",
    height: "100%",
    display: "flex",
    minWidth: 0,
    // See https://github.com/mui/mui-x/issues/8547
    minHeight: 0,
    flexDirection: "column",
    overflowAnchor: "none",
    // Keep the same scrolling position
    [`&.${gridClasses.autoHeight}`]: {
      height: "auto",
      [`& .${gridClasses["row--lastVisible"]} .${gridClasses.cell}`]: {
        borderBottomColor: "transparent"
      }
    },
    [`&.${gridClasses.autosizing}`]: {
      [`& .${gridClasses.columnHeaderTitleContainerContent} > *`]: {
        overflow: "visible !important"
      },
      [`& .${gridClasses.cell} > *`]: {
        overflow: "visible !important",
        whiteSpace: "nowrap"
      },
      [`& .${gridClasses.groupingCriteriaCell}`]: {
        width: "unset"
      },
      [`& .${gridClasses.treeDataGroupingCell}`]: {
        width: "unset"
      }
    },
    [`& .${gridClasses["virtualScrollerContent--overflowed"]} .${gridClasses["row--lastVisible"]} .${gridClasses.cell}`]: {
      borderBottomColor: "transparent"
    },
    [`& .${gridClasses.columnHeader}, & .${gridClasses.cell}`]: {
      WebkitTapHighlightColor: "transparent",
      lineHeight: null,
      padding: "0 10px",
      boxSizing: "border-box"
    },
    [`& .${gridClasses.columnHeader}:focus-within, & .${gridClasses.cell}:focus-within`]: {
      outline: `solid ${theme.vars ? `rgba(${theme.vars.palette.primary.mainChannel} / 0.5)` : alpha(theme.palette.primary.main, 0.5)} 1px`,
      outlineWidth: 1,
      outlineOffset: -1
    },
    [`& .${gridClasses.columnHeader}:focus, & .${gridClasses.cell}:focus`]: {
      outline: `solid ${theme.palette.primary.main} 1px`
    },
    [`& .${gridClasses.columnHeaderCheckbox}, & .${gridClasses.cellCheckbox}`]: {
      padding: 0,
      justifyContent: "center",
      alignItems: "center"
    },
    [`& .${gridClasses.columnHeader}`]: {
      position: "relative",
      display: "flex",
      alignItems: "center"
    },
    [`& .${gridClasses["columnHeader--sorted"]} .${gridClasses.iconButtonContainer}, & .${gridClasses["columnHeader--filtered"]} .${gridClasses.iconButtonContainer}`]: {
      visibility: "visible",
      width: "auto"
    },
    [`& .${gridClasses.columnHeader}:not(.${gridClasses["columnHeader--sorted"]}) .${gridClasses.sortIcon}`]: {
      opacity: 0,
      transition: theme.transitions.create(["opacity"], {
        duration: theme.transitions.duration.shorter
      })
    },
    [`& .${gridClasses.columnHeaderTitleContainer}`]: {
      display: "flex",
      alignItems: "center",
      minWidth: 0,
      flex: 1,
      whiteSpace: "nowrap",
      overflow: "hidden",
      // to anchor the aggregation label
      position: "relative"
    },
    [`& .${gridClasses.columnHeaderTitleContainerContent}`]: {
      overflow: "hidden",
      display: "flex",
      alignItems: "center"
    },
    [`& .${gridClasses["columnHeader--filledGroup"]} .${gridClasses.columnHeaderTitleContainer}`]: {
      borderBottomWidth: "1px",
      borderBottomStyle: "solid",
      boxSizing: "border-box"
    },
    [`& .${gridClasses["columnHeader--filledGroup"]}.${gridClasses["columnHeader--showColumnBorder"]} .${gridClasses.columnHeaderTitleContainer}`]: {
      borderBottom: `none`
    },
    [`& .${gridClasses["columnHeader--filledGroup"]}.${gridClasses["columnHeader--showColumnBorder"]}`]: {
      borderBottomWidth: "1px",
      borderBottomStyle: "solid",
      boxSizing: "border-box"
    },
    [`& .${gridClasses.headerFilterRow}`]: {
      borderTop: `1px solid ${borderColor}`
    },
    [`& .${gridClasses.sortIcon}, & .${gridClasses.filterIcon}`]: {
      fontSize: "inherit"
    },
    [`& .${gridClasses["columnHeader--sortable"]}`]: {
      cursor: "pointer"
    },
    [`& .${gridClasses["columnHeader--alignCenter"]} .${gridClasses.columnHeaderTitleContainer}`]: {
      justifyContent: "center"
    },
    [`& .${gridClasses["columnHeader--alignRight"]} .${gridClasses.columnHeaderDraggableContainer}, & .${gridClasses["columnHeader--alignRight"]} .${gridClasses.columnHeaderTitleContainer}`]: {
      flexDirection: "row-reverse"
    },
    [`& .${gridClasses["columnHeader--alignCenter"]} .${gridClasses.menuIcon}, & .${gridClasses["columnHeader--alignRight"]} .${gridClasses.menuIcon}`]: {
      marginRight: "auto",
      marginLeft: -6
    },
    [`& .${gridClasses["columnHeader--alignRight"]} .${gridClasses.menuIcon}, & .${gridClasses["columnHeader--alignRight"]} .${gridClasses.menuIcon}`]: {
      marginRight: "auto",
      marginLeft: -10
    },
    [`& .${gridClasses["columnHeader--moving"]}`]: {
      backgroundColor: (theme.vars || theme).palette.action.hover
    },
    [`& .${gridClasses.columnSeparator}`]: {
      visibility: "hidden",
      position: "absolute",
      zIndex: 100,
      display: "flex",
      flexDirection: "column",
      justifyContent: "center",
      color: borderColor
    },
    "@media (hover: hover)": {
      [`& .${gridClasses.columnHeaders}:hover`]: columnHeadersStyles,
      [`& .${gridClasses.columnHeader}:hover`]: columnHeaderStyles,
      [`& .${gridClasses.columnHeader}:not(.${gridClasses["columnHeader--sorted"]}):hover .${gridClasses.sortIcon}`]: {
        opacity: 0.5
      }
    },
    "@media (hover: none)": {
      [`& .${gridClasses.columnHeaders}`]: columnHeadersStyles,
      [`& .${gridClasses.columnHeader}`]: columnHeaderStyles
    },
    [`& .${gridClasses["columnSeparator--sideLeft"]}`]: {
      left: -12
    },
    [`& .${gridClasses["columnSeparator--sideRight"]}`]: {
      right: -12
    },
    [`& .${gridClasses["columnSeparator--resizable"]}`]: {
      cursor: "col-resize",
      touchAction: "none",
      "&:hover": {
        color: (theme.vars || theme).palette.text.primary,
        // Reset on touch devices, it doesn't add specificity
        "@media (hover: none)": {
          color: borderColor
        }
      },
      [`&.${gridClasses["columnSeparator--resizing"]}`]: {
        color: (theme.vars || theme).palette.text.primary
      },
      "& svg": {
        pointerEvents: "none"
      }
    },
    [`& .${gridClasses.iconSeparator}`]: {
      color: "inherit"
    },
    [`& .${gridClasses.menuIcon}`]: {
      width: 0,
      visibility: "hidden",
      fontSize: 20,
      marginRight: -10,
      display: "flex",
      alignItems: "center"
    },
    [`.${gridClasses.menuOpen}`]: {
      visibility: "visible",
      width: "auto"
    },
    [`& .${gridClasses.row}`]: {
      display: "flex",
      width: "fit-content",
      breakInside: "avoid",
      // Avoid the row to be broken in two different print pages.
      "&:hover, &.Mui-hovered": {
        backgroundColor: (theme.vars || theme).palette.action.hover,
        // Reset on touch devices, it doesn't add specificity
        "@media (hover: none)": {
          backgroundColor: "transparent"
        }
      },
      "&.Mui-selected": {
        backgroundColor: theme.vars ? `rgba(${theme.vars.palette.primary.mainChannel} / ${theme.vars.palette.action.selectedOpacity})` : alpha(theme.palette.primary.main, theme.palette.action.selectedOpacity),
        "&:hover, &.Mui-hovered": {
          backgroundColor: theme.vars ? `rgba(${theme.vars.palette.primary.mainChannel} / calc(
                ${theme.vars.palette.action.selectedOpacity} + 
                ${theme.vars.palette.action.hoverOpacity}
              ))` : alpha(theme.palette.primary.main, theme.palette.action.selectedOpacity + theme.palette.action.hoverOpacity),
          // Reset on touch devices, it doesn't add specificity
          "@media (hover: none)": {
            backgroundColor: theme.vars ? `rgba(${theme.vars.palette.primary.mainChannel} / ${theme.vars.palette.action.selectedOpacity})` : alpha(theme.palette.primary.main, theme.palette.action.selectedOpacity)
          }
        }
      }
    },
    [`& .${gridClasses.cell}`]: {
      display: "flex",
      alignItems: "center",
      borderBottom: "1px solid",
      "&.Mui-selected": {
        backgroundColor: theme.vars ? `rgba(${theme.vars.palette.primary.mainChannel} / ${theme.vars.palette.action.selectedOpacity})` : alpha(theme.palette.primary.main, theme.palette.action.selectedOpacity),
        "&:hover, &.Mui-hovered": {
          backgroundColor: theme.vars ? `rgba(${theme.vars.palette.primary.mainChannel} / ${theme.vars.palette.action.selectedOpacity + theme.palette.action.hoverOpacity})` : alpha(theme.palette.primary.main, theme.palette.action.selectedOpacity + theme.palette.action.hoverOpacity),
          // Reset on touch devices, it doesn't add specificity
          "@media (hover: none)": {
            backgroundColor: theme.vars ? `rgba(${theme.vars.palette.primary.mainChannel} / ${theme.vars.palette.action.selectedOpacity})` : alpha(theme.palette.primary.main, theme.palette.action.selectedOpacity)
          }
        }
      }
    },
    [`&.${gridClasses["root--disableUserSelection"]} .${gridClasses.cell}`]: {
      userSelect: "none"
    },
    [`& .${gridClasses.row}:not(.${gridClasses["row--dynamicHeight"]}) > .${gridClasses.cell}`]: {
      overflow: "hidden",
      whiteSpace: "nowrap"
    },
    [`& .${gridClasses.cellContent}`]: {
      overflow: "hidden",
      textOverflow: "ellipsis"
    },
    [`& .${gridClasses.cell}.${gridClasses["cell--selectionMode"]}`]: {
      cursor: "default"
    },
    [`& .${gridClasses.cell}.${gridClasses["cell--editing"]}`]: {
      padding: 1,
      display: "flex",
      boxShadow: theme.shadows[2],
      backgroundColor: (theme.vars || theme).palette.background.paper,
      "&:focus-within": {
        outline: `solid ${(theme.vars || theme).palette.primary.main} 1px`,
        outlineOffset: "-1px"
      }
    },
    [`& .${gridClasses["row--editing"]}`]: {
      boxShadow: theme.shadows[2]
    },
    [`& .${gridClasses["row--editing"]} .${gridClasses.cell}`]: {
      boxShadow: theme.shadows[0],
      backgroundColor: (theme.vars || theme).palette.background.paper
    },
    [`& .${gridClasses.editBooleanCell}`]: {
      display: "flex",
      height: "100%",
      width: "100%",
      alignItems: "center",
      justifyContent: "center"
    },
    [`& .${gridClasses.booleanCell}[data-value="true"]`]: {
      color: (theme.vars || theme).palette.text.secondary
    },
    [`& .${gridClasses.booleanCell}[data-value="false"]`]: {
      color: (theme.vars || theme).palette.text.disabled
    },
    [`& .${gridClasses.actionsCell}`]: {
      display: "inline-flex",
      alignItems: "center",
      gridGap: theme.spacing(1)
    },
    [`& .${gridClasses.rowReorderCell}`]: {
      display: "inline-flex",
      flex: 1,
      alignItems: "center",
      justifyContent: "center",
      opacity: (theme.vars || theme).palette.action.disabledOpacity
    },
    [`& .${gridClasses["rowReorderCell--draggable"]}`]: {
      cursor: "move",
      opacity: 1
    },
    [`& .${gridClasses.rowReorderCellContainer}`]: {
      padding: 0,
      alignItems: "stretch"
    },
    [`.${gridClasses.withBorderColor}`]: {
      borderColor
    },
    [`& .${gridClasses["cell--withRightBorder"]}`]: {
      borderRightWidth: "1px",
      borderRightStyle: "solid"
    },
    [`& .${gridClasses["columnHeader--withRightBorder"]}`]: {
      borderRightWidth: "1px",
      borderRightStyle: "solid"
    },
    [`& .${gridClasses["cell--textLeft"]}`]: {
      justifyContent: "flex-start"
    },
    [`& .${gridClasses["cell--textRight"]}`]: {
      justifyContent: "flex-end"
    },
    [`& .${gridClasses["cell--textCenter"]}`]: {
      justifyContent: "center"
    },
    [`& .${gridClasses.columnHeaderDraggableContainer}`]: {
      display: "flex",
      width: "100%",
      height: "100%"
    },
    [`& .${gridClasses.rowReorderCellPlaceholder}`]: {
      display: "none"
    },
    [`& .${gridClasses["columnHeader--dragging"]}, & .${gridClasses["row--dragging"]}`]: {
      background: (theme.vars || theme).palette.background.paper,
      padding: "0 12px",
      borderRadius: "var(--unstable_DataGrid-radius)",
      opacity: (theme.vars || theme).palette.action.disabledOpacity
    },
    [`& .${gridClasses["row--dragging"]}`]: {
      background: (theme.vars || theme).palette.background.paper,
      padding: "0 12px",
      borderRadius: "var(--unstable_DataGrid-radius)",
      opacity: (theme.vars || theme).palette.action.disabledOpacity,
      [`& .${gridClasses.rowReorderCellPlaceholder}`]: {
        display: "flex"
      }
    },
    [`& .${gridClasses.treeDataGroupingCell}`]: {
      display: "flex",
      alignItems: "center",
      width: "100%"
    },
    [`& .${gridClasses.treeDataGroupingCellToggle}`]: {
      flex: "0 0 28px",
      alignSelf: "stretch",
      marginRight: theme.spacing(2)
    },
    [`& .${gridClasses.groupingCriteriaCell}`]: {
      display: "flex",
      alignItems: "center",
      width: "100%"
    },
    [`& .${gridClasses.groupingCriteriaCellToggle}`]: {
      flex: "0 0 28px",
      alignSelf: "stretch",
      marginRight: theme.spacing(2)
    }
  });
  return gridStyle;
});
const _excluded$G = ["children", "className"];
const useUtilityClasses$r = (ownerState) => {
  const {
    autoHeight,
    density,
    classes
  } = ownerState;
  const slots = {
    root: ["root", autoHeight && "autoHeight", `root--density${unstable_capitalize(density)}`, "withBorderColor"]
  };
  return unstable_composeClasses(slots, getDataGridUtilityClass, classes);
};
const GridRoot = /* @__PURE__ */ React.forwardRef(function GridRoot2(props, ref) {
  var _rootProps$experiment;
  const rootProps = useGridRootProps();
  const {
    children,
    className
  } = props, other = _objectWithoutPropertiesLoose$1(props, _excluded$G);
  const apiRef = useGridPrivateApiContext();
  const densityValue = useGridSelector(apiRef, gridDensityValueSelector);
  const rootContainerRef = React.useRef(null);
  const handleRef = unstable_useForkRef(rootContainerRef, ref);
  const getAriaAttributes = (_rootProps$experiment = rootProps.experimentalFeatures) != null && _rootProps$experiment.ariaV7 ? null : useGridAriaAttributes;
  const ariaAttributes = typeof getAriaAttributes === "function" ? getAriaAttributes() : null;
  const ownerState = _extends$1({}, rootProps, {
    density: densityValue
  });
  const classes = useUtilityClasses$r(ownerState);
  apiRef.current.register("public", {
    rootElementRef: rootContainerRef
  });
  const [mountedState, setMountedState] = React.useState(false);
  unstable_useEnhancedEffect(() => {
    setMountedState(true);
  }, []);
  if (!mountedState) {
    return null;
  }
  return /* @__PURE__ */ jsx(GridRootStyles, _extends$1({
    ref: handleRef,
    className: clsx(className, classes.root),
    ownerState
  }, ariaAttributes, other, {
    children
  }));
});
process.env.NODE_ENV !== "production" ? GridRoot.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // | To update them edit the TypeScript types and run "yarn proptypes"  |
  // ----------------------------------------------------------------------
  /**
   * The system prop that allows defining system overrides as well as additional CSS styles.
   */
  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])
} : void 0;
const _excluded$F = ["className"];
const useUtilityClasses$q = (ownerState) => {
  const {
    classes
  } = ownerState;
  const slots = {
    root: ["footerContainer", "withBorderColor"]
  };
  return unstable_composeClasses(slots, getDataGridUtilityClass, classes);
};
const GridFooterContainerRoot = styled("div", {
  name: "MuiDataGrid",
  slot: "FooterContainer",
  overridesResolver: (props, styles) => styles.footerContainer
})({
  display: "flex",
  justifyContent: "space-between",
  alignItems: "center",
  minHeight: 52,
  borderTop: "1px solid"
});
const GridFooterContainer = /* @__PURE__ */ React.forwardRef(function GridFooterContainer2(props, ref) {
  const {
    className
  } = props, other = _objectWithoutPropertiesLoose$1(props, _excluded$F);
  const rootProps = useGridRootProps();
  const classes = useUtilityClasses$q(rootProps);
  return /* @__PURE__ */ jsx(GridFooterContainerRoot, _extends$1({
    ref,
    className: clsx(classes.root, className),
    ownerState: rootProps
  }, other));
});
process.env.NODE_ENV !== "production" ? GridFooterContainer.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // | To update them edit the TypeScript types and run "yarn proptypes"  |
  // ----------------------------------------------------------------------
  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])
} : void 0;
const _excluded$E = ["className"];
const useUtilityClasses$p = (ownerState) => {
  const {
    classes
  } = ownerState;
  const slots = {
    root: ["overlay"]
  };
  return unstable_composeClasses(slots, getDataGridUtilityClass, classes);
};
const GridOverlayRoot = styled("div", {
  name: "MuiDataGrid",
  slot: "Overlay",
  overridesResolver: (_, styles) => styles.overlay
})({
  width: "100%",
  height: "100%",
  display: "flex",
  alignSelf: "center",
  alignItems: "center",
  justifyContent: "center",
  backgroundColor: "var(--unstable_DataGrid-overlayBackground)"
});
const GridOverlay = /* @__PURE__ */ React.forwardRef(function GridOverlay2(props, ref) {
  const {
    className
  } = props, other = _objectWithoutPropertiesLoose$1(props, _excluded$E);
  const rootProps = useGridRootProps();
  const classes = useUtilityClasses$p(rootProps);
  return /* @__PURE__ */ jsx(GridOverlayRoot, _extends$1({
    ref,
    className: clsx(classes.root, className),
    ownerState: rootProps
  }, other));
});
process.env.NODE_ENV !== "production" ? GridOverlay.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // | To update them edit the TypeScript types and run "yarn proptypes"  |
  // ----------------------------------------------------------------------
  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])
} : void 0;
const _excluded$D = ["className"];
const useUtilityClasses$o = (ownerState) => {
  const {
    classes
  } = ownerState;
  const slots = {
    root: ["iconButtonContainer"]
  };
  return unstable_composeClasses(slots, getDataGridUtilityClass, classes);
};
const GridIconButtonContainerRoot = styled("div", {
  name: "MuiDataGrid",
  slot: "IconButtonContainer",
  overridesResolver: (props, styles) => styles.iconButtonContainer
})(() => ({
  display: "flex",
  visibility: "hidden",
  width: 0
}));
const GridIconButtonContainer = /* @__PURE__ */ React.forwardRef(function GridIconButtonContainer2(props, ref) {
  const {
    className
  } = props, other = _objectWithoutPropertiesLoose$1(props, _excluded$D);
  const rootProps = useGridRootProps();
  const classes = useUtilityClasses$o(rootProps);
  return /* @__PURE__ */ jsx(GridIconButtonContainerRoot, _extends$1({
    ref,
    className: clsx(classes.root, className),
    ownerState: rootProps
  }, other));
});
const useUtilityClasses$n = (ownerState) => {
  const {
    classes
  } = ownerState;
  const slots = {
    icon: ["sortIcon"]
  };
  return unstable_composeClasses(slots, getDataGridUtilityClass, classes);
};
function getIcon(icons, direction, className, sortingOrder) {
  let Icon;
  const iconProps = {};
  if (direction === "asc") {
    Icon = icons.columnSortedAscendingIcon;
  } else if (direction === "desc") {
    Icon = icons.columnSortedDescendingIcon;
  } else {
    Icon = icons.columnUnsortedIcon;
    iconProps.sortingOrder = sortingOrder;
  }
  return Icon ? /* @__PURE__ */ jsx(Icon, _extends$1({
    fontSize: "small",
    className
  }, iconProps)) : null;
}
function GridColumnHeaderSortIconRaw(props) {
  var _rootProps$slotProps;
  const {
    direction,
    index: index2,
    sortingOrder
  } = props;
  const apiRef = useGridApiContext();
  const rootProps = useGridRootProps();
  const ownerState = _extends$1({}, props, {
    classes: rootProps.classes
  });
  const classes = useUtilityClasses$n(ownerState);
  const iconElement = getIcon(rootProps.slots, direction, classes.icon, sortingOrder);
  if (!iconElement) {
    return null;
  }
  const iconButton = /* @__PURE__ */ jsx(rootProps.slots.baseIconButton, _extends$1({
    tabIndex: -1,
    "aria-label": apiRef.current.getLocaleText("columnHeaderSortIconLabel"),
    title: apiRef.current.getLocaleText("columnHeaderSortIconLabel"),
    size: "small"
  }, (_rootProps$slotProps = rootProps.slotProps) == null ? void 0 : _rootProps$slotProps.baseIconButton, {
    children: iconElement
  }));
  return /* @__PURE__ */ jsxs(GridIconButtonContainer, {
    children: [index2 != null && /* @__PURE__ */ jsx(Badge$1, {
      badgeContent: index2,
      color: "default",
      children: iconButton
    }), index2 == null && iconButton]
  });
}
const GridColumnHeaderSortIcon = /* @__PURE__ */ React.memo(GridColumnHeaderSortIconRaw);
process.env.NODE_ENV !== "production" ? GridColumnHeaderSortIconRaw.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // | To update them edit the TypeScript types and run "yarn proptypes"  |
  // ----------------------------------------------------------------------
  direction: PropTypes.oneOf(["asc", "desc"]),
  index: PropTypes.number,
  sortingOrder: PropTypes.arrayOf(PropTypes.oneOf(["asc", "desc"])).isRequired
} : void 0;
const useUtilityClasses$m = (ownerState) => {
  const {
    classes,
    open
  } = ownerState;
  const slots = {
    root: ["menuIcon", open && "menuOpen"],
    button: ["menuIconButton"]
  };
  return unstable_composeClasses(slots, getDataGridUtilityClass, classes);
};
const ColumnHeaderMenuIcon = /* @__PURE__ */ React.memo((props) => {
  var _rootProps$slotProps, _rootProps$slotProps2;
  const {
    colDef,
    open,
    columnMenuId,
    columnMenuButtonId,
    iconButtonRef
  } = props;
  const apiRef = useGridApiContext();
  const rootProps = useGridRootProps();
  const ownerState = _extends$1({}, props, {
    classes: rootProps.classes
  });
  const classes = useUtilityClasses$m(ownerState);
  const handleMenuIconClick = React.useCallback((event) => {
    event.preventDefault();
    event.stopPropagation();
    apiRef.current.toggleColumnMenu(colDef.field);
  }, [apiRef, colDef.field]);
  return /* @__PURE__ */ jsx("div", {
    className: classes.root,
    children: /* @__PURE__ */ jsx(rootProps.slots.baseTooltip, _extends$1({
      title: apiRef.current.getLocaleText("columnMenuLabel"),
      enterDelay: 1e3
    }, (_rootProps$slotProps = rootProps.slotProps) == null ? void 0 : _rootProps$slotProps.baseTooltip, {
      children: /* @__PURE__ */ jsx(rootProps.slots.baseIconButton, _extends$1({
        ref: iconButtonRef,
        tabIndex: -1,
        className: classes.button,
        "aria-label": apiRef.current.getLocaleText("columnMenuLabel"),
        size: "small",
        onClick: handleMenuIconClick,
        "aria-haspopup": "menu",
        "aria-expanded": open,
        "aria-controls": open ? columnMenuId : void 0,
        id: columnMenuButtonId
      }, (_rootProps$slotProps2 = rootProps.slotProps) == null ? void 0 : _rootProps$slotProps2.baseIconButton, {
        children: /* @__PURE__ */ jsx(rootProps.slots.columnMenuIcon, {
          fontSize: "small"
        })
      }))
    }))
  });
});
function GridColumnHeaderMenu({
  columnMenuId,
  columnMenuButtonId,
  ContentComponent,
  contentComponentProps,
  field,
  open,
  target,
  onExited
}) {
  const apiRef = useGridApiContext();
  const colDef = apiRef.current.getColumn(field);
  const hideMenu = unstable_useEventCallback((event) => {
    if (event) {
      event.stopPropagation();
      if (target != null && target.contains(event.target)) {
        return;
      }
    }
    apiRef.current.hideColumnMenu();
  });
  if (!target || !colDef) {
    return null;
  }
  return /* @__PURE__ */ jsx(GridMenu, {
    placement: `bottom-${colDef.align === "right" ? "start" : "end"}`,
    open,
    target,
    onClose: hideMenu,
    onExited,
    children: /* @__PURE__ */ jsx(ContentComponent, _extends$1({
      colDef,
      hideMenu,
      open,
      id: columnMenuId,
      labelledby: columnMenuButtonId
    }, contentComponentProps))
  });
}
process.env.NODE_ENV !== "production" ? GridColumnHeaderMenu.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // | To update them edit the TypeScript types and run "yarn proptypes"  |
  // ----------------------------------------------------------------------
  columnMenuButtonId: PropTypes.string,
  columnMenuId: PropTypes.string,
  ContentComponent: PropTypes.elementType.isRequired,
  contentComponentProps: PropTypes.any,
  field: PropTypes.string.isRequired,
  onExited: PropTypes.func,
  open: PropTypes.bool.isRequired,
  target: HTMLElementType
} : void 0;
const _excluded$C = ["className"];
const useUtilityClasses$l = (ownerState) => {
  const {
    classes
  } = ownerState;
  const slots = {
    root: ["columnHeaderTitle"]
  };
  return unstable_composeClasses(slots, getDataGridUtilityClass, classes);
};
const GridColumnHeaderTitleRoot = styled("div", {
  name: "MuiDataGrid",
  slot: "ColumnHeaderTitle",
  overridesResolver: (props, styles) => styles.columnHeaderTitle
})({
  textOverflow: "ellipsis",
  overflow: "hidden",
  whiteSpace: "nowrap",
  fontWeight: "var(--unstable_DataGrid-headWeight)"
});
const ColumnHeaderInnerTitle = /* @__PURE__ */ React.forwardRef(function ColumnHeaderInnerTitle2(props, ref) {
  const {
    className
  } = props, other = _objectWithoutPropertiesLoose$1(props, _excluded$C);
  const rootProps = useGridRootProps();
  const classes = useUtilityClasses$l(rootProps);
  return /* @__PURE__ */ jsx(GridColumnHeaderTitleRoot, _extends$1({
    ref,
    className: clsx(classes.root, className),
    ownerState: rootProps
  }, other));
});
function GridColumnHeaderTitle(props) {
  var _rootProps$slotProps;
  const {
    label,
    description
  } = props;
  const rootProps = useGridRootProps();
  const titleRef = React.useRef(null);
  const [tooltip, setTooltip] = React.useState("");
  const handleMouseOver = React.useCallback(() => {
    if (!description && titleRef != null && titleRef.current) {
      const isOver = isOverflown(titleRef.current);
      if (isOver) {
        setTooltip(label);
      } else {
        setTooltip("");
      }
    }
  }, [description, label]);
  return /* @__PURE__ */ jsx(rootProps.slots.baseTooltip, _extends$1({
    title: description || tooltip
  }, (_rootProps$slotProps = rootProps.slotProps) == null ? void 0 : _rootProps$slotProps.baseTooltip, {
    children: /* @__PURE__ */ jsx(ColumnHeaderInnerTitle, {
      onMouseOver: handleMouseOver,
      ref: titleRef,
      children: label
    })
  }));
}
process.env.NODE_ENV !== "production" ? GridColumnHeaderTitle.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // | To update them edit the TypeScript types and run "yarn proptypes"  |
  // ----------------------------------------------------------------------
  columnWidth: PropTypes.number.isRequired,
  description: PropTypes.node,
  label: PropTypes.string.isRequired
} : void 0;
const _excluded$B = ["resizable", "resizing", "height", "side"];
var GridColumnHeaderSeparatorSides = /* @__PURE__ */ function(GridColumnHeaderSeparatorSides2) {
  GridColumnHeaderSeparatorSides2["Left"] = "left";
  GridColumnHeaderSeparatorSides2["Right"] = "right";
  return GridColumnHeaderSeparatorSides2;
}(GridColumnHeaderSeparatorSides || {});
const useUtilityClasses$k = (ownerState) => {
  const {
    resizable,
    resizing,
    classes,
    side
  } = ownerState;
  const slots = {
    root: ["columnSeparator", resizable && "columnSeparator--resizable", resizing && "columnSeparator--resizing", side && `columnSeparator--side${unstable_capitalize(side)}`],
    icon: ["iconSeparator"]
  };
  return unstable_composeClasses(slots, getDataGridUtilityClass, classes);
};
function GridColumnHeaderSeparatorRaw(props) {
  const {
    height,
    side = GridColumnHeaderSeparatorSides.Right
  } = props, other = _objectWithoutPropertiesLoose$1(props, _excluded$B);
  const rootProps = useGridRootProps();
  const ownerState = _extends$1({}, props, {
    side,
    classes: rootProps.classes
  });
  const classes = useUtilityClasses$k(ownerState);
  const stopClick = React.useCallback((event) => {
    event.preventDefault();
    event.stopPropagation();
  }, []);
  return (
    // eslint-disable-next-line jsx-a11y/click-events-have-key-events,jsx-a11y/no-static-element-interactions
    /* @__PURE__ */ jsx("div", _extends$1({
      className: classes.root,
      style: {
        minHeight: height,
        opacity: rootProps.showColumnVerticalBorder ? 0 : 1
      }
    }, other, {
      onClick: stopClick,
      children: /* @__PURE__ */ jsx(rootProps.slots.columnResizeIcon, {
        className: classes.icon
      })
    }))
  );
}
const GridColumnHeaderSeparator = /* @__PURE__ */ React.memo(GridColumnHeaderSeparatorRaw);
process.env.NODE_ENV !== "production" ? GridColumnHeaderSeparatorRaw.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // | To update them edit the TypeScript types and run "yarn proptypes"  |
  // ----------------------------------------------------------------------
  height: PropTypes.number.isRequired,
  resizable: PropTypes.bool.isRequired,
  resizing: PropTypes.bool.isRequired,
  side: PropTypes.oneOf(["left", "right"])
} : void 0;
const _excluded$A = ["classes", "columnMenuOpen", "colIndex", "height", "isResizing", "sortDirection", "hasFocus", "tabIndex", "separatorSide", "isDraggable", "headerComponent", "description", "elementId", "width", "columnMenuIconButton", "columnMenu", "columnTitleIconButtons", "headerClassName", "label", "resizable", "draggableContainerProps", "columnHeaderSeparatorProps"];
const GridGenericColumnHeaderItem = /* @__PURE__ */ React.forwardRef(function GridGenericColumnHeaderItem2(props, ref) {
  const {
    classes,
    columnMenuOpen,
    colIndex,
    height,
    isResizing,
    sortDirection,
    hasFocus,
    tabIndex,
    separatorSide,
    isDraggable,
    headerComponent,
    description,
    width,
    columnMenuIconButton = null,
    columnMenu = null,
    columnTitleIconButtons = null,
    headerClassName,
    label,
    resizable,
    draggableContainerProps,
    columnHeaderSeparatorProps
  } = props, other = _objectWithoutPropertiesLoose$1(props, _excluded$A);
  const apiRef = useGridPrivateApiContext();
  const rootProps = useGridRootProps();
  const headerCellRef = React.useRef(null);
  const [showColumnMenuIcon, setShowColumnMenuIcon] = React.useState(columnMenuOpen);
  const handleRef = unstable_useForkRef(headerCellRef, ref);
  let ariaSort = "none";
  if (sortDirection != null) {
    ariaSort = sortDirection === "asc" ? "ascending" : "descending";
  }
  React.useEffect(() => {
    if (!showColumnMenuIcon) {
      setShowColumnMenuIcon(columnMenuOpen);
    }
  }, [showColumnMenuIcon, columnMenuOpen]);
  React.useLayoutEffect(() => {
    const columnMenuState = apiRef.current.state.columnMenu;
    if (hasFocus && !columnMenuState.open) {
      const focusableElement = headerCellRef.current.querySelector('[tabindex="0"]');
      const elementToFocus = focusableElement || headerCellRef.current;
      elementToFocus == null || elementToFocus.focus();
      apiRef.current.columnHeadersContainerElementRef.current.scrollLeft = 0;
    }
  }, [apiRef, hasFocus]);
  return /* @__PURE__ */ jsxs("div", _extends$1({
    ref: handleRef,
    className: clsx(classes.root, headerClassName),
    style: {
      height,
      width,
      minWidth: width,
      maxWidth: width
    },
    role: "columnheader",
    tabIndex,
    "aria-colindex": colIndex + 1,
    "aria-sort": ariaSort,
    "aria-label": headerComponent == null ? label : void 0
  }, other, {
    children: [/* @__PURE__ */ jsxs("div", _extends$1({
      className: classes.draggableContainer,
      draggable: isDraggable,
      role: "presentation"
    }, draggableContainerProps, {
      children: [/* @__PURE__ */ jsxs("div", {
        className: classes.titleContainer,
        role: "presentation",
        children: [/* @__PURE__ */ jsx("div", {
          className: classes.titleContainerContent,
          children: headerComponent !== void 0 ? headerComponent : /* @__PURE__ */ jsx(GridColumnHeaderTitle, {
            label,
            description,
            columnWidth: width
          })
        }), columnTitleIconButtons]
      }), columnMenuIconButton]
    })), /* @__PURE__ */ jsx(GridColumnHeaderSeparator, _extends$1({
      resizable: !rootProps.disableColumnResize && !!resizable,
      resizing: isResizing,
      height,
      side: separatorSide
    }, columnHeaderSeparatorProps)), columnMenu]
  }));
});
const useUtilityClasses$j = (ownerState) => {
  const {
    colDef,
    classes,
    isDragging,
    sortDirection,
    showRightBorder,
    filterItemsCounter
  } = ownerState;
  const isColumnSorted = sortDirection != null;
  const isColumnFiltered = filterItemsCounter != null && filterItemsCounter > 0;
  const isColumnNumeric = colDef.type === "number";
  const slots = {
    root: ["columnHeader", colDef.headerAlign === "left" && "columnHeader--alignLeft", colDef.headerAlign === "center" && "columnHeader--alignCenter", colDef.headerAlign === "right" && "columnHeader--alignRight", colDef.sortable && "columnHeader--sortable", isDragging && "columnHeader--moving", isColumnSorted && "columnHeader--sorted", isColumnFiltered && "columnHeader--filtered", isColumnNumeric && "columnHeader--numeric", "withBorderColor", showRightBorder && "columnHeader--withRightBorder"],
    draggableContainer: ["columnHeaderDraggableContainer"],
    titleContainer: ["columnHeaderTitleContainer"],
    titleContainerContent: ["columnHeaderTitleContainerContent"]
  };
  return unstable_composeClasses(slots, getDataGridUtilityClass, classes);
};
function GridColumnHeaderItem(props) {
  var _rootProps$slotProps, _colDef$sortingOrder, _rootProps$slotProps2, _colDef$headerName;
  const {
    colDef,
    columnMenuOpen,
    colIndex,
    headerHeight,
    isResizing,
    sortDirection,
    sortIndex,
    filterItemsCounter,
    hasFocus,
    tabIndex,
    disableReorder,
    separatorSide
  } = props;
  const apiRef = useGridPrivateApiContext();
  const rootProps = useGridRootProps();
  const headerCellRef = React.useRef(null);
  const columnMenuId = unstable_useId();
  const columnMenuButtonId = unstable_useId();
  const iconButtonRef = React.useRef(null);
  const [showColumnMenuIcon, setShowColumnMenuIcon] = React.useState(columnMenuOpen);
  const isDraggable = React.useMemo(() => !rootProps.disableColumnReorder && !disableReorder && !colDef.disableReorder, [rootProps.disableColumnReorder, disableReorder, colDef.disableReorder]);
  let headerComponent;
  if (colDef.renderHeader) {
    headerComponent = colDef.renderHeader(apiRef.current.getColumnHeaderParams(colDef.field));
  }
  const ownerState = _extends$1({}, props, {
    classes: rootProps.classes,
    showRightBorder: rootProps.showColumnVerticalBorder
  });
  const classes = useUtilityClasses$j(ownerState);
  const publish = React.useCallback((eventName) => (event) => {
    if (isEventTargetInPortal(event)) {
      return;
    }
    apiRef.current.publishEvent(eventName, apiRef.current.getColumnHeaderParams(colDef.field), event);
  }, [apiRef, colDef.field]);
  const mouseEventsHandlers = React.useMemo(() => ({
    onClick: publish("columnHeaderClick"),
    onDoubleClick: publish("columnHeaderDoubleClick"),
    onMouseOver: publish("columnHeaderOver"),
    // TODO remove as it's not used
    onMouseOut: publish("columnHeaderOut"),
    // TODO remove as it's not used
    onMouseEnter: publish("columnHeaderEnter"),
    // TODO remove as it's not used
    onMouseLeave: publish("columnHeaderLeave"),
    // TODO remove as it's not used
    onKeyDown: publish("columnHeaderKeyDown"),
    onFocus: publish("columnHeaderFocus"),
    onBlur: publish("columnHeaderBlur")
  }), [publish]);
  const draggableEventHandlers = React.useMemo(() => isDraggable ? {
    onDragStart: publish("columnHeaderDragStart"),
    onDragEnter: publish("columnHeaderDragEnter"),
    onDragOver: publish("columnHeaderDragOver"),
    onDragEnd: publish("columnHeaderDragEnd")
  } : {}, [isDraggable, publish]);
  const columnHeaderSeparatorProps = React.useMemo(() => ({
    onMouseDown: publish("columnSeparatorMouseDown"),
    onDoubleClick: publish("columnSeparatorDoubleClick")
  }), [publish]);
  React.useEffect(() => {
    if (!showColumnMenuIcon) {
      setShowColumnMenuIcon(columnMenuOpen);
    }
  }, [showColumnMenuIcon, columnMenuOpen]);
  const handleExited = React.useCallback(() => {
    setShowColumnMenuIcon(false);
  }, []);
  const columnMenuIconButton = !rootProps.disableColumnMenu && !colDef.disableColumnMenu && /* @__PURE__ */ jsx(ColumnHeaderMenuIcon, {
    colDef,
    columnMenuId,
    columnMenuButtonId,
    open: showColumnMenuIcon,
    iconButtonRef
  });
  const columnMenu = /* @__PURE__ */ jsx(GridColumnHeaderMenu, {
    columnMenuId,
    columnMenuButtonId,
    field: colDef.field,
    open: columnMenuOpen,
    target: iconButtonRef.current,
    ContentComponent: rootProps.slots.columnMenu,
    contentComponentProps: (_rootProps$slotProps = rootProps.slotProps) == null ? void 0 : _rootProps$slotProps.columnMenu,
    onExited: handleExited
  });
  const sortingOrder = (_colDef$sortingOrder = colDef.sortingOrder) != null ? _colDef$sortingOrder : rootProps.sortingOrder;
  const columnTitleIconButtons = /* @__PURE__ */ jsxs(React.Fragment, {
    children: [!rootProps.disableColumnFilter && /* @__PURE__ */ jsx(rootProps.slots.columnHeaderFilterIconButton, _extends$1({
      field: colDef.field,
      counter: filterItemsCounter
    }, (_rootProps$slotProps2 = rootProps.slotProps) == null ? void 0 : _rootProps$slotProps2.columnHeaderFilterIconButton)), colDef.sortable && !colDef.hideSortIcons && /* @__PURE__ */ jsx(GridColumnHeaderSortIcon, {
      direction: sortDirection,
      index: sortIndex,
      sortingOrder
    })]
  });
  React.useLayoutEffect(() => {
    const columnMenuState = apiRef.current.state.columnMenu;
    if (hasFocus && !columnMenuState.open) {
      var _apiRef$current$colum;
      const focusableElement = headerCellRef.current.querySelector('[tabindex="0"]');
      const elementToFocus = focusableElement || headerCellRef.current;
      elementToFocus == null || elementToFocus.focus();
      if ((_apiRef$current$colum = apiRef.current.columnHeadersContainerElementRef) != null && _apiRef$current$colum.current) {
        apiRef.current.columnHeadersContainerElementRef.current.scrollLeft = 0;
      }
    }
  }, [apiRef, hasFocus]);
  const headerClassName = typeof colDef.headerClassName === "function" ? colDef.headerClassName({
    field: colDef.field,
    colDef
  }) : colDef.headerClassName;
  const label = (_colDef$headerName = colDef.headerName) != null ? _colDef$headerName : colDef.field;
  return /* @__PURE__ */ jsx(GridGenericColumnHeaderItem, _extends$1({
    ref: headerCellRef,
    classes,
    columnMenuOpen,
    colIndex,
    height: headerHeight,
    isResizing,
    sortDirection,
    hasFocus,
    tabIndex,
    separatorSide,
    isDraggable,
    headerComponent,
    description: colDef.description,
    elementId: colDef.field,
    width: colDef.computedWidth,
    columnMenuIconButton,
    columnTitleIconButtons,
    headerClassName,
    label,
    resizable: !rootProps.disableColumnResize && !!colDef.resizable,
    "data-field": colDef.field,
    columnMenu,
    draggableContainerProps: draggableEventHandlers,
    columnHeaderSeparatorProps
  }, mouseEventsHandlers));
}
process.env.NODE_ENV !== "production" ? GridColumnHeaderItem.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // | To update them edit the TypeScript types and run "yarn proptypes"  |
  // ----------------------------------------------------------------------
  colDef: PropTypes.object.isRequired,
  colIndex: PropTypes.number.isRequired,
  columnMenuOpen: PropTypes.bool.isRequired,
  disableReorder: PropTypes.bool,
  filterItemsCounter: PropTypes.number,
  hasFocus: PropTypes.bool,
  headerHeight: PropTypes.number.isRequired,
  isDragging: PropTypes.bool.isRequired,
  isResizing: PropTypes.bool.isRequired,
  separatorSide: PropTypes.oneOf(["left", "right"]),
  sortDirection: PropTypes.oneOf(["asc", "desc"]),
  sortIndex: PropTypes.number,
  tabIndex: PropTypes.oneOf([-1, 0]).isRequired
} : void 0;
const getDefaultGridFilterModel = () => ({
  items: [],
  logicOperator: GridLogicOperator.And,
  quickFilterValues: [],
  quickFilterLogicOperator: GridLogicOperator.And
});
const CLEANUP_TIMER_LOOP_MILLIS = 1e3;
class TimerBasedCleanupTracking {
  constructor(timeout = CLEANUP_TIMER_LOOP_MILLIS) {
    this.timeouts = /* @__PURE__ */ new Map();
    this.cleanupTimeout = CLEANUP_TIMER_LOOP_MILLIS;
    this.cleanupTimeout = timeout;
  }
  register(object, unsubscribe, unregisterToken) {
    if (!this.timeouts) {
      this.timeouts = /* @__PURE__ */ new Map();
    }
    const timeout = setTimeout(() => {
      if (typeof unsubscribe === "function") {
        unsubscribe();
      }
      this.timeouts.delete(unregisterToken.cleanupToken);
    }, this.cleanupTimeout);
    this.timeouts.set(unregisterToken.cleanupToken, timeout);
  }
  unregister(unregisterToken) {
    const timeout = this.timeouts.get(unregisterToken.cleanupToken);
    if (timeout) {
      this.timeouts.delete(unregisterToken.cleanupToken);
      clearTimeout(timeout);
    }
  }
  reset() {
    if (this.timeouts) {
      this.timeouts.forEach((value, key) => {
        this.unregister({
          cleanupToken: key
        });
      });
      this.timeouts = void 0;
    }
  }
}
class FinalizationRegistryBasedCleanupTracking {
  constructor() {
    this.registry = new FinalizationRegistry((unsubscribe) => {
      if (typeof unsubscribe === "function") {
        unsubscribe();
      }
    });
  }
  register(object, unsubscribe, unregisterToken) {
    this.registry.register(object, unsubscribe, unregisterToken);
  }
  unregister(unregisterToken) {
    this.registry.unregister(unregisterToken);
  }
  // eslint-disable-next-line class-methods-use-this
  reset() {
  }
}
var GridSignature = /* @__PURE__ */ function(GridSignature2) {
  GridSignature2["DataGrid"] = "DataGrid";
  GridSignature2["DataGridPro"] = "DataGridPro";
  return GridSignature2;
}(GridSignature || {});
class ObjectToBeRetainedByReact {
}
function createUseGridApiEventHandler(registryContainer2) {
  let cleanupTokensCounter = 0;
  return function useGridApiEventHandler2(apiRef, eventName, handler, options) {
    if (registryContainer2.registry === null) {
      registryContainer2.registry = typeof FinalizationRegistry !== "undefined" ? new FinalizationRegistryBasedCleanupTracking() : new TimerBasedCleanupTracking();
    }
    const [objectRetainedByReact] = React.useState(new ObjectToBeRetainedByReact());
    const subscription = React.useRef(null);
    const handlerRef = React.useRef();
    handlerRef.current = handler;
    const cleanupTokenRef = React.useRef(null);
    if (!subscription.current && handlerRef.current) {
      const enhancedHandler = (params, event, details) => {
        if (!event.defaultMuiPrevented) {
          var _handlerRef$current;
          (_handlerRef$current = handlerRef.current) == null || _handlerRef$current.call(handlerRef, params, event, details);
        }
      };
      subscription.current = apiRef.current.subscribeEvent(eventName, enhancedHandler, options);
      cleanupTokensCounter += 1;
      cleanupTokenRef.current = {
        cleanupToken: cleanupTokensCounter
      };
      registryContainer2.registry.register(
        objectRetainedByReact,
        // The callback below will be called once this reference stops being retained
        () => {
          var _subscription$current;
          (_subscription$current = subscription.current) == null || _subscription$current.call(subscription);
          subscription.current = null;
          cleanupTokenRef.current = null;
        },
        cleanupTokenRef.current
      );
    } else if (!handlerRef.current && subscription.current) {
      subscription.current();
      subscription.current = null;
      if (cleanupTokenRef.current) {
        registryContainer2.registry.unregister(cleanupTokenRef.current);
        cleanupTokenRef.current = null;
      }
    }
    React.useEffect(() => {
      if (!subscription.current && handlerRef.current) {
        const enhancedHandler = (params, event, details) => {
          if (!event.defaultMuiPrevented) {
            var _handlerRef$current2;
            (_handlerRef$current2 = handlerRef.current) == null || _handlerRef$current2.call(handlerRef, params, event, details);
          }
        };
        subscription.current = apiRef.current.subscribeEvent(eventName, enhancedHandler, options);
      }
      if (cleanupTokenRef.current && registryContainer2.registry) {
        registryContainer2.registry.unregister(cleanupTokenRef.current);
        cleanupTokenRef.current = null;
      }
      return () => {
        var _subscription$current2;
        (_subscription$current2 = subscription.current) == null || _subscription$current2.call(subscription);
        subscription.current = null;
      };
    }, [apiRef, eventName, options]);
  };
}
const registryContainer = {
  registry: null
};
const useGridApiEventHandler = createUseGridApiEventHandler(registryContainer);
const optionsSubscriberOptions = {
  isFirst: true
};
function useGridApiOptionHandler(apiRef, eventName, handler) {
  useGridApiEventHandler(apiRef, eventName, handler, optionsSubscriberOptions);
}
function useGridLogger(privateApiRef, name) {
  const logger = React.useRef(null);
  if (logger.current) {
    return logger.current;
  }
  const newLogger = privateApiRef.current.getLogger(name);
  logger.current = newLogger;
  return newLogger;
}
function isNumber(value) {
  return typeof value === "number" && !Number.isNaN(value);
}
function isFunction(value) {
  return typeof value === "function";
}
function isObject(value) {
  return typeof value === "object" && value !== null;
}
function localStorageAvailable() {
  try {
    const key = "__some_random_key_you_are_not_going_to_use__";
    window.localStorage.setItem(key, key);
    window.localStorage.removeItem(key);
    return true;
  } catch (err) {
    return false;
  }
}
function escapeRegExp(value) {
  return value.replace(/[-[\]{}()*+?.,\\^$|#\s]/g, "\\$&");
}
const clamp = (value, min, max) => Math.max(min, Math.min(max, value));
function isDeepEqual(a, b) {
  if (a === b) {
    return true;
  }
  if (a && b && typeof a === "object" && typeof b === "object") {
    if (a.constructor !== b.constructor) {
      return false;
    }
    if (Array.isArray(a)) {
      const length2 = a.length;
      if (length2 !== b.length) {
        return false;
      }
      for (let i2 = 0; i2 < length2; i2 += 1) {
        if (!isDeepEqual(a[i2], b[i2])) {
          return false;
        }
      }
      return true;
    }
    if (a instanceof Map && b instanceof Map) {
      if (a.size !== b.size) {
        return false;
      }
      const entriesA = Array.from(a.entries());
      for (let i2 = 0; i2 < entriesA.length; i2 += 1) {
        if (!b.has(entriesA[i2][0])) {
          return false;
        }
      }
      for (let i2 = 0; i2 < entriesA.length; i2 += 1) {
        const entryA = entriesA[i2];
        if (!isDeepEqual(entryA[1], b.get(entryA[0]))) {
          return false;
        }
      }
      return true;
    }
    if (a instanceof Set && b instanceof Set) {
      if (a.size !== b.size) {
        return false;
      }
      const entries = Array.from(a.entries());
      for (let i2 = 0; i2 < entries.length; i2 += 1) {
        if (!b.has(entries[i2][0])) {
          return false;
        }
      }
      return true;
    }
    if (ArrayBuffer.isView(a) && ArrayBuffer.isView(b)) {
      const length2 = a.length;
      if (length2 !== b.length) {
        return false;
      }
      for (let i2 = 0; i2 < length2; i2 += 1) {
        if (a[i2] !== b[i2]) {
          return false;
        }
      }
      return true;
    }
    if (a.constructor === RegExp) {
      return a.source === b.source && a.flags === b.flags;
    }
    if (a.valueOf !== Object.prototype.valueOf) {
      return a.valueOf() === b.valueOf();
    }
    if (a.toString !== Object.prototype.toString) {
      return a.toString() === b.toString();
    }
    const keys = Object.keys(a);
    const length = keys.length;
    if (length !== Object.keys(b).length) {
      return false;
    }
    for (let i2 = 0; i2 < length; i2 += 1) {
      if (!Object.prototype.hasOwnProperty.call(b, keys[i2])) {
        return false;
      }
    }
    for (let i2 = 0; i2 < length; i2 += 1) {
      const key = keys[i2];
      if (!isDeepEqual(a[key], b[key])) {
        return false;
      }
    }
    return true;
  }
  return a !== a && b !== b;
}
function mulberry32(a) {
  return () => {
    let t = a += 1831565813;
    t = Math.imul(t ^ t >>> 15, t | 1);
    t ^= t + Math.imul(t ^ t >>> 7, t | 61);
    return ((t ^ t >>> 14) >>> 0) / 4294967296;
  };
}
function randomNumberBetween(seed, min, max) {
  const random = mulberry32(seed);
  return () => min + (max - min) * random();
}
function deepClone(obj) {
  if (typeof structuredClone === "function") {
    return structuredClone(obj);
  }
  return JSON.parse(JSON.stringify(obj));
}
const useGridNativeEventListener = (apiRef, ref, eventName, handler, options) => {
  const logger = useGridLogger(apiRef, "useNativeEventListener");
  const [added, setAdded] = React.useState(false);
  const handlerRef = React.useRef(handler);
  const wrapHandler = React.useCallback((event) => {
    return handlerRef.current && handlerRef.current(event);
  }, []);
  React.useEffect(() => {
    handlerRef.current = handler;
  }, [handler]);
  React.useEffect(() => {
    let targetElement;
    if (isFunction(ref)) {
      targetElement = ref();
    } else {
      targetElement = ref && ref.current ? ref.current : null;
    }
    if (targetElement && eventName && !added) {
      logger.debug(`Binding native ${eventName} event`);
      targetElement.addEventListener(eventName, wrapHandler, options);
      const boundElem = targetElement;
      setAdded(true);
      const unsubscribe = () => {
        logger.debug(`Clearing native ${eventName} event`);
        boundElem.removeEventListener(eventName, wrapHandler, options);
      };
      apiRef.current.subscribeEvent("unmount", unsubscribe);
    }
  }, [ref, wrapHandler, eventName, added, logger, options, apiRef]);
};
const useFirstRender = (callback) => {
  const isFirstRender = React.useRef(true);
  if (isFirstRender.current) {
    isFirstRender.current = false;
    callback();
  }
};
const MAX_PAGE_SIZE = 100;
const defaultPageSize = (autoPageSize) => autoPageSize ? 0 : 100;
const getPageCount = (rowCount, pageSize) => {
  if (pageSize > 0 && rowCount > 0) {
    return Math.ceil(rowCount / pageSize);
  }
  return 0;
};
const noRowCountInServerMode = buildWarning(["MUI: the 'rowCount' prop is undefined while using paginationMode='server'", "For more detail, see http://mui.com/components/data-grid/pagination/#basic-implementation"], "error");
const getDefaultGridPaginationModel = (autoPageSize) => ({
  page: 0,
  pageSize: autoPageSize ? 0 : 100
});
const getValidPage = (page, pageCount = 0) => {
  if (pageCount === 0) {
    return page;
  }
  return Math.max(Math.min(page, pageCount - 1), 0);
};
const throwIfPageSizeExceedsTheLimit = (pageSize, signatureProp) => {
  if (signatureProp === GridSignature.DataGrid && pageSize > MAX_PAGE_SIZE) {
    throw new Error(["MUI: `pageSize` cannot exceed 100 in the MIT version of the DataGrid.", "You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join("\n"));
  }
};
const gridPaginationSelector = (state) => state.pagination;
const gridPaginationModelSelector = createSelector(gridPaginationSelector, (pagination) => pagination.paginationModel);
const gridPaginationRowCountSelector = createSelector(gridPaginationSelector, (pagination) => pagination.rowCount);
const gridPageSelector = createSelector(gridPaginationModelSelector, (paginationModel) => paginationModel.page);
const gridPageSizeSelector = createSelector(gridPaginationModelSelector, (paginationModel) => paginationModel.pageSize);
const gridPageCountSelector = createSelector(gridPageSizeSelector, gridPaginationRowCountSelector, (pageSize, rowCount) => getPageCount(rowCount, pageSize));
const gridPaginationRowRangeSelector = createSelectorMemoized(gridPaginationModelSelector, gridRowTreeSelector, gridRowMaximumTreeDepthSelector, gridExpandedSortedRowEntriesSelector, gridFilteredSortedTopLevelRowEntriesSelector, (paginationModel, rowTree, rowTreeDepth, visibleSortedRowEntries, visibleSortedTopLevelRowEntries) => {
  const visibleTopLevelRowCount = visibleSortedTopLevelRowEntries.length;
  const topLevelFirstRowIndex = Math.min(paginationModel.pageSize * paginationModel.page, visibleTopLevelRowCount - 1);
  const topLevelLastRowIndex = Math.min(topLevelFirstRowIndex + paginationModel.pageSize - 1, visibleTopLevelRowCount - 1);
  if (topLevelFirstRowIndex === -1 || topLevelLastRowIndex === -1) {
    return null;
  }
  if (rowTreeDepth < 2) {
    return {
      firstRowIndex: topLevelFirstRowIndex,
      lastRowIndex: topLevelLastRowIndex
    };
  }
  const topLevelFirstRow = visibleSortedTopLevelRowEntries[topLevelFirstRowIndex];
  const topLevelRowsInCurrentPageCount = topLevelLastRowIndex - topLevelFirstRowIndex + 1;
  const firstRowIndex = visibleSortedRowEntries.findIndex((row) => row.id === topLevelFirstRow.id);
  let lastRowIndex = firstRowIndex;
  let topLevelRowAdded = 0;
  while (lastRowIndex < visibleSortedRowEntries.length && topLevelRowAdded <= topLevelRowsInCurrentPageCount) {
    var _rowTree$row$id;
    const row = visibleSortedRowEntries[lastRowIndex];
    const depth = (_rowTree$row$id = rowTree[row.id]) == null ? void 0 : _rowTree$row$id.depth;
    if (depth === void 0) {
      lastRowIndex += 1;
    } else {
      if (topLevelRowAdded < topLevelRowsInCurrentPageCount || depth > 0) {
        lastRowIndex += 1;
      }
      if (depth === 0) {
        topLevelRowAdded += 1;
      }
    }
  }
  return {
    firstRowIndex,
    lastRowIndex: lastRowIndex - 1
  };
});
const gridPaginatedVisibleSortedGridRowEntriesSelector = createSelectorMemoized(gridExpandedSortedRowEntriesSelector, gridPaginationRowRangeSelector, (visibleSortedRowEntries, paginationRange) => {
  if (!paginationRange) {
    return [];
  }
  return visibleSortedRowEntries.slice(paginationRange.firstRowIndex, paginationRange.lastRowIndex + 1);
});
const gridPaginatedVisibleSortedGridRowIdsSelector = createSelectorMemoized(gridExpandedSortedRowIdsSelector, gridPaginationRowRangeSelector, (visibleSortedRowIds, paginationRange) => {
  if (!paginationRange) {
    return [];
  }
  return visibleSortedRowIds.slice(paginationRange.firstRowIndex, paginationRange.lastRowIndex + 1);
});
const gridPreferencePanelStateSelector = (state) => state.preferencePanel;
var GridPreferencePanelsValue = /* @__PURE__ */ function(GridPreferencePanelsValue2) {
  GridPreferencePanelsValue2["filters"] = "filters";
  GridPreferencePanelsValue2["columns"] = "columns";
  return GridPreferencePanelsValue2;
}(GridPreferencePanelsValue || {});
const gridRowsMetaSelector = (state) => state.rowsMeta;
const gridRowSelectionStateSelector = (state) => state.rowSelection;
const selectedGridRowsCountSelector = createSelector(gridRowSelectionStateSelector, (selection) => selection.length);
const selectedGridRowsSelector = createSelectorMemoized(gridRowSelectionStateSelector, gridRowsLookupSelector, (selectedRows, rowsLookup) => new Map(selectedRows.map((id) => [id, rowsLookup[id]])));
const selectedIdsLookupSelector = createSelectorMemoized(gridRowSelectionStateSelector, (selection) => selection.reduce((lookup, rowId) => {
  lookup[rowId] = rowId;
  return lookup;
}, {}));
const sortModelDisableMultiColumnsSortingWarning = buildWarning(["MUI: The `sortModel` can only contain a single item when the `disableMultipleColumnsSorting` prop is set to `true`.", "If you are using the community version of the `DataGrid`, this prop is always `true`."], "error");
const sanitizeSortModel = (model, disableMultipleColumnsSorting) => {
  if (disableMultipleColumnsSorting && model.length > 1) {
    sortModelDisableMultiColumnsSortingWarning();
    return [model[0]];
  }
  return model;
};
const mergeStateWithSortModel = (sortModel, disableMultipleColumnsSorting) => (state) => _extends$1({}, state, {
  sorting: _extends$1({}, state.sorting, {
    sortModel: sanitizeSortModel(sortModel, disableMultipleColumnsSorting)
  })
});
const isDesc = (direction) => direction === "desc";
const parseSortItem = (sortItem, apiRef) => {
  const column = apiRef.current.getColumn(sortItem.field);
  if (!column) {
    return null;
  }
  const comparator = isDesc(sortItem.sort) ? (...args) => -1 * column.sortComparator(...args) : column.sortComparator;
  const getSortCellParams = (id) => ({
    id,
    field: column.field,
    rowNode: apiRef.current.getRowNode(id),
    value: apiRef.current.getCellValue(id, column.field),
    api: apiRef.current
  });
  return {
    getSortCellParams,
    comparator
  };
};
const compareRows = (parsedSortItems, row1, row2) => {
  return parsedSortItems.reduce((res, item, index2) => {
    if (res !== 0) {
      return res;
    }
    const sortCellParams1 = row1.params[index2];
    const sortCellParams2 = row2.params[index2];
    res = item.comparator(sortCellParams1.value, sortCellParams2.value, sortCellParams1, sortCellParams2);
    return res;
  }, 0);
};
const buildAggregatedSortingApplier = (sortModel, apiRef) => {
  const comparatorList = sortModel.map((item) => parseSortItem(item, apiRef)).filter((comparator) => !!comparator);
  if (comparatorList.length === 0) {
    return null;
  }
  return (rowList) => rowList.map((node) => ({
    node,
    params: comparatorList.map((el) => el.getSortCellParams(node.id))
  })).sort((a, b) => compareRows(comparatorList, a, b)).map((row) => row.node.id);
};
const getNextGridSortDirection = (sortingOrder, current) => {
  const currentIdx = sortingOrder.indexOf(current);
  if (!current || currentIdx === -1 || currentIdx + 1 === sortingOrder.length) {
    return sortingOrder[0];
  }
  return sortingOrder[currentIdx + 1];
};
const gridNillComparator = (v1, v2) => {
  if (v1 == null && v2 != null) {
    return -1;
  }
  if (v2 == null && v1 != null) {
    return 1;
  }
  if (v1 == null && v2 == null) {
    return 0;
  }
  return null;
};
const collator$2 = new Intl.Collator();
const gridStringOrNumberComparator = (value1, value2) => {
  const nillResult = gridNillComparator(value1, value2);
  if (nillResult !== null) {
    return nillResult;
  }
  if (typeof value1 === "string") {
    return collator$2.compare(value1.toString(), value2.toString());
  }
  return value1 - value2;
};
const gridNumberComparator = (value1, value2) => {
  const nillResult = gridNillComparator(value1, value2);
  if (nillResult !== null) {
    return nillResult;
  }
  return Number(value1) - Number(value2);
};
const gridDateComparator = (value1, value2) => {
  const nillResult = gridNillComparator(value1, value2);
  if (nillResult !== null) {
    return nillResult;
  }
  if (value1 > value2) {
    return 1;
  }
  if (value1 < value2) {
    return -1;
  }
  return 0;
};
const unstable_gridHeaderFilteringStateSelector = (state) => state.headerFiltering;
const unstable_gridHeaderFilteringEditFieldSelector = createSelector(unstable_gridHeaderFilteringStateSelector, (headerFilteringState) => headerFilteringState.editing);
const unstable_gridHeaderFilteringMenuSelector = createSelector(unstable_gridHeaderFilteringStateSelector, (headerFilteringState) => headerFilteringState.menuOpen);
const virtualizationStateInitializer = (state, props) => {
  const virtualization = {
    enabled: !props.disableVirtualization,
    enabledForColumns: true
  };
  return _extends$1({}, state, {
    virtualization
  });
};
function useGridVirtualization(apiRef, props) {
  const setVirtualization = (enabled) => {
    apiRef.current.setState((state) => _extends$1({}, state, {
      virtualization: _extends$1({}, state.virtualization, {
        enabled
      })
    }));
  };
  const setColumnVirtualization = (enabled) => {
    apiRef.current.setState((state) => _extends$1({}, state, {
      virtualization: _extends$1({}, state.virtualization, {
        enabledForColumns: enabled
      })
    }));
  };
  const api = {
    unstable_setVirtualization: setVirtualization,
    unstable_setColumnVirtualization: setColumnVirtualization
  };
  useGridApiMethod(apiRef, api, "public");
  React.useEffect(() => {
    setVirtualization(!props.disableVirtualization);
  }, [props.disableVirtualization]);
}
const gridVirtualizationSelector = (state) => state.virtualization;
const gridVirtualizationEnabledSelector = createSelector(gridVirtualizationSelector, (state) => state.enabled);
const gridVirtualizationColumnEnabledSelector = createSelector(gridVirtualizationSelector, (state) => state.enabledForColumns);
const useUtilityClasses$i = (ownerState) => {
  const {
    classes
  } = ownerState;
  const slots = {
    icon: ["filterIcon"]
  };
  return unstable_composeClasses(slots, getDataGridUtilityClass, classes);
};
function GridColumnHeaderFilterIconButton(props) {
  var _rootProps$slotProps, _rootProps$slotProps2;
  const {
    counter,
    field,
    onClick
  } = props;
  const apiRef = useGridApiContext();
  const rootProps = useGridRootProps();
  const ownerState = _extends$1({}, props, {
    classes: rootProps.classes
  });
  const classes = useUtilityClasses$i(ownerState);
  const preferencePanel = useGridSelector(apiRef, gridPreferencePanelStateSelector);
  const labelId = unstable_useId();
  const panelId = unstable_useId();
  const toggleFilter = React.useCallback((event) => {
    event.preventDefault();
    event.stopPropagation();
    const {
      open: open2,
      openedPanelValue
    } = gridPreferencePanelStateSelector(apiRef.current.state);
    if (open2 && openedPanelValue === GridPreferencePanelsValue.filters) {
      apiRef.current.hideFilterPanel();
    } else {
      apiRef.current.showFilterPanel(void 0, panelId, labelId);
    }
    if (onClick) {
      onClick(apiRef.current.getColumnHeaderParams(field), event);
    }
  }, [apiRef, field, onClick, panelId, labelId]);
  if (!counter) {
    return null;
  }
  const open = preferencePanel.open && preferencePanel.labelId === labelId;
  const iconButton = /* @__PURE__ */ jsx(rootProps.slots.baseIconButton, _extends$1({
    id: labelId,
    onClick: toggleFilter,
    color: "default",
    "aria-label": apiRef.current.getLocaleText("columnHeaderFiltersLabel"),
    size: "small",
    tabIndex: -1,
    "aria-haspopup": "menu",
    "aria-expanded": open,
    "aria-controls": open ? panelId : void 0
  }, (_rootProps$slotProps = rootProps.slotProps) == null ? void 0 : _rootProps$slotProps.baseIconButton, {
    children: /* @__PURE__ */ jsx(rootProps.slots.columnFilteredIcon, {
      className: classes.icon,
      fontSize: "small"
    })
  }));
  return /* @__PURE__ */ jsx(rootProps.slots.baseTooltip, _extends$1({
    title: apiRef.current.getLocaleText("columnHeaderFiltersTooltipActive")(counter),
    enterDelay: 1e3
  }, (_rootProps$slotProps2 = rootProps.slotProps) == null ? void 0 : _rootProps$slotProps2.baseTooltip, {
    children: /* @__PURE__ */ jsxs(GridIconButtonContainer, {
      children: [counter > 1 && /* @__PURE__ */ jsx(Badge$1, {
        badgeContent: counter,
        color: "default",
        children: iconButton
      }), counter === 1 && iconButton]
    })
  }));
}
process.env.NODE_ENV !== "production" ? GridColumnHeaderFilterIconButton.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // | To update them edit the TypeScript types and run "yarn proptypes"  |
  // ----------------------------------------------------------------------
  counter: PropTypes.number,
  field: PropTypes.string.isRequired,
  onClick: PropTypes.func
} : void 0;
const _excluded$z = ["field", "id", "value", "formattedValue", "row", "rowNode", "colDef", "isEditable", "cellMode", "hasFocus", "tabIndex", "api"];
const useUtilityClasses$h = (ownerState) => {
  const {
    classes
  } = ownerState;
  const slots = {
    root: ["checkboxInput"]
  };
  return unstable_composeClasses(slots, getDataGridUtilityClass, classes);
};
const GridCellCheckboxForwardRef = /* @__PURE__ */ React.forwardRef(function GridCellCheckboxRenderer(props, ref) {
  var _rootProps$slotProps;
  const {
    field,
    id,
    value: isChecked,
    rowNode,
    hasFocus,
    tabIndex
  } = props, other = _objectWithoutPropertiesLoose$1(props, _excluded$z);
  const apiRef = useGridApiContext();
  const rootProps = useGridRootProps();
  const ownerState = {
    classes: rootProps.classes
  };
  const classes = useUtilityClasses$h(ownerState);
  const checkboxElement = React.useRef(null);
  const rippleRef = React.useRef(null);
  const handleRef = unstable_useForkRef(checkboxElement, ref);
  const element = apiRef.current.getCellElement(id, field);
  const handleChange = (event) => {
    const params = {
      value: event.target.checked,
      id
    };
    apiRef.current.publishEvent("rowSelectionCheckboxChange", params, event);
  };
  React.useLayoutEffect(() => {
    if (tabIndex === 0 && element) {
      element.tabIndex = -1;
    }
  }, [element, tabIndex]);
  React.useEffect(() => {
    if (hasFocus) {
      var _checkboxElement$curr;
      const input = (_checkboxElement$curr = checkboxElement.current) == null ? void 0 : _checkboxElement$curr.querySelector("input");
      input == null || input.focus({
        preventScroll: true
      });
    } else if (rippleRef.current) {
      rippleRef.current.stop({});
    }
  }, [hasFocus]);
  const handleKeyDown = React.useCallback((event) => {
    if (isSpaceKey(event.key)) {
      event.stopPropagation();
    }
  }, []);
  if (rowNode.type === "footer" || rowNode.type === "pinnedRow") {
    return null;
  }
  const isSelectable = apiRef.current.isRowSelectable(id);
  const label = apiRef.current.getLocaleText(isChecked ? "checkboxSelectionUnselectRow" : "checkboxSelectionSelectRow");
  return /* @__PURE__ */ jsx(rootProps.slots.baseCheckbox, _extends$1({
    ref: handleRef,
    tabIndex,
    checked: isChecked,
    onChange: handleChange,
    className: classes.root,
    inputProps: {
      "aria-label": label
    },
    onKeyDown: handleKeyDown,
    disabled: !isSelectable,
    touchRippleRef: rippleRef
  }, (_rootProps$slotProps = rootProps.slotProps) == null ? void 0 : _rootProps$slotProps.baseCheckbox, other));
});
process.env.NODE_ENV !== "production" ? GridCellCheckboxForwardRef.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // | To update them edit the TypeScript types and run "yarn proptypes"  |
  // ----------------------------------------------------------------------
  /**
   * GridApi that let you manipulate the grid.
   */
  api: PropTypes.object.isRequired,
  /**
   * The mode of the cell.
   */
  cellMode: PropTypes.oneOf(["edit", "view"]).isRequired,
  /**
   * The column of the row that the current cell belongs to.
   */
  colDef: PropTypes.object.isRequired,
  /**
   * The column field of the cell that triggered the event.
   */
  field: PropTypes.string.isRequired,
  /**
   * A ref allowing to set imperative focus.
   * It can be passed to the element that should receive focus.
   * @ignore - do not document.
   */
  focusElementRef: PropTypes.oneOfType([PropTypes.func, PropTypes.shape({
    current: PropTypes.shape({
      focus: PropTypes.func.isRequired
    })
  })]),
  /**
   * The cell value formatted with the column valueFormatter.
   */
  formattedValue: PropTypes.any,
  /**
   * If true, the cell is the active element.
   */
  hasFocus: PropTypes.bool.isRequired,
  /**
   * The grid row id.
   */
  id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,
  /**
   * If true, the cell is editable.
   */
  isEditable: PropTypes.bool,
  /**
   * The row model of the row that the current cell belongs to.
   */
  row: PropTypes.any.isRequired,
  /**
   * The node of the row that the current cell belongs to.
   */
  rowNode: PropTypes.object.isRequired,
  /**
   * the tabIndex value.
   */
  tabIndex: PropTypes.oneOf([-1, 0]).isRequired,
  /**
   * The cell value.
   * If the column has `valueGetter`, use `params.row` to directly access the fields.
   */
  value: PropTypes.any
} : void 0;
const GridCellCheckboxRenderer2 = GridCellCheckboxForwardRef;
const _excluded$y = ["field", "colDef"];
const useUtilityClasses$g = (ownerState) => {
  const {
    classes
  } = ownerState;
  const slots = {
    root: ["checkboxInput"]
  };
  return unstable_composeClasses(slots, getDataGridUtilityClass, classes);
};
const GridHeaderCheckbox = /* @__PURE__ */ React.forwardRef(function GridHeaderCheckbox2(props, ref) {
  var _rootProps$slotProps;
  const other = _objectWithoutPropertiesLoose$1(props, _excluded$y);
  const [, forceUpdate] = React.useState(false);
  const apiRef = useGridApiContext();
  const rootProps = useGridRootProps();
  const ownerState = {
    classes: rootProps.classes
  };
  const classes = useUtilityClasses$g(ownerState);
  const tabIndexState = useGridSelector(apiRef, gridTabIndexColumnHeaderSelector);
  const selection = useGridSelector(apiRef, gridRowSelectionStateSelector);
  const visibleRowIds = useGridSelector(apiRef, gridExpandedSortedRowIdsSelector);
  const paginatedVisibleRowIds = useGridSelector(apiRef, gridPaginatedVisibleSortedGridRowIdsSelector);
  const filteredSelection = React.useMemo(() => {
    if (typeof rootProps.isRowSelectable !== "function") {
      return selection;
    }
    return selection.filter((id) => {
      if (!apiRef.current.getRow(id)) {
        return false;
      }
      return rootProps.isRowSelectable(apiRef.current.getRowParams(id));
    });
  }, [apiRef, rootProps.isRowSelectable, selection]);
  const selectionCandidates = React.useMemo(() => {
    const rowIds = !rootProps.pagination || !rootProps.checkboxSelectionVisibleOnly ? visibleRowIds : paginatedVisibleRowIds;
    return rowIds.reduce((acc, id) => {
      acc[id] = true;
      return acc;
    }, {});
  }, [rootProps.pagination, rootProps.checkboxSelectionVisibleOnly, paginatedVisibleRowIds, visibleRowIds]);
  const currentSelectionSize = React.useMemo(() => filteredSelection.filter((id) => selectionCandidates[id]).length, [filteredSelection, selectionCandidates]);
  const isIndeterminate = currentSelectionSize > 0 && currentSelectionSize < Object.keys(selectionCandidates).length;
  const isChecked = currentSelectionSize > 0;
  const handleChange = (event) => {
    const params = {
      value: event.target.checked
    };
    apiRef.current.publishEvent("headerSelectionCheckboxChange", params);
  };
  const tabIndex = tabIndexState !== null && tabIndexState.field === props.field ? 0 : -1;
  React.useLayoutEffect(() => {
    const element = apiRef.current.getColumnHeaderElement(props.field);
    if (tabIndex === 0 && element) {
      element.tabIndex = -1;
    }
  }, [tabIndex, apiRef, props.field]);
  const handleKeyDown = React.useCallback((event) => {
    if (event.key === " ") {
      apiRef.current.publishEvent("headerSelectionCheckboxChange", {
        value: !isChecked
      });
    }
  }, [apiRef, isChecked]);
  const handleSelectionChange = React.useCallback(() => {
    forceUpdate((p) => !p);
  }, []);
  React.useEffect(() => {
    return apiRef.current.subscribeEvent("rowSelectionChange", handleSelectionChange);
  }, [apiRef, handleSelectionChange]);
  const label = apiRef.current.getLocaleText(isChecked ? "checkboxSelectionUnselectAllRows" : "checkboxSelectionSelectAllRows");
  return /* @__PURE__ */ jsx(rootProps.slots.baseCheckbox, _extends$1({
    ref,
    indeterminate: isIndeterminate,
    checked: isChecked,
    onChange: handleChange,
    className: classes.root,
    inputProps: {
      "aria-label": label
    },
    tabIndex,
    onKeyDown: handleKeyDown
  }, (_rootProps$slotProps = rootProps.slotProps) == null ? void 0 : _rootProps$slotProps.baseCheckbox, other));
});
process.env.NODE_ENV !== "production" ? GridHeaderCheckbox.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // | To update them edit the TypeScript types and run "yarn proptypes"  |
  // ----------------------------------------------------------------------
  /**
   * The column of the current header component.
   */
  colDef: PropTypes.object.isRequired,
  /**
   * The column field of the column that triggered the event
   */
  field: PropTypes.string.isRequired
} : void 0;
const GridArrowUpwardIcon = createSvgIcon(/* @__PURE__ */ jsx("path", {
  d: "M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"
}), "ArrowUpward");
const GridArrowDownwardIcon = createSvgIcon(/* @__PURE__ */ jsx("path", {
  d: "M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"
}), "ArrowDownward");
const GridKeyboardArrowRight = createSvgIcon(/* @__PURE__ */ jsx("path", {
  d: "M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"
}), "KeyboardArrowRight");
const GridExpandMoreIcon = createSvgIcon(/* @__PURE__ */ jsx("path", {
  d: "M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"
}), "ExpandMore");
const GridFilterListIcon = createSvgIcon(/* @__PURE__ */ jsx("path", {
  d: "M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"
}), "FilterList");
const GridFilterAltIcon = createSvgIcon(/* @__PURE__ */ jsx("path", {
  d: "M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61z"
}), "FilterAlt");
const GridSearchIcon = createSvgIcon(/* @__PURE__ */ jsx("path", {
  d: "M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"
}), "Search");
createSvgIcon(/* @__PURE__ */ jsx("path", {
  d: "M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"
}), "Menu");
createSvgIcon(/* @__PURE__ */ jsx("path", {
  d: "M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"
}), "CheckCircle");
const GridColumnIcon = createSvgIcon(/* @__PURE__ */ jsx("path", {
  d: "M6 5H3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm14 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm-7 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1z"
}), "ColumnIcon");
const GridSeparatorIcon = createSvgIcon(/* @__PURE__ */ jsx("path", {
  d: "M11 19V5h2v14z"
}), "Separator");
const GridViewHeadlineIcon = createSvgIcon(/* @__PURE__ */ jsx("path", {
  d: "M4 15h16v-2H4v2zm0 4h16v-2H4v2zm0-8h16V9H4v2zm0-6v2h16V5H4z"
}), "ViewHeadline");
const GridTableRowsIcon = createSvgIcon(/* @__PURE__ */ jsx("path", {
  d: "M21,8H3V4h18V8z M21,10H3v4h18V10z M21,16H3v4h18V16z"
}), "TableRows");
const GridViewStreamIcon = createSvgIcon(/* @__PURE__ */ jsx("path", {
  d: "M4 18h17v-6H4v6zM4 5v6h17V5H4z"
}), "ViewStream");
const GridTripleDotsVerticalIcon = createSvgIcon(/* @__PURE__ */ jsx("path", {
  d: "M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"
}), "TripleDotsVertical");
const GridCloseIcon = createSvgIcon(/* @__PURE__ */ jsx("path", {
  d: "M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"
}), "Close");
const GridAddIcon = createSvgIcon(/* @__PURE__ */ jsx("path", {
  d: "M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"
}), "Add");
const GridRemoveIcon = createSvgIcon(/* @__PURE__ */ jsx("path", {
  d: "M19 13H5v-2h14v2z"
}), "Remove");
const GridLoadIcon = createSvgIcon(/* @__PURE__ */ jsx("path", {
  d: "M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"
}), "Load");
const GridDragIcon = createSvgIcon(/* @__PURE__ */ jsx("path", {
  d: "M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"
}), "Drag");
const GridSaveAltIcon = createSvgIcon(/* @__PURE__ */ jsx("path", {
  d: "M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"
}), "SaveAlt");
const GridCheckIcon = createSvgIcon(/* @__PURE__ */ jsx("path", {
  d: "M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"
}), "Check");
const GridMoreVertIcon = createSvgIcon(/* @__PURE__ */ jsx("path", {
  d: "M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"
}), "MoreVert");
const GridVisibilityOffIcon = createSvgIcon(/* @__PURE__ */ jsx("path", {
  d: "M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"
}), "VisibilityOff");
const GridViewColumnIcon = createSvgIcon(/* @__PURE__ */ jsx("g", {
  children: /* @__PURE__ */ jsx("path", {
    d: "M14.67,5v14H9.33V5H14.67z M15.67,19H21V5h-5.33V19z M8.33,19V5H3v14H8.33z"
  })
}), "ViewColumn");
const GridClearIcon = createSvgIcon(/* @__PURE__ */ jsx("path", {
  d: "M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"
}), "Clear");
createSvgIcon(/* @__PURE__ */ jsx("path", {
  d: "M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"
}), "Delete");
const GridDeleteForeverIcon = createSvgIcon(/* @__PURE__ */ jsx("path", {
  d: "M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"
}), "Delete");
const _excluded$x = ["hideMenu", "colDef", "id", "labelledby", "className", "children", "open"];
const StyledMenuList = styled$1(MenuList)(() => ({
  minWidth: 248
}));
const GridColumnMenuContainer = /* @__PURE__ */ React.forwardRef(function GridColumnMenuContainer2(props, ref) {
  const {
    hideMenu,
    id,
    labelledby,
    className,
    children,
    open
  } = props, other = _objectWithoutPropertiesLoose$1(props, _excluded$x);
  const handleListKeyDown = React.useCallback((event) => {
    if (isTabKey(event.key)) {
      event.preventDefault();
    }
    if (isHideMenuKey(event.key)) {
      hideMenu(event);
    }
  }, [hideMenu]);
  return /* @__PURE__ */ jsx(StyledMenuList, _extends$1({
    id,
    ref,
    className: clsx(gridClasses.menuList, className),
    "aria-labelledby": labelledby,
    onKeyDown: handleListKeyDown,
    autoFocus: open
  }, other, {
    children
  }));
});
process.env.NODE_ENV !== "production" ? GridColumnMenuContainer.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // | To update them edit the TypeScript types and run "yarn proptypes"  |
  // ----------------------------------------------------------------------
  colDef: PropTypes.object.isRequired,
  hideMenu: PropTypes.func.isRequired,
  id: PropTypes.string,
  labelledby: PropTypes.string,
  open: PropTypes.bool.isRequired
} : void 0;
const _excluded$w = ["displayOrder"];
const useGridColumnMenuSlots = (props) => {
  const apiRef = useGridPrivateApiContext();
  const {
    defaultSlots: defaultSlots2,
    defaultSlotProps,
    slots = {},
    slotProps = {},
    hideMenu,
    colDef,
    addDividers = true
  } = props;
  const processedComponents = React.useMemo(() => _extends$1({}, defaultSlots2, slots), [defaultSlots2, slots]);
  const processedSlotProps = React.useMemo(() => {
    if (!slotProps || Object.keys(slotProps).length === 0) {
      return defaultSlotProps;
    }
    const mergedProps = _extends$1({}, slotProps);
    Object.entries(defaultSlotProps).forEach(([key, currentSlotProps]) => {
      mergedProps[key] = _extends$1({}, currentSlotProps, slotProps[key] || {});
    });
    return mergedProps;
  }, [defaultSlotProps, slotProps]);
  const defaultItems = apiRef.current.unstable_applyPipeProcessors("columnMenu", [], props.colDef);
  const userItems = React.useMemo(() => {
    const defaultComponentKeys = Object.keys(defaultSlots2);
    return Object.keys(slots).filter((key) => !defaultComponentKeys.includes(key));
  }, [slots, defaultSlots2]);
  return React.useMemo(() => {
    const uniqueItems = Array.from(/* @__PURE__ */ new Set([...defaultItems, ...userItems]));
    const cleansedItems = uniqueItems.filter((key) => processedComponents[key] != null);
    const sorted = cleansedItems.sort((a, b) => {
      const leftItemProps = processedSlotProps[a];
      const rightItemProps = processedSlotProps[b];
      const leftDisplayOrder = Number.isFinite(leftItemProps == null ? void 0 : leftItemProps.displayOrder) ? leftItemProps.displayOrder : 100;
      const rightDisplayOrder = Number.isFinite(rightItemProps == null ? void 0 : rightItemProps.displayOrder) ? rightItemProps.displayOrder : 100;
      return leftDisplayOrder - rightDisplayOrder;
    });
    return sorted.reduce((acc, key, index2) => {
      let itemProps = {
        colDef,
        onClick: hideMenu
      };
      const processedComponentProps = processedSlotProps[key];
      if (processedComponentProps) {
        const customProps = _objectWithoutPropertiesLoose$1(processedComponentProps, _excluded$w);
        itemProps = _extends$1({}, itemProps, customProps);
      }
      return addDividers && index2 !== sorted.length - 1 ? [...acc, [processedComponents[key], itemProps], [Divider, {}]] : [...acc, [processedComponents[key], itemProps]];
    }, []);
  }, [addDividers, colDef, defaultItems, hideMenu, processedComponents, processedSlotProps, userItems]);
};
function GridColumnMenuHideItem(props) {
  const {
    colDef,
    onClick
  } = props;
  const apiRef = useGridApiContext();
  const rootProps = useGridRootProps();
  const visibleColumns = gridVisibleColumnDefinitionsSelector(apiRef);
  const columnsWithMenu = visibleColumns.filter((col) => col.disableColumnMenu !== true);
  const disabled = columnsWithMenu.length === 1;
  const toggleColumn = React.useCallback((event) => {
    if (disabled) {
      return;
    }
    apiRef.current.setColumnVisibility(colDef.field, false);
    onClick(event);
  }, [apiRef, colDef.field, onClick, disabled]);
  if (rootProps.disableColumnSelector) {
    return null;
  }
  if (colDef.hideable === false) {
    return null;
  }
  return /* @__PURE__ */ jsxs(MenuItem, {
    onClick: toggleColumn,
    disabled,
    children: [/* @__PURE__ */ jsx(ListItemIcon, {
      children: /* @__PURE__ */ jsx(rootProps.slots.columnMenuHideIcon, {
        fontSize: "small"
      })
    }), /* @__PURE__ */ jsx(ListItemText, {
      children: apiRef.current.getLocaleText("columnMenuHideColumn")
    })]
  });
}
process.env.NODE_ENV !== "production" ? GridColumnMenuHideItem.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // | To update them edit the TypeScript types and run "yarn proptypes"  |
  // ----------------------------------------------------------------------
  colDef: PropTypes.object.isRequired,
  onClick: PropTypes.func.isRequired
} : void 0;
function GridColumnMenuManageItem(props) {
  const {
    onClick
  } = props;
  const apiRef = useGridApiContext();
  const rootProps = useGridRootProps();
  const showColumns = React.useCallback((event) => {
    onClick(event);
    apiRef.current.showPreferences(GridPreferencePanelsValue.columns);
  }, [apiRef, onClick]);
  if (rootProps.disableColumnSelector) {
    return null;
  }
  return /* @__PURE__ */ jsxs(MenuItem, {
    onClick: showColumns,
    children: [/* @__PURE__ */ jsx(ListItemIcon, {
      children: /* @__PURE__ */ jsx(rootProps.slots.columnMenuManageColumnsIcon, {
        fontSize: "small"
      })
    }), /* @__PURE__ */ jsx(ListItemText, {
      children: apiRef.current.getLocaleText("columnMenuManageColumns")
    })]
  });
}
process.env.NODE_ENV !== "production" ? GridColumnMenuManageItem.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // | To update them edit the TypeScript types and run "yarn proptypes"  |
  // ----------------------------------------------------------------------
  colDef: PropTypes.object.isRequired,
  onClick: PropTypes.func.isRequired
} : void 0;
function GridColumnMenuColumnsItem(props) {
  return /* @__PURE__ */ jsxs(React.Fragment, {
    children: [/* @__PURE__ */ jsx(GridColumnMenuHideItem, _extends$1({}, props)), /* @__PURE__ */ jsx(GridColumnMenuManageItem, _extends$1({}, props))]
  });
}
process.env.NODE_ENV !== "production" ? GridColumnMenuColumnsItem.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // | To update them edit the TypeScript types and run "yarn proptypes"  |
  // ----------------------------------------------------------------------
  colDef: PropTypes.object.isRequired,
  onClick: PropTypes.func.isRequired
} : void 0;
function GridColumnMenuFilterItem(props) {
  const {
    colDef,
    onClick
  } = props;
  const apiRef = useGridApiContext();
  const rootProps = useGridRootProps();
  const showFilter = React.useCallback((event) => {
    onClick(event);
    apiRef.current.showFilterPanel(colDef.field);
  }, [apiRef, colDef.field, onClick]);
  if (rootProps.disableColumnFilter || !colDef.filterable) {
    return null;
  }
  return /* @__PURE__ */ jsxs(MenuItem, {
    onClick: showFilter,
    children: [/* @__PURE__ */ jsx(ListItemIcon, {
      children: /* @__PURE__ */ jsx(rootProps.slots.columnMenuFilterIcon, {
        fontSize: "small"
      })
    }), /* @__PURE__ */ jsx(ListItemText, {
      children: apiRef.current.getLocaleText("columnMenuFilter")
    })]
  });
}
process.env.NODE_ENV !== "production" ? GridColumnMenuFilterItem.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // | To update them edit the TypeScript types and run "yarn proptypes"  |
  // ----------------------------------------------------------------------
  colDef: PropTypes.object.isRequired,
  onClick: PropTypes.func.isRequired
} : void 0;
function GridColumnMenuSortItem(props) {
  var _colDef$sortingOrder;
  const {
    colDef,
    onClick
  } = props;
  const apiRef = useGridApiContext();
  const sortModel = useGridSelector(apiRef, gridSortModelSelector);
  const rootProps = useGridRootProps();
  const sortDirection = React.useMemo(() => {
    if (!colDef) {
      return null;
    }
    const sortItem = sortModel.find((item) => item.field === colDef.field);
    return sortItem == null ? void 0 : sortItem.sort;
  }, [colDef, sortModel]);
  const sortingOrder = (_colDef$sortingOrder = colDef.sortingOrder) != null ? _colDef$sortingOrder : rootProps.sortingOrder;
  const onSortMenuItemClick = React.useCallback((event) => {
    onClick(event);
    const direction = event.currentTarget.getAttribute("data-value") || null;
    apiRef.current.sortColumn(colDef, direction === sortDirection ? null : direction);
  }, [apiRef, colDef, onClick, sortDirection]);
  if (!colDef || !colDef.sortable || !sortingOrder.some((item) => !!item)) {
    return null;
  }
  const getLabel = (key) => {
    const label = apiRef.current.getLocaleText(key);
    return typeof label === "function" ? label(colDef) : label;
  };
  return /* @__PURE__ */ jsxs(React.Fragment, {
    children: [sortingOrder.includes("asc") && sortDirection !== "asc" ? /* @__PURE__ */ jsxs(MenuItem, {
      onClick: onSortMenuItemClick,
      "data-value": "asc",
      children: [/* @__PURE__ */ jsx(ListItemIcon, {
        children: /* @__PURE__ */ jsx(rootProps.slots.columnMenuSortAscendingIcon, {
          fontSize: "small"
        })
      }), /* @__PURE__ */ jsx(ListItemText, {
        children: getLabel("columnMenuSortAsc")
      })]
    }) : null, sortingOrder.includes("desc") && sortDirection !== "desc" ? /* @__PURE__ */ jsxs(MenuItem, {
      onClick: onSortMenuItemClick,
      "data-value": "desc",
      children: [/* @__PURE__ */ jsx(ListItemIcon, {
        children: /* @__PURE__ */ jsx(rootProps.slots.columnMenuSortDescendingIcon, {
          fontSize: "small"
        })
      }), /* @__PURE__ */ jsx(ListItemText, {
        children: getLabel("columnMenuSortDesc")
      })]
    }) : null, sortingOrder.includes(null) && sortDirection != null ? /* @__PURE__ */ jsxs(MenuItem, {
      onClick: onSortMenuItemClick,
      children: [/* @__PURE__ */ jsx(ListItemIcon, {}), /* @__PURE__ */ jsx(ListItemText, {
        children: apiRef.current.getLocaleText("columnMenuUnsort")
      })]
    }) : null]
  });
}
process.env.NODE_ENV !== "production" ? GridColumnMenuSortItem.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // | To update them edit the TypeScript types and run "yarn proptypes"  |
  // ----------------------------------------------------------------------
  colDef: PropTypes.object.isRequired,
  onClick: PropTypes.func.isRequired
} : void 0;
const _excluded$v = ["defaultSlots", "defaultSlotProps", "slots", "slotProps"];
const GRID_COLUMN_MENU_SLOTS = {
  columnMenuSortItem: GridColumnMenuSortItem,
  columnMenuFilterItem: GridColumnMenuFilterItem,
  columnMenuColumnsItem: GridColumnMenuColumnsItem
};
const GRID_COLUMN_MENU_SLOT_PROPS = {
  columnMenuSortItem: {
    displayOrder: 10
  },
  columnMenuFilterItem: {
    displayOrder: 20
  },
  columnMenuColumnsItem: {
    displayOrder: 30
  }
};
const GridGenericColumnMenu = /* @__PURE__ */ React.forwardRef(function GridGenericColumnMenu2(props, ref) {
  const {
    defaultSlots: defaultSlots2,
    defaultSlotProps,
    slots,
    slotProps
  } = props, other = _objectWithoutPropertiesLoose$1(props, _excluded$v);
  const orderedSlots = useGridColumnMenuSlots(_extends$1({}, other, {
    defaultSlots: defaultSlots2,
    defaultSlotProps,
    slots,
    slotProps
  }));
  return /* @__PURE__ */ jsx(GridColumnMenuContainer, _extends$1({
    ref
  }, other, {
    children: orderedSlots.map(([Component2, otherProps], index2) => /* @__PURE__ */ jsx(Component2, _extends$1({}, otherProps), index2))
  }));
});
const GridColumnMenu = /* @__PURE__ */ React.forwardRef(function GridColumnMenu2(props, ref) {
  return /* @__PURE__ */ jsx(GridGenericColumnMenu, _extends$1({}, props, {
    ref,
    defaultSlots: GRID_COLUMN_MENU_SLOTS,
    defaultSlotProps: GRID_COLUMN_MENU_SLOT_PROPS
  }));
});
process.env.NODE_ENV !== "production" ? GridColumnMenu.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // | To update them edit the TypeScript types and run "yarn proptypes"  |
  // ----------------------------------------------------------------------
  colDef: PropTypes.object.isRequired,
  hideMenu: PropTypes.func.isRequired,
  id: PropTypes.string,
  labelledby: PropTypes.string,
  open: PropTypes.bool.isRequired,
  /**
   * Could be used to pass new props or override props specific to a column menu component
   * e.g. `displayOrder`
   */
  slotProps: PropTypes.object,
  /**
   * `slots` could be used to add new and (or) override default column menu items
   * If you register a nee component you must pass it's `displayOrder` in `slotProps`
   * or it will be placed in the end of the list
   */
  slots: PropTypes.object
} : void 0;
const _excluded$u = ["className"];
const useUtilityClasses$f = (ownerState) => {
  const {
    classes
  } = ownerState;
  const slots = {
    root: ["panelContent"]
  };
  return unstable_composeClasses(slots, getDataGridUtilityClass, classes);
};
const GridPanelContentRoot = styled("div", {
  name: "MuiDataGrid",
  slot: "PanelContent",
  overridesResolver: (props, styles) => styles.panelContent
})({
  display: "flex",
  flexDirection: "column",
  overflow: "auto",
  flex: "1 1",
  maxHeight: 400
});
function GridPanelContent(props) {
  const {
    className
  } = props, other = _objectWithoutPropertiesLoose$1(props, _excluded$u);
  const rootProps = useGridRootProps();
  const classes = useUtilityClasses$f(rootProps);
  return /* @__PURE__ */ jsx(GridPanelContentRoot, _extends$1({
    className: clsx(className, classes.root),
    ownerState: rootProps
  }, other));
}
process.env.NODE_ENV !== "production" ? GridPanelContent.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // | To update them edit the TypeScript types and run "yarn proptypes"  |
  // ----------------------------------------------------------------------
  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])
} : void 0;
const _excluded$t = ["className"];
const useUtilityClasses$e = (ownerState) => {
  const {
    classes
  } = ownerState;
  const slots = {
    root: ["panelFooter"]
  };
  return unstable_composeClasses(slots, getDataGridUtilityClass, classes);
};
const GridPanelFooterRoot = styled("div", {
  name: "MuiDataGrid",
  slot: "PanelFooter",
  overridesResolver: (props, styles) => styles.panelFooter
})(({
  theme
}) => ({
  padding: theme.spacing(0.5),
  display: "flex",
  justifyContent: "space-between"
}));
function GridPanelFooter(props) {
  const {
    className
  } = props, other = _objectWithoutPropertiesLoose$1(props, _excluded$t);
  const rootProps = useGridRootProps();
  const classes = useUtilityClasses$e(rootProps);
  return /* @__PURE__ */ jsx(GridPanelFooterRoot, _extends$1({
    className: clsx(className, classes.root),
    ownerState: rootProps
  }, other));
}
process.env.NODE_ENV !== "production" ? GridPanelFooter.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // | To update them edit the TypeScript types and run "yarn proptypes"  |
  // ----------------------------------------------------------------------
  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])
} : void 0;
const _excluded$s = ["className"];
const useUtilityClasses$d = (ownerState) => {
  const {
    classes
  } = ownerState;
  const slots = {
    root: ["panelHeader"]
  };
  return unstable_composeClasses(slots, getDataGridUtilityClass, classes);
};
const GridPanelHeaderRoot = styled("div", {
  name: "MuiDataGrid",
  slot: "PanelHeader",
  overridesResolver: (props, styles) => styles.panelHeader
})(({
  theme
}) => ({
  padding: theme.spacing(1)
}));
function GridPanelHeader(props) {
  const {
    className
  } = props, other = _objectWithoutPropertiesLoose$1(props, _excluded$s);
  const rootProps = useGridRootProps();
  const classes = useUtilityClasses$d(rootProps);
  return /* @__PURE__ */ jsx(GridPanelHeaderRoot, _extends$1({
    className: clsx(className, classes.root),
    ownerState: rootProps
  }, other));
}
process.env.NODE_ENV !== "production" ? GridPanelHeader.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // | To update them edit the TypeScript types and run "yarn proptypes"  |
  // ----------------------------------------------------------------------
  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])
} : void 0;
const _excluded$r = ["className", "slotProps"];
const useUtilityClasses$c = (ownerState) => {
  const {
    classes
  } = ownerState;
  const slots = {
    root: ["panelWrapper"]
  };
  return unstable_composeClasses(slots, getDataGridUtilityClass, classes);
};
const GridPanelWrapperRoot = styled$1("div", {
  name: "MuiDataGrid",
  slot: "PanelWrapper",
  overridesResolver: (props, styles) => styles.panelWrapper
})({
  display: "flex",
  flexDirection: "column",
  flex: 1,
  "&:focus": {
    outline: 0
  }
});
const isEnabled = () => true;
const GridPanelWrapper = /* @__PURE__ */ React.forwardRef(function GridPanelWrapper2(props, ref) {
  const {
    className,
    slotProps = {}
  } = props, other = _objectWithoutPropertiesLoose$1(props, _excluded$r);
  const rootProps = useGridRootProps();
  const classes = useUtilityClasses$c(rootProps);
  return /* @__PURE__ */ jsx(FocusTrap, _extends$1({
    open: true,
    disableEnforceFocus: true,
    isEnabled
  }, slotProps.TrapFocus, {
    children: /* @__PURE__ */ jsx(GridPanelWrapperRoot, _extends$1({
      ref,
      tabIndex: -1,
      className: clsx(className, classes.root),
      ownerState: rootProps
    }, other))
  }));
});
process.env.NODE_ENV !== "production" ? GridPanelWrapper.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // | To update them edit the TypeScript types and run "yarn proptypes"  |
  // ----------------------------------------------------------------------
  slotProps: PropTypes.object
} : void 0;
const GRID_EXPERIMENTAL_ENABLED = false;
const _excluded$q = ["sort", "searchPredicate", "autoFocusSearchField", "disableHideAllButton", "disableShowAllButton", "getTogglableColumns"];
const useUtilityClasses$b = (ownerState) => {
  const {
    classes
  } = ownerState;
  const slots = {
    root: ["columnsPanel"],
    columnsPanelRow: ["columnsPanelRow"]
  };
  return unstable_composeClasses(slots, getDataGridUtilityClass, classes);
};
const GridColumnsPanelRoot = styled$1("div", {
  name: "MuiDataGrid",
  slot: "ColumnsPanel",
  overridesResolver: (props, styles) => styles.columnsPanel
})({
  padding: "8px 0px 8px 8px"
});
const GridColumnsPanelRowRoot = styled$1("div", {
  name: "MuiDataGrid",
  slot: "ColumnsPanelRow",
  overridesResolver: (props, styles) => styles.columnsPanelRow
})(({
  theme
}) => ({
  display: "flex",
  justifyContent: "space-between",
  padding: "1px 8px 1px 7px",
  [`& .${switchClasses.root}`]: {
    marginRight: theme.spacing(0.5)
  }
}));
styled$1(IconButton)({
  justifyContent: "flex-end"
});
const collator$1 = new Intl.Collator();
const defaultSearchPredicate = (column, searchValue) => {
  return (column.headerName || column.field).toLowerCase().indexOf(searchValue) > -1;
};
function GridColumnsPanel(props) {
  var _rootProps$slotProps, _rootProps$slotProps3, _rootProps$slotProps4;
  const apiRef = useGridApiContext();
  const searchInputRef = React.useRef(null);
  const columns = useGridSelector(apiRef, gridColumnDefinitionsSelector);
  const columnVisibilityModel = useGridSelector(apiRef, gridColumnVisibilityModelSelector);
  const rootProps = useGridRootProps();
  const [searchValue, setSearchValue] = React.useState("");
  const classes = useUtilityClasses$b(rootProps);
  const {
    sort,
    searchPredicate = defaultSearchPredicate,
    autoFocusSearchField = true,
    disableHideAllButton = false,
    disableShowAllButton = false,
    getTogglableColumns
  } = props, other = _objectWithoutPropertiesLoose$1(props, _excluded$q);
  const sortedColumns = React.useMemo(() => {
    switch (sort) {
      case "asc":
        return [...columns].sort((a, b) => collator$1.compare(a.headerName || a.field, b.headerName || b.field));
      case "desc":
        return [...columns].sort((a, b) => -collator$1.compare(a.headerName || a.field, b.headerName || b.field));
      default:
        return columns;
    }
  }, [columns, sort]);
  const toggleColumn = (event) => {
    const {
      name: field
    } = event.target;
    apiRef.current.setColumnVisibility(field, columnVisibilityModel[field] === false);
  };
  const toggleAllColumns = React.useCallback((isVisible) => {
    const currentModel = gridColumnVisibilityModelSelector(apiRef);
    const newModel = _extends$1({}, currentModel);
    const togglableColumns = getTogglableColumns ? getTogglableColumns(columns) : null;
    columns.forEach((col) => {
      if (col.hideable && (togglableColumns == null || togglableColumns.includes(col.field))) {
        if (isVisible) {
          delete newModel[col.field];
        } else {
          newModel[col.field] = false;
        }
      }
    });
    return apiRef.current.setColumnVisibilityModel(newModel);
  }, [apiRef, columns, getTogglableColumns]);
  const handleSearchValueChange = React.useCallback((event) => {
    setSearchValue(event.target.value);
  }, []);
  const currentColumns = React.useMemo(() => {
    const togglableColumns = getTogglableColumns ? getTogglableColumns(sortedColumns) : null;
    const togglableSortedColumns = togglableColumns ? sortedColumns.filter(({
      field
    }) => togglableColumns.includes(field)) : sortedColumns;
    if (!searchValue) {
      return togglableSortedColumns;
    }
    return togglableSortedColumns.filter((column) => searchPredicate(column, searchValue.toLowerCase()));
  }, [sortedColumns, searchValue, searchPredicate, getTogglableColumns]);
  const firstSwitchRef = React.useRef(null);
  React.useEffect(() => {
    if (autoFocusSearchField) {
      searchInputRef.current.focus();
    } else if (firstSwitchRef.current && typeof firstSwitchRef.current.focus === "function") {
      firstSwitchRef.current.focus();
    }
  }, [autoFocusSearchField]);
  let firstHideableColumnFound = false;
  const isFirstHideableColumn = (column) => {
    if (firstHideableColumnFound === false && column.hideable !== false) {
      firstHideableColumnFound = true;
      return true;
    }
    return false;
  };
  return /* @__PURE__ */ jsxs(GridPanelWrapper, _extends$1({}, other, {
    children: [/* @__PURE__ */ jsx(GridPanelHeader, {
      children: /* @__PURE__ */ jsx(rootProps.slots.baseTextField, _extends$1({
        label: apiRef.current.getLocaleText("columnsPanelTextFieldLabel"),
        placeholder: apiRef.current.getLocaleText("columnsPanelTextFieldPlaceholder"),
        inputRef: searchInputRef,
        value: searchValue,
        onChange: handleSearchValueChange,
        variant: "standard",
        fullWidth: true
      }, (_rootProps$slotProps = rootProps.slotProps) == null ? void 0 : _rootProps$slotProps.baseTextField))
    }), /* @__PURE__ */ jsx(GridPanelContent, {
      children: /* @__PURE__ */ jsx(GridColumnsPanelRoot, {
        className: classes.root,
        ownerState: rootProps,
        children: currentColumns.map((column) => {
          var _rootProps$slotProps2;
          return /* @__PURE__ */ jsxs(GridColumnsPanelRowRoot, {
            className: classes.columnsPanelRow,
            ownerState: rootProps,
            children: [/* @__PURE__ */ jsx(FormControlLabel, {
              control: /* @__PURE__ */ jsx(rootProps.slots.baseSwitch, _extends$1({
                disabled: column.hideable === false,
                checked: columnVisibilityModel[column.field] !== false,
                onClick: toggleColumn,
                name: column.field,
                size: "small",
                inputRef: isFirstHideableColumn(column) ? firstSwitchRef : void 0
              }, (_rootProps$slotProps2 = rootProps.slotProps) == null ? void 0 : _rootProps$slotProps2.baseSwitch)),
              label: column.headerName || column.field
            }), !rootProps.disableColumnReorder && GRID_EXPERIMENTAL_ENABLED]
          }, column.field);
        })
      })
    }), disableShowAllButton && disableHideAllButton ? null : /* @__PURE__ */ jsxs(GridPanelFooter, {
      children: [!disableHideAllButton ? /* @__PURE__ */ jsx(rootProps.slots.baseButton, _extends$1({
        onClick: () => toggleAllColumns(false)
      }, (_rootProps$slotProps3 = rootProps.slotProps) == null ? void 0 : _rootProps$slotProps3.baseButton, {
        disabled: disableHideAllButton,
        children: apiRef.current.getLocaleText("columnsPanelHideAllButton")
      })) : /* @__PURE__ */ jsx("span", {}), !disableShowAllButton ? /* @__PURE__ */ jsx(rootProps.slots.baseButton, _extends$1({
        onClick: () => toggleAllColumns(true)
      }, (_rootProps$slotProps4 = rootProps.slotProps) == null ? void 0 : _rootProps$slotProps4.baseButton, {
        disabled: disableShowAllButton,
        children: apiRef.current.getLocaleText("columnsPanelShowAllButton")
      })) : null]
    })]
  }));
}
process.env.NODE_ENV !== "production" ? GridColumnsPanel.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // | To update them edit the TypeScript types and run "yarn proptypes"  |
  // ----------------------------------------------------------------------
  /**
   * If `true`, the column search field will be focused automatically.
   * If `false`, the first column switch input will be focused automatically.
   * This helps to avoid input keyboard panel to popup automatically on touch devices.
   * @default true
   */
  autoFocusSearchField: PropTypes.bool,
  /**
   * If `true`, the `Hide all` button will not be displayed.
   * @default false
   */
  disableHideAllButton: PropTypes.bool,
  /**
   * If `true`, the `Show all` button will be disabled
   * @default false
   */
  disableShowAllButton: PropTypes.bool,
  /**
   * Returns the list of togglable columns.
   * If used, only those columns will be displayed in the panel
   * which are passed as the return value of the function.
   * @param {GridColDef[]} columns The `ColDef` list of all columns.
   * @returns {GridColDef['field'][]} The list of togglable columns' field names.
   */
  getTogglableColumns: PropTypes.func,
  searchPredicate: PropTypes.func,
  slotProps: PropTypes.object,
  sort: PropTypes.oneOf(["asc", "desc"])
} : void 0;
const _excluded$p = ["children", "className", "classes"];
const gridPanelClasses = unstable_generateUtilityClasses("MuiDataGrid", ["panel", "paper"]);
const GridPanelRoot = styled$1(Popper, {
  name: "MuiDataGrid",
  slot: "Panel",
  overridesResolver: (props, styles) => styles.panel
})(({
  theme
}) => ({
  zIndex: theme.zIndex.modal
}));
const GridPaperRoot = styled$1(Paper, {
  name: "MuiDataGrid",
  slot: "Paper",
  overridesResolver: (props, styles) => styles.paper
})(({
  theme
}) => ({
  backgroundColor: (theme.vars || theme).palette.background.paper,
  minWidth: 300,
  maxHeight: 450,
  display: "flex"
}));
const GridPanel = /* @__PURE__ */ React.forwardRef((props, ref) => {
  const {
    children,
    className
  } = props, other = _objectWithoutPropertiesLoose$1(props, _excluded$p);
  const apiRef = useGridApiContext();
  const rootProps = useGridRootProps();
  const classes = gridPanelClasses;
  const [isPlaced, setIsPlaced] = React.useState(false);
  const handleClickAway = React.useCallback(() => {
    apiRef.current.hidePreferences();
  }, [apiRef]);
  const handleKeyDown = React.useCallback((event) => {
    if (isEscapeKey(event.key)) {
      apiRef.current.hidePreferences();
    }
  }, [apiRef]);
  const modifiers = React.useMemo(() => [{
    name: "flip",
    enabled: true,
    options: {
      rootBoundary: "document"
    }
  }, {
    name: "isPlaced",
    enabled: true,
    phase: "main",
    fn: () => {
      setIsPlaced(true);
    },
    effect: () => () => {
      setIsPlaced(false);
    }
  }], []);
  const [anchorEl, setAnchorEl] = React.useState(null);
  React.useEffect(() => {
    var _apiRef$current$rootE;
    const columnHeadersElement = (_apiRef$current$rootE = apiRef.current.rootElementRef) == null || (_apiRef$current$rootE = _apiRef$current$rootE.current) == null ? void 0 : _apiRef$current$rootE.querySelector(`.${gridClasses.columnHeaders}`);
    if (columnHeadersElement) {
      setAnchorEl(columnHeadersElement);
    }
  }, [apiRef]);
  if (!anchorEl) {
    return null;
  }
  return /* @__PURE__ */ jsx(GridPanelRoot, _extends$1({
    ref,
    placement: "bottom-start",
    className: clsx(className, classes.panel),
    ownerState: rootProps,
    anchorEl,
    modifiers
  }, other, {
    children: /* @__PURE__ */ jsx(ClickAwayListener, {
      mouseEvent: "onMouseUp",
      onClickAway: handleClickAway,
      children: /* @__PURE__ */ jsx(GridPaperRoot, {
        className: classes.paper,
        ownerState: rootProps,
        elevation: 8,
        onKeyDown: handleKeyDown,
        children: isPlaced && children
      })
    })
  }));
});
process.env.NODE_ENV !== "production" ? GridPanel.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // | To update them edit the TypeScript types and run "yarn proptypes"  |
  // ----------------------------------------------------------------------
  /**
   * Popper render function or node.
   */
  children: PropTypes.node,
  /**
   * Override or extend the styles applied to the component.
   */
  classes: PropTypes.object,
  /**
   * If `true`, the component is shown.
   */
  open: PropTypes.bool.isRequired,
  ownerState: PropTypes.object
} : void 0;
const GridPreferencesPanel = /* @__PURE__ */ React.forwardRef(function GridPreferencesPanel2(props, ref) {
  var _preferencePanelState, _rootProps$slotProps, _rootProps$slotProps2;
  const apiRef = useGridApiContext();
  const columns = useGridSelector(apiRef, gridColumnDefinitionsSelector);
  const rootProps = useGridRootProps();
  const preferencePanelState = useGridSelector(apiRef, gridPreferencePanelStateSelector);
  const panelContent = apiRef.current.unstable_applyPipeProcessors("preferencePanel", null, (_preferencePanelState = preferencePanelState.openedPanelValue) != null ? _preferencePanelState : GridPreferencePanelsValue.filters);
  return /* @__PURE__ */ jsx(rootProps.slots.panel, _extends$1({
    ref,
    as: rootProps.slots.basePopper,
    open: columns.length > 0 && preferencePanelState.open,
    id: preferencePanelState.panelId,
    "aria-labelledby": preferencePanelState.labelId
  }, (_rootProps$slotProps = rootProps.slotProps) == null ? void 0 : _rootProps$slotProps.panel, props, (_rootProps$slotProps2 = rootProps.slotProps) == null ? void 0 : _rootProps$slotProps2.basePopper, {
    children: panelContent
  }));
});
const _excluded$o = ["item", "hasMultipleFilters", "deleteFilter", "applyFilterChanges", "multiFilterOperator", "showMultiFilterOperators", "disableMultiFilterOperator", "applyMultiFilterOperatorChanges", "focusElementRef", "logicOperators", "columnsSort", "filterColumns", "deleteIconProps", "logicOperatorInputProps", "operatorInputProps", "columnInputProps", "valueInputProps", "children"], _excluded2$4 = ["InputComponentProps"];
const useUtilityClasses$a = (ownerState) => {
  const {
    classes
  } = ownerState;
  const slots = {
    root: ["filterForm"],
    deleteIcon: ["filterFormDeleteIcon"],
    logicOperatorInput: ["filterFormLogicOperatorInput"],
    columnInput: ["filterFormColumnInput"],
    operatorInput: ["filterFormOperatorInput"],
    valueInput: ["filterFormValueInput"]
  };
  return unstable_composeClasses(slots, getDataGridUtilityClass, classes);
};
const GridFilterFormRoot = styled$1("div", {
  name: "MuiDataGrid",
  slot: "FilterForm",
  overridesResolver: (props, styles) => styles.filterForm
})(({
  theme
}) => ({
  display: "flex",
  padding: theme.spacing(1)
}));
const FilterFormDeleteIcon = styled$1("div", {
  name: "MuiDataGrid",
  slot: "FilterFormDeleteIcon",
  overridesResolver: (_, styles) => styles.filterFormDeleteIcon
})(({
  theme
}) => ({
  flexShrink: 0,
  justifyContent: "flex-end",
  marginRight: theme.spacing(0.5),
  marginBottom: theme.spacing(0.2)
}));
const FilterFormLogicOperatorInput = styled$1("div", {
  name: "MuiDataGrid",
  slot: "FilterFormLogicOperatorInput",
  overridesResolver: (_, styles) => styles.filterFormLogicOperatorInput
})({
  minWidth: 55,
  marginRight: 5,
  justifyContent: "end"
});
const FilterFormColumnInput = styled$1("div", {
  name: "MuiDataGrid",
  slot: "FilterFormColumnInput",
  overridesResolver: (_, styles) => styles.filterFormColumnInput
})({
  width: 150
});
const FilterFormOperatorInput = styled$1("div", {
  name: "MuiDataGrid",
  slot: "FilterFormOperatorInput",
  overridesResolver: (_, styles) => styles.filterFormOperatorInput
})({
  width: 120
});
const FilterFormValueInput = styled$1("div", {
  name: "MuiDataGrid",
  slot: "FilterFormValueInput",
  overridesResolver: (_, styles) => styles.filterFormValueInput
})({
  width: 190
});
const getLogicOperatorLocaleKey = (logicOperator) => {
  switch (logicOperator) {
    case GridLogicOperator.And:
      return "filterPanelOperatorAnd";
    case GridLogicOperator.Or:
      return "filterPanelOperatorOr";
    default:
      throw new Error("MUI: Invalid `logicOperator` property in the `GridFilterPanel`.");
  }
};
const getColumnLabel = (col) => col.headerName || col.field;
const collator = new Intl.Collator();
const GridFilterForm = /* @__PURE__ */ React.forwardRef(function GridFilterForm2(props, ref) {
  var _rootProps$slotProps, _rootProps$slotProps2, _baseSelectProps$nati, _rootProps$slotProps3, _rootProps$slotProps4, _rootProps$slotProps5, _rootProps$slotProps6, _rootProps$slotProps7, _rootProps$slotProps8, _currentColumn$filter2;
  const {
    item,
    hasMultipleFilters,
    deleteFilter,
    applyFilterChanges,
    multiFilterOperator,
    showMultiFilterOperators,
    disableMultiFilterOperator,
    applyMultiFilterOperatorChanges,
    focusElementRef,
    logicOperators = [GridLogicOperator.And, GridLogicOperator.Or],
    columnsSort,
    filterColumns,
    deleteIconProps = {},
    logicOperatorInputProps = {},
    operatorInputProps = {},
    columnInputProps = {},
    valueInputProps = {}
  } = props, other = _objectWithoutPropertiesLoose$1(props, _excluded$o);
  const apiRef = useGridApiContext();
  const filterableColumns = useGridSelector(apiRef, gridFilterableColumnDefinitionsSelector);
  const filterModel = useGridSelector(apiRef, gridFilterModelSelector);
  const columnSelectId = unstable_useId();
  const columnSelectLabelId = unstable_useId();
  const operatorSelectId = unstable_useId();
  const operatorSelectLabelId = unstable_useId();
  const rootProps = useGridRootProps();
  const classes = useUtilityClasses$a(rootProps);
  const valueRef = React.useRef(null);
  const filterSelectorRef = React.useRef(null);
  const hasLogicOperatorColumn = hasMultipleFilters && logicOperators.length > 0;
  const baseFormControlProps = ((_rootProps$slotProps = rootProps.slotProps) == null ? void 0 : _rootProps$slotProps.baseFormControl) || {};
  const baseSelectProps = ((_rootProps$slotProps2 = rootProps.slotProps) == null ? void 0 : _rootProps$slotProps2.baseSelect) || {};
  const isBaseSelectNative = (_baseSelectProps$nati = baseSelectProps.native) != null ? _baseSelectProps$nati : true;
  const baseInputLabelProps = ((_rootProps$slotProps3 = rootProps.slotProps) == null ? void 0 : _rootProps$slotProps3.baseInputLabel) || {};
  const baseSelectOptionProps = ((_rootProps$slotProps4 = rootProps.slotProps) == null ? void 0 : _rootProps$slotProps4.baseSelectOption) || {};
  const {
    InputComponentProps
  } = valueInputProps, valueInputPropsOther = _objectWithoutPropertiesLoose$1(valueInputProps, _excluded2$4);
  const filteredColumns = React.useMemo(() => {
    if (filterColumns === void 0 || typeof filterColumns !== "function") {
      return filterableColumns;
    }
    const filteredFields = filterColumns({
      field: item.field,
      columns: filterableColumns,
      currentFilters: (filterModel == null ? void 0 : filterModel.items) || []
    });
    return filterableColumns.filter((column) => filteredFields.includes(column.field));
  }, [filterColumns, filterModel == null ? void 0 : filterModel.items, filterableColumns, item.field]);
  const sortedFilteredColumns = React.useMemo(() => {
    switch (columnsSort) {
      case "asc":
        return filteredColumns.sort((a, b) => collator.compare(getColumnLabel(a), getColumnLabel(b)));
      case "desc":
        return filteredColumns.sort((a, b) => -collator.compare(getColumnLabel(a), getColumnLabel(b)));
      default:
        return filteredColumns;
    }
  }, [filteredColumns, columnsSort]);
  const currentColumn = item.field ? apiRef.current.getColumn(item.field) : null;
  const currentOperator = React.useMemo(() => {
    var _currentColumn$filter;
    if (!item.operator || !currentColumn) {
      return null;
    }
    return (_currentColumn$filter = currentColumn.filterOperators) == null ? void 0 : _currentColumn$filter.find((operator) => operator.value === item.operator);
  }, [item, currentColumn]);
  const changeColumn = React.useCallback((event) => {
    const field = event.target.value;
    const column = apiRef.current.getColumn(field);
    if (column.field === currentColumn.field) {
      return;
    }
    const newOperator = column.filterOperators.find((operator) => operator.value === item.operator) || column.filterOperators[0];
    const eraseItemValue = !newOperator.InputComponent || newOperator.InputComponent !== (currentOperator == null ? void 0 : currentOperator.InputComponent) || column.type !== currentColumn.type;
    applyFilterChanges(_extends$1({}, item, {
      field,
      operator: newOperator.value,
      value: eraseItemValue ? void 0 : item.value
    }));
  }, [apiRef, applyFilterChanges, item, currentColumn, currentOperator]);
  const changeOperator = React.useCallback((event) => {
    const operator = event.target.value;
    const newOperator = currentColumn == null ? void 0 : currentColumn.filterOperators.find((op) => op.value === operator);
    const eraseItemValue = !(newOperator != null && newOperator.InputComponent) || (newOperator == null ? void 0 : newOperator.InputComponent) !== (currentOperator == null ? void 0 : currentOperator.InputComponent);
    applyFilterChanges(_extends$1({}, item, {
      operator,
      value: eraseItemValue ? void 0 : item.value
    }));
  }, [applyFilterChanges, item, currentColumn, currentOperator]);
  const changeLogicOperator = React.useCallback((event) => {
    const logicOperator = event.target.value === GridLogicOperator.And.toString() ? GridLogicOperator.And : GridLogicOperator.Or;
    applyMultiFilterOperatorChanges(logicOperator);
  }, [applyMultiFilterOperatorChanges]);
  const handleDeleteFilter = () => {
    if (rootProps.disableMultipleColumnsFiltering) {
      if (item.value === void 0) {
        deleteFilter(item);
      } else {
        applyFilterChanges(_extends$1({}, item, {
          value: void 0
        }));
      }
    } else {
      deleteFilter(item);
    }
  };
  React.useImperativeHandle(focusElementRef, () => ({
    focus: () => {
      if (currentOperator != null && currentOperator.InputComponent) {
        var _valueRef$current;
        valueRef == null || (_valueRef$current = valueRef.current) == null || _valueRef$current.focus();
      } else {
        filterSelectorRef.current.focus();
      }
    }
  }), [currentOperator]);
  return /* @__PURE__ */ jsxs(GridFilterFormRoot, _extends$1({
    ref,
    className: classes.root,
    "data-id": item.id,
    ownerState: rootProps
  }, other, {
    children: [/* @__PURE__ */ jsx(FilterFormDeleteIcon, _extends$1({
      variant: "standard",
      as: rootProps.slots.baseFormControl
    }, baseFormControlProps, deleteIconProps, {
      className: clsx(classes.deleteIcon, baseFormControlProps.className, deleteIconProps.className),
      ownerState: rootProps,
      children: /* @__PURE__ */ jsx(rootProps.slots.baseIconButton, _extends$1({
        "aria-label": apiRef.current.getLocaleText("filterPanelDeleteIconLabel"),
        title: apiRef.current.getLocaleText("filterPanelDeleteIconLabel"),
        onClick: handleDeleteFilter,
        size: "small"
      }, (_rootProps$slotProps5 = rootProps.slotProps) == null ? void 0 : _rootProps$slotProps5.baseIconButton, {
        children: /* @__PURE__ */ jsx(rootProps.slots.filterPanelDeleteIcon, {
          fontSize: "small"
        })
      }))
    })), /* @__PURE__ */ jsx(FilterFormLogicOperatorInput, _extends$1({
      variant: "standard",
      as: rootProps.slots.baseFormControl
    }, baseFormControlProps, logicOperatorInputProps, {
      sx: _extends$1({
        display: hasLogicOperatorColumn ? "flex" : "none",
        visibility: showMultiFilterOperators ? "visible" : "hidden"
      }, baseFormControlProps.sx || {}, logicOperatorInputProps.sx || {}),
      className: clsx(classes.logicOperatorInput, baseFormControlProps.className, logicOperatorInputProps.className),
      ownerState: rootProps,
      children: /* @__PURE__ */ jsx(rootProps.slots.baseSelect, _extends$1({
        inputProps: {
          "aria-label": apiRef.current.getLocaleText("filterPanelLogicOperator")
        },
        value: multiFilterOperator,
        onChange: changeLogicOperator,
        disabled: !!disableMultiFilterOperator || logicOperators.length === 1,
        native: isBaseSelectNative
      }, (_rootProps$slotProps6 = rootProps.slotProps) == null ? void 0 : _rootProps$slotProps6.baseSelect, {
        children: logicOperators.map((logicOperator) => /* @__PURE__ */ createElement(rootProps.slots.baseSelectOption, _extends$1({}, baseSelectOptionProps, {
          native: isBaseSelectNative,
          key: logicOperator.toString(),
          value: logicOperator.toString()
        }), apiRef.current.getLocaleText(getLogicOperatorLocaleKey(logicOperator))))
      }))
    })), /* @__PURE__ */ jsxs(FilterFormColumnInput, _extends$1({
      variant: "standard",
      as: rootProps.slots.baseFormControl
    }, baseFormControlProps, columnInputProps, {
      className: clsx(classes.columnInput, baseFormControlProps.className, columnInputProps.className),
      ownerState: rootProps,
      children: [/* @__PURE__ */ jsx(rootProps.slots.baseInputLabel, _extends$1({}, baseInputLabelProps, {
        htmlFor: columnSelectId,
        id: columnSelectLabelId,
        children: apiRef.current.getLocaleText("filterPanelColumns")
      })), /* @__PURE__ */ jsx(rootProps.slots.baseSelect, _extends$1({
        labelId: columnSelectLabelId,
        id: columnSelectId,
        label: apiRef.current.getLocaleText("filterPanelColumns"),
        value: item.field || "",
        onChange: changeColumn,
        native: isBaseSelectNative
      }, (_rootProps$slotProps7 = rootProps.slotProps) == null ? void 0 : _rootProps$slotProps7.baseSelect, {
        children: sortedFilteredColumns.map((col) => /* @__PURE__ */ createElement(rootProps.slots.baseSelectOption, _extends$1({}, baseSelectOptionProps, {
          native: isBaseSelectNative,
          key: col.field,
          value: col.field
        }), getColumnLabel(col)))
      }))]
    })), /* @__PURE__ */ jsxs(FilterFormOperatorInput, _extends$1({
      variant: "standard",
      as: rootProps.slots.baseFormControl
    }, baseFormControlProps, operatorInputProps, {
      className: clsx(classes.operatorInput, baseFormControlProps.className, operatorInputProps.className),
      ownerState: rootProps,
      children: [/* @__PURE__ */ jsx(rootProps.slots.baseInputLabel, _extends$1({}, baseInputLabelProps, {
        htmlFor: operatorSelectId,
        id: operatorSelectLabelId,
        children: apiRef.current.getLocaleText("filterPanelOperator")
      })), /* @__PURE__ */ jsx(rootProps.slots.baseSelect, _extends$1({
        labelId: operatorSelectLabelId,
        label: apiRef.current.getLocaleText("filterPanelOperator"),
        id: operatorSelectId,
        value: item.operator,
        onChange: changeOperator,
        native: isBaseSelectNative,
        inputRef: filterSelectorRef
      }, (_rootProps$slotProps8 = rootProps.slotProps) == null ? void 0 : _rootProps$slotProps8.baseSelect, {
        children: currentColumn == null || (_currentColumn$filter2 = currentColumn.filterOperators) == null ? void 0 : _currentColumn$filter2.map((operator) => /* @__PURE__ */ createElement(rootProps.slots.baseSelectOption, _extends$1({}, baseSelectOptionProps, {
          native: isBaseSelectNative,
          key: operator.value,
          value: operator.value
        }), operator.label || apiRef.current.getLocaleText(`filterOperator${unstable_capitalize(operator.value)}`)))
      }))]
    })), /* @__PURE__ */ jsx(FilterFormValueInput, _extends$1({
      variant: "standard",
      as: rootProps.slots.baseFormControl
    }, baseFormControlProps, valueInputPropsOther, {
      className: clsx(classes.valueInput, baseFormControlProps.className, valueInputPropsOther.className),
      ownerState: rootProps,
      children: currentOperator != null && currentOperator.InputComponent ? /* @__PURE__ */ jsx(currentOperator.InputComponent, _extends$1({
        apiRef,
        item,
        applyValue: applyFilterChanges,
        focusElementRef: valueRef
      }, currentOperator.InputComponentProps, InputComponentProps)) : null
    }))]
  }));
});
process.env.NODE_ENV !== "production" ? GridFilterForm.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // | To update them edit the TypeScript types and run "yarn proptypes"  |
  // ----------------------------------------------------------------------
  /**
   * Callback called when the operator, column field or value is changed.
   * @param {GridFilterItem} item The updated [[GridFilterItem]].
   */
  applyFilterChanges: PropTypes.func.isRequired,
  /**
   * Callback called when the logic operator is changed.
   * @param {GridLogicOperator} operator The new logic operator.
   */
  applyMultiFilterOperatorChanges: PropTypes.func.isRequired,
  /**
   * @ignore - do not document.
   */
  children: PropTypes.node,
  /**
   * Props passed to the column input component.
   * @default {}
   */
  columnInputProps: PropTypes.any,
  /**
   * Changes how the options in the columns selector should be ordered.
   * If not specified, the order is derived from the `columns` prop.
   */
  columnsSort: PropTypes.oneOf(["asc", "desc"]),
  /**
   * Callback called when the delete button is clicked.
   * @param {GridFilterItem} item The deleted [[GridFilterItem]].
   */
  deleteFilter: PropTypes.func.isRequired,
  /**
   * Props passed to the delete icon.
   * @default {}
   */
  deleteIconProps: PropTypes.any,
  /**
   * If `true`, disables the logic operator field but still renders it.
   */
  disableMultiFilterOperator: PropTypes.bool,
  /**
   * Allows to filter the columns displayed in the filter form.
   * @param {FilterColumnsArgs} args The columns of the grid and name of field.
   * @returns {GridColDef['field'][]} The filtered fields array.
   */
  filterColumns: PropTypes.func,
  /**
   * A ref allowing to set imperative focus.
   * It can be passed to the el
   */
  focusElementRef: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),
  /**
   * If `true`, the logic operator field is rendered.
   * The field will be invisible if `showMultiFilterOperators` is also `true`.
   */
  hasMultipleFilters: PropTypes.bool.isRequired,
  /**
   * The [[GridFilterItem]] representing this form.
   */
  item: PropTypes.shape({
    field: PropTypes.string.isRequired,
    id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),
    operator: PropTypes.string.isRequired,
    value: PropTypes.any
  }).isRequired,
  /**
   * Props passed to the logic operator input component.
   * @default {}
   */
  logicOperatorInputProps: PropTypes.any,
  /**
   * Sets the available logic operators.
   * @default [GridLogicOperator.And, GridLogicOperator.Or]
   */
  logicOperators: PropTypes.arrayOf(PropTypes.oneOf(["and", "or"]).isRequired),
  /**
   * The current logic operator applied.
   */
  multiFilterOperator: PropTypes.oneOf(["and", "or"]),
  /**
   * Props passed to the operator input component.
   * @default {}
   */
  operatorInputProps: PropTypes.any,
  /**
   * If `true`, the logic operator field is visible.
   */
  showMultiFilterOperators: PropTypes.bool,
  /**
   * Props passed to the value input component.
   * @default {}
   */
  valueInputProps: PropTypes.any
} : void 0;
class Timeout {
  constructor() {
    this.currentId = 0;
    this.clear = () => {
      if (this.currentId !== 0) {
        clearTimeout(this.currentId);
        this.currentId = 0;
      }
    };
    this.disposeEffect = () => {
      return this.clear;
    };
  }
  static create() {
    return new Timeout();
  }
  start(delay, fn2) {
    this.clear();
    this.currentId = setTimeout(fn2, delay);
  }
}
function useTimeout() {
  const timeout = useLazyRef(Timeout.create).current;
  useOnMount(timeout.disposeEffect);
  return timeout;
}
const _excluded$n = ["item", "applyValue", "type", "apiRef", "focusElementRef", "tabIndex", "disabled", "isFilterActive", "clearButton", "InputProps", "variant"];
function GridFilterInputValue(props) {
  var _item$value, _rootProps$slotProps;
  const {
    item,
    applyValue,
    type,
    apiRef,
    focusElementRef,
    tabIndex,
    disabled,
    clearButton,
    InputProps,
    variant = "standard"
  } = props, others = _objectWithoutPropertiesLoose$1(props, _excluded$n);
  const filterTimeout = useTimeout();
  const [filterValueState, setFilterValueState] = React.useState((_item$value = item.value) != null ? _item$value : "");
  const [applying, setIsApplying] = React.useState(false);
  const id = unstable_useId();
  const rootProps = useGridRootProps();
  const onFilterChange = React.useCallback((event) => {
    const {
      value
    } = event.target;
    setFilterValueState(String(value));
    setIsApplying(true);
    filterTimeout.start(rootProps.filterDebounceMs, () => {
      const newItem = _extends$1({}, item, {
        value,
        fromInput: id
      });
      applyValue(newItem);
      setIsApplying(false);
    });
  }, [id, applyValue, item, rootProps.filterDebounceMs, filterTimeout]);
  React.useEffect(() => {
    const itemPlusTag = item;
    if (itemPlusTag.fromInput !== id || item.value === void 0) {
      var _item$value2;
      setFilterValueState(String((_item$value2 = item.value) != null ? _item$value2 : ""));
    }
  }, [id, item]);
  return /* @__PURE__ */ jsx(rootProps.slots.baseTextField, _extends$1({
    id,
    label: apiRef.current.getLocaleText("filterPanelInputLabel"),
    placeholder: apiRef.current.getLocaleText("filterPanelInputPlaceholder"),
    value: filterValueState,
    onChange: onFilterChange,
    variant,
    type: type || "text",
    InputProps: _extends$1({}, applying || clearButton ? {
      endAdornment: applying ? /* @__PURE__ */ jsx(rootProps.slots.loadIcon, {
        fontSize: "small",
        color: "action"
      }) : clearButton
    } : {}, {
      disabled
    }, InputProps, {
      inputProps: _extends$1({
        tabIndex
      }, InputProps == null ? void 0 : InputProps.inputProps)
    }),
    InputLabelProps: {
      shrink: true
    },
    inputRef: focusElementRef
  }, others, (_rootProps$slotProps = rootProps.slotProps) == null ? void 0 : _rootProps$slotProps.baseTextField));
}
process.env.NODE_ENV !== "production" ? GridFilterInputValue.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // | To update them edit the TypeScript types and run "yarn proptypes"  |
  // ----------------------------------------------------------------------
  apiRef: PropTypes.shape({
    current: PropTypes.object.isRequired
  }).isRequired,
  applyValue: PropTypes.func.isRequired,
  clearButton: PropTypes.node,
  focusElementRef: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),
  /**
   * It is `true` if the filter either has a value or an operator with no value
   * required is selected (e.g. `isEmpty`)
   */
  isFilterActive: PropTypes.bool,
  item: PropTypes.shape({
    field: PropTypes.string.isRequired,
    id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),
    operator: PropTypes.string.isRequired,
    value: PropTypes.any
  }).isRequired
} : void 0;
const _excluded$m = ["item", "applyValue", "type", "apiRef", "focusElementRef", "InputProps", "isFilterActive", "clearButton", "tabIndex", "disabled"];
function GridFilterInputDate(props) {
  var _item$value, _rootProps$slotProps;
  const {
    item,
    applyValue,
    type,
    apiRef,
    focusElementRef,
    InputProps,
    clearButton,
    tabIndex,
    disabled
  } = props, other = _objectWithoutPropertiesLoose$1(props, _excluded$m);
  const filterTimeout = useTimeout();
  const [filterValueState, setFilterValueState] = React.useState((_item$value = item.value) != null ? _item$value : "");
  const [applying, setIsApplying] = React.useState(false);
  const id = unstable_useId();
  const rootProps = useGridRootProps();
  const onFilterChange = React.useCallback((event) => {
    const value = event.target.value;
    setFilterValueState(String(value));
    setIsApplying(true);
    filterTimeout.start(rootProps.filterDebounceMs, () => {
      applyValue(_extends$1({}, item, {
        value
      }));
      setIsApplying(false);
    });
  }, [applyValue, item, rootProps.filterDebounceMs, filterTimeout]);
  React.useEffect(() => {
    var _item$value2;
    const itemValue = (_item$value2 = item.value) != null ? _item$value2 : "";
    setFilterValueState(String(itemValue));
  }, [item.value]);
  return /* @__PURE__ */ jsx(rootProps.slots.baseTextField, _extends$1({
    fullWidth: true,
    id,
    label: apiRef.current.getLocaleText("filterPanelInputLabel"),
    placeholder: apiRef.current.getLocaleText("filterPanelInputPlaceholder"),
    value: filterValueState,
    onChange: onFilterChange,
    variant: "standard",
    type: type || "text",
    InputLabelProps: {
      shrink: true
    },
    inputRef: focusElementRef,
    InputProps: _extends$1({}, applying || clearButton ? {
      endAdornment: applying ? /* @__PURE__ */ jsx(rootProps.slots.loadIcon, {
        fontSize: "small",
        color: "action"
      }) : clearButton
    } : {}, {
      disabled
    }, InputProps, {
      inputProps: _extends$1({
        max: type === "datetime-local" ? "9999-12-31T23:59" : "9999-12-31",
        tabIndex
      }, InputProps == null ? void 0 : InputProps.inputProps)
    })
  }, other, (_rootProps$slotProps = rootProps.slotProps) == null ? void 0 : _rootProps$slotProps.baseTextField));
}
process.env.NODE_ENV !== "production" ? GridFilterInputDate.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // | To update them edit the TypeScript types and run "yarn proptypes"  |
  // ----------------------------------------------------------------------
  apiRef: PropTypes.shape({
    current: PropTypes.object.isRequired
  }).isRequired,
  applyValue: PropTypes.func.isRequired,
  clearButton: PropTypes.node,
  focusElementRef: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),
  /**
   * It is `true` if the filter either has a value or an operator with no value
   * required is selected (e.g. `isEmpty`)
   */
  isFilterActive: PropTypes.bool,
  item: PropTypes.shape({
    field: PropTypes.string.isRequired,
    id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),
    operator: PropTypes.string.isRequired,
    value: PropTypes.any
  }).isRequired
} : void 0;
const _excluded$l = ["item", "applyValue", "type", "apiRef", "focusElementRef", "getOptionLabel", "getOptionValue", "placeholder", "tabIndex", "label", "variant", "isFilterActive", "clearButton", "InputLabelProps"];
const renderSingleSelectOptions = ({
  column: {
    valueOptions,
    field
  },
  OptionComponent,
  getOptionLabel,
  getOptionValue,
  isSelectNative,
  baseSelectOptionProps
}) => {
  const iterableColumnValues = typeof valueOptions === "function" ? ["", ...valueOptions({
    field
  })] : ["", ...valueOptions || []];
  return iterableColumnValues.map((option) => {
    const value = getOptionValue(option);
    const label = getOptionLabel(option);
    return /* @__PURE__ */ createElement(OptionComponent, _extends$1({}, baseSelectOptionProps, {
      native: isSelectNative,
      key: value,
      value
    }), label);
  });
};
const SingleSelectOperatorContainer = styled$1("div")({
  display: "flex",
  alignItems: "flex-end",
  width: "100%",
  [`& button`]: {
    margin: "auto 0px 5px 5px"
  }
});
function GridFilterInputSingleSelect(props) {
  var _item$value, _rootProps$slotProps$, _rootProps$slotProps, _resolvedColumn, _resolvedColumn2, _rootProps$slotProps2, _rootProps$slotProps3, _rootProps$slotProps4;
  const {
    item,
    applyValue,
    type,
    apiRef,
    focusElementRef,
    getOptionLabel: getOptionLabelProp,
    getOptionValue: getOptionValueProp,
    placeholder,
    tabIndex,
    label: labelProp,
    variant = "standard",
    clearButton
  } = props, others = _objectWithoutPropertiesLoose$1(props, _excluded$l);
  const [filterValueState, setFilterValueState] = React.useState((_item$value = item.value) != null ? _item$value : "");
  const id = unstable_useId();
  const labelId = unstable_useId();
  const rootProps = useGridRootProps();
  const isSelectNative = (_rootProps$slotProps$ = (_rootProps$slotProps = rootProps.slotProps) == null || (_rootProps$slotProps = _rootProps$slotProps.baseSelect) == null ? void 0 : _rootProps$slotProps.native) != null ? _rootProps$slotProps$ : true;
  let resolvedColumn = null;
  if (item.field) {
    const column = apiRef.current.getColumn(item.field);
    if (isSingleSelectColDef(column)) {
      resolvedColumn = column;
    }
  }
  const getOptionValue = getOptionValueProp || ((_resolvedColumn = resolvedColumn) == null ? void 0 : _resolvedColumn.getOptionValue);
  const getOptionLabel = getOptionLabelProp || ((_resolvedColumn2 = resolvedColumn) == null ? void 0 : _resolvedColumn2.getOptionLabel);
  const currentValueOptions = React.useMemo(() => {
    if (!resolvedColumn) {
      return void 0;
    }
    return typeof resolvedColumn.valueOptions === "function" ? resolvedColumn.valueOptions({
      field: resolvedColumn.field
    }) : resolvedColumn.valueOptions;
  }, [resolvedColumn]);
  const onFilterChange = React.useCallback((event) => {
    let value = event.target.value;
    value = getValueFromValueOptions(value, currentValueOptions, getOptionValue);
    setFilterValueState(String(value));
    applyValue(_extends$1({}, item, {
      value
    }));
  }, [currentValueOptions, getOptionValue, applyValue, item]);
  React.useEffect(() => {
    var _itemValue;
    let itemValue;
    if (currentValueOptions !== void 0) {
      itemValue = getValueFromValueOptions(item.value, currentValueOptions, getOptionValue);
      if (itemValue !== item.value) {
        applyValue(_extends$1({}, item, {
          value: itemValue
        }));
        return;
      }
    } else {
      itemValue = item.value;
    }
    itemValue = (_itemValue = itemValue) != null ? _itemValue : "";
    setFilterValueState(String(itemValue));
  }, [item, currentValueOptions, applyValue, getOptionValue]);
  if (!isSingleSelectColDef(resolvedColumn)) {
    return null;
  }
  if (!isSingleSelectColDef(resolvedColumn)) {
    return null;
  }
  const label = labelProp != null ? labelProp : apiRef.current.getLocaleText("filterPanelInputLabel");
  return /* @__PURE__ */ jsxs(SingleSelectOperatorContainer, {
    children: [/* @__PURE__ */ jsxs(rootProps.slots.baseFormControl, {
      children: [/* @__PURE__ */ jsx(rootProps.slots.baseInputLabel, _extends$1({}, (_rootProps$slotProps2 = rootProps.slotProps) == null ? void 0 : _rootProps$slotProps2.baseInputLabel, {
        id: labelId,
        htmlFor: id,
        shrink: true,
        variant,
        children: label
      })), /* @__PURE__ */ jsx(rootProps.slots.baseSelect, _extends$1({
        id,
        label,
        labelId,
        value: filterValueState,
        onChange: onFilterChange,
        variant,
        type: type || "text",
        inputProps: {
          tabIndex,
          ref: focusElementRef,
          placeholder: placeholder != null ? placeholder : apiRef.current.getLocaleText("filterPanelInputPlaceholder")
        },
        native: isSelectNative,
        notched: variant === "outlined" ? true : void 0
      }, others, (_rootProps$slotProps3 = rootProps.slotProps) == null ? void 0 : _rootProps$slotProps3.baseSelect, {
        children: renderSingleSelectOptions({
          column: resolvedColumn,
          OptionComponent: rootProps.slots.baseSelectOption,
          getOptionLabel,
          getOptionValue,
          isSelectNative,
          baseSelectOptionProps: (_rootProps$slotProps4 = rootProps.slotProps) == null ? void 0 : _rootProps$slotProps4.baseSelectOption
        })
      }))]
    }), clearButton]
  });
}
process.env.NODE_ENV !== "production" ? GridFilterInputSingleSelect.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // | To update them edit the TypeScript types and run "yarn proptypes"  |
  // ----------------------------------------------------------------------
  apiRef: PropTypes.shape({
    current: PropTypes.object.isRequired
  }).isRequired,
  applyValue: PropTypes.func.isRequired,
  clearButton: PropTypes.node,
  focusElementRef: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),
  /**
   * Used to determine the label displayed for a given value option.
   * @param {ValueOptions} value The current value option.
   * @returns {string} The text to be displayed.
   */
  getOptionLabel: PropTypes.func,
  /**
   * Used to determine the value used for a value option.
   * @param {ValueOptions} value The current value option.
   * @returns {string} The value to be used.
   */
  getOptionValue: PropTypes.func,
  /**
   * It is `true` if the filter either has a value or an operator with no value
   * required is selected (e.g. `isEmpty`)
   */
  isFilterActive: PropTypes.bool,
  item: PropTypes.shape({
    field: PropTypes.string.isRequired,
    id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),
    operator: PropTypes.string.isRequired,
    value: PropTypes.any
  }).isRequired
} : void 0;
const _excluded$k = ["item", "applyValue", "apiRef", "focusElementRef", "isFilterActive", "clearButton", "tabIndex", "label", "variant", "InputLabelProps"];
const BooleanOperatorContainer = styled$1("div")({
  display: "flex",
  alignItems: "center",
  width: "100%",
  [`& button`]: {
    margin: "auto 0px 5px 5px"
  }
});
function GridFilterInputBoolean(props) {
  var _rootProps$slotProps, _baseSelectProps$nati, _rootProps$slotProps2, _rootProps$slotProps3;
  const {
    item,
    applyValue,
    apiRef,
    focusElementRef,
    clearButton,
    tabIndex,
    label: labelProp,
    variant = "standard"
  } = props, others = _objectWithoutPropertiesLoose$1(props, _excluded$k);
  const [filterValueState, setFilterValueState] = React.useState(item.value || "");
  const rootProps = useGridRootProps();
  const labelId = unstable_useId();
  const selectId = unstable_useId();
  const baseSelectProps = ((_rootProps$slotProps = rootProps.slotProps) == null ? void 0 : _rootProps$slotProps.baseSelect) || {};
  const isSelectNative = (_baseSelectProps$nati = baseSelectProps.native) != null ? _baseSelectProps$nati : true;
  const baseSelectOptionProps = ((_rootProps$slotProps2 = rootProps.slotProps) == null ? void 0 : _rootProps$slotProps2.baseSelectOption) || {};
  const onFilterChange = React.useCallback((event) => {
    const value = event.target.value;
    setFilterValueState(value);
    applyValue(_extends$1({}, item, {
      value
    }));
  }, [applyValue, item]);
  React.useEffect(() => {
    setFilterValueState(item.value || "");
  }, [item.value]);
  const label = labelProp != null ? labelProp : apiRef.current.getLocaleText("filterPanelInputLabel");
  return /* @__PURE__ */ jsxs(BooleanOperatorContainer, {
    children: [/* @__PURE__ */ jsxs(rootProps.slots.baseFormControl, {
      fullWidth: true,
      children: [/* @__PURE__ */ jsx(rootProps.slots.baseInputLabel, _extends$1({}, (_rootProps$slotProps3 = rootProps.slotProps) == null ? void 0 : _rootProps$slotProps3.baseInputLabel, {
        id: labelId,
        shrink: true,
        variant,
        children: label
      })), /* @__PURE__ */ jsxs(rootProps.slots.baseSelect, _extends$1({
        labelId,
        id: selectId,
        label,
        value: filterValueState,
        onChange: onFilterChange,
        variant,
        notched: variant === "outlined" ? true : void 0,
        native: isSelectNative,
        displayEmpty: true,
        inputProps: {
          ref: focusElementRef,
          tabIndex
        }
      }, others, baseSelectProps, {
        children: [/* @__PURE__ */ jsx(rootProps.slots.baseSelectOption, _extends$1({}, baseSelectOptionProps, {
          native: isSelectNative,
          value: "",
          children: apiRef.current.getLocaleText("filterValueAny")
        })), /* @__PURE__ */ jsx(rootProps.slots.baseSelectOption, _extends$1({}, baseSelectOptionProps, {
          native: isSelectNative,
          value: "true",
          children: apiRef.current.getLocaleText("filterValueTrue")
        })), /* @__PURE__ */ jsx(rootProps.slots.baseSelectOption, _extends$1({}, baseSelectOptionProps, {
          native: isSelectNative,
          value: "false",
          children: apiRef.current.getLocaleText("filterValueFalse")
        }))]
      }))]
    }), clearButton]
  });
}
process.env.NODE_ENV !== "production" ? GridFilterInputBoolean.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // | To update them edit the TypeScript types and run "yarn proptypes"  |
  // ----------------------------------------------------------------------
  apiRef: PropTypes.shape({
    current: PropTypes.object.isRequired
  }).isRequired,
  applyValue: PropTypes.func.isRequired,
  clearButton: PropTypes.node,
  focusElementRef: refType,
  /**
   * It is `true` if the filter either has a value or an operator with no value
   * required is selected (e.g. `isEmpty`)
   */
  isFilterActive: PropTypes.bool,
  item: PropTypes.shape({
    field: PropTypes.string.isRequired,
    id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),
    operator: PropTypes.string.isRequired,
    value: PropTypes.any
  }).isRequired
} : void 0;
const _excluded$j = ["logicOperators", "columnsSort", "filterFormProps", "getColumnForNewFilter", "children", "disableAddFilterButton", "disableRemoveAllButton"];
const getGridFilter = (col) => ({
  field: col.field,
  operator: col.filterOperators[0].value,
  id: Math.round(Math.random() * 1e5)
});
const GridFilterPanel = /* @__PURE__ */ React.forwardRef(function GridFilterPanel2(props, ref) {
  var _rootProps$slotProps, _rootProps$slotProps2;
  const apiRef = useGridApiContext();
  const rootProps = useGridRootProps();
  const filterModel = useGridSelector(apiRef, gridFilterModelSelector);
  const filterableColumns = useGridSelector(apiRef, gridFilterableColumnDefinitionsSelector);
  const lastFilterRef = React.useRef(null);
  const placeholderFilter = React.useRef(null);
  const {
    logicOperators = [GridLogicOperator.And, GridLogicOperator.Or],
    columnsSort,
    filterFormProps,
    getColumnForNewFilter,
    disableAddFilterButton = false,
    disableRemoveAllButton = false
  } = props, other = _objectWithoutPropertiesLoose$1(props, _excluded$j);
  const applyFilter = apiRef.current.upsertFilterItem;
  const applyFilterLogicOperator = React.useCallback((operator) => {
    apiRef.current.setFilterLogicOperator(operator);
  }, [apiRef]);
  const getDefaultFilter = React.useCallback(() => {
    let nextColumnWithOperator;
    if (getColumnForNewFilter && typeof getColumnForNewFilter === "function") {
      const nextFieldName = getColumnForNewFilter({
        currentFilters: (filterModel == null ? void 0 : filterModel.items) || [],
        columns: filterableColumns
      });
      if (nextFieldName === null) {
        return null;
      }
      nextColumnWithOperator = filterableColumns.find(({
        field
      }) => field === nextFieldName);
    } else {
      nextColumnWithOperator = filterableColumns.find((colDef) => {
        var _colDef$filterOperato;
        return (_colDef$filterOperato = colDef.filterOperators) == null ? void 0 : _colDef$filterOperato.length;
      });
    }
    if (!nextColumnWithOperator) {
      return null;
    }
    return getGridFilter(nextColumnWithOperator);
  }, [filterModel == null ? void 0 : filterModel.items, filterableColumns, getColumnForNewFilter]);
  const getNewFilter = React.useCallback(() => {
    if (getColumnForNewFilter === void 0 || typeof getColumnForNewFilter !== "function") {
      return getDefaultFilter();
    }
    const currentFilters = filterModel.items.length ? filterModel.items : [getDefaultFilter()].filter(Boolean);
    const nextColumnFieldName = getColumnForNewFilter({
      currentFilters,
      columns: filterableColumns
    });
    if (nextColumnFieldName === null) {
      return null;
    }
    const nextColumnWithOperator = filterableColumns.find(({
      field
    }) => field === nextColumnFieldName);
    if (!nextColumnWithOperator) {
      return null;
    }
    return getGridFilter(nextColumnWithOperator);
  }, [filterModel.items, filterableColumns, getColumnForNewFilter, getDefaultFilter]);
  const items = React.useMemo(() => {
    if (filterModel.items.length) {
      return filterModel.items;
    }
    if (!placeholderFilter.current) {
      placeholderFilter.current = getDefaultFilter();
    }
    return placeholderFilter.current ? [placeholderFilter.current] : [];
  }, [filterModel.items, getDefaultFilter]);
  const hasMultipleFilters = items.length > 1;
  const addNewFilter = () => {
    const newFilter = getNewFilter();
    if (!newFilter) {
      return;
    }
    apiRef.current.upsertFilterItems([...items, newFilter]);
  };
  const deleteFilter = React.useCallback((item) => {
    const shouldCloseFilterPanel = items.length === 1;
    apiRef.current.deleteFilterItem(item);
    if (shouldCloseFilterPanel) {
      apiRef.current.hideFilterPanel();
    }
  }, [apiRef, items.length]);
  const handleRemoveAll = () => {
    if (items.length === 1 && items[0].value === void 0) {
      apiRef.current.deleteFilterItem(items[0]);
      apiRef.current.hideFilterPanel();
    }
    apiRef.current.setFilterModel(_extends$1({}, filterModel, {
      items: []
    }));
  };
  React.useEffect(() => {
    if (logicOperators.length > 0 && filterModel.logicOperator && !logicOperators.includes(filterModel.logicOperator)) {
      applyFilterLogicOperator(logicOperators[0]);
    }
  }, [logicOperators, applyFilterLogicOperator, filterModel.logicOperator]);
  React.useEffect(() => {
    if (items.length > 0) {
      lastFilterRef.current.focus();
    }
  }, [items.length]);
  return /* @__PURE__ */ jsxs(GridPanelWrapper, _extends$1({
    ref
  }, other, {
    children: [/* @__PURE__ */ jsx(GridPanelContent, {
      children: items.map((item, index2) => /* @__PURE__ */ jsx(GridFilterForm, _extends$1({
        item,
        applyFilterChanges: applyFilter,
        deleteFilter,
        hasMultipleFilters,
        showMultiFilterOperators: index2 > 0,
        multiFilterOperator: filterModel.logicOperator,
        disableMultiFilterOperator: index2 !== 1,
        applyMultiFilterOperatorChanges: applyFilterLogicOperator,
        focusElementRef: index2 === items.length - 1 ? lastFilterRef : null,
        logicOperators,
        columnsSort
      }, filterFormProps), item.id == null ? index2 : item.id))
    }), !rootProps.disableMultipleColumnsFiltering && !(disableAddFilterButton && disableRemoveAllButton) ? /* @__PURE__ */ jsxs(GridPanelFooter, {
      children: [!disableAddFilterButton ? /* @__PURE__ */ jsx(rootProps.slots.baseButton, _extends$1({
        onClick: addNewFilter,
        startIcon: /* @__PURE__ */ jsx(rootProps.slots.filterPanelAddIcon, {})
      }, (_rootProps$slotProps = rootProps.slotProps) == null ? void 0 : _rootProps$slotProps.baseButton, {
        children: apiRef.current.getLocaleText("filterPanelAddFilter")
      })) : /* @__PURE__ */ jsx("span", {}), !disableRemoveAllButton ? /* @__PURE__ */ jsx(rootProps.slots.baseButton, _extends$1({
        onClick: handleRemoveAll,
        startIcon: /* @__PURE__ */ jsx(rootProps.slots.filterPanelRemoveAllIcon, {})
      }, (_rootProps$slotProps2 = rootProps.slotProps) == null ? void 0 : _rootProps$slotProps2.baseButton, {
        children: apiRef.current.getLocaleText("filterPanelRemoveAll")
      })) : null]
    }) : null]
  }));
});
process.env.NODE_ENV !== "production" ? GridFilterPanel.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // | To update them edit the TypeScript types and run "yarn proptypes"  |
  // ----------------------------------------------------------------------
  /**
   * @ignore - do not document.
   */
  children: PropTypes.node,
  /**
   * Changes how the options in the columns selector should be ordered.
   * If not specified, the order is derived from the `columns` prop.
   */
  columnsSort: PropTypes.oneOf(["asc", "desc"]),
  /**
   * If `true`, the `Add filter` button will not be displayed.
   * @default false
   */
  disableAddFilterButton: PropTypes.bool,
  /**
   * If `true`, the `Remove all` button will be disabled
   * @default false
   */
  disableRemoveAllButton: PropTypes.bool,
  /**
   * Props passed to each filter form.
   */
  filterFormProps: PropTypes.shape({
    columnInputProps: PropTypes.any,
    columnsSort: PropTypes.oneOf(["asc", "desc"]),
    deleteIconProps: PropTypes.any,
    filterColumns: PropTypes.func,
    logicOperatorInputProps: PropTypes.any,
    operatorInputProps: PropTypes.any,
    valueInputProps: PropTypes.any
  }),
  /**
   * Function that returns the next filter item to be picked as default filter.
   * @param {GetColumnForNewFilterArgs} args Currently configured filters and columns.
   * @returns {GridColDef['field']} The field to be used for the next filter or `null` to prevent adding a filter.
   */
  getColumnForNewFilter: PropTypes.func,
  /**
   * Sets the available logic operators.
   * @default [GridLogicOperator.And, GridLogicOperator.Or]
   */
  logicOperators: PropTypes.arrayOf(PropTypes.oneOf(["and", "or"]).isRequired),
  /**
   * The system prop that allows defining system overrides as well as additional CSS styles.
   */
  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])
} : void 0;
const _excluded$i = ["item", "applyValue", "type", "apiRef", "focusElementRef", "color", "error", "helperText", "size", "variant"];
function GridFilterInputMultipleValue(props) {
  const {
    item,
    applyValue,
    type,
    apiRef,
    focusElementRef,
    color,
    error,
    helperText,
    size,
    variant
  } = props, other = _objectWithoutPropertiesLoose$1(props, _excluded$i);
  const TextFieldProps = {
    color,
    error,
    helperText,
    size,
    variant
  };
  const [filterValueState, setFilterValueState] = React.useState(item.value || []);
  const id = unstable_useId();
  const rootProps = useGridRootProps();
  React.useEffect(() => {
    var _item$value;
    const itemValue = (_item$value = item.value) != null ? _item$value : [];
    setFilterValueState(itemValue.map(String));
  }, [item.value]);
  const handleChange = React.useCallback((event, value) => {
    setFilterValueState(value.map(String));
    applyValue(_extends$1({}, item, {
      value: [...value]
    }));
  }, [applyValue, item]);
  return /* @__PURE__ */ jsx(Autocomplete, _extends$1({
    multiple: true,
    freeSolo: true,
    options: [],
    filterOptions: (options, params) => {
      const {
        inputValue
      } = params;
      return inputValue == null || inputValue === "" ? [] : [inputValue];
    },
    id,
    value: filterValueState,
    onChange: handleChange,
    renderTags: (value, getTagProps) => value.map((option, index2) => /* @__PURE__ */ jsx(rootProps.slots.baseChip, _extends$1({
      variant: "outlined",
      size: "small",
      label: option
    }, getTagProps({
      index: index2
    })))),
    renderInput: (params) => {
      var _rootProps$slotProps;
      return /* @__PURE__ */ jsx(rootProps.slots.baseTextField, _extends$1({}, params, {
        label: apiRef.current.getLocaleText("filterPanelInputLabel"),
        placeholder: apiRef.current.getLocaleText("filterPanelInputPlaceholder"),
        InputLabelProps: _extends$1({}, params.InputLabelProps, {
          shrink: true
        }),
        inputRef: focusElementRef,
        type: type || "text"
      }, TextFieldProps, (_rootProps$slotProps = rootProps.slotProps) == null ? void 0 : _rootProps$slotProps.baseTextField));
    }
  }, other));
}
process.env.NODE_ENV !== "production" ? GridFilterInputMultipleValue.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // | To update them edit the TypeScript types and run "yarn proptypes"  |
  // ----------------------------------------------------------------------
  apiRef: PropTypes.shape({
    current: PropTypes.object.isRequired
  }).isRequired,
  applyValue: PropTypes.func.isRequired,
  focusElementRef: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),
  item: PropTypes.shape({
    field: PropTypes.string.isRequired,
    id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),
    operator: PropTypes.string.isRequired,
    value: PropTypes.any
  }).isRequired,
  type: PropTypes.oneOf(["number", "text"])
} : void 0;
const _excluded$h = ["item", "applyValue", "type", "apiRef", "focusElementRef", "color", "error", "helperText", "size", "variant", "getOptionLabel", "getOptionValue"];
const filter = createFilterOptions();
function GridFilterInputMultipleSingleSelect(props) {
  var _resolvedColumn, _resolvedColumn2;
  const {
    item,
    applyValue,
    apiRef,
    focusElementRef,
    color,
    error,
    helperText,
    size,
    variant = "standard",
    getOptionLabel: getOptionLabelProp,
    getOptionValue: getOptionValueProp
  } = props, other = _objectWithoutPropertiesLoose$1(props, _excluded$h);
  const TextFieldProps = {
    color,
    error,
    helperText,
    size,
    variant
  };
  const id = unstable_useId();
  const rootProps = useGridRootProps();
  let resolvedColumn = null;
  if (item.field) {
    const column = apiRef.current.getColumn(item.field);
    if (isSingleSelectColDef(column)) {
      resolvedColumn = column;
    }
  }
  const getOptionValue = getOptionValueProp || ((_resolvedColumn = resolvedColumn) == null ? void 0 : _resolvedColumn.getOptionValue);
  const getOptionLabel = getOptionLabelProp || ((_resolvedColumn2 = resolvedColumn) == null ? void 0 : _resolvedColumn2.getOptionLabel);
  const isOptionEqualToValue = React.useCallback((option, value) => getOptionValue(option) === getOptionValue(value), [getOptionValue]);
  const resolvedValueOptions = React.useMemo(() => {
    var _resolvedColumn3;
    if (!((_resolvedColumn3 = resolvedColumn) != null && _resolvedColumn3.valueOptions)) {
      return [];
    }
    if (typeof resolvedColumn.valueOptions === "function") {
      return resolvedColumn.valueOptions({
        field: resolvedColumn.field
      });
    }
    return resolvedColumn.valueOptions;
  }, [resolvedColumn]);
  const resolvedFormattedValueOptions = React.useMemo(() => {
    return resolvedValueOptions == null ? void 0 : resolvedValueOptions.map(getOptionValue);
  }, [resolvedValueOptions, getOptionValue]);
  const filteredValues = React.useMemo(() => {
    if (!Array.isArray(item.value)) {
      return [];
    }
    if (resolvedValueOptions !== void 0) {
      const itemValueIndexes = item.value.map((element) => {
        return resolvedFormattedValueOptions == null ? void 0 : resolvedFormattedValueOptions.findIndex((formattedOption) => formattedOption === element);
      });
      return itemValueIndexes.filter((index2) => index2 >= 0).map((index2) => resolvedValueOptions[index2]);
    }
    return item.value;
  }, [item.value, resolvedValueOptions, resolvedFormattedValueOptions]);
  React.useEffect(() => {
    if (!Array.isArray(item.value) || filteredValues.length !== item.value.length) {
      applyValue(_extends$1({}, item, {
        value: filteredValues.map(getOptionValue)
      }));
    }
  }, [item, filteredValues, applyValue, getOptionValue]);
  const handleChange = React.useCallback((event, value) => {
    applyValue(_extends$1({}, item, {
      value: value.map(getOptionValue)
    }));
  }, [applyValue, item, getOptionValue]);
  return /* @__PURE__ */ jsx(Autocomplete, _extends$1({
    multiple: true,
    options: resolvedValueOptions,
    isOptionEqualToValue,
    filterOptions: filter,
    id,
    value: filteredValues,
    onChange: handleChange,
    getOptionLabel,
    renderTags: (value, getTagProps) => value.map((option, index2) => /* @__PURE__ */ jsx(rootProps.slots.baseChip, _extends$1({
      variant: "outlined",
      size: "small",
      label: getOptionLabel(option)
    }, getTagProps({
      index: index2
    })))),
    renderInput: (params) => {
      var _rootProps$slotProps;
      return /* @__PURE__ */ jsx(rootProps.slots.baseTextField, _extends$1({}, params, {
        label: apiRef.current.getLocaleText("filterPanelInputLabel"),
        placeholder: apiRef.current.getLocaleText("filterPanelInputPlaceholder"),
        InputLabelProps: _extends$1({}, params.InputLabelProps, {
          shrink: true
        }),
        inputRef: focusElementRef,
        type: "singleSelect"
      }, TextFieldProps, (_rootProps$slotProps = rootProps.slotProps) == null ? void 0 : _rootProps$slotProps.baseTextField));
    }
  }, other));
}
process.env.NODE_ENV !== "production" ? GridFilterInputMultipleSingleSelect.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // | To update them edit the TypeScript types and run "yarn proptypes"  |
  // ----------------------------------------------------------------------
  apiRef: PropTypes.shape({
    current: PropTypes.object.isRequired
  }).isRequired,
  applyValue: PropTypes.func.isRequired,
  focusElementRef: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),
  /**
   * Used to determine the label displayed for a given value option.
   * @param {ValueOptions} value The current value option.
   * @returns {string} The text to be displayed.
   */
  getOptionLabel: PropTypes.func,
  /**
   * Used to determine the value used for a value option.
   * @param {ValueOptions} value The current value option.
   * @returns {string} The value to be used.
   */
  getOptionValue: PropTypes.func,
  item: PropTypes.shape({
    field: PropTypes.string.isRequired,
    id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),
    operator: PropTypes.string.isRequired,
    value: PropTypes.any
  }).isRequired,
  type: PropTypes.oneOf(["singleSelect"])
} : void 0;
const _excluded$g = ["children", "onClick"];
const GridToolbarExportContainer = /* @__PURE__ */ React.forwardRef(function GridToolbarExportContainer2(props, ref) {
  var _rootProps$slotProps;
  const {
    children,
    onClick
  } = props, other = _objectWithoutPropertiesLoose$1(props, _excluded$g);
  const apiRef = useGridApiContext();
  const rootProps = useGridRootProps();
  const exportButtonId = unstable_useId();
  const exportMenuId = unstable_useId();
  const [open, setOpen] = React.useState(false);
  const buttonRef = React.useRef(null);
  const handleRef = unstable_useForkRef(ref, buttonRef);
  const handleMenuOpen = (event) => {
    setOpen((prevOpen) => !prevOpen);
    onClick == null || onClick(event);
  };
  const handleMenuClose = () => setOpen(false);
  const handleListKeyDown = (event) => {
    if (isTabKey(event.key)) {
      event.preventDefault();
    }
    if (isHideMenuKey(event.key)) {
      handleMenuClose();
    }
  };
  if (children == null) {
    return null;
  }
  return /* @__PURE__ */ jsxs(React.Fragment, {
    children: [/* @__PURE__ */ jsx(rootProps.slots.baseButton, _extends$1({
      ref: handleRef,
      size: "small",
      startIcon: /* @__PURE__ */ jsx(rootProps.slots.exportIcon, {}),
      "aria-expanded": open,
      "aria-label": apiRef.current.getLocaleText("toolbarExportLabel"),
      "aria-haspopup": "menu",
      "aria-controls": open ? exportMenuId : void 0,
      id: exportButtonId
    }, other, {
      onClick: handleMenuOpen
    }, (_rootProps$slotProps = rootProps.slotProps) == null ? void 0 : _rootProps$slotProps.baseButton, {
      children: apiRef.current.getLocaleText("toolbarExport")
    })), /* @__PURE__ */ jsx(GridMenu, {
      open,
      target: buttonRef.current,
      onClose: handleMenuClose,
      position: "bottom-start",
      children: /* @__PURE__ */ jsx(MenuList, {
        id: exportMenuId,
        className: gridClasses.menuList,
        "aria-labelledby": exportButtonId,
        onKeyDown: handleListKeyDown,
        autoFocusItem: open,
        children: React.Children.map(children, (child) => {
          if (!/* @__PURE__ */ React.isValidElement(child)) {
            return child;
          }
          return /* @__PURE__ */ React.cloneElement(child, {
            hideMenu: handleMenuClose
          });
        })
      })
    })]
  });
});
const _excluded$f = ["hideMenu", "options"], _excluded2$3 = ["hideMenu", "options"], _excluded3 = ["csvOptions", "printOptions", "excelOptions"];
function GridCsvExportMenuItem(props) {
  const apiRef = useGridApiContext();
  const {
    hideMenu,
    options
  } = props, other = _objectWithoutPropertiesLoose$1(props, _excluded$f);
  return /* @__PURE__ */ jsx(MenuItem, _extends$1({
    onClick: () => {
      apiRef.current.exportDataAsCsv(options);
      hideMenu == null || hideMenu();
    }
  }, other, {
    children: apiRef.current.getLocaleText("toolbarExportCSV")
  }));
}
function GridPrintExportMenuItem(props) {
  const apiRef = useGridApiContext();
  const {
    hideMenu,
    options
  } = props, other = _objectWithoutPropertiesLoose$1(props, _excluded2$3);
  return /* @__PURE__ */ jsx(MenuItem, _extends$1({
    onClick: () => {
      apiRef.current.exportDataAsPrint(options);
      hideMenu == null || hideMenu();
    }
  }, other, {
    children: apiRef.current.getLocaleText("toolbarExportPrint")
  }));
}
const GridToolbarExport = /* @__PURE__ */ React.forwardRef(function GridToolbarExport2(props, ref) {
  const {
    csvOptions = {},
    printOptions = {},
    excelOptions
  } = props, other = _objectWithoutPropertiesLoose$1(props, _excluded3);
  const apiRef = useGridApiContext();
  const preProcessedButtons = apiRef.current.unstable_applyPipeProcessors("exportMenu", [], {
    excelOptions,
    csvOptions,
    printOptions
  }).sort((a, b) => a.componentName > b.componentName ? 1 : -1);
  if (preProcessedButtons.length === 0) {
    return null;
  }
  return /* @__PURE__ */ jsx(GridToolbarExportContainer, _extends$1({}, other, {
    ref,
    children: preProcessedButtons.map((button, index2) => /* @__PURE__ */ React.cloneElement(button.component, {
      key: index2
    }))
  }));
});
process.env.NODE_ENV !== "production" ? GridToolbarExport.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // | To update them edit the TypeScript types and run "yarn proptypes"  |
  // ----------------------------------------------------------------------
  csvOptions: PropTypes.object,
  printOptions: PropTypes.object
} : void 0;
const _excluded$e = ["className", "selectedRowCount"];
const useUtilityClasses$9 = (ownerState) => {
  const {
    classes
  } = ownerState;
  const slots = {
    root: ["selectedRowCount"]
  };
  return unstable_composeClasses(slots, getDataGridUtilityClass, classes);
};
const GridSelectedRowCountRoot = styled("div", {
  name: "MuiDataGrid",
  slot: "SelectedRowCount",
  overridesResolver: (props, styles) => styles.selectedRowCount
})(({
  theme
}) => ({
  alignItems: "center",
  display: "flex",
  margin: theme.spacing(0, 2),
  visibility: "hidden",
  width: 0,
  height: 0,
  [theme.breakpoints.up("sm")]: {
    visibility: "visible",
    width: "auto",
    height: "auto"
  }
}));
const GridSelectedRowCount = /* @__PURE__ */ React.forwardRef(function GridSelectedRowCount2(props, ref) {
  const {
    className,
    selectedRowCount
  } = props, other = _objectWithoutPropertiesLoose$1(props, _excluded$e);
  const apiRef = useGridApiContext();
  const ownerState = useGridRootProps();
  const classes = useUtilityClasses$9(ownerState);
  const rowSelectedText = apiRef.current.getLocaleText("footerRowSelected")(selectedRowCount);
  return /* @__PURE__ */ jsx(GridSelectedRowCountRoot, _extends$1({
    ref,
    className: clsx(classes.root, className),
    ownerState
  }, other, {
    children: rowSelectedText
  }));
});
process.env.NODE_ENV !== "production" ? GridSelectedRowCount.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // | To update them edit the TypeScript types and run "yarn proptypes"  |
  // ----------------------------------------------------------------------
  selectedRowCount: PropTypes.number.isRequired,
  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])
} : void 0;
const GridFooter = /* @__PURE__ */ React.forwardRef(function GridFooter2(props, ref) {
  var _rootProps$slotProps, _rootProps$slotProps2;
  const apiRef = useGridApiContext();
  const rootProps = useGridRootProps();
  const totalTopLevelRowCount = useGridSelector(apiRef, gridTopLevelRowCountSelector);
  const selectedRowCount = useGridSelector(apiRef, selectedGridRowsCountSelector);
  const visibleTopLevelRowCount = useGridSelector(apiRef, gridFilteredTopLevelRowCountSelector);
  const selectedRowCountElement = !rootProps.hideFooterSelectedRowCount && selectedRowCount > 0 ? /* @__PURE__ */ jsx(GridSelectedRowCount, {
    selectedRowCount
  }) : /* @__PURE__ */ jsx("div", {});
  const rowCountElement = !rootProps.hideFooterRowCount && !rootProps.pagination ? /* @__PURE__ */ jsx(rootProps.slots.footerRowCount, _extends$1({}, (_rootProps$slotProps = rootProps.slotProps) == null ? void 0 : _rootProps$slotProps.footerRowCount, {
    rowCount: totalTopLevelRowCount,
    visibleRowCount: visibleTopLevelRowCount
  })) : null;
  const paginationElement = rootProps.pagination && !rootProps.hideFooterPagination && rootProps.slots.pagination && /* @__PURE__ */ jsx(rootProps.slots.pagination, _extends$1({}, (_rootProps$slotProps2 = rootProps.slotProps) == null ? void 0 : _rootProps$slotProps2.pagination));
  return /* @__PURE__ */ jsxs(GridFooterContainer, _extends$1({
    ref
  }, props, {
    children: [selectedRowCountElement, rowCountElement, paginationElement]
  }));
});
process.env.NODE_ENV !== "production" ? GridFooter.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // | To update them edit the TypeScript types and run "yarn proptypes"  |
  // ----------------------------------------------------------------------
  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])
} : void 0;
function GridHeader() {
  var _rootProps$slotProps, _rootProps$slotProps2;
  const rootProps = useGridRootProps();
  return /* @__PURE__ */ jsxs(React.Fragment, {
    children: [/* @__PURE__ */ jsx(rootProps.slots.preferencesPanel, _extends$1({}, (_rootProps$slotProps = rootProps.slotProps) == null ? void 0 : _rootProps$slotProps.preferencesPanel)), rootProps.slots.toolbar && /* @__PURE__ */ jsx(rootProps.slots.toolbar, _extends$1({}, (_rootProps$slotProps2 = rootProps.slotProps) == null ? void 0 : _rootProps$slotProps2.toolbar))]
  });
}
const GridLoadingOverlay = /* @__PURE__ */ React.forwardRef(function GridLoadingOverlay2(props, ref) {
  return /* @__PURE__ */ jsx(GridOverlay, _extends$1({
    ref
  }, props, {
    children: /* @__PURE__ */ jsx(CircularProgress, {})
  }));
});
process.env.NODE_ENV !== "production" ? GridLoadingOverlay.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // | To update them edit the TypeScript types and run "yarn proptypes"  |
  // ----------------------------------------------------------------------
  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])
} : void 0;
const GridNoRowsOverlay = /* @__PURE__ */ React.forwardRef(function GridNoRowsOverlay2(props, ref) {
  const apiRef = useGridApiContext();
  const noRowsLabel = apiRef.current.getLocaleText("noRowsLabel");
  return /* @__PURE__ */ jsx(GridOverlay, _extends$1({
    ref
  }, props, {
    children: noRowsLabel
  }));
});
process.env.NODE_ENV !== "production" ? GridNoRowsOverlay.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // | To update them edit the TypeScript types and run "yarn proptypes"  |
  // ----------------------------------------------------------------------
  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])
} : void 0;
const GridPaginationRoot = styled$1(TablePagination)(({
  theme
}) => ({
  [`& .${tablePaginationClasses.selectLabel}`]: {
    display: "none",
    [theme.breakpoints.up("sm")]: {
      display: "block"
    }
  },
  [`& .${tablePaginationClasses.input}`]: {
    display: "none",
    [theme.breakpoints.up("sm")]: {
      display: "inline-flex"
    }
  }
}));
const GridPagination = /* @__PURE__ */ React.forwardRef(function GridPagination2(props, ref) {
  const apiRef = useGridApiContext();
  const rootProps = useGridRootProps();
  const paginationModel = useGridSelector(apiRef, gridPaginationModelSelector);
  const rowCount = useGridSelector(apiRef, gridPaginationRowCountSelector);
  const lastPage = React.useMemo(() => Math.floor(rowCount / (paginationModel.pageSize || 1)), [rowCount, paginationModel.pageSize]);
  const handlePageSizeChange = React.useCallback((event) => {
    const pageSize = Number(event.target.value);
    apiRef.current.setPageSize(pageSize);
  }, [apiRef]);
  const handlePageChange = React.useCallback((_, page) => {
    apiRef.current.setPage(page);
  }, [apiRef]);
  const isPageSizeIncludedInPageSizeOptions = (pageSize) => {
    for (let i2 = 0; i2 < rootProps.pageSizeOptions.length; i2 += 1) {
      const option = rootProps.pageSizeOptions[i2];
      if (typeof option === "number") {
        if (option === pageSize) {
          return true;
        }
      } else if (option.value === pageSize) {
        return true;
      }
    }
    return false;
  };
  if (process.env.NODE_ENV !== "production") {
    var _rootProps$pagination, _rootProps$pagination2;
    const warnedOnceMissingInPageSizeOptions = React.useRef(false);
    const pageSize = (_rootProps$pagination = (_rootProps$pagination2 = rootProps.paginationModel) == null ? void 0 : _rootProps$pagination2.pageSize) != null ? _rootProps$pagination : paginationModel.pageSize;
    if (!warnedOnceMissingInPageSizeOptions.current && !rootProps.autoPageSize && !isPageSizeIncludedInPageSizeOptions(pageSize)) {
      console.warn([`MUI X: The page size \`${paginationModel.pageSize}\` is not preset in the \`pageSizeOptions\`.`, `Add it to show the pagination select.`].join("\n"));
      warnedOnceMissingInPageSizeOptions.current = true;
    }
  }
  const pageSizeOptions = isPageSizeIncludedInPageSizeOptions(paginationModel.pageSize) ? rootProps.pageSizeOptions : [];
  return /* @__PURE__ */ jsx(GridPaginationRoot, _extends$1({
    ref,
    component: "div",
    count: rowCount,
    page: paginationModel.page <= lastPage ? paginationModel.page : lastPage,
    rowsPerPageOptions: pageSizeOptions,
    rowsPerPage: paginationModel.pageSize,
    onPageChange: handlePageChange,
    onRowsPerPageChange: handlePageSizeChange
  }, apiRef.current.getLocaleText("MuiTablePagination"), props));
});
process.env.NODE_ENV !== "production" ? GridPagination.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // | To update them edit the TypeScript types and run "yarn proptypes"  |
  // ----------------------------------------------------------------------
  component: PropTypes.elementType
} : void 0;
const _excluded$d = ["className", "rowCount", "visibleRowCount"];
const useUtilityClasses$8 = (ownerState) => {
  const {
    classes
  } = ownerState;
  const slots = {
    root: ["rowCount"]
  };
  return unstable_composeClasses(slots, getDataGridUtilityClass, classes);
};
const GridRowCountRoot = styled("div", {
  name: "MuiDataGrid",
  slot: "RowCount",
  overridesResolver: (props, styles) => styles.rowCount
})(({
  theme
}) => ({
  alignItems: "center",
  display: "flex",
  margin: theme.spacing(0, 2)
}));
const GridRowCount = /* @__PURE__ */ React.forwardRef(function GridRowCount2(props, ref) {
  const {
    className,
    rowCount,
    visibleRowCount
  } = props, other = _objectWithoutPropertiesLoose$1(props, _excluded$d);
  const apiRef = useGridApiContext();
  const ownerState = useGridRootProps();
  const classes = useUtilityClasses$8(ownerState);
  if (rowCount === 0) {
    return null;
  }
  const text = visibleRowCount < rowCount ? apiRef.current.getLocaleText("footerTotalVisibleRows")(visibleRowCount, rowCount) : rowCount.toLocaleString();
  return /* @__PURE__ */ jsxs(GridRowCountRoot, _extends$1({
    ref,
    className: clsx(classes.root, className),
    ownerState
  }, other, {
    children: [apiRef.current.getLocaleText("footerTotalRows"), " ", text]
  }));
});
process.env.NODE_ENV !== "production" ? GridRowCount.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // | To update them edit the TypeScript types and run "yarn proptypes"  |
  // ----------------------------------------------------------------------
  rowCount: PropTypes.number.isRequired,
  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),
  visibleRowCount: PropTypes.number.isRequired
} : void 0;
const getVisibleRows = (apiRef, props) => {
  let rows;
  let range;
  if (props.pagination && props.paginationMode === "client") {
    range = gridPaginationRowRangeSelector(apiRef);
    rows = gridPaginatedVisibleSortedGridRowEntriesSelector(apiRef);
  } else {
    rows = gridExpandedSortedRowEntriesSelector(apiRef);
    if (rows.length === 0) {
      range = null;
    } else {
      range = {
        firstRowIndex: 0,
        lastRowIndex: rows.length - 1
      };
    }
  }
  return {
    rows,
    range
  };
};
const useGridVisibleRows = (apiRef, props) => {
  const response = getVisibleRows(apiRef, props);
  return React.useMemo(() => ({
    rows: response.rows,
    range: response.range
  }), [response.rows, response.range]);
};
const GLOBAL_API_REF = {
  current: null
};
function tagInternalFilter(fn2) {
  fn2.isInternal = true;
  return fn2;
}
function isInternalFilter(fn2) {
  return fn2 !== void 0 && fn2.isInternal === true;
}
function convertFilterV7ToLegacy(fn2) {
  return tagInternalFilter((filterItem, column) => {
    const filterFn = fn2(filterItem, column);
    if (!filterFn) {
      return filterFn;
    }
    return (cellParams) => {
      return filterFn(cellParams.value, cellParams.row, column, GLOBAL_API_REF.current);
    };
  });
}
function convertLegacyOperators(ops) {
  return ops.map((op) => {
    return _extends$1({}, op, {
      getApplyFilterFn: convertFilterV7ToLegacy(op.getApplyFilterFnV7),
      getApplyFilterFnV7: tagInternalFilter(op.getApplyFilterFnV7)
    });
  });
}
function convertQuickFilterV7ToLegacy(fn2) {
  return tagInternalFilter((filterItem, column, apiRef) => {
    const filterFn = fn2(filterItem, column, apiRef);
    if (!filterFn) {
      return filterFn;
    }
    return (cellParams) => {
      return filterFn(cellParams.value, cellParams.row, column, apiRef);
    };
  });
}
function getPublicApiRef(apiRef) {
  return {
    current: apiRef.current.getPublicApi()
  };
}
let hasEval;
function getHasEval() {
  if (hasEval !== void 0) {
    return hasEval;
  }
  try {
    hasEval = new Function("return true")();
  } catch (_) {
    hasEval = false;
  }
  return hasEval;
}
const cleanFilterItem = (item, apiRef) => {
  const cleanItem = _extends$1({}, item);
  if (cleanItem.id == null) {
    cleanItem.id = Math.round(Math.random() * 1e5);
  }
  if (cleanItem.operator == null) {
    const column = gridColumnLookupSelector(apiRef)[cleanItem.field];
    cleanItem.operator = column && column.filterOperators[0].value;
  }
  return cleanItem;
};
const filterModelDisableMultiColumnsFilteringWarning = buildWarning(["MUI: The `filterModel` can only contain a single item when the `disableMultipleColumnsFiltering` prop is set to `true`.", "If you are using the community version of the `DataGrid`, this prop is always `true`."], "error");
const filterModelMissingItemIdWarning = buildWarning("MUI: The `id` field is required on `filterModel.items` when you use multiple filters.", "error");
const filterModelMissingItemOperatorWarning = buildWarning("MUI: The `operator` field is required on `filterModel.items`, one or more of your filtering item has no `operator` provided.", "error");
const sanitizeFilterModel = (model, disableMultipleColumnsFiltering, apiRef) => {
  const hasSeveralItems = model.items.length > 1;
  let items;
  if (hasSeveralItems && disableMultipleColumnsFiltering) {
    filterModelDisableMultiColumnsFilteringWarning();
    items = [model.items[0]];
  } else {
    items = model.items;
  }
  const hasItemsWithoutIds = hasSeveralItems && items.some((item) => item.id == null);
  const hasItemWithoutOperator = items.some((item) => item.operator == null);
  if (hasItemsWithoutIds) {
    filterModelMissingItemIdWarning();
  }
  if (hasItemWithoutOperator) {
    filterModelMissingItemOperatorWarning();
  }
  if (hasItemWithoutOperator || hasItemsWithoutIds) {
    return _extends$1({}, model, {
      items: items.map((item) => cleanFilterItem(item, apiRef))
    });
  }
  if (model.items !== items) {
    return _extends$1({}, model, {
      items
    });
  }
  return model;
};
const mergeStateWithFilterModel = (filterModel, disableMultipleColumnsFiltering, apiRef) => (filteringState) => _extends$1({}, filteringState, {
  filterModel: sanitizeFilterModel(filterModel, disableMultipleColumnsFiltering, apiRef)
});
const removeDiacritics = (value) => {
  if (typeof value === "string") {
    return value.normalize("NFD").replace(/[\u0300-\u036f]/g, "");
  }
  return value;
};
const getFilterCallbackFromItem = (filterItem, apiRef) => {
  if (!filterItem.field || !filterItem.operator) {
    return null;
  }
  const column = apiRef.current.getColumn(filterItem.field);
  if (!column) {
    return null;
  }
  let parsedValue;
  if (column.valueParser) {
    var _filterItem$value;
    const parser = column.valueParser;
    parsedValue = Array.isArray(filterItem.value) ? (_filterItem$value = filterItem.value) == null ? void 0 : _filterItem$value.map((x) => parser(x)) : parser(filterItem.value);
  } else {
    parsedValue = filterItem.value;
  }
  const {
    ignoreDiacritics
  } = apiRef.current.rootProps;
  if (ignoreDiacritics) {
    parsedValue = removeDiacritics(parsedValue);
  }
  const newFilterItem = _extends$1({}, filterItem, {
    value: parsedValue
  });
  const filterOperators = column.filterOperators;
  if (!(filterOperators != null && filterOperators.length)) {
    throw new Error(`MUI: No filter operators found for column '${column.field}'.`);
  }
  const filterOperator = filterOperators.find((operator) => operator.value === newFilterItem.operator);
  if (!filterOperator) {
    throw new Error(`MUI: No filter operator found for column '${column.field}' and operator value '${newFilterItem.operator}'.`);
  }
  const hasUserFunctionLegacy = !isInternalFilter(filterOperator.getApplyFilterFn);
  const hasUserFunctionV7 = !isInternalFilter(filterOperator.getApplyFilterFnV7);
  const publicApiRef = getPublicApiRef(apiRef);
  if (filterOperator.getApplyFilterFnV7 && !(hasUserFunctionLegacy && !hasUserFunctionV7)) {
    const applyFilterOnRow2 = filterOperator.getApplyFilterFnV7(newFilterItem, column);
    if (typeof applyFilterOnRow2 !== "function") {
      return null;
    }
    return {
      v7: true,
      item: newFilterItem,
      fn: (row) => {
        let value = apiRef.current.getRowValue(row, column);
        if (ignoreDiacritics) {
          value = removeDiacritics(value);
        }
        return applyFilterOnRow2(value, row, column, publicApiRef);
      }
    };
  }
  const applyFilterOnRow = filterOperator.getApplyFilterFn(newFilterItem, column);
  if (typeof applyFilterOnRow !== "function") {
    return null;
  }
  return {
    v7: false,
    item: newFilterItem,
    fn: (rowId) => {
      const params = apiRef.current.getCellParams(rowId, newFilterItem.field);
      GLOBAL_API_REF.current = publicApiRef;
      if (ignoreDiacritics) {
        params.value = removeDiacritics(params.value);
      }
      const result = applyFilterOnRow(params);
      GLOBAL_API_REF.current = null;
      return result;
    }
  };
};
let filterItemsApplierId = 1;
const buildAggregatedFilterItemsApplier = (filterModel, apiRef, disableEval) => {
  const {
    items
  } = filterModel;
  const appliers = items.map((item) => getFilterCallbackFromItem(item, apiRef)).filter((callback) => !!callback);
  if (appliers.length === 0) {
    return null;
  }
  if (disableEval || !getHasEval()) {
    return (row, shouldApplyFilter) => {
      const resultPerItemId = {};
      for (let i2 = 0; i2 < appliers.length; i2 += 1) {
        const applier = appliers[i2];
        if (!shouldApplyFilter || shouldApplyFilter(applier.item.field)) {
          resultPerItemId[applier.item.id] = applier.v7 ? applier.fn(row) : applier.fn(apiRef.current.getRowId(row));
        }
      }
      return resultPerItemId;
    };
  }
  const filterItemCore = new Function("getRowId", "appliers", "row", "shouldApplyFilter", `"use strict";
${appliers.map((applier, i2) => `const shouldApply${i2} = !shouldApplyFilter || shouldApplyFilter(${JSON.stringify(applier.item.field)});`).join("\n")}

const result$$ = {
${appliers.map((applier, i2) => `  ${JSON.stringify(String(applier.item.id))}: !shouldApply${i2}
    ? false
    : ${applier.v7 ? `appliers[${i2}].fn(row)` : `appliers[${i2}].fn(getRowId(row))`},`).join("\n")}
};

return result$$;`.replaceAll("$$", String(filterItemsApplierId)));
  filterItemsApplierId += 1;
  const filterItem = (row, shouldApplyItem) => filterItemCore(apiRef.current.getRowId, appliers, row, shouldApplyItem);
  return filterItem;
};
const buildAggregatedQuickFilterApplier = (filterModel, apiRef) => {
  var _filterModel$quickFil, _filterModel$quickFil2, _filterModel$quickFil3;
  const quickFilterValues = (_filterModel$quickFil = (_filterModel$quickFil2 = filterModel.quickFilterValues) == null ? void 0 : _filterModel$quickFil2.filter(Boolean)) != null ? _filterModel$quickFil : [];
  if (quickFilterValues.length === 0) {
    return null;
  }
  const quickFilterExcludeHiddenColumns = (_filterModel$quickFil3 = filterModel.quickFilterExcludeHiddenColumns) != null ? _filterModel$quickFil3 : false;
  const columnFields = quickFilterExcludeHiddenColumns ? gridVisibleColumnFieldsSelector(apiRef) : gridColumnFieldsSelector(apiRef);
  const appliersPerField = [];
  const {
    ignoreDiacritics
  } = apiRef.current.rootProps;
  const publicApiRef = getPublicApiRef(apiRef);
  columnFields.forEach((field) => {
    const column = apiRef.current.getColumn(field);
    const getApplyQuickFilterFn = column == null ? void 0 : column.getApplyQuickFilterFn;
    const getApplyQuickFilterFnV7 = column == null ? void 0 : column.getApplyQuickFilterFnV7;
    const hasUserFunctionLegacy = !isInternalFilter(getApplyQuickFilterFn);
    const hasUserFunctionV7 = !isInternalFilter(getApplyQuickFilterFnV7);
    if (getApplyQuickFilterFnV7 && !(hasUserFunctionLegacy && !hasUserFunctionV7)) {
      appliersPerField.push({
        column,
        appliers: quickFilterValues.map((quickFilterValue) => {
          const value = ignoreDiacritics ? removeDiacritics(quickFilterValue) : quickFilterValue;
          return {
            v7: true,
            fn: getApplyQuickFilterFnV7(value, column, publicApiRef)
          };
        })
      });
    } else if (getApplyQuickFilterFn) {
      appliersPerField.push({
        column,
        appliers: quickFilterValues.map((quickFilterValue) => {
          const value = ignoreDiacritics ? removeDiacritics(quickFilterValue) : quickFilterValue;
          return {
            v7: false,
            fn: getApplyQuickFilterFn(value, column, publicApiRef)
          };
        })
      });
    }
  });
  return function isRowMatchingQuickFilter(row, shouldApplyFilter) {
    const result = {};
    const usedCellParams = {};
    outer: for (let v = 0; v < quickFilterValues.length; v += 1) {
      const filterValue = quickFilterValues[v];
      for (let i2 = 0; i2 < appliersPerField.length; i2 += 1) {
        const {
          column,
          appliers
        } = appliersPerField[i2];
        const {
          field
        } = column;
        if (shouldApplyFilter && !shouldApplyFilter(field)) {
          continue;
        }
        const applier = appliers[v];
        let value = apiRef.current.getRowValue(row, column);
        if (applier.fn === null) {
          continue;
        }
        if (applier.v7) {
          if (ignoreDiacritics) {
            value = removeDiacritics(value);
          }
          const isMatching = applier.fn(value, row, column, publicApiRef);
          if (isMatching) {
            result[filterValue] = true;
            continue outer;
          }
        } else {
          var _usedCellParams$field;
          const cellParams = (_usedCellParams$field = usedCellParams[field]) != null ? _usedCellParams$field : apiRef.current.getCellParams(apiRef.current.getRowId(row), field);
          if (ignoreDiacritics) {
            cellParams.value = removeDiacritics(cellParams.value);
          }
          usedCellParams[field] = cellParams;
          const isMatching = applier.fn(cellParams);
          if (isMatching) {
            result[filterValue] = true;
            continue outer;
          }
        }
      }
      result[filterValue] = false;
    }
    return result;
  };
};
const buildAggregatedFilterApplier = (filterModel, apiRef, disableEval) => {
  const isRowMatchingFilterItems = buildAggregatedFilterItemsApplier(filterModel, apiRef, disableEval);
  const isRowMatchingQuickFilter = buildAggregatedQuickFilterApplier(filterModel, apiRef);
  return function isRowMatchingFilters(row, shouldApplyFilter, result) {
    var _isRowMatchingFilterI, _isRowMatchingQuickFi;
    result.passingFilterItems = (_isRowMatchingFilterI = isRowMatchingFilterItems == null ? void 0 : isRowMatchingFilterItems(row, shouldApplyFilter)) != null ? _isRowMatchingFilterI : null;
    result.passingQuickFilterValues = (_isRowMatchingQuickFi = isRowMatchingQuickFilter == null ? void 0 : isRowMatchingQuickFilter(row, shouldApplyFilter)) != null ? _isRowMatchingQuickFi : null;
  };
};
const isNotNull = (result) => result != null;
const filterModelItems = (cache, apiRef, items) => {
  if (!cache.cleanedFilterItems) {
    cache.cleanedFilterItems = items.filter((item) => getFilterCallbackFromItem(item, apiRef) !== null);
  }
  return cache.cleanedFilterItems;
};
const passFilterLogic = (allFilterItemResults, allQuickFilterResults, filterModel, apiRef, cache) => {
  const cleanedFilterItems = filterModelItems(cache, apiRef, filterModel.items);
  const cleanedFilterItemResults = allFilterItemResults.filter(isNotNull);
  const cleanedQuickFilterResults = allQuickFilterResults.filter(isNotNull);
  if (cleanedFilterItemResults.length > 0) {
    var _filterModel$logicOpe;
    const filterItemPredicate = (item) => {
      return cleanedFilterItemResults.some((filterItemResult) => filterItemResult[item.id]);
    };
    const logicOperator = (_filterModel$logicOpe = filterModel.logicOperator) != null ? _filterModel$logicOpe : getDefaultGridFilterModel().logicOperator;
    if (logicOperator === GridLogicOperator.And) {
      const passesAllFilters = cleanedFilterItems.every(filterItemPredicate);
      if (!passesAllFilters) {
        return false;
      }
    } else {
      const passesSomeFilters = cleanedFilterItems.some(filterItemPredicate);
      if (!passesSomeFilters) {
        return false;
      }
    }
  }
  if (cleanedQuickFilterResults.length > 0 && filterModel.quickFilterValues != null) {
    var _filterModel$quickFil4;
    const quickFilterValuePredicate = (value) => {
      return cleanedQuickFilterResults.some((quickFilterValueResult) => quickFilterValueResult[value]);
    };
    const quickFilterLogicOperator = (_filterModel$quickFil4 = filterModel.quickFilterLogicOperator) != null ? _filterModel$quickFil4 : getDefaultGridFilterModel().quickFilterLogicOperator;
    if (quickFilterLogicOperator === GridLogicOperator.And) {
      const passesAllQuickFilterValues = filterModel.quickFilterValues.every(quickFilterValuePredicate);
      if (!passesAllQuickFilterValues) {
        return false;
      }
    } else {
      const passesSomeQuickFilterValues = filterModel.quickFilterValues.some(quickFilterValuePredicate);
      if (!passesSomeQuickFilterValues) {
        return false;
      }
    }
  }
  return true;
};
const getGridStringQuickFilterFn = tagInternalFilter((value) => {
  if (!value) {
    return null;
  }
  const filterRegex = new RegExp(escapeRegExp(value), "i");
  return (_, row, column, apiRef) => {
    let columnValue = apiRef.current.getRowFormattedValue(row, column);
    if (apiRef.current.ignoreDiacritics) {
      columnValue = removeDiacritics(columnValue);
    }
    return columnValue != null ? filterRegex.test(columnValue.toString()) : false;
  };
});
const getGridStringOperators = (disableTrim = false) => convertLegacyOperators([{
  value: "contains",
  getApplyFilterFnV7: (filterItem) => {
    if (!filterItem.value) {
      return null;
    }
    const filterItemValue = disableTrim ? filterItem.value : filterItem.value.trim();
    const filterRegex = new RegExp(escapeRegExp(filterItemValue), "i");
    return (value) => {
      return value != null ? filterRegex.test(String(value)) : false;
    };
  },
  InputComponent: GridFilterInputValue
}, {
  value: "equals",
  getApplyFilterFnV7: (filterItem) => {
    if (!filterItem.value) {
      return null;
    }
    const filterItemValue = disableTrim ? filterItem.value : filterItem.value.trim();
    const collator2 = new Intl.Collator(void 0, {
      sensitivity: "base",
      usage: "search"
    });
    return (value) => {
      return value != null ? collator2.compare(filterItemValue, value.toString()) === 0 : false;
    };
  },
  InputComponent: GridFilterInputValue
}, {
  value: "startsWith",
  getApplyFilterFnV7: (filterItem) => {
    if (!filterItem.value) {
      return null;
    }
    const filterItemValue = disableTrim ? filterItem.value : filterItem.value.trim();
    const filterRegex = new RegExp(`^${escapeRegExp(filterItemValue)}.*$`, "i");
    return (value) => {
      return value != null ? filterRegex.test(value.toString()) : false;
    };
  },
  InputComponent: GridFilterInputValue
}, {
  value: "endsWith",
  getApplyFilterFnV7: (filterItem) => {
    if (!filterItem.value) {
      return null;
    }
    const filterItemValue = disableTrim ? filterItem.value : filterItem.value.trim();
    const filterRegex = new RegExp(`.*${escapeRegExp(filterItemValue)}$`, "i");
    return (value) => {
      return value != null ? filterRegex.test(value.toString()) : false;
    };
  },
  InputComponent: GridFilterInputValue
}, {
  value: "isEmpty",
  getApplyFilterFnV7: () => {
    return (value) => {
      return value === "" || value == null;
    };
  },
  requiresFilterValue: false
}, {
  value: "isNotEmpty",
  getApplyFilterFnV7: () => {
    return (value) => {
      return value !== "" && value != null;
    };
  },
  requiresFilterValue: false
}, {
  value: "isAnyOf",
  getApplyFilterFnV7: (filterItem) => {
    if (!Array.isArray(filterItem.value) || filterItem.value.length === 0) {
      return null;
    }
    const filterItemValue = disableTrim ? filterItem.value : filterItem.value.map((val) => val.trim());
    const collator2 = new Intl.Collator(void 0, {
      sensitivity: "base",
      usage: "search"
    });
    return (value) => value != null ? filterItemValue.some((filterValue) => {
      return collator2.compare(filterValue, value.toString() || "") === 0;
    }) : false;
  },
  InputComponent: GridFilterInputMultipleValue
}]);
const GRID_STRING_COL_DEF = {
  width: 100,
  minWidth: 50,
  maxWidth: Infinity,
  hideable: true,
  sortable: true,
  resizable: true,
  filterable: true,
  groupable: true,
  pinnable: true,
  // @ts-ignore
  aggregable: true,
  editable: false,
  sortComparator: gridStringOrNumberComparator,
  type: "string",
  align: "left",
  filterOperators: getGridStringOperators(),
  renderEditCell: renderEditInputCell,
  getApplyQuickFilterFn: convertQuickFilterV7ToLegacy(getGridStringQuickFilterFn),
  getApplyQuickFilterFnV7: getGridStringQuickFilterFn
};
const getGridBooleanOperators = () => convertLegacyOperators([{
  value: "is",
  getApplyFilterFnV7: (filterItem) => {
    if (!filterItem.value) {
      return null;
    }
    const valueAsBoolean = filterItem.value === "true";
    return (value) => {
      return Boolean(value) === valueAsBoolean;
    };
  },
  InputComponent: GridFilterInputBoolean
}]);
function gridBooleanFormatter({
  value,
  api
}) {
  return value ? api.getLocaleText("booleanCellTrueLabel") : api.getLocaleText("booleanCellFalseLabel");
}
const stringToBoolean = (value) => {
  switch (value.toLowerCase().trim()) {
    case "true":
    case "yes":
    case "1":
      return true;
    case "false":
    case "no":
    case "0":
    case "null":
    case "undefined":
      return false;
    default:
      return void 0;
  }
};
const GRID_BOOLEAN_COL_DEF = _extends$1({}, GRID_STRING_COL_DEF, {
  type: "boolean",
  align: "center",
  headerAlign: "center",
  renderCell: renderBooleanCell,
  renderEditCell: renderEditBooleanCell,
  sortComparator: gridNumberComparator,
  valueFormatter: gridBooleanFormatter,
  filterOperators: getGridBooleanOperators(),
  getApplyQuickFilterFn: void 0,
  getApplyQuickFilterFnV7: void 0,
  // @ts-ignore
  aggregable: false,
  // @ts-ignore
  pastedValueParser: (value) => stringToBoolean(value)
});
const GRID_CHECKBOX_SELECTION_FIELD = "__check__";
const GRID_CHECKBOX_SELECTION_COL_DEF = _extends$1({}, GRID_BOOLEAN_COL_DEF, {
  field: GRID_CHECKBOX_SELECTION_FIELD,
  type: "checkboxSelection",
  width: 50,
  resizable: false,
  sortable: false,
  filterable: false,
  // @ts-ignore
  aggregable: false,
  disableColumnMenu: true,
  disableReorder: true,
  disableExport: true,
  getApplyQuickFilterFn: void 0,
  getApplyQuickFilterFnV7: void 0,
  valueGetter: (params) => {
    const selectionLookup = selectedIdsLookupSelector(params.api.state, params.api.instanceId);
    return selectionLookup[params.id] !== void 0;
  },
  renderHeader: (params) => /* @__PURE__ */ jsx(GridHeaderCheckbox, _extends$1({}, params)),
  renderCell: (params) => /* @__PURE__ */ jsx(GridCellCheckboxRenderer2, _extends$1({}, params))
});
const GRID_ACTIONS_COLUMN_TYPE = "actions";
const GRID_ACTIONS_COL_DEF = _extends$1({}, GRID_STRING_COL_DEF, {
  sortable: false,
  filterable: false,
  // @ts-ignore
  aggregable: false,
  width: 100,
  align: "center",
  headerAlign: "center",
  headerName: "",
  disableColumnMenu: true,
  disableExport: true,
  renderCell: renderActionsCell,
  getApplyQuickFilterFn: void 0,
  getApplyQuickFilterFnV7: void 0
});
const GRID_DETAIL_PANEL_TOGGLE_FIELD = "__detail_panel_toggle__";
const gridEditRowsStateSelector = (state) => state.editRows;
const _excluded$c = ["selected", "hovered", "rowId", "row", "index", "style", "position", "rowHeight", "className", "visibleColumns", "renderedColumns", "containerWidth", "firstColumnToRender", "lastColumnToRender", "isLastVisible", "focusedCellColumnIndexNotInRange", "isNotVisible", "focusedCell", "tabbableCell", "onClick", "onDoubleClick", "onMouseEnter", "onMouseLeave", "onMouseOut", "onMouseOver"];
const useUtilityClasses$7 = (ownerState) => {
  const {
    editable,
    editing,
    selected,
    isLastVisible,
    rowHeight,
    classes
  } = ownerState;
  const slots = {
    root: ["row", selected && "selected", editable && "row--editable", editing && "row--editing", isLastVisible && "row--lastVisible", rowHeight === "auto" && "row--dynamicHeight"]
  };
  return unstable_composeClasses(slots, getDataGridUtilityClass, classes);
};
function EmptyCell({
  width
}) {
  if (!width) {
    return null;
  }
  const style = {
    width
  };
  return /* @__PURE__ */ jsx("div", {
    className: `${gridClasses.cell} ${gridClasses.withBorderColor}`,
    style
  });
}
const GridRow = /* @__PURE__ */ React.forwardRef(function GridRow2(props, refProp) {
  const {
    selected,
    hovered,
    rowId,
    row,
    index: index2,
    style: styleProp,
    position,
    rowHeight,
    className,
    visibleColumns,
    renderedColumns,
    containerWidth,
    firstColumnToRender,
    isLastVisible = false,
    focusedCellColumnIndexNotInRange,
    isNotVisible,
    focusedCell,
    onClick,
    onDoubleClick,
    onMouseEnter,
    onMouseLeave,
    onMouseOut,
    onMouseOver
  } = props, other = _objectWithoutPropertiesLoose$1(props, _excluded$c);
  const apiRef = useGridApiContext();
  const ref = React.useRef(null);
  const rootProps = useGridRootProps();
  const currentPage = useGridVisibleRows(apiRef, rootProps);
  const columnsTotalWidth = useGridSelector(apiRef, gridColumnsTotalWidthSelector);
  const sortModel = useGridSelector(apiRef, gridSortModelSelector);
  const treeDepth = useGridSelector(apiRef, gridRowMaximumTreeDepthSelector);
  const headerGroupingMaxDepth = useGridSelector(apiRef, gridColumnGroupsHeaderMaxDepthSelector);
  const editRowsState = useGridSelector(apiRef, gridEditRowsStateSelector);
  const handleRef = unstable_useForkRef(ref, refProp);
  const ariaRowIndex = index2 + headerGroupingMaxDepth + 2;
  const ownerState = {
    selected,
    isLastVisible,
    classes: rootProps.classes,
    editing: apiRef.current.getRowMode(rowId) === GridRowModes.Edit,
    editable: rootProps.editMode === GridEditModes.Row,
    rowHeight
  };
  const classes = useUtilityClasses$7(ownerState);
  React.useLayoutEffect(() => {
    if (rowHeight === "auto" && ref.current && typeof ResizeObserver === "undefined") {
      apiRef.current.unstable_storeRowHeightMeasurement(rowId, ref.current.clientHeight, position);
    }
  }, [apiRef, rowHeight, rowId, position]);
  React.useLayoutEffect(() => {
    if (currentPage.range) {
      const rowIndex = apiRef.current.getRowIndexRelativeToVisibleRows(rowId);
      if (rowIndex != null) {
        apiRef.current.unstable_setLastMeasuredRowIndex(rowIndex);
      }
    }
    const rootElement = ref.current;
    const hasFixedHeight = rowHeight !== "auto";
    if (!rootElement || hasFixedHeight || typeof ResizeObserver === "undefined") {
      return void 0;
    }
    const resizeObserver = new ResizeObserver((entries) => {
      const [entry] = entries;
      const height = entry.borderBoxSize && entry.borderBoxSize.length > 0 ? entry.borderBoxSize[0].blockSize : entry.contentRect.height;
      apiRef.current.unstable_storeRowHeightMeasurement(rowId, height, position);
    });
    resizeObserver.observe(rootElement);
    return () => resizeObserver.disconnect();
  }, [apiRef, currentPage.range, index2, rowHeight, rowId, position]);
  const publish = React.useCallback((eventName, propHandler) => (event) => {
    if (isEventTargetInPortal(event)) {
      return;
    }
    if (!apiRef.current.getRow(rowId)) {
      return;
    }
    apiRef.current.publishEvent(eventName, apiRef.current.getRowParams(rowId), event);
    if (propHandler) {
      propHandler(event);
    }
  }, [apiRef, rowId]);
  const publishClick = React.useCallback((event) => {
    const cell = findParentElementFromClassName(event.target, gridClasses.cell);
    const field = cell == null ? void 0 : cell.getAttribute("data-field");
    if (field) {
      if (field === GRID_CHECKBOX_SELECTION_COL_DEF.field) {
        return;
      }
      if (field === GRID_DETAIL_PANEL_TOGGLE_FIELD) {
        return;
      }
      if (field === "__reorder__") {
        return;
      }
      if (apiRef.current.getCellMode(rowId, field) === GridCellModes.Edit) {
        return;
      }
      const column = apiRef.current.getColumn(field);
      if ((column == null ? void 0 : column.type) === GRID_ACTIONS_COLUMN_TYPE) {
        return;
      }
    }
    publish("rowClick", onClick)(event);
  }, [apiRef, onClick, publish, rowId]);
  const {
    slots,
    slotProps,
    disableColumnReorder
  } = rootProps;
  const CellComponent = slots.cell === MemoizedGridCellV7 ? MemoizedGridCellV7 : MemoizedCellWrapper;
  const rowReordering = rootProps.rowReordering;
  const getCell = (column, cellProps) => {
    var _editRowsState$rowId$, _editRowsState$rowId;
    const disableDragEvents = disableColumnReorder && column.disableReorder || !rowReordering && !!sortModel.length && treeDepth > 1 && Object.keys(editRowsState).length > 0;
    const editCellState = (_editRowsState$rowId$ = (_editRowsState$rowId = editRowsState[rowId]) == null ? void 0 : _editRowsState$rowId[column.field]) != null ? _editRowsState$rowId$ : null;
    let cellIsNotVisible = false;
    if (focusedCellColumnIndexNotInRange !== void 0 && visibleColumns[focusedCellColumnIndexNotInRange].field === column.field) {
      cellIsNotVisible = true;
    }
    return /* @__PURE__ */ jsx(CellComponent, _extends$1({
      column,
      width: cellProps.width,
      rowId,
      height: rowHeight,
      showRightBorder: cellProps.showRightBorder,
      align: column.align || "left",
      colIndex: cellProps.indexRelativeToAllColumns,
      colSpan: cellProps.colSpan,
      disableDragEvents,
      editCellState,
      isNotVisible: cellIsNotVisible
    }, slotProps == null ? void 0 : slotProps.cell), column.field);
  };
  const sizes = useGridSelector(apiRef, () => _extends$1({}, apiRef.current.unstable_getRowInternalSizes(rowId)), objectShallowCompare);
  let minHeight = rowHeight;
  if (minHeight === "auto" && sizes) {
    let numberOfBaseSizes = 0;
    const maximumSize = Object.entries(sizes).reduce((acc, [key, size]) => {
      const isBaseHeight = /^base[A-Z]/.test(key);
      if (!isBaseHeight) {
        return acc;
      }
      numberOfBaseSizes += 1;
      if (size > acc) {
        return size;
      }
      return acc;
    }, 0);
    if (maximumSize > 0 && numberOfBaseSizes > 1) {
      minHeight = maximumSize;
    }
  }
  const style = React.useMemo(() => {
    if (isNotVisible) {
      return {
        opacity: 0,
        width: 0,
        height: 0
      };
    }
    const rowStyle = _extends$1({}, styleProp, {
      maxHeight: rowHeight === "auto" ? "none" : rowHeight,
      // max-height doesn't support "auto"
      minHeight
    });
    if (sizes != null && sizes.spacingTop) {
      const property = rootProps.rowSpacingType === "border" ? "borderTopWidth" : "marginTop";
      rowStyle[property] = sizes.spacingTop;
    }
    if (sizes != null && sizes.spacingBottom) {
      const property = rootProps.rowSpacingType === "border" ? "borderBottomWidth" : "marginBottom";
      let propertyValue = rowStyle[property];
      if (typeof propertyValue !== "number") {
        propertyValue = parseInt(propertyValue || "0", 10);
      }
      propertyValue += sizes.spacingBottom;
      rowStyle[property] = propertyValue;
    }
    return rowStyle;
  }, [isNotVisible, rowHeight, styleProp, minHeight, sizes, rootProps.rowSpacingType]);
  const rowClassNames = apiRef.current.unstable_applyPipeProcessors("rowClassName", [], rowId);
  if (typeof rootProps.getRowClassName === "function") {
    var _currentPage$range;
    const indexRelativeToCurrentPage = index2 - (((_currentPage$range = currentPage.range) == null ? void 0 : _currentPage$range.firstRowIndex) || 0);
    const rowParams = _extends$1({}, apiRef.current.getRowParams(rowId), {
      isFirstVisible: indexRelativeToCurrentPage === 0,
      isLastVisible: indexRelativeToCurrentPage === currentPage.rows.length - 1,
      indexRelativeToCurrentPage
    });
    rowClassNames.push(rootProps.getRowClassName(rowParams));
  }
  const randomNumber = randomNumberBetween(1e4, 20, 80);
  const rowNode = apiRef.current.getRowNode(rowId);
  if (!rowNode) {
    return null;
  }
  const rowType = rowNode.type;
  const cells = [];
  for (let i2 = 0; i2 < renderedColumns.length; i2 += 1) {
    const column = renderedColumns[i2];
    let indexRelativeToAllColumns = firstColumnToRender + i2;
    if (focusedCellColumnIndexNotInRange !== void 0 && focusedCell) {
      if (visibleColumns[focusedCellColumnIndexNotInRange].field === column.field) {
        indexRelativeToAllColumns = focusedCellColumnIndexNotInRange;
      } else {
        indexRelativeToAllColumns -= 1;
      }
    }
    const cellColSpanInfo = apiRef.current.unstable_getCellColSpanInfo(rowId, indexRelativeToAllColumns);
    if (cellColSpanInfo && !cellColSpanInfo.spannedByColSpan) {
      if (rowType !== "skeletonRow") {
        const {
          colSpan,
          width
        } = cellColSpanInfo.cellProps;
        const cellProps = {
          width,
          colSpan,
          showRightBorder: rootProps.showCellVerticalBorder,
          indexRelativeToAllColumns
        };
        cells.push(getCell(column, cellProps));
      } else {
        const {
          width
        } = cellColSpanInfo.cellProps;
        const contentWidth = Math.round(randomNumber());
        cells.push(/* @__PURE__ */ jsx(slots.skeletonCell, {
          width,
          contentWidth,
          field: column.field,
          align: column.align
        }, column.field));
      }
    }
  }
  const emptyCellWidth = containerWidth - columnsTotalWidth;
  const eventHandlers = row ? {
    onClick: publishClick,
    onDoubleClick: publish("rowDoubleClick", onDoubleClick),
    onMouseEnter: publish("rowMouseEnter", onMouseEnter),
    onMouseLeave: publish("rowMouseLeave", onMouseLeave),
    onMouseOut: publish("rowMouseOut", onMouseOut),
    onMouseOver: publish("rowMouseOver", onMouseOver)
  } : null;
  return /* @__PURE__ */ jsxs("div", _extends$1({
    ref: handleRef,
    "data-id": rowId,
    "data-rowindex": index2,
    role: "row",
    className: clsx(...rowClassNames, classes.root, className, hovered && "Mui-hovered"),
    "aria-rowindex": ariaRowIndex,
    "aria-selected": selected,
    style
  }, eventHandlers, other, {
    children: [cells, emptyCellWidth > 0 && /* @__PURE__ */ jsx(EmptyCell, {
      width: emptyCellWidth
    })]
  }));
});
process.env.NODE_ENV !== "production" ? GridRow.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // | To update them edit the TypeScript types and run "yarn proptypes"  |
  // ----------------------------------------------------------------------
  containerWidth: PropTypes.number.isRequired,
  firstColumnToRender: PropTypes.number.isRequired,
  /**
   * Determines which cell has focus.
   * If `null`, no cell in this row has focus.
   */
  focusedCell: PropTypes.string,
  focusedCellColumnIndexNotInRange: PropTypes.number,
  /**
   * Index of the row in the whole sorted and filtered dataset.
   * If some rows above have expanded children, this index also take those children into account.
   */
  index: PropTypes.number.isRequired,
  isLastVisible: PropTypes.bool,
  isNotVisible: PropTypes.bool,
  lastColumnToRender: PropTypes.number.isRequired,
  onClick: PropTypes.func,
  onDoubleClick: PropTypes.func,
  onMouseEnter: PropTypes.func,
  onMouseLeave: PropTypes.func,
  position: PropTypes.oneOf(["center", "left", "right"]).isRequired,
  renderedColumns: PropTypes.arrayOf(PropTypes.object).isRequired,
  row: PropTypes.object,
  rowHeight: PropTypes.oneOfType([PropTypes.oneOf(["auto"]), PropTypes.number]).isRequired,
  rowId: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,
  selected: PropTypes.bool.isRequired,
  /**
   * Determines which cell should be tabbable by having tabIndex=0.
   * If `null`, no cell in this row is in the tab sequence.
   */
  tabbableCell: PropTypes.string,
  visibleColumns: PropTypes.arrayOf(PropTypes.object).isRequired
} : void 0;
const MemoizedGridRow = fastMemo(GridRow);
function GridContextProvider({
  privateApiRef,
  props,
  children
}) {
  const apiRef = React.useRef(privateApiRef.current.getPublicApi());
  return /* @__PURE__ */ jsx(GridRootPropsContext.Provider, {
    value: props,
    children: /* @__PURE__ */ jsx(GridPrivateApiContext.Provider, {
      value: privateApiRef,
      children: /* @__PURE__ */ jsx(GridApiContext.Provider, {
        value: apiRef,
        children
      })
    })
  });
}
const forceDebug = localStorageAvailable() && window.localStorage.getItem("DEBUG") != null;
const noop = () => {
};
const noopLogger = {
  debug: noop,
  info: noop,
  warn: noop,
  error: noop
};
const LOG_LEVELS = ["debug", "info", "warn", "error"];
function getAppender(name, logLevel, appender = console) {
  const minLogLevelIdx = LOG_LEVELS.indexOf(logLevel);
  if (minLogLevelIdx === -1) {
    throw new Error(`MUI: Log level ${logLevel} not recognized.`);
  }
  const logger = LOG_LEVELS.reduce((loggerObj, method, idx) => {
    if (idx >= minLogLevelIdx) {
      loggerObj[method] = (...args) => {
        const [message, ...other] = args;
        appender[method](`MUI: ${name} - ${message}`, ...other);
      };
    } else {
      loggerObj[method] = noop;
    }
    return loggerObj;
  }, {});
  return logger;
}
const useGridLoggerFactory = (apiRef, props) => {
  const getLogger = React.useCallback((name) => {
    if (forceDebug) {
      return getAppender(name, "debug", props.logger);
    }
    if (!props.logLevel) {
      return noopLogger;
    }
    return getAppender(name, props.logLevel.toString(), props.logger);
  }, [props.logLevel, props.logger]);
  useGridApiMethod(apiRef, {
    getLogger
  }, "private");
};
let Store$1 = class Store {
  static create(value) {
    return new Store(value);
  }
  constructor(_value) {
    this.value = void 0;
    this.listeners = void 0;
    this.subscribe = (fn2) => {
      this.listeners.add(fn2);
      return () => {
        this.listeners.delete(fn2);
      };
    };
    this.getSnapshot = () => {
      return this.value;
    };
    this.update = (value) => {
      this.value = value;
      this.listeners.forEach((l) => l(value));
    };
    this.value = _value;
    this.listeners = /* @__PURE__ */ new Set();
  }
};
class EventManager {
  constructor() {
    this.maxListeners = 20;
    this.warnOnce = false;
    this.events = {};
  }
  on(eventName, listener, options = {}) {
    let collection = this.events[eventName];
    if (!collection) {
      collection = {
        highPriority: /* @__PURE__ */ new Map(),
        regular: /* @__PURE__ */ new Map()
      };
      this.events[eventName] = collection;
    }
    if (options.isFirst) {
      collection.highPriority.set(listener, true);
    } else {
      collection.regular.set(listener, true);
    }
    if (process.env.NODE_ENV !== "production") {
      const collectionSize = collection.highPriority.size + collection.regular.size;
      if (collectionSize > this.maxListeners && !this.warnOnce) {
        this.warnOnce = true;
        console.warn([`Possible EventEmitter memory leak detected. ${collectionSize} ${eventName} listeners added.`].join("\n"));
      }
    }
  }
  removeListener(eventName, listener) {
    if (this.events[eventName]) {
      this.events[eventName].regular.delete(listener);
      this.events[eventName].highPriority.delete(listener);
    }
  }
  removeAllListeners() {
    this.events = {};
  }
  emit(eventName, ...args) {
    const collection = this.events[eventName];
    if (!collection) {
      return;
    }
    const highPriorityListeners = Array.from(collection.highPriority.keys());
    const regularListeners = Array.from(collection.regular.keys());
    for (let i2 = highPriorityListeners.length - 1; i2 >= 0; i2 -= 1) {
      const listener = highPriorityListeners[i2];
      if (collection.highPriority.has(listener)) {
        listener.apply(this, args);
      }
    }
    for (let i2 = 0; i2 < regularListeners.length; i2 += 1) {
      const listener = regularListeners[i2];
      if (collection.regular.has(listener)) {
        listener.apply(this, args);
      }
    }
  }
  once(eventName, listener) {
    const that = this;
    this.on(eventName, function oneTimeListener(...args) {
      that.removeListener(eventName, oneTimeListener);
      listener.apply(that, args);
    });
  }
}
const SYMBOL_API_PRIVATE = Symbol("mui.api_private");
const isSyntheticEvent = (event) => {
  return event.isPropagationStopped !== void 0;
};
let globalId = 0;
function createPrivateAPI(publicApiRef) {
  var _publicApiRef$current;
  const existingPrivateApi = (_publicApiRef$current = publicApiRef.current) == null ? void 0 : _publicApiRef$current[SYMBOL_API_PRIVATE];
  if (existingPrivateApi) {
    return existingPrivateApi;
  }
  const state = {};
  const privateApi = {
    state,
    store: Store$1.create(state),
    instanceId: {
      id: globalId
    }
  };
  globalId += 1;
  privateApi.getPublicApi = () => publicApiRef.current;
  privateApi.register = (visibility, methods) => {
    Object.keys(methods).forEach((methodName) => {
      const method = methods[methodName];
      const currentPrivateMethod = privateApi[methodName];
      if ((currentPrivateMethod == null ? void 0 : currentPrivateMethod.spying) === true) {
        currentPrivateMethod.target = method;
      } else {
        privateApi[methodName] = method;
      }
      if (visibility === "public") {
        const publicApi = publicApiRef.current;
        const currentPublicMethod = publicApi[methodName];
        if ((currentPublicMethod == null ? void 0 : currentPublicMethod.spying) === true) {
          currentPublicMethod.target = method;
        } else {
          publicApi[methodName] = method;
        }
      }
    });
  };
  privateApi.register("private", {
    caches: {},
    eventManager: new EventManager()
  });
  return privateApi;
}
function createPublicAPI(privateApiRef) {
  const publicApi = {
    get state() {
      return privateApiRef.current.state;
    },
    get store() {
      return privateApiRef.current.store;
    },
    get instanceId() {
      return privateApiRef.current.instanceId;
    },
    [SYMBOL_API_PRIVATE]: privateApiRef.current
  };
  return publicApi;
}
function useGridApiInitialization(inputApiRef, props) {
  const publicApiRef = React.useRef();
  const privateApiRef = React.useRef();
  if (!privateApiRef.current) {
    privateApiRef.current = createPrivateAPI(publicApiRef);
  }
  if (!publicApiRef.current) {
    publicApiRef.current = createPublicAPI(privateApiRef);
  }
  const publishEvent = React.useCallback((...args) => {
    const [name, params, event = {}] = args;
    event.defaultMuiPrevented = false;
    if (isSyntheticEvent(event) && event.isPropagationStopped()) {
      return;
    }
    const details = props.signature === GridSignature.DataGridPro ? {
      api: privateApiRef.current.getPublicApi()
    } : {};
    privateApiRef.current.eventManager.emit(name, params, event, details);
  }, [privateApiRef, props.signature]);
  const subscribeEvent = React.useCallback((event, handler, options) => {
    privateApiRef.current.eventManager.on(event, handler, options);
    const api = privateApiRef.current;
    return () => {
      api.eventManager.removeListener(event, handler);
    };
  }, [privateApiRef]);
  useGridApiMethod(privateApiRef, {
    subscribeEvent,
    publishEvent
  }, "public");
  React.useImperativeHandle(inputApiRef, () => publicApiRef.current, [publicApiRef]);
  React.useEffect(() => {
    const api = privateApiRef.current;
    return () => {
      api.publishEvent("unmount");
    };
  }, [privateApiRef]);
  return privateApiRef;
}
const useGridLocaleText = (apiRef, props) => {
  const getLocaleText = React.useCallback((key) => {
    if (props.localeText[key] == null) {
      throw new Error(`Missing translation for key ${key}.`);
    }
    return props.localeText[key];
  }, [props.localeText]);
  apiRef.current.register("public", {
    getLocaleText
  });
};
const useGridPipeProcessing = (apiRef) => {
  const processorsCache = React.useRef({});
  const isRunning = React.useRef(false);
  const runAppliers = React.useCallback((groupCache) => {
    if (isRunning.current || !groupCache) {
      return;
    }
    isRunning.current = true;
    Object.values(groupCache.appliers).forEach((callback) => {
      callback();
    });
    isRunning.current = false;
  }, []);
  const registerPipeProcessor = React.useCallback((group, id, processor) => {
    if (!processorsCache.current[group]) {
      processorsCache.current[group] = {
        processors: /* @__PURE__ */ new Map(),
        appliers: {}
      };
    }
    const groupCache = processorsCache.current[group];
    const oldProcessor = groupCache.processors.get(id);
    if (oldProcessor !== processor) {
      groupCache.processors.set(id, processor);
      runAppliers(groupCache);
    }
    return () => {
      processorsCache.current[group].processors.set(id, null);
    };
  }, [runAppliers]);
  const registerPipeApplier = React.useCallback((group, id, applier) => {
    if (!processorsCache.current[group]) {
      processorsCache.current[group] = {
        processors: /* @__PURE__ */ new Map(),
        appliers: {}
      };
    }
    processorsCache.current[group].appliers[id] = applier;
    return () => {
      const _appliers = processorsCache.current[group].appliers, otherAppliers = _objectWithoutPropertiesLoose$1(_appliers, [id].map(_toPropertyKey$1));
      processorsCache.current[group].appliers = otherAppliers;
    };
  }, []);
  const requestPipeProcessorsApplication = React.useCallback((group) => {
    const groupCache = processorsCache.current[group];
    runAppliers(groupCache);
  }, [runAppliers]);
  const applyPipeProcessors = React.useCallback((...args) => {
    const [group, value, context] = args;
    if (!processorsCache.current[group]) {
      return value;
    }
    const preProcessors = Array.from(processorsCache.current[group].processors.values());
    return preProcessors.reduce((acc, preProcessor) => {
      if (!preProcessor) {
        return acc;
      }
      return preProcessor(acc, context);
    }, value);
  }, []);
  const preProcessingPrivateApi = {
    registerPipeProcessor,
    registerPipeApplier,
    requestPipeProcessorsApplication
  };
  const preProcessingPublicApi = {
    unstable_applyPipeProcessors: applyPipeProcessors
  };
  useGridApiMethod(apiRef, preProcessingPrivateApi, "private");
  useGridApiMethod(apiRef, preProcessingPublicApi, "public");
};
const useGridRegisterPipeProcessor = (apiRef, group, callback) => {
  const cleanup = React.useRef();
  const id = React.useRef(`mui-${Math.round(Math.random() * 1e9)}`);
  const registerPreProcessor = React.useCallback(() => {
    cleanup.current = apiRef.current.registerPipeProcessor(group, id.current, callback);
  }, [apiRef, callback, group]);
  useFirstRender(() => {
    registerPreProcessor();
  });
  const isFirstRender = React.useRef(true);
  React.useEffect(() => {
    if (isFirstRender.current) {
      isFirstRender.current = false;
    } else {
      registerPreProcessor();
    }
    return () => {
      if (cleanup.current) {
        cleanup.current();
        cleanup.current = null;
      }
    };
  }, [registerPreProcessor]);
};
const useGridRegisterPipeApplier = (apiRef, group, callback) => {
  const cleanup = React.useRef();
  const id = React.useRef(`mui-${Math.round(Math.random() * 1e9)}`);
  const registerPreProcessor = React.useCallback(() => {
    cleanup.current = apiRef.current.registerPipeApplier(group, id.current, callback);
  }, [apiRef, callback, group]);
  useFirstRender(() => {
    registerPreProcessor();
  });
  const isFirstRender = React.useRef(true);
  React.useEffect(() => {
    if (isFirstRender.current) {
      isFirstRender.current = false;
    } else {
      registerPreProcessor();
    }
    return () => {
      if (cleanup.current) {
        cleanup.current();
        cleanup.current = null;
      }
    };
  }, [registerPreProcessor]);
};
const useGridRegisterStrategyProcessor = (apiRef, strategyName, group, processor) => {
  const registerPreProcessor = React.useCallback(() => {
    apiRef.current.registerStrategyProcessor(strategyName, group, processor);
  }, [apiRef, processor, group, strategyName]);
  useFirstRender(() => {
    registerPreProcessor();
  });
  const isFirstRender = React.useRef(true);
  React.useEffect(() => {
    if (isFirstRender.current) {
      isFirstRender.current = false;
    } else {
      registerPreProcessor();
    }
  }, [registerPreProcessor]);
};
const GRID_DEFAULT_STRATEGY = "none";
const GRID_STRATEGIES_PROCESSORS = {
  rowTreeCreation: "rowTree",
  filtering: "rowTree",
  sorting: "rowTree",
  visibleRowsLookupCreation: "rowTree"
};
const useGridStrategyProcessing = (apiRef) => {
  const availableStrategies = React.useRef(/* @__PURE__ */ new Map());
  const strategiesCache = React.useRef({});
  const registerStrategyProcessor = React.useCallback((strategyName, processorName, processor) => {
    const cleanup = () => {
      const _ref = strategiesCache.current[processorName], otherProcessors = _objectWithoutPropertiesLoose$1(_ref, [strategyName].map(_toPropertyKey$1));
      strategiesCache.current[processorName] = otherProcessors;
    };
    if (!strategiesCache.current[processorName]) {
      strategiesCache.current[processorName] = {};
    }
    const groupPreProcessors = strategiesCache.current[processorName];
    const previousProcessor = groupPreProcessors[strategyName];
    groupPreProcessors[strategyName] = processor;
    if (!previousProcessor || previousProcessor === processor) {
      return cleanup;
    }
    if (strategyName === apiRef.current.getActiveStrategy(GRID_STRATEGIES_PROCESSORS[processorName])) {
      apiRef.current.publishEvent("activeStrategyProcessorChange", processorName);
    }
    return cleanup;
  }, [apiRef]);
  const applyStrategyProcessor = React.useCallback((processorName, params) => {
    const activeStrategy = apiRef.current.getActiveStrategy(GRID_STRATEGIES_PROCESSORS[processorName]);
    if (activeStrategy == null) {
      throw new Error("Can't apply a strategy processor before defining an active strategy");
    }
    const groupCache = strategiesCache.current[processorName];
    if (!groupCache || !groupCache[activeStrategy]) {
      throw new Error(`No processor found for processor "${processorName}" on strategy "${activeStrategy}"`);
    }
    const processor = groupCache[activeStrategy];
    return processor(params);
  }, [apiRef]);
  const getActiveStrategy = React.useCallback((strategyGroup) => {
    var _availableStrategyEnt;
    const strategyEntries = Array.from(availableStrategies.current.entries());
    const availableStrategyEntry = strategyEntries.find(([, strategy]) => {
      if (strategy.group !== strategyGroup) {
        return false;
      }
      return strategy.isAvailable();
    });
    return (_availableStrategyEnt = availableStrategyEntry == null ? void 0 : availableStrategyEntry[0]) != null ? _availableStrategyEnt : GRID_DEFAULT_STRATEGY;
  }, []);
  const setStrategyAvailability = React.useCallback((strategyGroup, strategyName, isAvailable) => {
    availableStrategies.current.set(strategyName, {
      group: strategyGroup,
      isAvailable
    });
    apiRef.current.publishEvent("strategyAvailabilityChange");
  }, [apiRef]);
  const strategyProcessingApi = {
    registerStrategyProcessor,
    applyStrategyProcessor,
    getActiveStrategy,
    setStrategyAvailability
  };
  useGridApiMethod(apiRef, strategyProcessingApi, "private");
};
const useGridStateInitialization = (apiRef, props) => {
  const controlStateMapRef = React.useRef({});
  const [, rawForceUpdate] = React.useState();
  const registerControlState = React.useCallback((controlStateItem) => {
    controlStateMapRef.current[controlStateItem.stateId] = controlStateItem;
  }, []);
  const setState = React.useCallback((state, reason) => {
    let newState;
    if (isFunction(state)) {
      newState = state(apiRef.current.state);
    } else {
      newState = state;
    }
    if (apiRef.current.state === newState) {
      return false;
    }
    let ignoreSetState = false;
    const updatedControlStateIds = [];
    Object.keys(controlStateMapRef.current).forEach((stateId) => {
      const controlState = controlStateMapRef.current[stateId];
      const oldSubState = controlState.stateSelector(apiRef.current.state, apiRef.current.instanceId);
      const newSubState = controlState.stateSelector(newState, apiRef.current.instanceId);
      if (newSubState === oldSubState) {
        return;
      }
      updatedControlStateIds.push({
        stateId: controlState.stateId,
        hasPropChanged: newSubState !== controlState.propModel
      });
      if (controlState.propModel !== void 0 && newSubState !== controlState.propModel) {
        ignoreSetState = true;
      }
    });
    if (updatedControlStateIds.length > 1) {
      throw new Error(`You're not allowed to update several sub-state in one transaction. You already updated ${updatedControlStateIds[0].stateId}, therefore, you're not allowed to update ${updatedControlStateIds.map((el) => el.stateId).join(", ")} in the same transaction.`);
    }
    if (!ignoreSetState) {
      apiRef.current.state = newState;
      if (apiRef.current.publishEvent) {
        apiRef.current.publishEvent("stateChange", newState);
      }
      apiRef.current.store.update(newState);
    }
    if (updatedControlStateIds.length === 1) {
      const {
        stateId,
        hasPropChanged
      } = updatedControlStateIds[0];
      const controlState = controlStateMapRef.current[stateId];
      const model = controlState.stateSelector(newState, apiRef.current.instanceId);
      if (controlState.propOnChange && hasPropChanged) {
        const details = props.signature === GridSignature.DataGridPro ? {
          api: apiRef.current,
          reason
        } : {
          reason
        };
        controlState.propOnChange(model, details);
      }
      if (!ignoreSetState) {
        apiRef.current.publishEvent(controlState.changeEvent, model, {
          reason
        });
      }
    }
    return !ignoreSetState;
  }, [apiRef, props.signature]);
  const updateControlState = React.useCallback((key, state, reason) => {
    return apiRef.current.setState((previousState) => {
      return _extends$1({}, previousState, {
        [key]: state(previousState[key])
      });
    }, reason);
  }, [apiRef]);
  const forceUpdate = React.useCallback(() => rawForceUpdate(() => apiRef.current.state), [apiRef]);
  const publicStateApi = {
    setState,
    forceUpdate
  };
  const privateStateApi = {
    updateControlState,
    registerControlState
  };
  useGridApiMethod(apiRef, publicStateApi, "public");
  useGridApiMethod(apiRef, privateStateApi, "private");
};
const useGridInitialization = (inputApiRef, props) => {
  const privateApiRef = useGridApiInitialization(inputApiRef, props);
  useGridLoggerFactory(privateApiRef, props);
  useGridStateInitialization(privateApiRef, props);
  useGridPipeProcessing(privateApiRef);
  useGridStrategyProcessing(privateApiRef);
  useGridLocaleText(privateApiRef, props);
  privateApiRef.current.register("private", {
    rootProps: props
  });
  return privateApiRef;
};
const useGridInitializeState = (initializer, privateApiRef, props) => {
  const isInitialized = React.useRef(false);
  if (!isInitialized.current) {
    privateApiRef.current.state = initializer(privateApiRef.current.state, props, privateApiRef);
    isInitialized.current = true;
  }
};
const dateRegex = /(\d+)-(\d+)-(\d+)/;
const dateTimeRegex = /(\d+)-(\d+)-(\d+)T(\d+):(\d+)/;
function buildApplyFilterFn(filterItem, compareFn, showTime, keepHours) {
  if (!filterItem.value) {
    return null;
  }
  const [year, month, day, hour, minute] = filterItem.value.match(showTime ? dateTimeRegex : dateRegex).slice(1).map(Number);
  const time = new Date(year, month - 1, day, hour || 0, minute || 0).getTime();
  return (value) => {
    if (!value) {
      return false;
    }
    if (keepHours) {
      return compareFn(value.getTime(), time);
    }
    const dateCopy = new Date(value);
    const timeToCompare = dateCopy.setHours(showTime ? value.getHours() : 0, showTime ? value.getMinutes() : 0, 0, 0);
    return compareFn(timeToCompare, time);
  };
}
const getGridDateOperators = (showTime) => convertLegacyOperators([{
  value: "is",
  getApplyFilterFnV7: (filterItem) => {
    return buildApplyFilterFn(filterItem, (value1, value2) => value1 === value2, showTime);
  },
  InputComponent: GridFilterInputDate,
  InputComponentProps: {
    type: showTime ? "datetime-local" : "date"
  }
}, {
  value: "not",
  getApplyFilterFnV7: (filterItem) => {
    return buildApplyFilterFn(filterItem, (value1, value2) => value1 !== value2, showTime);
  },
  InputComponent: GridFilterInputDate,
  InputComponentProps: {
    type: showTime ? "datetime-local" : "date"
  }
}, {
  value: "after",
  getApplyFilterFnV7: (filterItem) => {
    return buildApplyFilterFn(filterItem, (value1, value2) => value1 > value2, showTime);
  },
  InputComponent: GridFilterInputDate,
  InputComponentProps: {
    type: showTime ? "datetime-local" : "date"
  }
}, {
  value: "onOrAfter",
  getApplyFilterFnV7: (filterItem) => {
    return buildApplyFilterFn(filterItem, (value1, value2) => value1 >= value2, showTime);
  },
  InputComponent: GridFilterInputDate,
  InputComponentProps: {
    type: showTime ? "datetime-local" : "date"
  }
}, {
  value: "before",
  getApplyFilterFnV7: (filterItem) => {
    return buildApplyFilterFn(filterItem, (value1, value2) => value1 < value2, showTime, !showTime);
  },
  InputComponent: GridFilterInputDate,
  InputComponentProps: {
    type: showTime ? "datetime-local" : "date"
  }
}, {
  value: "onOrBefore",
  getApplyFilterFnV7: (filterItem) => {
    return buildApplyFilterFn(filterItem, (value1, value2) => value1 <= value2, showTime);
  },
  InputComponent: GridFilterInputDate,
  InputComponentProps: {
    type: showTime ? "datetime-local" : "date"
  }
}, {
  value: "isEmpty",
  getApplyFilterFnV7: () => {
    return (value) => {
      return value == null;
    };
  },
  requiresFilterValue: false
}, {
  value: "isNotEmpty",
  getApplyFilterFnV7: () => {
    return (value) => {
      return value != null;
    };
  },
  requiresFilterValue: false
}]);
function throwIfNotDateObject({
  value,
  columnType,
  rowId,
  field
}) {
  if (!(value instanceof Date)) {
    throw new Error([`MUI: \`${columnType}\` column type only accepts \`Date\` objects as values.`, "Use `valueGetter` to transform the value into a `Date` object.", `Row ID: ${rowId}, field: "${field}".`].join("\n"));
  }
}
function gridDateFormatter({
  value,
  field,
  id
}) {
  if (!value) {
    return "";
  }
  throwIfNotDateObject({
    value,
    columnType: "date",
    rowId: id,
    field
  });
  return value.toLocaleDateString();
}
function gridDateTimeFormatter({
  value,
  field,
  id
}) {
  if (!value) {
    return "";
  }
  throwIfNotDateObject({
    value,
    columnType: "dateTime",
    rowId: id,
    field
  });
  return value.toLocaleString();
}
const GRID_DATE_COL_DEF = _extends$1({}, GRID_STRING_COL_DEF, {
  type: "date",
  sortComparator: gridDateComparator,
  valueFormatter: gridDateFormatter,
  filterOperators: getGridDateOperators(),
  renderEditCell: renderEditDateCell,
  // @ts-ignore
  pastedValueParser: (value) => new Date(value)
});
const GRID_DATETIME_COL_DEF = _extends$1({}, GRID_STRING_COL_DEF, {
  type: "dateTime",
  sortComparator: gridDateComparator,
  valueFormatter: gridDateTimeFormatter,
  filterOperators: getGridDateOperators(true),
  renderEditCell: renderEditDateCell,
  // @ts-ignore
  pastedValueParser: (value) => new Date(value)
});
const parseNumericValue = (value) => {
  if (value == null) {
    return null;
  }
  return Number(value);
};
const getGridNumericQuickFilterFn = tagInternalFilter((value) => {
  if (value == null || Number.isNaN(value) || value === "") {
    return null;
  }
  return (columnValue) => {
    return parseNumericValue(columnValue) === parseNumericValue(value);
  };
});
const getGridNumericOperators = () => convertLegacyOperators([{
  value: "=",
  getApplyFilterFnV7: (filterItem) => {
    if (filterItem.value == null || Number.isNaN(filterItem.value)) {
      return null;
    }
    return (value) => {
      return parseNumericValue(value) === filterItem.value;
    };
  },
  InputComponent: GridFilterInputValue,
  InputComponentProps: {
    type: "number"
  }
}, {
  value: "!=",
  getApplyFilterFnV7: (filterItem) => {
    if (filterItem.value == null || Number.isNaN(filterItem.value)) {
      return null;
    }
    return (value) => {
      return parseNumericValue(value) !== filterItem.value;
    };
  },
  InputComponent: GridFilterInputValue,
  InputComponentProps: {
    type: "number"
  }
}, {
  value: ">",
  getApplyFilterFnV7: (filterItem) => {
    if (filterItem.value == null || Number.isNaN(filterItem.value)) {
      return null;
    }
    return (value) => {
      if (value == null) {
        return false;
      }
      return parseNumericValue(value) > filterItem.value;
    };
  },
  InputComponent: GridFilterInputValue,
  InputComponentProps: {
    type: "number"
  }
}, {
  value: ">=",
  getApplyFilterFnV7: (filterItem) => {
    if (filterItem.value == null || Number.isNaN(filterItem.value)) {
      return null;
    }
    return (value) => {
      if (value == null) {
        return false;
      }
      return parseNumericValue(value) >= filterItem.value;
    };
  },
  InputComponent: GridFilterInputValue,
  InputComponentProps: {
    type: "number"
  }
}, {
  value: "<",
  getApplyFilterFnV7: (filterItem) => {
    if (filterItem.value == null || Number.isNaN(filterItem.value)) {
      return null;
    }
    return (value) => {
      if (value == null) {
        return false;
      }
      return parseNumericValue(value) < filterItem.value;
    };
  },
  InputComponent: GridFilterInputValue,
  InputComponentProps: {
    type: "number"
  }
}, {
  value: "<=",
  getApplyFilterFnV7: (filterItem) => {
    if (filterItem.value == null || Number.isNaN(filterItem.value)) {
      return null;
    }
    return (value) => {
      if (value == null) {
        return false;
      }
      return parseNumericValue(value) <= filterItem.value;
    };
  },
  InputComponent: GridFilterInputValue,
  InputComponentProps: {
    type: "number"
  }
}, {
  value: "isEmpty",
  getApplyFilterFnV7: () => {
    return (value) => {
      return value == null;
    };
  },
  requiresFilterValue: false
}, {
  value: "isNotEmpty",
  getApplyFilterFnV7: () => {
    return (value) => {
      return value != null;
    };
  },
  requiresFilterValue: false
}, {
  value: "isAnyOf",
  getApplyFilterFnV7: (filterItem) => {
    if (!Array.isArray(filterItem.value) || filterItem.value.length === 0) {
      return null;
    }
    return (value) => {
      return value != null && filterItem.value.includes(Number(value));
    };
  },
  InputComponent: GridFilterInputMultipleValue,
  InputComponentProps: {
    type: "number"
  }
}]);
const GRID_NUMERIC_COL_DEF = _extends$1({}, GRID_STRING_COL_DEF, {
  type: "number",
  align: "right",
  headerAlign: "right",
  sortComparator: gridNumberComparator,
  valueParser: (value) => value === "" ? null : Number(value),
  valueFormatter: ({
    value
  }) => isNumber(value) ? value.toLocaleString() : value || "",
  filterOperators: getGridNumericOperators(),
  getApplyQuickFilterFn: convertQuickFilterV7ToLegacy(getGridNumericQuickFilterFn),
  getApplyQuickFilterFnV7: getGridNumericQuickFilterFn
});
const parseObjectValue = (value) => {
  if (value == null || !isObject(value)) {
    return value;
  }
  return value.value;
};
const getGridSingleSelectOperators = () => convertLegacyOperators([{
  value: "is",
  getApplyFilterFnV7: (filterItem) => {
    if (filterItem.value == null || filterItem.value === "") {
      return null;
    }
    return (value) => parseObjectValue(value) === parseObjectValue(filterItem.value);
  },
  InputComponent: GridFilterInputSingleSelect
}, {
  value: "not",
  getApplyFilterFnV7: (filterItem) => {
    if (filterItem.value == null || filterItem.value === "") {
      return null;
    }
    return (value) => parseObjectValue(value) !== parseObjectValue(filterItem.value);
  },
  InputComponent: GridFilterInputSingleSelect
}, {
  value: "isAnyOf",
  getApplyFilterFnV7: (filterItem) => {
    if (!Array.isArray(filterItem.value) || filterItem.value.length === 0) {
      return null;
    }
    const filterItemValues = filterItem.value.map(parseObjectValue);
    return (value) => filterItemValues.includes(parseObjectValue(value));
  },
  InputComponent: GridFilterInputMultipleSingleSelect
}]);
const isArrayOfObjects = (options) => {
  return typeof options[0] === "object";
};
const defaultGetOptionValue = (value) => {
  return isObject(value) ? value.value : value;
};
const defaultGetOptionLabel = (value) => {
  return isObject(value) ? value.label : String(value);
};
const GRID_SINGLE_SELECT_COL_DEF = _extends$1({}, GRID_STRING_COL_DEF, {
  type: "singleSelect",
  getOptionLabel: defaultGetOptionLabel,
  getOptionValue: defaultGetOptionValue,
  valueFormatter(params) {
    const {
      id,
      field,
      value,
      api
    } = params;
    const colDef = params.api.getColumn(field);
    if (!isSingleSelectColDef(colDef)) {
      return "";
    }
    let valueOptions;
    if (typeof colDef.valueOptions === "function") {
      valueOptions = colDef.valueOptions({
        id,
        row: id ? api.getRow(id) : null,
        field
      });
    } else {
      valueOptions = colDef.valueOptions;
    }
    if (value == null) {
      return "";
    }
    if (!valueOptions) {
      return value;
    }
    if (!isArrayOfObjects(valueOptions)) {
      return colDef.getOptionLabel(value);
    }
    const valueOption = valueOptions.find((option) => colDef.getOptionValue(option) === value);
    return valueOption ? colDef.getOptionLabel(valueOption) : "";
  },
  renderEditCell: renderEditSingleSelectCell,
  filterOperators: getGridSingleSelectOperators(),
  // @ts-ignore
  pastedValueParser: (value, params) => {
    const colDef = params.colDef;
    const colDefValueOptions = colDef.valueOptions;
    const valueOptions = typeof colDefValueOptions === "function" ? colDefValueOptions({
      field: colDef.field
    }) : colDefValueOptions || [];
    const getOptionValue = colDef.getOptionValue;
    const valueOption = valueOptions.find((option) => {
      if (getOptionValue(option) === value) {
        return true;
      }
      return false;
    });
    if (valueOption) {
      return value;
    }
    return void 0;
  }
});
const DEFAULT_GRID_COL_TYPE_KEY = "__default__";
const getGridDefaultColumnTypes = () => {
  const nativeColumnTypes = {
    string: GRID_STRING_COL_DEF,
    number: GRID_NUMERIC_COL_DEF,
    date: GRID_DATE_COL_DEF,
    dateTime: GRID_DATETIME_COL_DEF,
    boolean: GRID_BOOLEAN_COL_DEF,
    singleSelect: GRID_SINGLE_SELECT_COL_DEF,
    [GRID_ACTIONS_COLUMN_TYPE]: GRID_ACTIONS_COL_DEF,
    [DEFAULT_GRID_COL_TYPE_KEY]: GRID_STRING_COL_DEF
  };
  return nativeColumnTypes;
};
function sanitizeCellValue(value, csvOptions) {
  if (typeof value === "string") {
    if (csvOptions.shouldAppendQuotes || csvOptions.escapeFormulas) {
      const escapedValue = value.replace(/"/g, '""');
      if ([csvOptions.delimiter, "\n", "\r", '"'].some((delimiter) => value.includes(delimiter))) {
        return `"${escapedValue}"`;
      }
      if (csvOptions.escapeFormulas) {
        if (["=", "+", "-", "@", "	", "\r"].includes(escapedValue[0])) {
          return `'${escapedValue}`;
        }
      }
      return escapedValue;
    }
    return value;
  }
  return value;
}
const serializeCellValue = (cellParams, options) => {
  const {
    csvOptions,
    ignoreValueFormatter
  } = options;
  let value;
  if (ignoreValueFormatter) {
    var _cellParams$value2;
    const columnType = cellParams.colDef.type;
    if (columnType === "number") {
      value = String(cellParams.value);
    } else if (columnType === "date" || columnType === "dateTime") {
      var _cellParams$value;
      value = (_cellParams$value = cellParams.value) == null ? void 0 : _cellParams$value.toISOString();
    } else if (typeof ((_cellParams$value2 = cellParams.value) == null ? void 0 : _cellParams$value2.toString) === "function") {
      value = cellParams.value.toString();
    } else {
      value = cellParams.value;
    }
  } else {
    value = cellParams.formattedValue;
  }
  return sanitizeCellValue(value, csvOptions);
};
const objectFormattedValueWarning = buildWarning(["MUI: When the value of a field is an object or a `renderCell` is provided, the CSV export might not display the value correctly.", "You can provide a `valueFormatter` with a string representation to be used."]);
class CSVRow {
  constructor(options) {
    this.options = void 0;
    this.rowString = "";
    this.isEmpty = true;
    this.options = options;
  }
  addValue(value) {
    if (!this.isEmpty) {
      this.rowString += this.options.csvOptions.delimiter;
    }
    if (value === null || value === void 0) {
      this.rowString += "";
    } else if (typeof this.options.sanitizeCellValue === "function") {
      this.rowString += this.options.sanitizeCellValue(value, this.options.csvOptions);
    } else {
      this.rowString += value;
    }
    this.isEmpty = false;
  }
  getRowString() {
    return this.rowString;
  }
}
const serializeRow = ({
  id,
  columns,
  getCellParams,
  csvOptions,
  ignoreValueFormatter
}) => {
  const row = new CSVRow({
    csvOptions
  });
  columns.forEach((column) => {
    const cellParams = getCellParams(id, column.field);
    if (process.env.NODE_ENV !== "production") {
      if (String(cellParams.formattedValue) === "[object Object]") {
        objectFormattedValueWarning();
      }
    }
    row.addValue(serializeCellValue(cellParams, {
      ignoreValueFormatter,
      csvOptions
    }));
  });
  return row.getRowString();
};
function buildCSV(options) {
  const {
    columns,
    rowIds,
    csvOptions,
    ignoreValueFormatter,
    apiRef
  } = options;
  const CSVBody = rowIds.reduce((acc, id) => `${acc}${serializeRow({
    id,
    columns,
    getCellParams: apiRef.current.getCellParams,
    ignoreValueFormatter,
    csvOptions
  })}\r
`, "").trim();
  if (!csvOptions.includeHeaders) {
    return CSVBody;
  }
  const filteredColumns = columns.filter((column) => column.field !== GRID_CHECKBOX_SELECTION_COL_DEF.field);
  const headerRows = [];
  if (csvOptions.includeColumnGroupsHeaders) {
    const columnGroupLookup = apiRef.current.unstable_getAllGroupDetails();
    let maxColumnGroupsDepth = 0;
    const columnGroupPathsLookup = filteredColumns.reduce((acc, column) => {
      const columnGroupPath = apiRef.current.unstable_getColumnGroupPath(column.field);
      acc[column.field] = columnGroupPath;
      maxColumnGroupsDepth = Math.max(maxColumnGroupsDepth, columnGroupPath.length);
      return acc;
    }, {});
    for (let i2 = 0; i2 < maxColumnGroupsDepth; i2 += 1) {
      const headerGroupRow = new CSVRow({
        csvOptions,
        sanitizeCellValue
      });
      headerRows.push(headerGroupRow);
      filteredColumns.forEach((column) => {
        const columnGroupId = (columnGroupPathsLookup[column.field] || [])[i2];
        const columnGroup = columnGroupLookup[columnGroupId];
        headerGroupRow.addValue(columnGroup ? columnGroup.headerName || columnGroup.groupId : "");
      });
    }
  }
  const mainHeaderRow = new CSVRow({
    csvOptions,
    sanitizeCellValue
  });
  filteredColumns.forEach((column) => {
    mainHeaderRow.addValue(column.headerName || column.field);
  });
  headerRows.push(mainHeaderRow);
  const CSVHead = `${headerRows.map((row) => row.getRowString()).join("\r\n")}\r
`;
  return `${CSVHead}${CSVBody}`.trim();
}
function writeToClipboardPolyfill(data) {
  const span = document.createElement("span");
  span.style.whiteSpace = "pre";
  span.style.userSelect = "all";
  span.style.opacity = "0px";
  span.textContent = data;
  document.body.appendChild(span);
  const range = document.createRange();
  range.selectNode(span);
  const selection = window.getSelection();
  selection.removeAllRanges();
  selection.addRange(range);
  try {
    document.execCommand("copy");
  } finally {
    document.body.removeChild(span);
  }
}
function copyToClipboard(data) {
  if (navigator.clipboard) {
    navigator.clipboard.writeText(data).catch(() => {
      writeToClipboardPolyfill(data);
    });
  } else {
    writeToClipboardPolyfill(data);
  }
}
function hasNativeSelection(element) {
  var _window$getSelection;
  if ((_window$getSelection = window.getSelection()) != null && _window$getSelection.toString()) {
    return true;
  }
  if (element && (element.selectionEnd || 0) - (element.selectionStart || 0) > 0) {
    return true;
  }
  return false;
}
const useGridClipboard = (apiRef, props) => {
  const ignoreValueFormatterProp = props.unstable_ignoreValueFormatterDuringExport;
  const ignoreValueFormatter = (typeof ignoreValueFormatterProp === "object" ? ignoreValueFormatterProp == null ? void 0 : ignoreValueFormatterProp.clipboardExport : ignoreValueFormatterProp) || false;
  const clipboardCopyCellDelimiter = props.clipboardCopyCellDelimiter;
  const handleCopy = React.useCallback((event) => {
    if (!((event.ctrlKey || event.metaKey) && event.key === "c")) {
      return;
    }
    if (hasNativeSelection(event.target)) {
      return;
    }
    let textToCopy = "";
    const selectedRows = apiRef.current.getSelectedRows();
    if (selectedRows.size > 0) {
      textToCopy = apiRef.current.getDataAsCsv({
        includeHeaders: false,
        delimiter: clipboardCopyCellDelimiter,
        shouldAppendQuotes: false,
        escapeFormulas: false
      });
    } else {
      const focusedCell = gridFocusCellSelector(apiRef);
      if (focusedCell) {
        const cellParams = apiRef.current.getCellParams(focusedCell.id, focusedCell.field);
        textToCopy = serializeCellValue(cellParams, {
          csvOptions: {
            delimiter: clipboardCopyCellDelimiter,
            shouldAppendQuotes: false,
            escapeFormulas: false
          },
          ignoreValueFormatter
        });
      }
    }
    textToCopy = apiRef.current.unstable_applyPipeProcessors("clipboardCopy", textToCopy);
    if (textToCopy) {
      copyToClipboard(textToCopy);
      apiRef.current.publishEvent("clipboardCopy", textToCopy);
    }
  }, [apiRef, ignoreValueFormatter, clipboardCopyCellDelimiter]);
  useGridNativeEventListener(apiRef, apiRef.current.rootElementRef, "keydown", handleCopy);
  useGridApiOptionHandler(apiRef, "clipboardCopy", props.onClipboardCopy);
};
const columnMenuStateInitializer = (state) => _extends$1({}, state, {
  columnMenu: {
    open: false
  }
});
const useGridColumnMenu = (apiRef) => {
  const logger = useGridLogger(apiRef, "useGridColumnMenu");
  const showColumnMenu = React.useCallback((field) => {
    const shouldUpdate = apiRef.current.setState((state) => {
      if (state.columnMenu.open && state.columnMenu.field === field) {
        return state;
      }
      logger.debug("Opening Column Menu");
      return _extends$1({}, state, {
        columnMenu: {
          open: true,
          field
        }
      });
    });
    if (shouldUpdate) {
      apiRef.current.hidePreferences();
      apiRef.current.forceUpdate();
    }
  }, [apiRef, logger]);
  const hideColumnMenu = React.useCallback(() => {
    const columnMenuState = gridColumnMenuSelector(apiRef.current.state);
    if (columnMenuState.field) {
      const columnLookup = gridColumnLookupSelector(apiRef);
      const columnVisibilityModel = gridColumnVisibilityModelSelector(apiRef);
      const orderedFields = gridColumnFieldsSelector(apiRef);
      let fieldToFocus = columnMenuState.field;
      if (!columnLookup[fieldToFocus]) {
        fieldToFocus = orderedFields[0];
      }
      if (columnVisibilityModel[fieldToFocus] === false) {
        const visibleOrderedFields = orderedFields.filter((field) => {
          if (field === fieldToFocus) {
            return true;
          }
          return columnVisibilityModel[field] !== false;
        });
        const fieldIndex = visibleOrderedFields.indexOf(fieldToFocus);
        fieldToFocus = visibleOrderedFields[fieldIndex + 1] || visibleOrderedFields[fieldIndex - 1];
      }
      apiRef.current.setColumnHeaderFocus(fieldToFocus);
    }
    const shouldUpdate = apiRef.current.setState((state) => {
      if (!state.columnMenu.open && state.columnMenu.field === void 0) {
        return state;
      }
      logger.debug("Hiding Column Menu");
      return _extends$1({}, state, {
        columnMenu: _extends$1({}, state.columnMenu, {
          open: false,
          field: void 0
        })
      });
    });
    if (shouldUpdate) {
      apiRef.current.forceUpdate();
    }
  }, [apiRef, logger]);
  const toggleColumnMenu = React.useCallback((field) => {
    logger.debug("Toggle Column Menu");
    const columnMenu = gridColumnMenuSelector(apiRef.current.state);
    if (!columnMenu.open || columnMenu.field !== field) {
      showColumnMenu(field);
    } else {
      hideColumnMenu();
    }
  }, [apiRef, logger, showColumnMenu, hideColumnMenu]);
  const columnMenuApi = {
    showColumnMenu,
    hideColumnMenu,
    toggleColumnMenu
  };
  useGridApiMethod(apiRef, columnMenuApi, "public");
  useGridApiEventHandler(apiRef, "columnResizeStart", hideColumnMenu);
  useGridApiEventHandler(apiRef, "virtualScrollerWheel", apiRef.current.hideColumnMenu);
  useGridApiEventHandler(apiRef, "virtualScrollerTouchMove", apiRef.current.hideColumnMenu);
};
const COLUMNS_DIMENSION_PROPERTIES = ["maxWidth", "minWidth", "width", "flex"];
function computeFlexColumnsWidth({
  initialFreeSpace,
  totalFlexUnits,
  flexColumns
}) {
  const uniqueFlexColumns = new Set(flexColumns.map((col) => col.field));
  const flexColumnsLookup = {
    all: {},
    frozenFields: [],
    freeze: (field) => {
      const value = flexColumnsLookup.all[field];
      if (value && value.frozen !== true) {
        flexColumnsLookup.all[field].frozen = true;
        flexColumnsLookup.frozenFields.push(field);
      }
    }
  };
  function loopOverFlexItems() {
    if (flexColumnsLookup.frozenFields.length === uniqueFlexColumns.size) {
      return;
    }
    const violationsLookup = {
      min: {},
      max: {}
    };
    let remainingFreeSpace = initialFreeSpace;
    let flexUnits = totalFlexUnits;
    let totalViolation = 0;
    flexColumnsLookup.frozenFields.forEach((field) => {
      remainingFreeSpace -= flexColumnsLookup.all[field].computedWidth;
      flexUnits -= flexColumnsLookup.all[field].flex;
    });
    for (let i2 = 0; i2 < flexColumns.length; i2 += 1) {
      const column = flexColumns[i2];
      if (flexColumnsLookup.all[column.field] && flexColumnsLookup.all[column.field].frozen === true) {
        continue;
      }
      const widthPerFlexUnit = remainingFreeSpace / flexUnits;
      let computedWidth = widthPerFlexUnit * column.flex;
      if (computedWidth < column.minWidth) {
        totalViolation += column.minWidth - computedWidth;
        computedWidth = column.minWidth;
        violationsLookup.min[column.field] = true;
      } else if (computedWidth > column.maxWidth) {
        totalViolation += column.maxWidth - computedWidth;
        computedWidth = column.maxWidth;
        violationsLookup.max[column.field] = true;
      }
      flexColumnsLookup.all[column.field] = {
        frozen: false,
        computedWidth,
        flex: column.flex
      };
    }
    if (totalViolation < 0) {
      Object.keys(violationsLookup.max).forEach((field) => {
        flexColumnsLookup.freeze(field);
      });
    } else if (totalViolation > 0) {
      Object.keys(violationsLookup.min).forEach((field) => {
        flexColumnsLookup.freeze(field);
      });
    } else {
      flexColumns.forEach(({
        field
      }) => {
        flexColumnsLookup.freeze(field);
      });
    }
    loopOverFlexItems();
  }
  loopOverFlexItems();
  return flexColumnsLookup.all;
}
const hydrateColumnsWidth = (rawState, viewportInnerWidth) => {
  const columnsLookup = {};
  let totalFlexUnits = 0;
  let widthAllocatedBeforeFlex = 0;
  const flexColumns = [];
  rawState.orderedFields.forEach((columnField) => {
    const newColumn = _extends$1({}, rawState.lookup[columnField]);
    if (rawState.columnVisibilityModel[columnField] === false) {
      newColumn.computedWidth = 0;
    } else {
      let computedWidth;
      if (newColumn.flex && newColumn.flex > 0) {
        totalFlexUnits += newColumn.flex;
        computedWidth = 0;
        flexColumns.push(newColumn);
      } else {
        computedWidth = clamp(newColumn.width || GRID_STRING_COL_DEF.width, newColumn.minWidth || GRID_STRING_COL_DEF.minWidth, newColumn.maxWidth || GRID_STRING_COL_DEF.maxWidth);
      }
      widthAllocatedBeforeFlex += computedWidth;
      newColumn.computedWidth = computedWidth;
    }
    columnsLookup[columnField] = newColumn;
  });
  const initialFreeSpace = Math.max(viewportInnerWidth - widthAllocatedBeforeFlex, 0);
  if (totalFlexUnits > 0 && viewportInnerWidth > 0) {
    const computedColumnWidths = computeFlexColumnsWidth({
      initialFreeSpace,
      totalFlexUnits,
      flexColumns
    });
    Object.keys(computedColumnWidths).forEach((field) => {
      columnsLookup[field].computedWidth = computedColumnWidths[field].computedWidth;
    });
  }
  return _extends$1({}, rawState, {
    lookup: columnsLookup
  });
};
const applyInitialState = (columnsState, initialState) => {
  if (!initialState) {
    return columnsState;
  }
  const {
    orderedFields = [],
    dimensions = {}
  } = initialState;
  const columnsWithUpdatedDimensions = Object.keys(dimensions);
  if (columnsWithUpdatedDimensions.length === 0 && orderedFields.length === 0) {
    return columnsState;
  }
  const orderedFieldsLookup = {};
  const cleanOrderedFields = [];
  for (let i2 = 0; i2 < orderedFields.length; i2 += 1) {
    const field = orderedFields[i2];
    if (columnsState.lookup[field]) {
      orderedFieldsLookup[field] = true;
      cleanOrderedFields.push(field);
    }
  }
  const newOrderedFields = cleanOrderedFields.length === 0 ? columnsState.orderedFields : [...cleanOrderedFields, ...columnsState.orderedFields.filter((field) => !orderedFieldsLookup[field])];
  const newColumnLookup = _extends$1({}, columnsState.lookup);
  for (let i2 = 0; i2 < columnsWithUpdatedDimensions.length; i2 += 1) {
    const field = columnsWithUpdatedDimensions[i2];
    const newColDef = _extends$1({}, newColumnLookup[field], {
      hasBeenResized: true
    });
    Object.entries(dimensions[field]).forEach(([key, value]) => {
      newColDef[key] = value === -1 ? Infinity : value;
    });
    newColumnLookup[field] = newColDef;
  }
  const newColumnsState = _extends$1({}, columnsState, {
    orderedFields: newOrderedFields,
    lookup: newColumnLookup
  });
  return newColumnsState;
};
function getDefaultColTypeDef(columnTypes, type) {
  let colDef = columnTypes[DEFAULT_GRID_COL_TYPE_KEY];
  if (type && columnTypes[type]) {
    colDef = columnTypes[type];
  }
  return colDef;
}
const createColumnsState = ({
  apiRef,
  columnsToUpsert,
  initialState,
  columnTypes,
  columnVisibilityModel = gridColumnVisibilityModelSelector(apiRef),
  keepOnlyColumnsToUpsert = false
}) => {
  var _apiRef$current$getRo, _apiRef$current$getRo2, _apiRef$current;
  const isInsideStateInitializer = !apiRef.current.state.columns;
  let columnsState;
  if (isInsideStateInitializer) {
    columnsState = {
      orderedFields: [],
      lookup: {},
      columnVisibilityModel
    };
  } else {
    const currentState = gridColumnsStateSelector(apiRef.current.state);
    columnsState = {
      orderedFields: keepOnlyColumnsToUpsert ? [] : [...currentState.orderedFields],
      lookup: _extends$1({}, currentState.lookup),
      // Will be cleaned later if keepOnlyColumnsToUpsert=true
      columnVisibilityModel
    };
  }
  let columnsToKeep = {};
  if (keepOnlyColumnsToUpsert && !isInsideStateInitializer) {
    columnsToKeep = Object.keys(columnsState.lookup).reduce((acc, key) => _extends$1({}, acc, {
      [key]: false
    }), {});
  }
  columnsToUpsert.forEach((newColumn) => {
    const {
      field
    } = newColumn;
    columnsToKeep[field] = true;
    let existingState = columnsState.lookup[field];
    if (existingState == null) {
      existingState = _extends$1({}, getDefaultColTypeDef(columnTypes, newColumn.type), {
        field,
        hasBeenResized: false
      });
      columnsState.orderedFields.push(field);
    } else if (keepOnlyColumnsToUpsert) {
      columnsState.orderedFields.push(field);
    }
    if (existingState && existingState.type !== newColumn.type) {
      existingState = _extends$1({}, getDefaultColTypeDef(columnTypes, newColumn.type), {
        field
      });
    }
    let hasBeenResized = existingState.hasBeenResized;
    COLUMNS_DIMENSION_PROPERTIES.forEach((key) => {
      if (newColumn[key] !== void 0) {
        hasBeenResized = true;
        if (newColumn[key] === -1) {
          newColumn[key] = Infinity;
        }
      }
    });
    columnsState.lookup[field] = _extends$1({}, existingState, newColumn, {
      hasBeenResized
    });
  });
  if (keepOnlyColumnsToUpsert && !isInsideStateInitializer) {
    Object.keys(columnsState.lookup).forEach((field) => {
      if (!columnsToKeep[field]) {
        delete columnsState.lookup[field];
      }
    });
  }
  const columnsStateWithPreProcessing = apiRef.current.unstable_applyPipeProcessors("hydrateColumns", columnsState);
  const columnsStateWithPortableColumns = applyInitialState(columnsStateWithPreProcessing, initialState);
  return hydrateColumnsWidth(columnsStateWithPortableColumns, (_apiRef$current$getRo = (_apiRef$current$getRo2 = (_apiRef$current = apiRef.current).getRootDimensions) == null || (_apiRef$current$getRo2 = _apiRef$current$getRo2.call(_apiRef$current)) == null ? void 0 : _apiRef$current$getRo2.viewportInnerSize.width) != null ? _apiRef$current$getRo : 0);
};
const mergeColumnsState = (columnsState) => (state) => _extends$1({}, state, {
  columns: columnsState
});
function getFirstNonSpannedColumnToRender({
  firstColumnToRender,
  apiRef,
  firstRowToRender,
  lastRowToRender,
  visibleRows
}) {
  let firstNonSpannedColumnToRender = firstColumnToRender;
  for (let i2 = firstRowToRender; i2 < lastRowToRender; i2 += 1) {
    const row = visibleRows[i2];
    if (row) {
      const rowId = visibleRows[i2].id;
      const cellColSpanInfo = apiRef.current.unstable_getCellColSpanInfo(rowId, firstColumnToRender);
      if (cellColSpanInfo && cellColSpanInfo.spannedByColSpan) {
        firstNonSpannedColumnToRender = cellColSpanInfo.leftVisibleCellIndex;
      }
    }
  }
  return firstNonSpannedColumnToRender;
}
function getFirstColumnIndexToRender({
  firstColumnIndex,
  minColumnIndex,
  columnBuffer,
  firstRowToRender,
  lastRowToRender,
  apiRef,
  visibleRows
}) {
  const initialFirstColumnToRender = Math.max(firstColumnIndex - columnBuffer, minColumnIndex);
  const firstColumnToRender = getFirstNonSpannedColumnToRender({
    firstColumnToRender: initialFirstColumnToRender,
    apiRef,
    firstRowToRender,
    lastRowToRender,
    visibleRows
  });
  return firstColumnToRender;
}
function getTotalHeaderHeight(apiRef, headerHeight) {
  const densityFactor = gridDensityFactorSelector(apiRef);
  const maxDepth = gridColumnGroupsHeaderMaxDepthSelector(apiRef);
  return Math.floor(headerHeight * densityFactor) * ((maxDepth != null ? maxDepth : 0) + 1);
}
const defaultColumnTypes = getGridDefaultColumnTypes();
const columnsStateInitializer = (state, props, apiRef) => {
  var _props$initialState, _ref, _props$columnVisibili, _props$initialState2;
  const columnsState = createColumnsState({
    apiRef,
    columnTypes: defaultColumnTypes,
    columnsToUpsert: props.columns,
    initialState: (_props$initialState = props.initialState) == null ? void 0 : _props$initialState.columns,
    columnVisibilityModel: (_ref = (_props$columnVisibili = props.columnVisibilityModel) != null ? _props$columnVisibili : (_props$initialState2 = props.initialState) == null || (_props$initialState2 = _props$initialState2.columns) == null ? void 0 : _props$initialState2.columnVisibilityModel) != null ? _ref : {},
    keepOnlyColumnsToUpsert: true
  });
  return _extends$1({}, state, {
    columns: columnsState
  });
};
function useGridColumns(apiRef, props) {
  var _props$initialState4, _props$slotProps2;
  const logger = useGridLogger(apiRef, "useGridColumns");
  const columnTypes = defaultColumnTypes;
  const previousColumnsProp = React.useRef(props.columns);
  const previousColumnTypesProp = React.useRef(columnTypes);
  apiRef.current.registerControlState({
    stateId: "visibleColumns",
    propModel: props.columnVisibilityModel,
    propOnChange: props.onColumnVisibilityModelChange,
    stateSelector: gridColumnVisibilityModelSelector,
    changeEvent: "columnVisibilityModelChange"
  });
  const setGridColumnsState = React.useCallback((columnsState) => {
    logger.debug("Updating columns state.");
    apiRef.current.setState(mergeColumnsState(columnsState));
    apiRef.current.forceUpdate();
    apiRef.current.publishEvent("columnsChange", columnsState.orderedFields);
  }, [logger, apiRef]);
  const getColumn = React.useCallback((field) => gridColumnLookupSelector(apiRef)[field], [apiRef]);
  const getAllColumns = React.useCallback(() => gridColumnDefinitionsSelector(apiRef), [apiRef]);
  const getVisibleColumns = React.useCallback(() => gridVisibleColumnDefinitionsSelector(apiRef), [apiRef]);
  const getColumnIndex = React.useCallback((field, useVisibleColumns = true) => {
    const columns = useVisibleColumns ? gridVisibleColumnDefinitionsSelector(apiRef) : gridColumnDefinitionsSelector(apiRef);
    return columns.findIndex((col) => col.field === field);
  }, [apiRef]);
  const getColumnPosition = React.useCallback((field) => {
    const index2 = getColumnIndex(field);
    return gridColumnPositionsSelector(apiRef)[index2];
  }, [apiRef, getColumnIndex]);
  const setColumnVisibilityModel = React.useCallback((model) => {
    const currentModel = gridColumnVisibilityModelSelector(apiRef);
    if (currentModel !== model) {
      apiRef.current.setState((state) => _extends$1({}, state, {
        columns: createColumnsState({
          apiRef,
          columnTypes,
          columnsToUpsert: [],
          initialState: void 0,
          columnVisibilityModel: model,
          keepOnlyColumnsToUpsert: false
        })
      }));
      apiRef.current.forceUpdate();
    }
  }, [apiRef, columnTypes]);
  const updateColumns = React.useCallback((columns) => {
    const columnsState = createColumnsState({
      apiRef,
      columnTypes,
      columnsToUpsert: columns,
      initialState: void 0,
      keepOnlyColumnsToUpsert: false
    });
    setGridColumnsState(columnsState);
  }, [apiRef, setGridColumnsState, columnTypes]);
  const setColumnVisibility = React.useCallback((field, isVisible) => {
    var _columnVisibilityMode;
    const columnVisibilityModel = gridColumnVisibilityModelSelector(apiRef);
    const isCurrentlyVisible = (_columnVisibilityMode = columnVisibilityModel[field]) != null ? _columnVisibilityMode : true;
    if (isVisible !== isCurrentlyVisible) {
      const newModel = _extends$1({}, columnVisibilityModel, {
        [field]: isVisible
      });
      apiRef.current.setColumnVisibilityModel(newModel);
    }
  }, [apiRef]);
  const getColumnIndexRelativeToVisibleColumns = React.useCallback((field) => {
    const allColumns = gridColumnFieldsSelector(apiRef);
    return allColumns.findIndex((col) => col === field);
  }, [apiRef]);
  const setColumnIndex = React.useCallback((field, targetIndexPosition) => {
    const allColumns = gridColumnFieldsSelector(apiRef);
    const oldIndexPosition = getColumnIndexRelativeToVisibleColumns(field);
    if (oldIndexPosition === targetIndexPosition) {
      return;
    }
    logger.debug(`Moving column ${field} to index ${targetIndexPosition}`);
    const updatedColumns = [...allColumns];
    const fieldRemoved = updatedColumns.splice(oldIndexPosition, 1)[0];
    updatedColumns.splice(targetIndexPosition, 0, fieldRemoved);
    setGridColumnsState(_extends$1({}, gridColumnsStateSelector(apiRef.current.state), {
      orderedFields: updatedColumns
    }));
    const params = {
      column: apiRef.current.getColumn(field),
      targetIndex: apiRef.current.getColumnIndexRelativeToVisibleColumns(field),
      oldIndex: oldIndexPosition
    };
    apiRef.current.publishEvent("columnIndexChange", params);
  }, [apiRef, logger, setGridColumnsState, getColumnIndexRelativeToVisibleColumns]);
  const setColumnWidth = React.useCallback((field, width) => {
    var _apiRef$current$getRo, _apiRef$current$getRo2;
    logger.debug(`Updating column ${field} width to ${width}`);
    const columnsState = gridColumnsStateSelector(apiRef.current.state);
    const column = columnsState.lookup[field];
    const newColumn = _extends$1({}, column, {
      width,
      hasBeenResized: true
    });
    setGridColumnsState(hydrateColumnsWidth(_extends$1({}, columnsState, {
      lookup: _extends$1({}, columnsState.lookup, {
        [field]: newColumn
      })
    }), (_apiRef$current$getRo = (_apiRef$current$getRo2 = apiRef.current.getRootDimensions()) == null ? void 0 : _apiRef$current$getRo2.viewportInnerSize.width) != null ? _apiRef$current$getRo : 0));
    apiRef.current.publishEvent("columnWidthChange", {
      element: apiRef.current.getColumnHeaderElement(field),
      colDef: newColumn,
      width
    });
  }, [apiRef, logger, setGridColumnsState]);
  const columnApi = {
    getColumn,
    getAllColumns,
    getColumnIndex,
    getColumnPosition,
    getVisibleColumns,
    getColumnIndexRelativeToVisibleColumns,
    updateColumns,
    setColumnVisibilityModel,
    setColumnVisibility,
    setColumnWidth
  };
  const columnReorderApi = {
    setColumnIndex
  };
  useGridApiMethod(apiRef, columnApi, "public");
  useGridApiMethod(apiRef, columnReorderApi, props.signature === GridSignature.DataGrid ? "private" : "public");
  const stateExportPreProcessing = React.useCallback((prevState, context) => {
    var _props$initialState$c, _props$initialState3;
    const columnsStateToExport = {};
    const columnVisibilityModelToExport = gridColumnVisibilityModelSelector(apiRef);
    const shouldExportColumnVisibilityModel = (
      // Always export if the `exportOnlyDirtyModels` property is not activated
      !context.exportOnlyDirtyModels || // Always export if the model is controlled
      props.columnVisibilityModel != null || // Always export if the model has been initialized
      // TODO v6 Do a nullish check instead to export even if the initial model equals "{}"
      Object.keys((_props$initialState$c = (_props$initialState3 = props.initialState) == null || (_props$initialState3 = _props$initialState3.columns) == null ? void 0 : _props$initialState3.columnVisibilityModel) != null ? _props$initialState$c : {}).length > 0 || // Always export if the model is not empty
      Object.keys(columnVisibilityModelToExport).length > 0
    );
    if (shouldExportColumnVisibilityModel) {
      columnsStateToExport.columnVisibilityModel = columnVisibilityModelToExport;
    }
    columnsStateToExport.orderedFields = gridColumnFieldsSelector(apiRef);
    const columns = gridColumnDefinitionsSelector(apiRef);
    const dimensions = {};
    columns.forEach((colDef) => {
      if (colDef.hasBeenResized) {
        const colDefDimensions = {};
        COLUMNS_DIMENSION_PROPERTIES.forEach((propertyName) => {
          let propertyValue = colDef[propertyName];
          if (propertyValue === Infinity) {
            propertyValue = -1;
          }
          colDefDimensions[propertyName] = propertyValue;
        });
        dimensions[colDef.field] = colDefDimensions;
      }
    });
    if (Object.keys(dimensions).length > 0) {
      columnsStateToExport.dimensions = dimensions;
    }
    return _extends$1({}, prevState, {
      columns: columnsStateToExport
    });
  }, [apiRef, props.columnVisibilityModel, (_props$initialState4 = props.initialState) == null ? void 0 : _props$initialState4.columns]);
  const stateRestorePreProcessing = React.useCallback((params, context) => {
    var _context$stateToResto;
    const columnVisibilityModelToImport = (_context$stateToResto = context.stateToRestore.columns) == null ? void 0 : _context$stateToResto.columnVisibilityModel;
    const initialState = context.stateToRestore.columns;
    if (columnVisibilityModelToImport == null && initialState == null) {
      return params;
    }
    const columnsState = createColumnsState({
      apiRef,
      columnTypes,
      columnsToUpsert: [],
      initialState,
      columnVisibilityModel: columnVisibilityModelToImport,
      keepOnlyColumnsToUpsert: false
    });
    apiRef.current.setState(mergeColumnsState(columnsState));
    if (initialState != null) {
      apiRef.current.publishEvent("columnsChange", columnsState.orderedFields);
    }
    return params;
  }, [apiRef, columnTypes]);
  const preferencePanelPreProcessing = React.useCallback((initialValue, value) => {
    if (value === GridPreferencePanelsValue.columns) {
      var _props$slotProps;
      const ColumnsPanel = props.slots.columnsPanel;
      return /* @__PURE__ */ jsx(ColumnsPanel, _extends$1({}, (_props$slotProps = props.slotProps) == null ? void 0 : _props$slotProps.columnsPanel));
    }
    return initialValue;
  }, [props.slots.columnsPanel, (_props$slotProps2 = props.slotProps) == null ? void 0 : _props$slotProps2.columnsPanel]);
  const addColumnMenuItems = React.useCallback((columnMenuItems) => {
    if (props.disableColumnSelector) {
      return columnMenuItems;
    }
    return [...columnMenuItems, "columnMenuColumnsItem"];
  }, [props.disableColumnSelector]);
  useGridRegisterPipeProcessor(apiRef, "columnMenu", addColumnMenuItems);
  useGridRegisterPipeProcessor(apiRef, "exportState", stateExportPreProcessing);
  useGridRegisterPipeProcessor(apiRef, "restoreState", stateRestorePreProcessing);
  useGridRegisterPipeProcessor(apiRef, "preferencePanel", preferencePanelPreProcessing);
  const prevInnerWidth = React.useRef(null);
  const handleGridSizeChange = (viewportInnerSize) => {
    if (prevInnerWidth.current !== viewportInnerSize.width) {
      prevInnerWidth.current = viewportInnerSize.width;
      setGridColumnsState(hydrateColumnsWidth(gridColumnsStateSelector(apiRef.current.state), viewportInnerSize.width));
    }
  };
  useGridApiEventHandler(apiRef, "viewportInnerSizeChange", handleGridSizeChange);
  const hydrateColumns = React.useCallback(() => {
    logger.info(`Columns pipe processing have changed, regenerating the columns`);
    const columnsState = createColumnsState({
      apiRef,
      columnTypes,
      columnsToUpsert: [],
      initialState: void 0,
      keepOnlyColumnsToUpsert: false
    });
    setGridColumnsState(columnsState);
  }, [apiRef, logger, setGridColumnsState, columnTypes]);
  useGridRegisterPipeApplier(apiRef, "hydrateColumns", hydrateColumns);
  const isFirstRender = React.useRef(true);
  React.useEffect(() => {
    if (isFirstRender.current) {
      isFirstRender.current = false;
      return;
    }
    logger.info(`GridColumns have changed, new length ${props.columns.length}`);
    if (previousColumnsProp.current === props.columns && previousColumnTypesProp.current === columnTypes) {
      return;
    }
    const columnsState = createColumnsState({
      apiRef,
      columnTypes,
      initialState: void 0,
      // If the user provides a model, we don't want to set it in the state here because it has it's dedicated `useEffect` which calls `setColumnVisibilityModel`
      columnsToUpsert: props.columns,
      keepOnlyColumnsToUpsert: true
    });
    previousColumnsProp.current = props.columns;
    previousColumnTypesProp.current = columnTypes;
    setGridColumnsState(columnsState);
  }, [logger, apiRef, setGridColumnsState, props.columns, columnTypes]);
  React.useEffect(() => {
    if (props.columnVisibilityModel !== void 0) {
      apiRef.current.setColumnVisibilityModel(props.columnVisibilityModel);
    }
  }, [apiRef, logger, props.columnVisibilityModel]);
}
const COMPACT_DENSITY_FACTOR = 0.7;
const COMFORTABLE_DENSITY_FACTOR = 1.3;
const DENSITY_FACTORS = {
  compact: COMPACT_DENSITY_FACTOR,
  comfortable: COMFORTABLE_DENSITY_FACTOR,
  standard: 1
};
const densityStateInitializer = (state, props) => _extends$1({}, state, {
  density: {
    value: props.density,
    factor: DENSITY_FACTORS[props.density]
  }
});
const useGridDensity = (apiRef, props) => {
  const logger = useGridLogger(apiRef, "useDensity");
  const setDensity = React.useCallback((newDensity) => {
    logger.debug(`Set grid density to ${newDensity}`);
    apiRef.current.setState((state) => {
      const currentDensityState = gridDensitySelector(state);
      const newDensityState = {
        value: newDensity,
        factor: DENSITY_FACTORS[newDensity]
      };
      if (isDeepEqual(currentDensityState, newDensityState)) {
        return state;
      }
      return _extends$1({}, state, {
        density: newDensityState
      });
    });
    apiRef.current.forceUpdate();
  }, [logger, apiRef]);
  React.useEffect(() => {
    apiRef.current.setDensity(props.density);
  }, [apiRef, props.density]);
  const densityApi = {
    setDensity
  };
  useGridApiMethod(apiRef, densityApi, "public");
};
function exportAs(blob, extension = "csv", filename = document.title || "untitled") {
  const fullName = `${filename}.${extension}`;
  if ("download" in HTMLAnchorElement.prototype) {
    const url = URL.createObjectURL(blob);
    const a = document.createElement("a");
    a.href = url;
    a.download = fullName;
    a.click();
    setTimeout(() => {
      URL.revokeObjectURL(url);
    });
    return;
  }
  throw new Error("MUI: exportAs not supported");
}
const getColumnsToExport = ({
  apiRef,
  options
}) => {
  const columns = gridColumnDefinitionsSelector(apiRef);
  if (options.fields) {
    return options.fields.reduce((currentColumns, field) => {
      const column = columns.find((col) => col.field === field);
      if (column) {
        currentColumns.push(column);
      }
      return currentColumns;
    }, []);
  }
  const validColumns = options.allColumns ? columns : gridVisibleColumnDefinitionsSelector(apiRef);
  return validColumns.filter((column) => !column.disableExport);
};
const defaultGetRowsToExport = ({
  apiRef
}) => {
  var _pinnedRows$top, _pinnedRows$bottom;
  const filteredSortedRowIds = gridFilteredSortedRowIdsSelector(apiRef);
  const rowTree = gridRowTreeSelector(apiRef);
  const selectedRows = apiRef.current.getSelectedRows();
  const bodyRows = filteredSortedRowIds.filter((id) => rowTree[id].type !== "footer");
  const pinnedRows = gridPinnedRowsSelector(apiRef);
  const topPinnedRowsIds = (pinnedRows == null || (_pinnedRows$top = pinnedRows.top) == null ? void 0 : _pinnedRows$top.map((row) => row.id)) || [];
  const bottomPinnedRowsIds = (pinnedRows == null || (_pinnedRows$bottom = pinnedRows.bottom) == null ? void 0 : _pinnedRows$bottom.map((row) => row.id)) || [];
  bodyRows.unshift(...topPinnedRowsIds);
  bodyRows.push(...bottomPinnedRowsIds);
  if (selectedRows.size > 0) {
    return bodyRows.filter((id) => selectedRows.has(id));
  }
  return bodyRows;
};
const useGridCsvExport = (apiRef, props) => {
  const logger = useGridLogger(apiRef, "useGridCsvExport");
  const ignoreValueFormatterProp = props.unstable_ignoreValueFormatterDuringExport;
  const ignoreValueFormatter = (typeof ignoreValueFormatterProp === "object" ? ignoreValueFormatterProp == null ? void 0 : ignoreValueFormatterProp.csvExport : ignoreValueFormatterProp) || false;
  const getDataAsCsv = React.useCallback((options = {}) => {
    var _options$getRowsToExp, _options$shouldAppend, _options$includeHeade, _options$includeColum, _options$escapeFormul;
    logger.debug(`Get data as CSV`);
    const exportedColumns = getColumnsToExport({
      apiRef,
      options
    });
    const getRowsToExport = (_options$getRowsToExp = options.getRowsToExport) != null ? _options$getRowsToExp : defaultGetRowsToExport;
    const exportedRowIds = getRowsToExport({
      apiRef
    });
    return buildCSV({
      columns: exportedColumns,
      rowIds: exportedRowIds,
      csvOptions: {
        delimiter: options.delimiter || ",",
        shouldAppendQuotes: (_options$shouldAppend = options.shouldAppendQuotes) != null ? _options$shouldAppend : true,
        includeHeaders: (_options$includeHeade = options.includeHeaders) != null ? _options$includeHeade : true,
        includeColumnGroupsHeaders: (_options$includeColum = options.includeColumnGroupsHeaders) != null ? _options$includeColum : true,
        escapeFormulas: (_options$escapeFormul = options.escapeFormulas) != null ? _options$escapeFormul : true
      },
      ignoreValueFormatter,
      apiRef
    });
  }, [logger, apiRef, ignoreValueFormatter]);
  const exportDataAsCsv = React.useCallback((options) => {
    logger.debug(`Export data as CSV`);
    const csv = getDataAsCsv(options);
    const blob = new Blob([options != null && options.utf8WithBom ? new Uint8Array([239, 187, 191]) : "", csv], {
      type: "text/csv"
    });
    exportAs(blob, "csv", options == null ? void 0 : options.fileName);
  }, [logger, getDataAsCsv]);
  const csvExportApi = {
    getDataAsCsv,
    exportDataAsCsv
  };
  useGridApiMethod(apiRef, csvExportApi, "public");
  const addExportMenuButtons = React.useCallback((initialValue, options) => {
    var _options$csvOptions;
    if ((_options$csvOptions = options.csvOptions) != null && _options$csvOptions.disableToolbarButton) {
      return initialValue;
    }
    return [...initialValue, {
      component: /* @__PURE__ */ jsx(GridCsvExportMenuItem, {
        options: options.csvOptions
      }),
      componentName: "csvExport"
    }];
  }, []);
  useGridRegisterPipeProcessor(apiRef, "exportMenu", addExportMenuButtons);
};
const getDerivedPaginationModel = (paginationState, signature, paginationModelProp) => {
  var _paginationModelProp$;
  let paginationModel = paginationState.paginationModel;
  const rowCount = paginationState.rowCount;
  const pageSize = (_paginationModelProp$ = paginationModelProp == null ? void 0 : paginationModelProp.pageSize) != null ? _paginationModelProp$ : paginationModel.pageSize;
  const pageCount = getPageCount(rowCount, pageSize);
  if (paginationModelProp && ((paginationModelProp == null ? void 0 : paginationModelProp.page) !== paginationModel.page || (paginationModelProp == null ? void 0 : paginationModelProp.pageSize) !== paginationModel.pageSize)) {
    paginationModel = paginationModelProp;
  }
  const validPage = getValidPage(paginationModel.page, pageCount);
  if (validPage !== paginationModel.page) {
    paginationModel = _extends$1({}, paginationModel, {
      page: validPage
    });
  }
  throwIfPageSizeExceedsTheLimit(paginationModel.pageSize, signature);
  return paginationModel;
};
const useGridPaginationModel = (apiRef, props) => {
  var _props$initialState2;
  const logger = useGridLogger(apiRef, "useGridPaginationModel");
  const densityFactor = useGridSelector(apiRef, gridDensityFactorSelector);
  const rowHeight = Math.floor(props.rowHeight * densityFactor);
  apiRef.current.registerControlState({
    stateId: "paginationModel",
    propModel: props.paginationModel,
    propOnChange: props.onPaginationModelChange,
    stateSelector: gridPaginationModelSelector,
    changeEvent: "paginationModelChange"
  });
  const setPage = React.useCallback((page) => {
    const currentModel = gridPaginationModelSelector(apiRef);
    if (page === currentModel.page) {
      return;
    }
    logger.debug(`Setting page to ${page}`);
    apiRef.current.setPaginationModel({
      page,
      pageSize: currentModel.pageSize
    });
  }, [apiRef, logger]);
  const setPageSize = React.useCallback((pageSize) => {
    const currentModel = gridPaginationModelSelector(apiRef);
    if (pageSize === currentModel.pageSize) {
      return;
    }
    logger.debug(`Setting page size to ${pageSize}`);
    apiRef.current.setPaginationModel({
      pageSize,
      page: currentModel.page
    });
  }, [apiRef, logger]);
  const setPaginationModel = React.useCallback((paginationModel) => {
    const currentModel = gridPaginationModelSelector(apiRef);
    if (paginationModel === currentModel) {
      return;
    }
    logger.debug("Setting 'paginationModel' to", paginationModel);
    apiRef.current.setState((state) => _extends$1({}, state, {
      pagination: _extends$1({}, state.pagination, {
        paginationModel: getDerivedPaginationModel(state.pagination, props.signature, paginationModel)
      })
    }));
  }, [apiRef, logger, props.signature]);
  const paginationModelApi = {
    setPage,
    setPageSize,
    setPaginationModel
  };
  useGridApiMethod(apiRef, paginationModelApi, "public");
  const stateExportPreProcessing = React.useCallback((prevState, context) => {
    var _props$initialState;
    const paginationModel = gridPaginationModelSelector(apiRef);
    const shouldExportPaginationModel = (
      // Always export if the `exportOnlyDirtyModels` property is not activated
      !context.exportOnlyDirtyModels || // Always export if the `paginationModel` is controlled
      props.paginationModel != null || // Always export if the `paginationModel` has been initialized
      ((_props$initialState = props.initialState) == null || (_props$initialState = _props$initialState.pagination) == null ? void 0 : _props$initialState.paginationModel) != null || // Export if `page` or `pageSize` is not equal to the default value
      paginationModel.page !== 0 && paginationModel.pageSize !== defaultPageSize(props.autoPageSize)
    );
    if (!shouldExportPaginationModel) {
      return prevState;
    }
    return _extends$1({}, prevState, {
      pagination: _extends$1({}, prevState.pagination, {
        paginationModel
      })
    });
  }, [apiRef, props.paginationModel, (_props$initialState2 = props.initialState) == null || (_props$initialState2 = _props$initialState2.pagination) == null ? void 0 : _props$initialState2.paginationModel, props.autoPageSize]);
  const stateRestorePreProcessing = React.useCallback((params, context) => {
    var _context$stateToResto, _context$stateToResto2;
    const paginationModel = (_context$stateToResto = context.stateToRestore.pagination) != null && _context$stateToResto.paginationModel ? _extends$1({}, getDefaultGridPaginationModel(props.autoPageSize), (_context$stateToResto2 = context.stateToRestore.pagination) == null ? void 0 : _context$stateToResto2.paginationModel) : gridPaginationModelSelector(apiRef);
    apiRef.current.setState((state) => _extends$1({}, state, {
      pagination: _extends$1({}, state.pagination, {
        paginationModel: getDerivedPaginationModel(state.pagination, props.signature, paginationModel)
      })
    }));
    return params;
  }, [apiRef, props.autoPageSize, props.signature]);
  useGridRegisterPipeProcessor(apiRef, "exportState", stateExportPreProcessing);
  useGridRegisterPipeProcessor(apiRef, "restoreState", stateRestorePreProcessing);
  const handlePaginationModelChange = () => {
    var _apiRef$current$virtu;
    const paginationModel = gridPaginationModelSelector(apiRef);
    if ((_apiRef$current$virtu = apiRef.current.virtualScrollerRef) != null && _apiRef$current$virtu.current) {
      apiRef.current.scrollToIndexes({
        rowIndex: paginationModel.page * paginationModel.pageSize
      });
    }
  };
  const handleUpdateAutoPageSize = React.useCallback(() => {
    if (!props.autoPageSize) {
      return;
    }
    const dimensions = apiRef.current.getRootDimensions() || {
      viewportInnerSize: {
        height: 0
      }
    };
    const pinnedRowsHeight = calculatePinnedRowsHeight(apiRef);
    const maximumPageSizeWithoutScrollBar = Math.floor((dimensions.viewportInnerSize.height - pinnedRowsHeight.top - pinnedRowsHeight.bottom) / rowHeight);
    apiRef.current.setPageSize(maximumPageSizeWithoutScrollBar);
  }, [apiRef, props.autoPageSize, rowHeight]);
  const handleRowCountChange = React.useCallback((newRowCount) => {
    if (newRowCount == null) {
      return;
    }
    const paginationModel = gridPaginationModelSelector(apiRef);
    const pageCount = gridPageCountSelector(apiRef);
    if (paginationModel.page > pageCount - 1) {
      apiRef.current.setPage(Math.max(0, pageCount - 1));
    }
  }, [apiRef]);
  useGridApiEventHandler(apiRef, "viewportInnerSizeChange", handleUpdateAutoPageSize);
  useGridApiEventHandler(apiRef, "paginationModelChange", handlePaginationModelChange);
  useGridApiEventHandler(apiRef, "rowCountChange", handleRowCountChange);
  React.useEffect(() => {
    apiRef.current.setState((state) => _extends$1({}, state, {
      pagination: _extends$1({}, state.pagination, {
        paginationModel: getDerivedPaginationModel(state.pagination, props.signature, props.paginationModel)
      })
    }));
  }, [apiRef, props.paginationModel, props.paginationMode, props.signature]);
  React.useEffect(handleUpdateAutoPageSize, [handleUpdateAutoPageSize]);
};
function raf() {
  return new Promise((resolve) => {
    requestAnimationFrame(() => {
      resolve();
    });
  });
}
function buildPrintWindow(title) {
  const iframeEl = document.createElement("iframe");
  iframeEl.style.position = "absolute";
  iframeEl.style.width = "0px";
  iframeEl.style.height = "0px";
  iframeEl.title = title || document.title;
  return iframeEl;
}
const useGridPrintExport = (apiRef, props) => {
  const logger = useGridLogger(apiRef, "useGridPrintExport");
  const doc = React.useRef(null);
  const previousGridState = React.useRef(null);
  const previousColumnVisibility = React.useRef({});
  const previousRows = React.useRef([]);
  React.useEffect(() => {
    doc.current = unstable_ownerDocument(apiRef.current.rootElementRef.current);
  }, [apiRef]);
  const updateGridColumnsForPrint = React.useCallback((fields, allColumns, includeCheckboxes) => new Promise((resolve) => {
    const exportedColumnFields = getColumnsToExport({
      apiRef,
      options: {
        fields,
        allColumns
      }
    }).map((column) => column.field);
    const columns = gridColumnDefinitionsSelector(apiRef);
    const newColumnVisibilityModel = {};
    columns.forEach((column) => {
      newColumnVisibilityModel[column.field] = exportedColumnFields.includes(column.field);
    });
    if (includeCheckboxes) {
      newColumnVisibilityModel[GRID_CHECKBOX_SELECTION_COL_DEF.field] = true;
    }
    apiRef.current.setColumnVisibilityModel(newColumnVisibilityModel);
    resolve();
  }), [apiRef]);
  const updateGridRowsForPrint = React.useCallback((getRowsToExport) => {
    const rowsToExportIds = getRowsToExport({
      apiRef
    });
    const newRows = rowsToExportIds.map((id) => apiRef.current.getRow(id));
    apiRef.current.setRows(newRows);
  }, [apiRef]);
  const handlePrintWindowLoad = React.useCallback((printWindow, options) => {
    var _querySelector, _querySelector2;
    const normalizeOptions = _extends$1({
      copyStyles: true,
      hideToolbar: false,
      hideFooter: false,
      includeCheckboxes: false
    }, options);
    const printDoc = printWindow.contentDocument;
    if (!printDoc) {
      return;
    }
    const rowsMeta = gridRowsMetaSelector(apiRef.current.state);
    const gridRootElement = apiRef.current.rootElementRef.current;
    const gridClone = gridRootElement.cloneNode(true);
    const gridMain = gridClone.querySelector(`.${gridClasses.main}`);
    gridMain.style.overflow = "visible";
    gridClone.style.contain = "size";
    const columnHeaders = gridClone.querySelector(`.${gridClasses.columnHeaders}`);
    const columnHeadersInner = columnHeaders.querySelector(`.${gridClasses.columnHeadersInner}`);
    columnHeadersInner.style.width = "100%";
    let gridToolbarElementHeight = ((_querySelector = gridRootElement.querySelector(`.${gridClasses.toolbarContainer}`)) == null ? void 0 : _querySelector.offsetHeight) || 0;
    let gridFooterElementHeight = ((_querySelector2 = gridRootElement.querySelector(`.${gridClasses.footerContainer}`)) == null ? void 0 : _querySelector2.offsetHeight) || 0;
    if (normalizeOptions.hideToolbar) {
      var _gridClone$querySelec;
      (_gridClone$querySelec = gridClone.querySelector(`.${gridClasses.toolbarContainer}`)) == null || _gridClone$querySelec.remove();
      gridToolbarElementHeight = 0;
    }
    if (normalizeOptions.hideFooter) {
      var _gridClone$querySelec2;
      (_gridClone$querySelec2 = gridClone.querySelector(`.${gridClasses.footerContainer}`)) == null || _gridClone$querySelec2.remove();
      gridFooterElementHeight = 0;
    }
    const computedTotalHeight = rowsMeta.currentPageTotalHeight + getTotalHeaderHeight(apiRef, props.columnHeaderHeight) + gridToolbarElementHeight + gridFooterElementHeight;
    gridClone.style.height = `${computedTotalHeight}px`;
    gridClone.style.boxSizing = "content-box";
    if (options != null && options.getRowsToExport) {
      const gridFooterElement = gridClone.querySelector(`.${gridClasses.footerContainer}`);
      gridFooterElement.style.position = "absolute";
      gridFooterElement.style.width = "100%";
      gridFooterElement.style.top = `${computedTotalHeight - gridFooterElementHeight}px`;
    }
    const container = document.createElement("div");
    container.appendChild(gridClone);
    printDoc.body.innerHTML = container.innerHTML;
    const defaultPageStyle = typeof normalizeOptions.pageStyle === "function" ? normalizeOptions.pageStyle() : normalizeOptions.pageStyle;
    if (typeof defaultPageStyle === "string") {
      const styleElement = printDoc.createElement("style");
      styleElement.appendChild(printDoc.createTextNode(defaultPageStyle));
      printDoc.head.appendChild(styleElement);
    }
    if (normalizeOptions.bodyClassName) {
      printDoc.body.classList.add(...normalizeOptions.bodyClassName.split(" "));
    }
    const stylesheetLoadPromises = [];
    if (normalizeOptions.copyStyles) {
      const rootCandidate = gridRootElement.getRootNode();
      const root = rootCandidate.constructor.name === "ShadowRoot" ? rootCandidate : doc.current;
      const headStyleElements = root.querySelectorAll("style, link[rel='stylesheet']");
      for (let i2 = 0; i2 < headStyleElements.length; i2 += 1) {
        const node = headStyleElements[i2];
        if (node.tagName === "STYLE") {
          const newHeadStyleElements = printDoc.createElement(node.tagName);
          const sheet = node.sheet;
          if (sheet) {
            let styleCSS = "";
            for (let j = 0; j < sheet.cssRules.length; j += 1) {
              if (typeof sheet.cssRules[j].cssText === "string") {
                styleCSS += `${sheet.cssRules[j].cssText}\r
`;
              }
            }
            newHeadStyleElements.appendChild(printDoc.createTextNode(styleCSS));
            printDoc.head.appendChild(newHeadStyleElements);
          }
        } else if (node.getAttribute("href")) {
          const newHeadStyleElements = printDoc.createElement(node.tagName);
          for (let j = 0; j < node.attributes.length; j += 1) {
            const attr = node.attributes[j];
            if (attr) {
              newHeadStyleElements.setAttribute(attr.nodeName, attr.nodeValue || "");
            }
          }
          stylesheetLoadPromises.push(new Promise((resolve) => {
            newHeadStyleElements.addEventListener("load", () => resolve());
          }));
          printDoc.head.appendChild(newHeadStyleElements);
        }
      }
    }
    if (process.env.NODE_ENV !== "test") {
      Promise.all(stylesheetLoadPromises).then(() => {
        printWindow.contentWindow.print();
      });
    }
  }, [apiRef, doc, props.columnHeaderHeight]);
  const handlePrintWindowAfterPrint = React.useCallback((printWindow) => {
    var _previousGridState$cu;
    doc.current.body.removeChild(printWindow);
    apiRef.current.restoreState(previousGridState.current || {});
    if (!((_previousGridState$cu = previousGridState.current) != null && (_previousGridState$cu = _previousGridState$cu.columns) != null && _previousGridState$cu.columnVisibilityModel)) {
      apiRef.current.setColumnVisibilityModel(previousColumnVisibility.current);
    }
    apiRef.current.unstable_setVirtualization(true);
    apiRef.current.setRows(previousRows.current);
    previousGridState.current = null;
    previousColumnVisibility.current = {};
    previousRows.current = [];
  }, [apiRef]);
  const exportDataAsPrint = React.useCallback(async (options) => {
    logger.debug(`Export data as Print`);
    if (!apiRef.current.rootElementRef.current) {
      throw new Error("MUI: No grid root element available.");
    }
    previousGridState.current = apiRef.current.exportState();
    previousColumnVisibility.current = gridColumnVisibilityModelSelector(apiRef);
    const gridRowsLookup = gridRowsLookupSelector(apiRef);
    previousRows.current = gridDataRowIdsSelector(apiRef).map((rowId) => gridRowsLookup[rowId]);
    if (props.pagination) {
      const visibleRowCount = gridExpandedRowCountSelector(apiRef);
      const paginationModel = {
        page: 0,
        pageSize: visibleRowCount
      };
      apiRef.current.setState((state) => _extends$1({}, state, {
        pagination: _extends$1({}, state.pagination, {
          paginationModel: getDerivedPaginationModel(
            state.pagination,
            // Using signature `DataGridPro` to allow more than 100 rows in the print export
            "DataGridPro",
            paginationModel
          )
        })
      }));
      apiRef.current.forceUpdate();
    }
    await updateGridColumnsForPrint(options == null ? void 0 : options.fields, options == null ? void 0 : options.allColumns, options == null ? void 0 : options.includeCheckboxes);
    if (options != null && options.getRowsToExport) {
      updateGridRowsForPrint(options.getRowsToExport);
    }
    apiRef.current.unstable_setVirtualization(false);
    await raf();
    const printWindow = buildPrintWindow(options == null ? void 0 : options.fileName);
    if (process.env.NODE_ENV === "test") {
      doc.current.body.appendChild(printWindow);
      handlePrintWindowLoad(printWindow, options);
      handlePrintWindowAfterPrint(printWindow);
    } else {
      printWindow.onload = () => {
        handlePrintWindowLoad(printWindow, options);
        const mediaQueryList = printWindow.contentWindow.matchMedia("print");
        mediaQueryList.addEventListener("change", (mql) => {
          const isAfterPrint = mql.matches === false;
          if (isAfterPrint) {
            handlePrintWindowAfterPrint(printWindow);
          }
        });
      };
      doc.current.body.appendChild(printWindow);
    }
  }, [props, logger, apiRef, handlePrintWindowLoad, handlePrintWindowAfterPrint, updateGridColumnsForPrint, updateGridRowsForPrint]);
  const printExportApi = {
    exportDataAsPrint
  };
  useGridApiMethod(apiRef, printExportApi, "public");
  const addExportMenuButtons = React.useCallback((initialValue, options) => {
    var _options$printOptions;
    if ((_options$printOptions = options.printOptions) != null && _options$printOptions.disableToolbarButton) {
      return initialValue;
    }
    return [...initialValue, {
      component: /* @__PURE__ */ jsx(GridPrintExportMenuItem, {
        options: options.printOptions
      }),
      componentName: "printExport"
    }];
  }, []);
  useGridRegisterPipeProcessor(apiRef, "exportMenu", addExportMenuButtons);
};
const filterStateInitializer = (state, props, apiRef) => {
  var _ref, _props$filterModel, _props$initialState;
  const filterModel = (_ref = (_props$filterModel = props.filterModel) != null ? _props$filterModel : (_props$initialState = props.initialState) == null || (_props$initialState = _props$initialState.filter) == null ? void 0 : _props$initialState.filterModel) != null ? _ref : getDefaultGridFilterModel();
  return _extends$1({}, state, {
    filter: {
      filterModel: sanitizeFilterModel(filterModel, props.disableMultipleColumnsFiltering, apiRef),
      filteredRowsLookup: {},
      filteredDescendantCountLookup: {}
    },
    visibleRowsLookup: {}
  });
};
const getVisibleRowsLookup = (params) => {
  return params.filteredRowsLookup;
};
function getVisibleRowsLookupState(apiRef, state) {
  return apiRef.current.applyStrategyProcessor("visibleRowsLookupCreation", {
    tree: state.rows.tree,
    filteredRowsLookup: state.filter.filteredRowsLookup
  });
}
function createMemoizedValues() {
  return defaultMemoize(Object.values);
}
const useGridFilter = (apiRef, props) => {
  var _props$initialState3, _props$slotProps2;
  const logger = useGridLogger(apiRef, "useGridFilter");
  apiRef.current.registerControlState({
    stateId: "filter",
    propModel: props.filterModel,
    propOnChange: props.onFilterModelChange,
    stateSelector: gridFilterModelSelector,
    changeEvent: "filterModelChange"
  });
  const updateFilteredRows = React.useCallback(() => {
    apiRef.current.setState((state) => {
      const filterModel = gridFilterModelSelector(state, apiRef.current.instanceId);
      const isRowMatchingFilters = props.filterMode === "client" ? buildAggregatedFilterApplier(filterModel, apiRef, props.disableEval) : null;
      const filteringResult = apiRef.current.applyStrategyProcessor("filtering", {
        isRowMatchingFilters,
        filterModel: filterModel != null ? filterModel : getDefaultGridFilterModel()
      });
      const newState = _extends$1({}, state, {
        filter: _extends$1({}, state.filter, filteringResult)
      });
      const visibleRowsLookupState = getVisibleRowsLookupState(apiRef, newState);
      return _extends$1({}, newState, {
        visibleRowsLookup: visibleRowsLookupState
      });
    });
    apiRef.current.publishEvent("filteredRowsSet");
  }, [apiRef, props.filterMode, props.disableEval]);
  const addColumnMenuItem = React.useCallback((columnMenuItems, colDef) => {
    if (colDef == null || colDef.filterable === false || props.disableColumnFilter) {
      return columnMenuItems;
    }
    return [...columnMenuItems, "columnMenuFilterItem"];
  }, [props.disableColumnFilter]);
  const applyFilters = React.useCallback(() => {
    updateFilteredRows();
    apiRef.current.forceUpdate();
  }, [apiRef, updateFilteredRows]);
  const upsertFilterItem = React.useCallback((item) => {
    const filterModel = gridFilterModelSelector(apiRef);
    const items = [...filterModel.items];
    const itemIndex = items.findIndex((filterItem) => filterItem.id === item.id);
    if (itemIndex === -1) {
      items.push(item);
    } else {
      items[itemIndex] = item;
    }
    apiRef.current.setFilterModel(_extends$1({}, filterModel, {
      items
    }), "upsertFilterItem");
  }, [apiRef]);
  const upsertFilterItems = React.useCallback((items) => {
    const filterModel = gridFilterModelSelector(apiRef);
    const existingItems = [...filterModel.items];
    items.forEach((item) => {
      const itemIndex = items.findIndex((filterItem) => filterItem.id === item.id);
      if (itemIndex === -1) {
        existingItems.push(item);
      } else {
        existingItems[itemIndex] = item;
      }
    });
    apiRef.current.setFilterModel(_extends$1({}, filterModel, {
      items
    }), "upsertFilterItems");
  }, [apiRef]);
  const deleteFilterItem = React.useCallback((itemToDelete) => {
    const filterModel = gridFilterModelSelector(apiRef);
    const items = filterModel.items.filter((item) => item.id !== itemToDelete.id);
    if (items.length === filterModel.items.length) {
      return;
    }
    apiRef.current.setFilterModel(_extends$1({}, filterModel, {
      items
    }), "deleteFilterItem");
  }, [apiRef]);
  const showFilterPanel = React.useCallback((targetColumnField, panelId, labelId) => {
    logger.debug("Displaying filter panel");
    if (targetColumnField) {
      const filterModel = gridFilterModelSelector(apiRef);
      const filterItemsWithValue = filterModel.items.filter((item) => {
        var _column$filterOperato;
        if (item.value !== void 0) {
          if (Array.isArray(item.value) && item.value.length === 0) {
            return false;
          }
          return true;
        }
        const column = apiRef.current.getColumn(item.field);
        const filterOperator = (_column$filterOperato = column.filterOperators) == null ? void 0 : _column$filterOperato.find((operator) => operator.value === item.operator);
        const requiresFilterValue = typeof (filterOperator == null ? void 0 : filterOperator.requiresFilterValue) === "undefined" ? true : filterOperator == null ? void 0 : filterOperator.requiresFilterValue;
        if (requiresFilterValue) {
          return false;
        }
        return true;
      });
      let newFilterItems;
      const filterItemOnTarget = filterItemsWithValue.find((item) => item.field === targetColumnField);
      const targetColumn = apiRef.current.getColumn(targetColumnField);
      if (filterItemOnTarget) {
        newFilterItems = filterItemsWithValue;
      } else if (props.disableMultipleColumnsFiltering) {
        newFilterItems = [cleanFilterItem({
          field: targetColumnField,
          operator: targetColumn.filterOperators[0].value
        }, apiRef)];
      } else {
        newFilterItems = [...filterItemsWithValue, cleanFilterItem({
          field: targetColumnField,
          operator: targetColumn.filterOperators[0].value
        }, apiRef)];
      }
      apiRef.current.setFilterModel(_extends$1({}, filterModel, {
        items: newFilterItems
      }));
    }
    apiRef.current.showPreferences(GridPreferencePanelsValue.filters, panelId, labelId);
  }, [apiRef, logger, props.disableMultipleColumnsFiltering]);
  const hideFilterPanel = React.useCallback(() => {
    logger.debug("Hiding filter panel");
    apiRef.current.hidePreferences();
  }, [apiRef, logger]);
  const setFilterLogicOperator = React.useCallback((logicOperator) => {
    const filterModel = gridFilterModelSelector(apiRef);
    if (filterModel.logicOperator === logicOperator) {
      return;
    }
    apiRef.current.setFilterModel(_extends$1({}, filterModel, {
      logicOperator
    }), "changeLogicOperator");
  }, [apiRef]);
  const setQuickFilterValues = React.useCallback((values) => {
    const filterModel = gridFilterModelSelector(apiRef);
    if (isDeepEqual(filterModel.quickFilterValues, values)) {
      return;
    }
    apiRef.current.setFilterModel(_extends$1({}, filterModel, {
      quickFilterValues: [...values]
    }));
  }, [apiRef]);
  const setFilterModel = React.useCallback((model, reason) => {
    const currentModel = gridFilterModelSelector(apiRef);
    if (currentModel !== model) {
      logger.debug("Setting filter model");
      apiRef.current.updateControlState("filter", mergeStateWithFilterModel(model, props.disableMultipleColumnsFiltering, apiRef), reason);
      apiRef.current.unstable_applyFilters();
    }
  }, [apiRef, logger, props.disableMultipleColumnsFiltering]);
  const filterApi = {
    setFilterLogicOperator,
    unstable_applyFilters: applyFilters,
    deleteFilterItem,
    upsertFilterItem,
    upsertFilterItems,
    setFilterModel,
    showFilterPanel,
    hideFilterPanel,
    setQuickFilterValues,
    ignoreDiacritics: props.ignoreDiacritics
  };
  useGridApiMethod(apiRef, filterApi, "public");
  const stateExportPreProcessing = React.useCallback((prevState, context) => {
    var _props$initialState2;
    const filterModelToExport = gridFilterModelSelector(apiRef);
    const shouldExportFilterModel = (
      // Always export if the `exportOnlyDirtyModels` property is not activated
      !context.exportOnlyDirtyModels || // Always export if the model is controlled
      props.filterModel != null || // Always export if the model has been initialized
      ((_props$initialState2 = props.initialState) == null || (_props$initialState2 = _props$initialState2.filter) == null ? void 0 : _props$initialState2.filterModel) != null || // Export if the model is not equal to the default value
      !isDeepEqual(filterModelToExport, getDefaultGridFilterModel())
    );
    if (!shouldExportFilterModel) {
      return prevState;
    }
    return _extends$1({}, prevState, {
      filter: {
        filterModel: filterModelToExport
      }
    });
  }, [apiRef, props.filterModel, (_props$initialState3 = props.initialState) == null || (_props$initialState3 = _props$initialState3.filter) == null ? void 0 : _props$initialState3.filterModel]);
  const stateRestorePreProcessing = React.useCallback((params, context) => {
    var _context$stateToResto;
    const filterModel = (_context$stateToResto = context.stateToRestore.filter) == null ? void 0 : _context$stateToResto.filterModel;
    if (filterModel == null) {
      return params;
    }
    apiRef.current.updateControlState("filter", mergeStateWithFilterModel(filterModel, props.disableMultipleColumnsFiltering, apiRef), "restoreState");
    return _extends$1({}, params, {
      callbacks: [...params.callbacks, apiRef.current.unstable_applyFilters]
    });
  }, [apiRef, props.disableMultipleColumnsFiltering]);
  const preferencePanelPreProcessing = React.useCallback((initialValue, value) => {
    if (value === GridPreferencePanelsValue.filters) {
      var _props$slotProps;
      const FilterPanel = props.slots.filterPanel;
      return /* @__PURE__ */ jsx(FilterPanel, _extends$1({}, (_props$slotProps = props.slotProps) == null ? void 0 : _props$slotProps.filterPanel));
    }
    return initialValue;
  }, [props.slots.filterPanel, (_props$slotProps2 = props.slotProps) == null ? void 0 : _props$slotProps2.filterPanel]);
  const {
    getRowId
  } = props;
  const getRowsRef = useLazyRef(createMemoizedValues);
  const flatFilteringMethod = React.useCallback((params) => {
    if (props.filterMode !== "client" || !params.isRowMatchingFilters) {
      return {
        filteredRowsLookup: {},
        filteredDescendantCountLookup: {}
      };
    }
    const dataRowIdToModelLookup = gridRowsLookupSelector(apiRef);
    const filteredRowsLookup = {};
    const {
      isRowMatchingFilters
    } = params;
    const filterCache = {};
    const result = {
      passingFilterItems: null,
      passingQuickFilterValues: null
    };
    const rows = getRowsRef.current(apiRef.current.state.rows.dataRowIdToModelLookup);
    for (let i2 = 0; i2 < rows.length; i2 += 1) {
      const row = rows[i2];
      const id = getRowId ? getRowId(row) : row.id;
      isRowMatchingFilters(row, void 0, result);
      const isRowPassing = passFilterLogic([result.passingFilterItems], [result.passingQuickFilterValues], params.filterModel, apiRef, filterCache);
      filteredRowsLookup[id] = isRowPassing;
    }
    const footerId = "auto-generated-group-footer-root";
    const footer = dataRowIdToModelLookup[footerId];
    if (footer) {
      filteredRowsLookup[footerId] = true;
    }
    return {
      filteredRowsLookup,
      filteredDescendantCountLookup: {}
    };
  }, [apiRef, props.filterMode, getRowId, getRowsRef]);
  useGridRegisterPipeProcessor(apiRef, "columnMenu", addColumnMenuItem);
  useGridRegisterPipeProcessor(apiRef, "exportState", stateExportPreProcessing);
  useGridRegisterPipeProcessor(apiRef, "restoreState", stateRestorePreProcessing);
  useGridRegisterPipeProcessor(apiRef, "preferencePanel", preferencePanelPreProcessing);
  useGridRegisterStrategyProcessor(apiRef, GRID_DEFAULT_STRATEGY, "filtering", flatFilteringMethod);
  useGridRegisterStrategyProcessor(apiRef, GRID_DEFAULT_STRATEGY, "visibleRowsLookupCreation", getVisibleRowsLookup);
  const handleColumnsChange = React.useCallback(() => {
    logger.debug("onColUpdated - GridColumns changed, applying filters");
    const filterModel = gridFilterModelSelector(apiRef);
    const filterableColumnsLookup = gridFilterableColumnLookupSelector(apiRef);
    const newFilterItems = filterModel.items.filter((item) => item.field && filterableColumnsLookup[item.field]);
    if (newFilterItems.length < filterModel.items.length) {
      apiRef.current.setFilterModel(_extends$1({}, filterModel, {
        items: newFilterItems
      }));
    }
  }, [apiRef, logger]);
  const handleStrategyProcessorChange = React.useCallback((methodName) => {
    if (methodName === "filtering") {
      apiRef.current.unstable_applyFilters();
    }
  }, [apiRef]);
  const updateVisibleRowsLookupState = React.useCallback(() => {
    apiRef.current.setState((state) => {
      return _extends$1({}, state, {
        visibleRowsLookup: getVisibleRowsLookupState(apiRef, state)
      });
    });
    apiRef.current.forceUpdate();
  }, [apiRef]);
  useGridApiEventHandler(apiRef, "rowsSet", updateFilteredRows);
  useGridApiEventHandler(apiRef, "columnsChange", handleColumnsChange);
  useGridApiEventHandler(apiRef, "activeStrategyProcessorChange", handleStrategyProcessorChange);
  useGridApiEventHandler(apiRef, "rowExpansionChange", updateVisibleRowsLookupState);
  useGridApiEventHandler(apiRef, "columnVisibilityModelChange", () => {
    const filterModel = gridFilterModelSelector(apiRef);
    if (filterModel.quickFilterValues && filterModel.quickFilterExcludeHiddenColumns) {
      apiRef.current.unstable_applyFilters();
    }
  });
  useFirstRender(() => {
    apiRef.current.unstable_applyFilters();
  });
  unstable_useEnhancedEffect(() => {
    if (props.filterModel !== void 0) {
      apiRef.current.setFilterModel(props.filterModel);
    }
  }, [apiRef, logger, props.filterModel]);
};
const focusStateInitializer = (state) => _extends$1({}, state, {
  focus: {
    cell: null,
    columnHeader: null,
    columnHeaderFilter: null,
    columnGroupHeader: null
  },
  tabIndex: {
    cell: null,
    columnHeader: null,
    columnHeaderFilter: null,
    columnGroupHeader: null
  }
});
const useGridFocus = (apiRef, props) => {
  const logger = useGridLogger(apiRef, "useGridFocus");
  const lastClickedCell = React.useRef(null);
  const publishCellFocusOut = React.useCallback((cell, event) => {
    if (cell) {
      if (apiRef.current.getRow(cell.id)) {
        apiRef.current.publishEvent("cellFocusOut", apiRef.current.getCellParams(cell.id, cell.field), event);
      }
    }
  }, [apiRef]);
  const setCellFocus = React.useCallback((id, field) => {
    const focusedCell = gridFocusCellSelector(apiRef);
    if ((focusedCell == null ? void 0 : focusedCell.id) === id && (focusedCell == null ? void 0 : focusedCell.field) === field) {
      return;
    }
    apiRef.current.setState((state) => {
      logger.debug(`Focusing on cell with id=${id} and field=${field}`);
      return _extends$1({}, state, {
        tabIndex: {
          cell: {
            id,
            field
          },
          columnHeader: null,
          columnHeaderFilter: null,
          columnGroupHeader: null
        },
        focus: {
          cell: {
            id,
            field
          },
          columnHeader: null,
          columnHeaderFilter: null,
          columnGroupHeader: null
        }
      });
    });
    apiRef.current.forceUpdate();
    if (!apiRef.current.getRow(id)) {
      return;
    }
    if (focusedCell) {
      publishCellFocusOut(focusedCell, {});
    }
    apiRef.current.publishEvent("cellFocusIn", apiRef.current.getCellParams(id, field));
  }, [apiRef, logger, publishCellFocusOut]);
  const setColumnHeaderFocus = React.useCallback((field, event = {}) => {
    const cell = gridFocusCellSelector(apiRef);
    publishCellFocusOut(cell, event);
    apiRef.current.setState((state) => {
      logger.debug(`Focusing on column header with colIndex=${field}`);
      return _extends$1({}, state, {
        tabIndex: {
          columnHeader: {
            field
          },
          columnHeaderFilter: null,
          cell: null,
          columnGroupHeader: null
        },
        focus: {
          columnHeader: {
            field
          },
          columnHeaderFilter: null,
          cell: null,
          columnGroupHeader: null
        }
      });
    });
    apiRef.current.forceUpdate();
  }, [apiRef, logger, publishCellFocusOut]);
  const setColumnHeaderFilterFocus = React.useCallback((field, event = {}) => {
    const cell = gridFocusCellSelector(apiRef);
    publishCellFocusOut(cell, event);
    apiRef.current.setState((state) => {
      logger.debug(`Focusing on column header filter with colIndex=${field}`);
      return _extends$1({}, state, {
        tabIndex: {
          columnHeader: null,
          columnHeaderFilter: {
            field
          },
          cell: null,
          columnGroupHeader: null
        },
        focus: {
          columnHeader: null,
          columnHeaderFilter: {
            field
          },
          cell: null,
          columnGroupHeader: null
        }
      });
    });
    apiRef.current.forceUpdate();
  }, [apiRef, logger, publishCellFocusOut]);
  const setColumnGroupHeaderFocus = React.useCallback((field, depth, event = {}) => {
    const cell = gridFocusCellSelector(apiRef);
    if (cell) {
      apiRef.current.publishEvent("cellFocusOut", apiRef.current.getCellParams(cell.id, cell.field), event);
    }
    apiRef.current.setState((state) => {
      return _extends$1({}, state, {
        tabIndex: {
          columnGroupHeader: {
            field,
            depth
          },
          columnHeader: null,
          columnHeaderFilter: null,
          cell: null
        },
        focus: {
          columnGroupHeader: {
            field,
            depth
          },
          columnHeader: null,
          columnHeaderFilter: null,
          cell: null
        }
      });
    });
    apiRef.current.forceUpdate();
  }, [apiRef]);
  const getColumnGroupHeaderFocus = React.useCallback(() => unstable_gridFocusColumnGroupHeaderSelector(apiRef), [apiRef]);
  const moveFocusToRelativeCell = React.useCallback((id, field, direction) => {
    let columnIndexToFocus = apiRef.current.getColumnIndex(field);
    const visibleColumns = gridVisibleColumnDefinitionsSelector(apiRef);
    const currentPage = getVisibleRows(apiRef, {
      pagination: props.pagination,
      paginationMode: props.paginationMode
    });
    const pinnedRows = gridPinnedRowsSelector(apiRef);
    const currentPageRows = [].concat(pinnedRows.top || [], currentPage.rows, pinnedRows.bottom || []);
    let rowIndexToFocus = currentPageRows.findIndex((row) => row.id === id);
    if (direction === "right") {
      columnIndexToFocus += 1;
    } else if (direction === "left") {
      columnIndexToFocus -= 1;
    } else {
      rowIndexToFocus += 1;
    }
    if (columnIndexToFocus >= visibleColumns.length) {
      rowIndexToFocus += 1;
      if (rowIndexToFocus < currentPageRows.length) {
        columnIndexToFocus = 0;
      }
    } else if (columnIndexToFocus < 0) {
      rowIndexToFocus -= 1;
      if (rowIndexToFocus >= 0) {
        columnIndexToFocus = visibleColumns.length - 1;
      }
    }
    rowIndexToFocus = clamp(rowIndexToFocus, 0, currentPageRows.length - 1);
    const rowToFocus = currentPageRows[rowIndexToFocus];
    if (!rowToFocus) {
      return;
    }
    const colSpanInfo = apiRef.current.unstable_getCellColSpanInfo(rowToFocus.id, columnIndexToFocus);
    if (colSpanInfo && colSpanInfo.spannedByColSpan) {
      if (direction === "left" || direction === "below") {
        columnIndexToFocus = colSpanInfo.leftVisibleCellIndex;
      } else if (direction === "right") {
        columnIndexToFocus = colSpanInfo.rightVisibleCellIndex;
      }
    }
    columnIndexToFocus = clamp(columnIndexToFocus, 0, visibleColumns.length - 1);
    const columnToFocus = visibleColumns[columnIndexToFocus];
    apiRef.current.setCellFocus(rowToFocus.id, columnToFocus.field);
  }, [apiRef, props.pagination, props.paginationMode]);
  const handleCellDoubleClick = React.useCallback(({
    id,
    field
  }) => {
    apiRef.current.setCellFocus(id, field);
  }, [apiRef]);
  const handleCellKeyDown = React.useCallback((params, event) => {
    if (event.key === "Enter" || event.key === "Tab" || event.key === "Shift" || isNavigationKey(event.key)) {
      return;
    }
    apiRef.current.setCellFocus(params.id, params.field);
  }, [apiRef]);
  const handleColumnHeaderFocus = React.useCallback(({
    field
  }, event) => {
    if (event.target !== event.currentTarget) {
      return;
    }
    apiRef.current.setColumnHeaderFocus(field, event);
  }, [apiRef]);
  const handleColumnGroupHeaderFocus = React.useCallback(({
    fields,
    depth
  }, event) => {
    if (event.target !== event.currentTarget) {
      return;
    }
    const focusedColumnGroup = unstable_gridFocusColumnGroupHeaderSelector(apiRef);
    if (focusedColumnGroup !== null && focusedColumnGroup.depth === depth && fields.includes(focusedColumnGroup.field)) {
      return;
    }
    apiRef.current.setColumnGroupHeaderFocus(fields[0], depth, event);
  }, [apiRef]);
  const handleBlur = React.useCallback((_, event) => {
    var _event$relatedTarget;
    if ((_event$relatedTarget = event.relatedTarget) != null && _event$relatedTarget.className.includes(gridClasses.columnHeader)) {
      return;
    }
    logger.debug(`Clearing focus`);
    apiRef.current.setState((state) => _extends$1({}, state, {
      focus: {
        cell: null,
        columnHeader: null,
        columnHeaderFilter: null,
        columnGroupHeader: null
      }
    }));
  }, [logger, apiRef]);
  const handleCellMouseDown = React.useCallback((params) => {
    lastClickedCell.current = params;
  }, []);
  const handleDocumentClick = React.useCallback((event) => {
    const cellParams = lastClickedCell.current;
    lastClickedCell.current = null;
    const focusedCell = gridFocusCellSelector(apiRef);
    const canUpdateFocus = apiRef.current.unstable_applyPipeProcessors("canUpdateFocus", true, {
      event,
      cell: cellParams
    });
    if (!canUpdateFocus) {
      return;
    }
    if (!focusedCell) {
      if (cellParams) {
        apiRef.current.setCellFocus(cellParams.id, cellParams.field);
      }
      return;
    }
    if ((cellParams == null ? void 0 : cellParams.id) === focusedCell.id && (cellParams == null ? void 0 : cellParams.field) === focusedCell.field) {
      return;
    }
    const cellElement = apiRef.current.getCellElement(focusedCell.id, focusedCell.field);
    if (cellElement != null && cellElement.contains(event.target)) {
      return;
    }
    if (cellParams) {
      apiRef.current.setCellFocus(cellParams.id, cellParams.field);
    } else {
      apiRef.current.setState((state) => _extends$1({}, state, {
        focus: {
          cell: null,
          columnHeader: null,
          columnHeaderFilter: null,
          columnGroupHeader: null
        }
      }));
      apiRef.current.forceUpdate();
      publishCellFocusOut(focusedCell, event);
    }
  }, [apiRef, publishCellFocusOut]);
  const handleCellModeChange = React.useCallback((params) => {
    if (params.cellMode === "view") {
      return;
    }
    const cell = gridFocusCellSelector(apiRef);
    if ((cell == null ? void 0 : cell.id) !== params.id || (cell == null ? void 0 : cell.field) !== params.field) {
      apiRef.current.setCellFocus(params.id, params.field);
    }
  }, [apiRef]);
  const handleRowSet = React.useCallback(() => {
    const cell = gridFocusCellSelector(apiRef);
    if (cell && !apiRef.current.getRow(cell.id)) {
      apiRef.current.setState((state) => _extends$1({}, state, {
        focus: {
          cell: null,
          columnHeader: null,
          columnHeaderFilter: null,
          columnGroupHeader: null
        }
      }));
    }
  }, [apiRef]);
  const handlePaginationModelChange = unstable_useEventCallback(() => {
    const currentFocusedCell = gridFocusCellSelector(apiRef);
    if (!currentFocusedCell) {
      return;
    }
    const currentPage = getVisibleRows(apiRef, {
      pagination: props.pagination,
      paginationMode: props.paginationMode
    });
    const rowIsInCurrentPage = currentPage.rows.find((row) => row.id === currentFocusedCell.id);
    if (rowIsInCurrentPage) {
      return;
    }
    const visibleColumns = gridVisibleColumnDefinitionsSelector(apiRef);
    apiRef.current.setState((state) => {
      return _extends$1({}, state, {
        tabIndex: {
          cell: {
            id: currentPage.rows[0].id,
            field: visibleColumns[0].field
          },
          columnGroupHeader: null,
          columnHeader: null,
          columnHeaderFilter: null
        }
      });
    });
  });
  const focusApi = {
    setCellFocus,
    setColumnHeaderFocus,
    setColumnHeaderFilterFocus
  };
  const focusPrivateApi = {
    moveFocusToRelativeCell,
    setColumnGroupHeaderFocus,
    getColumnGroupHeaderFocus
  };
  useGridApiMethod(apiRef, focusApi, "public");
  useGridApiMethod(apiRef, focusPrivateApi, "private");
  React.useEffect(() => {
    const doc = unstable_ownerDocument(apiRef.current.rootElementRef.current);
    doc.addEventListener("mouseup", handleDocumentClick);
    return () => {
      doc.removeEventListener("mouseup", handleDocumentClick);
    };
  }, [apiRef, handleDocumentClick]);
  useGridApiEventHandler(apiRef, "columnHeaderBlur", handleBlur);
  useGridApiEventHandler(apiRef, "cellDoubleClick", handleCellDoubleClick);
  useGridApiEventHandler(apiRef, "cellMouseDown", handleCellMouseDown);
  useGridApiEventHandler(apiRef, "cellKeyDown", handleCellKeyDown);
  useGridApiEventHandler(apiRef, "cellModeChange", handleCellModeChange);
  useGridApiEventHandler(apiRef, "columnHeaderFocus", handleColumnHeaderFocus);
  useGridApiEventHandler(apiRef, "columnGroupHeaderFocus", handleColumnGroupHeaderFocus);
  useGridApiEventHandler(apiRef, "rowsSet", handleRowSet);
  useGridApiEventHandler(apiRef, "paginationModelChange", handlePaginationModelChange);
};
function enrichPageRowsWithPinnedRows(apiRef, rows) {
  const pinnedRows = gridPinnedRowsSelector(apiRef) || {};
  return [...pinnedRows.top || [], ...rows, ...pinnedRows.bottom || []];
}
const getLeftColumnIndex = ({
  currentColIndex,
  firstColIndex,
  lastColIndex,
  direction
}) => {
  if (direction === "rtl") {
    if (currentColIndex < lastColIndex) {
      return currentColIndex + 1;
    }
  } else if (direction === "ltr") {
    if (currentColIndex > firstColIndex) {
      return currentColIndex - 1;
    }
  }
  return null;
};
const getRightColumnIndex = ({
  currentColIndex,
  firstColIndex,
  lastColIndex,
  direction
}) => {
  if (direction === "rtl") {
    if (currentColIndex > firstColIndex) {
      return currentColIndex - 1;
    }
  } else if (direction === "ltr") {
    if (currentColIndex < lastColIndex) {
      return currentColIndex + 1;
    }
  }
  return null;
};
const useGridKeyboardNavigation = (apiRef, props) => {
  const logger = useGridLogger(apiRef, "useGridKeyboardNavigation");
  const initialCurrentPageRows = useGridVisibleRows(apiRef, props).rows;
  const theme = useTheme();
  const currentPageRows = React.useMemo(() => enrichPageRowsWithPinnedRows(apiRef, initialCurrentPageRows), [apiRef, initialCurrentPageRows]);
  const headerFilteringEnabled = (
    // @ts-expect-error // TODO move relevant code to the `DataGridPro`
    props.signature !== "DataGrid" && props.unstable_headerFilters
  );
  const goToCell = React.useCallback((colIndex, rowId, closestColumnToUse = "left") => {
    const visibleSortedRows = gridExpandedSortedRowEntriesSelector(apiRef);
    const nextCellColSpanInfo = apiRef.current.unstable_getCellColSpanInfo(rowId, colIndex);
    if (nextCellColSpanInfo && nextCellColSpanInfo.spannedByColSpan) {
      if (closestColumnToUse === "left") {
        colIndex = nextCellColSpanInfo.leftVisibleCellIndex;
      } else if (closestColumnToUse === "right") {
        colIndex = nextCellColSpanInfo.rightVisibleCellIndex;
      }
    }
    const rowIndexRelativeToAllRows = visibleSortedRows.findIndex((row) => row.id === rowId);
    logger.debug(`Navigating to cell row ${rowIndexRelativeToAllRows}, col ${colIndex}`);
    apiRef.current.scrollToIndexes({
      colIndex,
      rowIndex: rowIndexRelativeToAllRows
    });
    const field = apiRef.current.getVisibleColumns()[colIndex].field;
    apiRef.current.setCellFocus(rowId, field);
  }, [apiRef, logger]);
  const goToHeader = React.useCallback((colIndex, event) => {
    logger.debug(`Navigating to header col ${colIndex}`);
    apiRef.current.scrollToIndexes({
      colIndex
    });
    const field = apiRef.current.getVisibleColumns()[colIndex].field;
    apiRef.current.setColumnHeaderFocus(field, event);
  }, [apiRef, logger]);
  const goToHeaderFilter = React.useCallback((colIndex, event) => {
    logger.debug(`Navigating to header filter col ${colIndex}`);
    apiRef.current.scrollToIndexes({
      colIndex
    });
    const field = apiRef.current.getVisibleColumns()[colIndex].field;
    apiRef.current.setColumnHeaderFilterFocus(field, event);
  }, [apiRef, logger]);
  const goToGroupHeader = React.useCallback((colIndex, depth, event) => {
    logger.debug(`Navigating to header col ${colIndex}`);
    apiRef.current.scrollToIndexes({
      colIndex
    });
    const {
      field
    } = apiRef.current.getVisibleColumns()[colIndex];
    apiRef.current.setColumnGroupHeaderFocus(field, depth, event);
  }, [apiRef, logger]);
  const getRowIdFromIndex = React.useCallback((rowIndex) => {
    var _currentPageRows$rowI;
    return (_currentPageRows$rowI = currentPageRows[rowIndex]) == null ? void 0 : _currentPageRows$rowI.id;
  }, [currentPageRows]);
  const handleColumnHeaderKeyDown = React.useCallback((params, event) => {
    const headerTitleNode = event.currentTarget.querySelector(`.${gridClasses.columnHeaderTitleContainerContent}`);
    const isFromInsideContent = !!headerTitleNode && headerTitleNode.contains(event.target);
    if (isFromInsideContent && params.field !== GRID_CHECKBOX_SELECTION_COL_DEF.field) {
      return;
    }
    const dimensions = apiRef.current.getRootDimensions();
    if (!dimensions) {
      return;
    }
    const viewportPageSize = apiRef.current.getViewportPageSize();
    const colIndexBefore = params.field ? apiRef.current.getColumnIndex(params.field) : 0;
    const firstRowIndexInPage = currentPageRows.length > 0 ? 0 : null;
    const lastRowIndexInPage = currentPageRows.length - 1;
    const firstColIndex = 0;
    const lastColIndex = gridVisibleColumnDefinitionsSelector(apiRef).length - 1;
    const columnGroupMaxDepth = gridColumnGroupsHeaderMaxDepthSelector(apiRef);
    let shouldPreventDefault = true;
    switch (event.key) {
      case "ArrowDown": {
        if (firstRowIndexInPage !== null) {
          if (headerFilteringEnabled) {
            goToHeaderFilter(colIndexBefore, event);
          } else {
            goToCell(colIndexBefore, getRowIdFromIndex(firstRowIndexInPage));
          }
        }
        break;
      }
      case "ArrowRight": {
        const rightColIndex = getRightColumnIndex({
          currentColIndex: colIndexBefore,
          firstColIndex,
          lastColIndex,
          direction: theme.direction
        });
        if (rightColIndex !== null) {
          goToHeader(rightColIndex, event);
        }
        break;
      }
      case "ArrowLeft": {
        const leftColIndex = getLeftColumnIndex({
          currentColIndex: colIndexBefore,
          firstColIndex,
          lastColIndex,
          direction: theme.direction
        });
        if (leftColIndex !== null) {
          goToHeader(leftColIndex, event);
        }
        break;
      }
      case "ArrowUp": {
        if (columnGroupMaxDepth > 0) {
          goToGroupHeader(colIndexBefore, columnGroupMaxDepth - 1, event);
        }
        break;
      }
      case "PageDown": {
        if (firstRowIndexInPage !== null && lastRowIndexInPage !== null) {
          goToCell(colIndexBefore, getRowIdFromIndex(Math.min(firstRowIndexInPage + viewportPageSize, lastRowIndexInPage)));
        }
        break;
      }
      case "Home": {
        goToHeader(firstColIndex, event);
        break;
      }
      case "End": {
        goToHeader(lastColIndex, event);
        break;
      }
      case "Enter": {
        if (event.ctrlKey || event.metaKey) {
          apiRef.current.toggleColumnMenu(params.field);
        }
        break;
      }
      case " ": {
        break;
      }
      default: {
        shouldPreventDefault = false;
      }
    }
    if (shouldPreventDefault) {
      event.preventDefault();
    }
  }, [apiRef, currentPageRows.length, headerFilteringEnabled, goToHeaderFilter, goToCell, getRowIdFromIndex, theme.direction, goToHeader, goToGroupHeader]);
  const handleHeaderFilterKeyDown = React.useCallback((params, event) => {
    const dimensions = apiRef.current.getRootDimensions();
    if (!dimensions) {
      return;
    }
    const isEditing = unstable_gridHeaderFilteringEditFieldSelector(apiRef) === params.field;
    const isHeaderMenuOpen = unstable_gridHeaderFilteringMenuSelector(apiRef) === params.field;
    if (isEditing || isHeaderMenuOpen || !isNavigationKey(event.key)) {
      return;
    }
    const viewportPageSize = apiRef.current.getViewportPageSize();
    const colIndexBefore = params.field ? apiRef.current.getColumnIndex(params.field) : 0;
    const firstRowIndexInPage = 0;
    const lastRowIndexInPage = currentPageRows.length - 1;
    const firstColIndex = 0;
    const lastColIndex = gridVisibleColumnDefinitionsSelector(apiRef).length - 1;
    let shouldPreventDefault = true;
    switch (event.key) {
      case "ArrowDown": {
        const rowId = getRowIdFromIndex(firstRowIndexInPage);
        if (rowId != null) {
          goToCell(colIndexBefore, rowId);
        }
        break;
      }
      case "ArrowRight": {
        const rightColIndex = getRightColumnIndex({
          currentColIndex: colIndexBefore,
          firstColIndex,
          lastColIndex,
          direction: theme.direction
        });
        if (rightColIndex !== null) {
          goToHeaderFilter(rightColIndex, event);
        }
        break;
      }
      case "ArrowLeft": {
        const leftColIndex = getLeftColumnIndex({
          currentColIndex: colIndexBefore,
          firstColIndex,
          lastColIndex,
          direction: theme.direction
        });
        if (leftColIndex !== null) {
          goToHeaderFilter(leftColIndex, event);
        } else {
          apiRef.current.setColumnHeaderFilterFocus(params.field, event);
        }
        break;
      }
      case "ArrowUp": {
        goToHeader(colIndexBefore, event);
        break;
      }
      case "PageDown": {
        if (lastRowIndexInPage !== null) {
          goToCell(colIndexBefore, getRowIdFromIndex(Math.min(firstRowIndexInPage + viewportPageSize, lastRowIndexInPage)));
        }
        break;
      }
      case "Home": {
        goToHeaderFilter(firstColIndex, event);
        break;
      }
      case "End": {
        goToHeaderFilter(lastColIndex, event);
        break;
      }
      case " ": {
        break;
      }
      default: {
        shouldPreventDefault = false;
      }
    }
    if (shouldPreventDefault) {
      event.preventDefault();
    }
  }, [apiRef, currentPageRows.length, goToHeaderFilter, theme.direction, goToHeader, goToCell, getRowIdFromIndex]);
  const handleColumnGroupHeaderKeyDown = React.useCallback((params, event) => {
    const dimensions = apiRef.current.getRootDimensions();
    if (!dimensions) {
      return;
    }
    const focusedColumnGroup = unstable_gridFocusColumnGroupHeaderSelector(apiRef);
    if (focusedColumnGroup === null) {
      return;
    }
    const {
      field: currentField,
      depth: currentDepth
    } = focusedColumnGroup;
    const {
      fields,
      depth,
      maxDepth
    } = params;
    const viewportPageSize = apiRef.current.getViewportPageSize();
    const currentColIndex = apiRef.current.getColumnIndex(currentField);
    const colIndexBefore = currentField ? apiRef.current.getColumnIndex(currentField) : 0;
    const firstRowIndexInPage = 0;
    const lastRowIndexInPage = currentPageRows.length - 1;
    const firstColIndex = 0;
    const lastColIndex = gridVisibleColumnDefinitionsSelector(apiRef).length - 1;
    let shouldPreventDefault = true;
    switch (event.key) {
      case "ArrowDown": {
        if (depth === maxDepth - 1) {
          goToHeader(currentColIndex, event);
        } else {
          goToGroupHeader(currentColIndex, currentDepth + 1, event);
        }
        break;
      }
      case "ArrowUp": {
        if (depth > 0) {
          goToGroupHeader(currentColIndex, currentDepth - 1, event);
        }
        break;
      }
      case "ArrowRight": {
        const remainingRightColumns = fields.length - fields.indexOf(currentField) - 1;
        if (currentColIndex + remainingRightColumns + 1 <= lastColIndex) {
          goToGroupHeader(currentColIndex + remainingRightColumns + 1, currentDepth, event);
        }
        break;
      }
      case "ArrowLeft": {
        const remainingLeftColumns = fields.indexOf(currentField);
        if (currentColIndex - remainingLeftColumns - 1 >= firstColIndex) {
          goToGroupHeader(currentColIndex - remainingLeftColumns - 1, currentDepth, event);
        }
        break;
      }
      case "PageDown": {
        if (lastRowIndexInPage !== null) {
          goToCell(colIndexBefore, getRowIdFromIndex(Math.min(firstRowIndexInPage + viewportPageSize, lastRowIndexInPage)));
        }
        break;
      }
      case "Home": {
        goToGroupHeader(firstColIndex, currentDepth, event);
        break;
      }
      case "End": {
        goToGroupHeader(lastColIndex, currentDepth, event);
        break;
      }
      case " ": {
        break;
      }
      default: {
        shouldPreventDefault = false;
      }
    }
    if (shouldPreventDefault) {
      event.preventDefault();
    }
  }, [apiRef, currentPageRows.length, goToHeader, goToGroupHeader, goToCell, getRowIdFromIndex]);
  const handleCellKeyDown = React.useCallback((params, event) => {
    if (isEventTargetInPortal(event)) {
      return;
    }
    const cellParams = apiRef.current.getCellParams(params.id, params.field);
    if (cellParams.cellMode === GridCellModes.Edit || !isNavigationKey(event.key)) {
      return;
    }
    const canUpdateFocus = apiRef.current.unstable_applyPipeProcessors("canUpdateFocus", true, {
      event,
      cell: cellParams
    });
    if (!canUpdateFocus) {
      return;
    }
    const dimensions = apiRef.current.getRootDimensions();
    if (currentPageRows.length === 0 || !dimensions) {
      return;
    }
    const direction = theme.direction;
    const viewportPageSize = apiRef.current.getViewportPageSize();
    const colIndexBefore = params.field ? apiRef.current.getColumnIndex(params.field) : 0;
    const rowIndexBefore = currentPageRows.findIndex((row) => row.id === params.id);
    const firstRowIndexInPage = 0;
    const lastRowIndexInPage = currentPageRows.length - 1;
    const firstColIndex = 0;
    const lastColIndex = gridVisibleColumnDefinitionsSelector(apiRef).length - 1;
    let shouldPreventDefault = true;
    switch (event.key) {
      case "ArrowDown": {
        if (rowIndexBefore < lastRowIndexInPage) {
          goToCell(colIndexBefore, getRowIdFromIndex(rowIndexBefore + 1));
        }
        break;
      }
      case "ArrowUp": {
        if (rowIndexBefore > firstRowIndexInPage) {
          goToCell(colIndexBefore, getRowIdFromIndex(rowIndexBefore - 1));
        } else if (headerFilteringEnabled) {
          goToHeaderFilter(colIndexBefore, event);
        } else {
          goToHeader(colIndexBefore, event);
        }
        break;
      }
      case "ArrowRight": {
        const rightColIndex = getRightColumnIndex({
          currentColIndex: colIndexBefore,
          firstColIndex,
          lastColIndex,
          direction
        });
        if (rightColIndex !== null) {
          goToCell(rightColIndex, getRowIdFromIndex(rowIndexBefore), direction === "rtl" ? "left" : "right");
        }
        break;
      }
      case "ArrowLeft": {
        const leftColIndex = getLeftColumnIndex({
          currentColIndex: colIndexBefore,
          firstColIndex,
          lastColIndex,
          direction
        });
        if (leftColIndex !== null) {
          goToCell(leftColIndex, getRowIdFromIndex(rowIndexBefore), direction === "rtl" ? "right" : "left");
        }
        break;
      }
      case "Tab": {
        if (event.shiftKey && colIndexBefore > firstColIndex) {
          goToCell(colIndexBefore - 1, getRowIdFromIndex(rowIndexBefore), "left");
        } else if (!event.shiftKey && colIndexBefore < lastColIndex) {
          goToCell(colIndexBefore + 1, getRowIdFromIndex(rowIndexBefore), "right");
        }
        break;
      }
      case " ": {
        const field = params.field;
        if (field === GRID_DETAIL_PANEL_TOGGLE_FIELD) {
          break;
        }
        const colDef = params.colDef;
        if (colDef && colDef.type === "treeDataGroup") {
          break;
        }
        if (!event.shiftKey && rowIndexBefore < lastRowIndexInPage) {
          goToCell(colIndexBefore, getRowIdFromIndex(Math.min(rowIndexBefore + viewportPageSize, lastRowIndexInPage)));
        }
        break;
      }
      case "PageDown": {
        if (rowIndexBefore < lastRowIndexInPage) {
          goToCell(colIndexBefore, getRowIdFromIndex(Math.min(rowIndexBefore + viewportPageSize, lastRowIndexInPage)));
        }
        break;
      }
      case "PageUp": {
        const nextRowIndex = Math.max(rowIndexBefore - viewportPageSize, firstRowIndexInPage);
        if (nextRowIndex !== rowIndexBefore && nextRowIndex >= firstRowIndexInPage) {
          goToCell(colIndexBefore, getRowIdFromIndex(nextRowIndex));
        } else {
          goToHeader(colIndexBefore, event);
        }
        break;
      }
      case "Home": {
        if (event.ctrlKey || event.metaKey || event.shiftKey) {
          goToCell(firstColIndex, getRowIdFromIndex(firstRowIndexInPage));
        } else {
          goToCell(firstColIndex, getRowIdFromIndex(rowIndexBefore));
        }
        break;
      }
      case "End": {
        if (event.ctrlKey || event.metaKey || event.shiftKey) {
          goToCell(lastColIndex, getRowIdFromIndex(lastRowIndexInPage));
        } else {
          goToCell(lastColIndex, getRowIdFromIndex(rowIndexBefore));
        }
        break;
      }
      default: {
        shouldPreventDefault = false;
      }
    }
    if (shouldPreventDefault) {
      event.preventDefault();
    }
  }, [apiRef, currentPageRows, theme.direction, goToCell, getRowIdFromIndex, headerFilteringEnabled, goToHeaderFilter, goToHeader]);
  const checkIfCanStartEditing = React.useCallback((initialValue, {
    event
  }) => {
    if (event.key === " ") {
      return false;
    }
    return initialValue;
  }, []);
  useGridRegisterPipeProcessor(apiRef, "canStartEditing", checkIfCanStartEditing);
  useGridApiEventHandler(apiRef, "columnHeaderKeyDown", handleColumnHeaderKeyDown);
  useGridApiEventHandler(apiRef, "headerFilterKeyDown", handleHeaderFilterKeyDown);
  useGridApiEventHandler(apiRef, "columnGroupHeaderKeyDown", handleColumnGroupHeaderKeyDown);
  useGridApiEventHandler(apiRef, "cellKeyDown", handleCellKeyDown);
};
const useGridRowCount = (apiRef, props) => {
  var _props$initialState2;
  const logger = useGridLogger(apiRef, "useGridRowCount");
  const visibleTopLevelRowCount = useGridSelector(apiRef, gridFilteredTopLevelRowCountSelector);
  const rowCount = useGridSelector(apiRef, gridPaginationRowCountSelector);
  apiRef.current.registerControlState({
    stateId: "paginationRowCount",
    propModel: props.rowCount,
    propOnChange: props.onRowCountChange,
    stateSelector: gridPaginationRowCountSelector,
    changeEvent: "rowCountChange"
  });
  const setRowCount = React.useCallback((newRowCount) => {
    if (rowCount === newRowCount) {
      return;
    }
    logger.debug("Setting 'rowCount' to", newRowCount);
    apiRef.current.setState((state) => _extends$1({}, state, {
      pagination: _extends$1({}, state.pagination, {
        rowCount: newRowCount
      })
    }));
  }, [apiRef, logger, rowCount]);
  const paginationRowCountApi = {
    setRowCount
  };
  useGridApiMethod(apiRef, paginationRowCountApi, "public");
  const stateExportPreProcessing = React.useCallback((prevState, context) => {
    var _props$initialState;
    const exportedRowCount = gridPaginationRowCountSelector(apiRef);
    const shouldExportRowCount = (
      // Always export if the `exportOnlyDirtyModels` property is not activated
      !context.exportOnlyDirtyModels || // Always export if the `rowCount` is controlled
      props.rowCount != null || // Always export if the `rowCount` has been initialized
      ((_props$initialState = props.initialState) == null || (_props$initialState = _props$initialState.pagination) == null ? void 0 : _props$initialState.rowCount) != null
    );
    if (!shouldExportRowCount) {
      return prevState;
    }
    return _extends$1({}, prevState, {
      pagination: _extends$1({}, prevState.pagination, {
        rowCount: exportedRowCount
      })
    });
  }, [apiRef, props.rowCount, (_props$initialState2 = props.initialState) == null || (_props$initialState2 = _props$initialState2.pagination) == null ? void 0 : _props$initialState2.rowCount]);
  const stateRestorePreProcessing = React.useCallback((params, context) => {
    var _context$stateToResto;
    const restoredRowCount = (_context$stateToResto = context.stateToRestore.pagination) != null && _context$stateToResto.rowCount ? context.stateToRestore.pagination.rowCount : gridPaginationRowCountSelector(apiRef);
    apiRef.current.setState((state) => _extends$1({}, state, {
      pagination: _extends$1({}, state.pagination, {
        rowCount: restoredRowCount
      })
    }));
    return params;
  }, [apiRef]);
  useGridRegisterPipeProcessor(apiRef, "exportState", stateExportPreProcessing);
  useGridRegisterPipeProcessor(apiRef, "restoreState", stateRestorePreProcessing);
  React.useEffect(() => {
    if (process.env.NODE_ENV !== "production") {
      if (props.paginationMode === "server" && props.rowCount == null) {
        noRowCountInServerMode();
      }
    }
  }, [props.rowCount, props.paginationMode]);
  React.useEffect(() => {
    if (props.paginationMode === "client") {
      apiRef.current.setRowCount(visibleTopLevelRowCount);
    } else if (props.rowCount != null) {
      apiRef.current.setRowCount(props.rowCount);
    }
  }, [apiRef, visibleTopLevelRowCount, props.paginationMode, props.rowCount]);
};
const paginationStateInitializer = (state, props) => {
  var _props$paginationMode, _props$initialState, _ref, _props$rowCount, _props$initialState2;
  const paginationModel = _extends$1({}, getDefaultGridPaginationModel(props.autoPageSize), (_props$paginationMode = props.paginationModel) != null ? _props$paginationMode : (_props$initialState = props.initialState) == null || (_props$initialState = _props$initialState.pagination) == null ? void 0 : _props$initialState.paginationModel);
  throwIfPageSizeExceedsTheLimit(paginationModel.pageSize, props.signature);
  const rowCount = (_ref = (_props$rowCount = props.rowCount) != null ? _props$rowCount : (_props$initialState2 = props.initialState) == null || (_props$initialState2 = _props$initialState2.pagination) == null ? void 0 : _props$initialState2.rowCount) != null ? _ref : 0;
  return _extends$1({}, state, {
    pagination: {
      paginationModel,
      rowCount
    }
  });
};
const useGridPagination = (apiRef, props) => {
  useGridPaginationModel(apiRef, props);
  useGridRowCount(apiRef, props);
};
const preferencePanelStateInitializer = (state, props) => {
  var _props$initialState$p, _props$initialState;
  return _extends$1({}, state, {
    preferencePanel: (_props$initialState$p = (_props$initialState = props.initialState) == null ? void 0 : _props$initialState.preferencePanel) != null ? _props$initialState$p : {
      open: false
    }
  });
};
const useGridPreferencesPanel = (apiRef, props) => {
  var _props$initialState3;
  const logger = useGridLogger(apiRef, "useGridPreferencesPanel");
  const hideTimeout = React.useRef();
  const immediateTimeout = React.useRef();
  const hidePreferences = React.useCallback(() => {
    logger.debug("Hiding Preferences Panel");
    const preferencePanelState = gridPreferencePanelStateSelector(apiRef.current.state);
    if (preferencePanelState.openedPanelValue) {
      apiRef.current.publishEvent("preferencePanelClose", {
        openedPanelValue: preferencePanelState.openedPanelValue
      });
    }
    apiRef.current.setState((state) => _extends$1({}, state, {
      preferencePanel: {
        open: false
      }
    }));
    apiRef.current.forceUpdate();
  }, [apiRef, logger]);
  const doNotHidePanel = React.useCallback(() => {
    immediateTimeout.current = setTimeout(() => clearTimeout(hideTimeout.current), 0);
  }, []);
  const hidePreferencesDelayed = React.useCallback(() => {
    hideTimeout.current = setTimeout(hidePreferences, 100);
  }, [hidePreferences]);
  const showPreferences = React.useCallback((newValue, panelId, labelId) => {
    logger.debug("Opening Preferences Panel");
    doNotHidePanel();
    apiRef.current.setState((state) => _extends$1({}, state, {
      preferencePanel: _extends$1({}, state.preferencePanel, {
        open: true,
        openedPanelValue: newValue,
        panelId,
        labelId
      })
    }));
    apiRef.current.publishEvent("preferencePanelOpen", {
      openedPanelValue: newValue
    });
    apiRef.current.forceUpdate();
  }, [logger, doNotHidePanel, apiRef]);
  useGridApiMethod(apiRef, {
    showPreferences,
    hidePreferences: hidePreferencesDelayed
  }, "public");
  const stateExportPreProcessing = React.useCallback((prevState, context) => {
    var _props$initialState2;
    const preferencePanelToExport = gridPreferencePanelStateSelector(apiRef.current.state);
    const shouldExportPreferencePanel = (
      // Always export if the `exportOnlyDirtyModels` property is not activated
      !context.exportOnlyDirtyModels || // Always export if the panel was initialized
      ((_props$initialState2 = props.initialState) == null ? void 0 : _props$initialState2.preferencePanel) != null || // Always export if the panel is opened
      preferencePanelToExport.open
    );
    if (!shouldExportPreferencePanel) {
      return prevState;
    }
    return _extends$1({}, prevState, {
      preferencePanel: preferencePanelToExport
    });
  }, [apiRef, (_props$initialState3 = props.initialState) == null ? void 0 : _props$initialState3.preferencePanel]);
  const stateRestorePreProcessing = React.useCallback((params, context) => {
    const preferencePanel = context.stateToRestore.preferencePanel;
    if (preferencePanel != null) {
      apiRef.current.setState((state) => _extends$1({}, state, {
        preferencePanel
      }));
    }
    return params;
  }, [apiRef]);
  useGridRegisterPipeProcessor(apiRef, "exportState", stateExportPreProcessing);
  useGridRegisterPipeProcessor(apiRef, "restoreState", stateRestorePreProcessing);
  React.useEffect(() => {
    return () => {
      clearTimeout(hideTimeout.current);
      clearTimeout(immediateTimeout.current);
    };
  }, []);
};
const _excluded$b = ["id", "field"], _excluded2$2 = ["id", "field"];
const missingOnProcessRowUpdateErrorWarning$1 = buildWarning(["MUI: A call to `processRowUpdate` threw an error which was not handled because `onProcessRowUpdateError` is missing.", "To handle the error pass a callback to the `onProcessRowUpdateError` prop, e.g. `<DataGrid onProcessRowUpdateError={(error) => ...} />`.", "For more detail, see http://mui.com/components/data-grid/editing/#server-side-persistence."], "error");
const useGridCellEditing = (apiRef, props) => {
  const [cellModesModel, setCellModesModel] = React.useState({});
  const cellModesModelRef = React.useRef(cellModesModel);
  const prevCellModesModel = React.useRef({});
  const {
    processRowUpdate,
    onProcessRowUpdateError,
    cellModesModel: cellModesModelProp,
    onCellModesModelChange
  } = props;
  const runIfEditModeIsCell = (callback) => (...args) => {
    if (props.editMode === GridEditModes.Cell) {
      callback(...args);
    }
  };
  const throwIfNotEditable = React.useCallback((id, field) => {
    const params = apiRef.current.getCellParams(id, field);
    if (!apiRef.current.isCellEditable(params)) {
      throw new Error(`MUI: The cell with id=${id} and field=${field} is not editable.`);
    }
  }, [apiRef]);
  const throwIfNotInMode = React.useCallback((id, field, mode) => {
    if (apiRef.current.getCellMode(id, field) !== mode) {
      throw new Error(`MUI: The cell with id=${id} and field=${field} is not in ${mode} mode.`);
    }
  }, [apiRef]);
  const handleCellDoubleClick = React.useCallback((params, event) => {
    if (!params.isEditable) {
      return;
    }
    if (params.cellMode === GridCellModes.Edit) {
      return;
    }
    const newParams = _extends$1({}, params, {
      reason: GridCellEditStartReasons.cellDoubleClick
    });
    apiRef.current.publishEvent("cellEditStart", newParams, event);
  }, [apiRef]);
  const handleCellFocusOut = React.useCallback((params, event) => {
    if (params.cellMode === GridCellModes.View) {
      return;
    }
    if (apiRef.current.getCellMode(params.id, params.field) === GridCellModes.View) {
      return;
    }
    const newParams = _extends$1({}, params, {
      reason: GridCellEditStopReasons.cellFocusOut
    });
    apiRef.current.publishEvent("cellEditStop", newParams, event);
  }, [apiRef]);
  const handleCellKeyDown = React.useCallback((params, event) => {
    if (params.cellMode === GridCellModes.Edit) {
      if (event.which === 229) {
        return;
      }
      let reason;
      if (event.key === "Escape") {
        reason = GridCellEditStopReasons.escapeKeyDown;
      } else if (event.key === "Enter") {
        reason = GridCellEditStopReasons.enterKeyDown;
      } else if (event.key === "Tab") {
        reason = event.shiftKey ? GridCellEditStopReasons.shiftTabKeyDown : GridCellEditStopReasons.tabKeyDown;
        event.preventDefault();
      }
      if (reason) {
        const newParams = _extends$1({}, params, {
          reason
        });
        apiRef.current.publishEvent("cellEditStop", newParams, event);
      }
    } else if (params.isEditable) {
      let reason;
      const canStartEditing = apiRef.current.unstable_applyPipeProcessors("canStartEditing", true, {
        event,
        cellParams: params,
        editMode: "cell"
      });
      if (!canStartEditing) {
        return;
      }
      if (isPrintableKey(event)) {
        reason = GridCellEditStartReasons.printableKeyDown;
      } else if ((event.ctrlKey || event.metaKey) && event.key === "v") {
        reason = GridCellEditStartReasons.pasteKeyDown;
      } else if (event.key === "Enter") {
        reason = GridCellEditStartReasons.enterKeyDown;
      } else if (event.key === "Delete" || event.key === "Backspace") {
        reason = GridCellEditStartReasons.deleteKeyDown;
      }
      if (reason) {
        const newParams = _extends$1({}, params, {
          reason,
          key: event.key
        });
        apiRef.current.publishEvent("cellEditStart", newParams, event);
      }
    }
  }, [apiRef]);
  const handleCellEditStart = React.useCallback((params) => {
    const {
      id,
      field,
      reason
    } = params;
    const startCellEditModeParams = {
      id,
      field
    };
    if (reason === GridCellEditStartReasons.printableKeyDown || reason === GridCellEditStartReasons.deleteKeyDown || reason === GridCellEditStartReasons.pasteKeyDown) {
      startCellEditModeParams.deleteValue = true;
    }
    apiRef.current.startCellEditMode(startCellEditModeParams);
  }, [apiRef]);
  const handleCellEditStop = React.useCallback((params) => {
    const {
      id,
      field,
      reason
    } = params;
    apiRef.current.runPendingEditCellValueMutation(id, field);
    let cellToFocusAfter;
    if (reason === GridCellEditStopReasons.enterKeyDown) {
      cellToFocusAfter = "below";
    } else if (reason === GridCellEditStopReasons.tabKeyDown) {
      cellToFocusAfter = "right";
    } else if (reason === GridCellEditStopReasons.shiftTabKeyDown) {
      cellToFocusAfter = "left";
    }
    const ignoreModifications = reason === "escapeKeyDown";
    apiRef.current.stopCellEditMode({
      id,
      field,
      ignoreModifications,
      cellToFocusAfter
    });
  }, [apiRef]);
  useGridApiEventHandler(apiRef, "cellDoubleClick", runIfEditModeIsCell(handleCellDoubleClick));
  useGridApiEventHandler(apiRef, "cellFocusOut", runIfEditModeIsCell(handleCellFocusOut));
  useGridApiEventHandler(apiRef, "cellKeyDown", runIfEditModeIsCell(handleCellKeyDown));
  useGridApiEventHandler(apiRef, "cellEditStart", runIfEditModeIsCell(handleCellEditStart));
  useGridApiEventHandler(apiRef, "cellEditStop", runIfEditModeIsCell(handleCellEditStop));
  useGridApiOptionHandler(apiRef, "cellEditStart", props.onCellEditStart);
  useGridApiOptionHandler(apiRef, "cellEditStop", props.onCellEditStop);
  const getCellMode = React.useCallback((id, field) => {
    const editingState = gridEditRowsStateSelector(apiRef.current.state);
    const isEditing = editingState[id] && editingState[id][field];
    return isEditing ? GridCellModes.Edit : GridCellModes.View;
  }, [apiRef]);
  const updateCellModesModel = unstable_useEventCallback((newModel) => {
    const isNewModelDifferentFromProp = newModel !== props.cellModesModel;
    if (onCellModesModelChange && isNewModelDifferentFromProp) {
      onCellModesModelChange(newModel, {});
    }
    if (props.cellModesModel && isNewModelDifferentFromProp) {
      return;
    }
    setCellModesModel(newModel);
    cellModesModelRef.current = newModel;
    apiRef.current.publishEvent("cellModesModelChange", newModel);
  });
  const updateFieldInCellModesModel = React.useCallback((id, field, newProps) => {
    const newModel = _extends$1({}, cellModesModelRef.current);
    if (newProps !== null) {
      newModel[id] = _extends$1({}, newModel[id], {
        [field]: _extends$1({}, newProps)
      });
    } else {
      const _newModel$id = newModel[id], otherFields = _objectWithoutPropertiesLoose$1(_newModel$id, [field].map(_toPropertyKey$1));
      newModel[id] = otherFields;
      if (Object.keys(newModel[id]).length === 0) {
        delete newModel[id];
      }
    }
    updateCellModesModel(newModel);
  }, [updateCellModesModel]);
  const updateOrDeleteFieldState = React.useCallback((id, field, newProps) => {
    apiRef.current.setState((state) => {
      const newEditingState = _extends$1({}, state.editRows);
      if (newProps !== null) {
        newEditingState[id] = _extends$1({}, newEditingState[id], {
          [field]: _extends$1({}, newProps)
        });
      } else {
        delete newEditingState[id][field];
        if (Object.keys(newEditingState[id]).length === 0) {
          delete newEditingState[id];
        }
      }
      return _extends$1({}, state, {
        editRows: newEditingState
      });
    });
    apiRef.current.forceUpdate();
  }, [apiRef]);
  const startCellEditMode = React.useCallback((params) => {
    const {
      id,
      field
    } = params, other = _objectWithoutPropertiesLoose$1(params, _excluded$b);
    throwIfNotEditable(id, field);
    throwIfNotInMode(id, field, GridCellModes.View);
    updateFieldInCellModesModel(id, field, _extends$1({
      mode: GridCellModes.Edit
    }, other));
  }, [throwIfNotEditable, throwIfNotInMode, updateFieldInCellModesModel]);
  const updateStateToStartCellEditMode = unstable_useEventCallback((params) => {
    const {
      id,
      field,
      deleteValue,
      initialValue
    } = params;
    let newValue = apiRef.current.getCellValue(id, field);
    if (deleteValue || initialValue) {
      newValue = deleteValue ? "" : initialValue;
    }
    const newProps = {
      value: newValue,
      error: false,
      isProcessingProps: false
    };
    updateOrDeleteFieldState(id, field, newProps);
    apiRef.current.setCellFocus(id, field);
  });
  const stopCellEditMode = React.useCallback((params) => {
    const {
      id,
      field
    } = params, other = _objectWithoutPropertiesLoose$1(params, _excluded2$2);
    throwIfNotInMode(id, field, GridCellModes.Edit);
    updateFieldInCellModesModel(id, field, _extends$1({
      mode: GridCellModes.View
    }, other));
  }, [throwIfNotInMode, updateFieldInCellModesModel]);
  const updateStateToStopCellEditMode = unstable_useEventCallback(async (params) => {
    const {
      id,
      field,
      ignoreModifications,
      cellToFocusAfter = "none"
    } = params;
    throwIfNotInMode(id, field, GridCellModes.Edit);
    apiRef.current.runPendingEditCellValueMutation(id, field);
    const finishCellEditMode = () => {
      updateOrDeleteFieldState(id, field, null);
      updateFieldInCellModesModel(id, field, null);
      if (cellToFocusAfter !== "none") {
        apiRef.current.moveFocusToRelativeCell(id, field, cellToFocusAfter);
      }
    };
    if (ignoreModifications) {
      finishCellEditMode();
      return;
    }
    const editingState = gridEditRowsStateSelector(apiRef.current.state);
    const {
      error,
      isProcessingProps
    } = editingState[id][field];
    if (error || isProcessingProps) {
      prevCellModesModel.current[id][field].mode = GridCellModes.Edit;
      updateFieldInCellModesModel(id, field, {
        mode: GridCellModes.Edit
      });
      return;
    }
    const rowUpdate = apiRef.current.getRowWithUpdatedValuesFromCellEditing(id, field);
    if (processRowUpdate) {
      const handleError = (errorThrown) => {
        prevCellModesModel.current[id][field].mode = GridCellModes.Edit;
        updateFieldInCellModesModel(id, field, {
          mode: GridCellModes.Edit
        });
        if (onProcessRowUpdateError) {
          onProcessRowUpdateError(errorThrown);
        } else {
          missingOnProcessRowUpdateErrorWarning$1();
        }
      };
      try {
        const row = apiRef.current.getRow(id);
        Promise.resolve(processRowUpdate(rowUpdate, row)).then((finalRowUpdate) => {
          apiRef.current.updateRows([finalRowUpdate]);
          finishCellEditMode();
        }).catch(handleError);
      } catch (errorThrown) {
        handleError(errorThrown);
      }
    } else {
      apiRef.current.updateRows([rowUpdate]);
      finishCellEditMode();
    }
  });
  const setCellEditingEditCellValue = React.useCallback(async (params) => {
    var _editingState$id;
    const {
      id,
      field,
      value,
      debounceMs,
      unstable_skipValueParser: skipValueParser
    } = params;
    throwIfNotEditable(id, field);
    throwIfNotInMode(id, field, GridCellModes.Edit);
    const column = apiRef.current.getColumn(field);
    const row = apiRef.current.getRow(id);
    let parsedValue = value;
    if (column.valueParser && !skipValueParser) {
      parsedValue = column.valueParser(value, apiRef.current.getCellParams(id, field));
    }
    let editingState = gridEditRowsStateSelector(apiRef.current.state);
    let newProps = _extends$1({}, editingState[id][field], {
      value: parsedValue,
      changeReason: debounceMs ? "debouncedSetEditCellValue" : "setEditCellValue"
    });
    if (column.preProcessEditCellProps) {
      const hasChanged = value !== editingState[id][field].value;
      newProps = _extends$1({}, newProps, {
        isProcessingProps: true
      });
      updateOrDeleteFieldState(id, field, newProps);
      newProps = await Promise.resolve(column.preProcessEditCellProps({
        id,
        row,
        props: newProps,
        hasChanged
      }));
    }
    if (apiRef.current.getCellMode(id, field) === GridCellModes.View) {
      return false;
    }
    editingState = gridEditRowsStateSelector(apiRef.current.state);
    newProps = _extends$1({}, newProps, {
      isProcessingProps: false
    });
    newProps.value = column.preProcessEditCellProps ? editingState[id][field].value : parsedValue;
    updateOrDeleteFieldState(id, field, newProps);
    editingState = gridEditRowsStateSelector(apiRef.current.state);
    return !((_editingState$id = editingState[id]) != null && (_editingState$id = _editingState$id[field]) != null && _editingState$id.error);
  }, [apiRef, throwIfNotEditable, throwIfNotInMode, updateOrDeleteFieldState]);
  const getRowWithUpdatedValuesFromCellEditing = React.useCallback((id, field) => {
    const column = apiRef.current.getColumn(field);
    const editingState = gridEditRowsStateSelector(apiRef.current.state);
    const row = apiRef.current.getRow(id);
    if (!editingState[id] || !editingState[id][field]) {
      return apiRef.current.getRow(id);
    }
    const {
      value
    } = editingState[id][field];
    return column.valueSetter ? column.valueSetter({
      value,
      row
    }) : _extends$1({}, row, {
      [field]: value
    });
  }, [apiRef]);
  const editingApi = {
    getCellMode,
    startCellEditMode,
    stopCellEditMode
  };
  const editingPrivateApi = {
    setCellEditingEditCellValue,
    getRowWithUpdatedValuesFromCellEditing
  };
  useGridApiMethod(apiRef, editingApi, "public");
  useGridApiMethod(apiRef, editingPrivateApi, "private");
  React.useEffect(() => {
    if (cellModesModelProp) {
      updateCellModesModel(cellModesModelProp);
    }
  }, [cellModesModelProp, updateCellModesModel]);
  unstable_useEnhancedEffect(() => {
    const idToIdLookup = gridRowsDataRowIdToIdLookupSelector(apiRef);
    const copyOfPrevCellModes = prevCellModesModel.current;
    prevCellModesModel.current = deepClone(cellModesModel);
    Object.entries(cellModesModel).forEach(([id, fields]) => {
      Object.entries(fields).forEach(([field, params]) => {
        var _copyOfPrevCellModes$, _idToIdLookup$id;
        const prevMode = ((_copyOfPrevCellModes$ = copyOfPrevCellModes[id]) == null || (_copyOfPrevCellModes$ = _copyOfPrevCellModes$[field]) == null ? void 0 : _copyOfPrevCellModes$.mode) || GridCellModes.View;
        const originalId = (_idToIdLookup$id = idToIdLookup[id]) != null ? _idToIdLookup$id : id;
        if (params.mode === GridCellModes.Edit && prevMode === GridCellModes.View) {
          updateStateToStartCellEditMode(_extends$1({
            id: originalId,
            field
          }, params));
        } else if (params.mode === GridCellModes.View && prevMode === GridCellModes.Edit) {
          updateStateToStopCellEditMode(_extends$1({
            id: originalId,
            field
          }, params));
        }
      });
    });
  }, [apiRef, cellModesModel, updateStateToStartCellEditMode, updateStateToStopCellEditMode]);
};
const _excluded$a = ["id"], _excluded2$1 = ["id"];
const missingOnProcessRowUpdateErrorWarning = buildWarning(["MUI: A call to `processRowUpdate` threw an error which was not handled because `onProcessRowUpdateError` is missing.", "To handle the error pass a callback to the `onProcessRowUpdateError` prop, e.g. `<DataGrid onProcessRowUpdateError={(error) => ...} />`.", "For more detail, see http://mui.com/components/data-grid/editing/#server-side-persistence."], "error");
const useGridRowEditing = (apiRef, props) => {
  const [rowModesModel, setRowModesModel] = React.useState({});
  const rowModesModelRef = React.useRef(rowModesModel);
  const prevRowModesModel = React.useRef({});
  const focusTimeout = React.useRef(null);
  const nextFocusedCell = React.useRef(null);
  const {
    processRowUpdate,
    onProcessRowUpdateError,
    rowModesModel: rowModesModelProp,
    onRowModesModelChange
  } = props;
  const runIfEditModeIsRow = (callback) => (...args) => {
    if (props.editMode === GridEditModes.Row) {
      callback(...args);
    }
  };
  const throwIfNotEditable = React.useCallback((id, field) => {
    const params = apiRef.current.getCellParams(id, field);
    if (!apiRef.current.isCellEditable(params)) {
      throw new Error(`MUI: The cell with id=${id} and field=${field} is not editable.`);
    }
  }, [apiRef]);
  const throwIfNotInMode = React.useCallback((id, mode) => {
    if (apiRef.current.getRowMode(id) !== mode) {
      throw new Error(`MUI: The row with id=${id} is not in ${mode} mode.`);
    }
  }, [apiRef]);
  const handleCellDoubleClick = React.useCallback((params, event) => {
    if (!params.isEditable) {
      return;
    }
    if (apiRef.current.getRowMode(params.id) === GridRowModes.Edit) {
      return;
    }
    const rowParams = apiRef.current.getRowParams(params.id);
    const newParams = _extends$1({}, rowParams, {
      field: params.field,
      reason: GridRowEditStartReasons.cellDoubleClick
    });
    apiRef.current.publishEvent("rowEditStart", newParams, event);
  }, [apiRef]);
  const handleCellFocusIn = React.useCallback((params) => {
    nextFocusedCell.current = params;
  }, []);
  const handleCellFocusOut = React.useCallback((params, event) => {
    if (!params.isEditable) {
      return;
    }
    if (apiRef.current.getRowMode(params.id) === GridRowModes.View) {
      return;
    }
    nextFocusedCell.current = null;
    focusTimeout.current = setTimeout(() => {
      var _nextFocusedCell$curr;
      focusTimeout.current = null;
      if (((_nextFocusedCell$curr = nextFocusedCell.current) == null ? void 0 : _nextFocusedCell$curr.id) !== params.id) {
        if (!apiRef.current.getRow(params.id)) {
          return;
        }
        if (apiRef.current.getRowMode(params.id) === GridRowModes.View) {
          return;
        }
        const rowParams = apiRef.current.getRowParams(params.id);
        const newParams = _extends$1({}, rowParams, {
          field: params.field,
          reason: GridRowEditStopReasons.rowFocusOut
        });
        apiRef.current.publishEvent("rowEditStop", newParams, event);
      }
    });
  }, [apiRef]);
  React.useEffect(() => {
    return () => {
      clearTimeout(focusTimeout.current);
    };
  }, []);
  const handleCellKeyDown = React.useCallback((params, event) => {
    if (params.cellMode === GridRowModes.Edit) {
      if (event.which === 229) {
        return;
      }
      let reason;
      if (event.key === "Escape") {
        reason = GridRowEditStopReasons.escapeKeyDown;
      } else if (event.key === "Enter") {
        reason = GridRowEditStopReasons.enterKeyDown;
      } else if (event.key === "Tab") {
        const columnFields = gridVisibleColumnFieldsSelector(apiRef).filter((field) => {
          const column = apiRef.current.getColumn(field);
          if (column.type === GRID_ACTIONS_COLUMN_TYPE) {
            return true;
          }
          return apiRef.current.isCellEditable(apiRef.current.getCellParams(params.id, field));
        });
        if (event.shiftKey) {
          if (params.field === columnFields[0]) {
            reason = GridRowEditStopReasons.shiftTabKeyDown;
          }
        } else if (params.field === columnFields[columnFields.length - 1]) {
          reason = GridRowEditStopReasons.tabKeyDown;
        }
        event.preventDefault();
        if (!reason) {
          const index2 = columnFields.findIndex((field) => field === params.field);
          const nextFieldToFocus = columnFields[event.shiftKey ? index2 - 1 : index2 + 1];
          apiRef.current.setCellFocus(params.id, nextFieldToFocus);
        }
      }
      if (reason) {
        const newParams = _extends$1({}, apiRef.current.getRowParams(params.id), {
          reason,
          field: params.field
        });
        apiRef.current.publishEvent("rowEditStop", newParams, event);
      }
    } else if (params.isEditable) {
      let reason;
      const canStartEditing = apiRef.current.unstable_applyPipeProcessors("canStartEditing", true, {
        event,
        cellParams: params,
        editMode: "row"
      });
      if (!canStartEditing) {
        return;
      }
      if (isPrintableKey(event)) {
        reason = GridRowEditStartReasons.printableKeyDown;
      } else if ((event.ctrlKey || event.metaKey) && event.key === "v") {
        reason = GridRowEditStartReasons.printableKeyDown;
      } else if (event.key === "Enter") {
        reason = GridRowEditStartReasons.enterKeyDown;
      } else if (event.key === "Delete" || event.key === "Backspace") {
        reason = GridRowEditStartReasons.deleteKeyDown;
      }
      if (reason) {
        const rowParams = apiRef.current.getRowParams(params.id);
        const newParams = _extends$1({}, rowParams, {
          field: params.field,
          reason
        });
        apiRef.current.publishEvent("rowEditStart", newParams, event);
      }
    }
  }, [apiRef]);
  const handleRowEditStart = React.useCallback((params) => {
    const {
      id,
      field,
      reason
    } = params;
    const startRowEditModeParams = {
      id,
      fieldToFocus: field
    };
    if (reason === GridRowEditStartReasons.printableKeyDown || reason === GridRowEditStartReasons.deleteKeyDown) {
      startRowEditModeParams.deleteValue = !!field;
    }
    apiRef.current.startRowEditMode(startRowEditModeParams);
  }, [apiRef]);
  const handleRowEditStop = React.useCallback((params) => {
    const {
      id,
      reason,
      field
    } = params;
    apiRef.current.runPendingEditCellValueMutation(id);
    let cellToFocusAfter;
    if (reason === GridRowEditStopReasons.enterKeyDown) {
      cellToFocusAfter = "below";
    } else if (reason === GridRowEditStopReasons.tabKeyDown) {
      cellToFocusAfter = "right";
    } else if (reason === GridRowEditStopReasons.shiftTabKeyDown) {
      cellToFocusAfter = "left";
    }
    const ignoreModifications = reason === "escapeKeyDown";
    apiRef.current.stopRowEditMode({
      id,
      ignoreModifications,
      field,
      cellToFocusAfter
    });
  }, [apiRef]);
  useGridApiEventHandler(apiRef, "cellDoubleClick", runIfEditModeIsRow(handleCellDoubleClick));
  useGridApiEventHandler(apiRef, "cellFocusIn", runIfEditModeIsRow(handleCellFocusIn));
  useGridApiEventHandler(apiRef, "cellFocusOut", runIfEditModeIsRow(handleCellFocusOut));
  useGridApiEventHandler(apiRef, "cellKeyDown", runIfEditModeIsRow(handleCellKeyDown));
  useGridApiEventHandler(apiRef, "rowEditStart", runIfEditModeIsRow(handleRowEditStart));
  useGridApiEventHandler(apiRef, "rowEditStop", runIfEditModeIsRow(handleRowEditStop));
  useGridApiOptionHandler(apiRef, "rowEditStart", props.onRowEditStart);
  useGridApiOptionHandler(apiRef, "rowEditStop", props.onRowEditStop);
  const getRowMode = React.useCallback((id) => {
    if (props.editMode === GridEditModes.Cell) {
      return GridRowModes.View;
    }
    const editingState = gridEditRowsStateSelector(apiRef.current.state);
    const isEditing = editingState[id] && Object.keys(editingState[id]).length > 0;
    return isEditing ? GridRowModes.Edit : GridRowModes.View;
  }, [apiRef, props.editMode]);
  const updateRowModesModel = unstable_useEventCallback((newModel) => {
    const isNewModelDifferentFromProp = newModel !== props.rowModesModel;
    if (onRowModesModelChange && isNewModelDifferentFromProp) {
      onRowModesModelChange(newModel, {});
    }
    if (props.rowModesModel && isNewModelDifferentFromProp) {
      return;
    }
    setRowModesModel(newModel);
    rowModesModelRef.current = newModel;
    apiRef.current.publishEvent("rowModesModelChange", newModel);
  });
  const updateRowInRowModesModel = React.useCallback((id, newProps) => {
    const newModel = _extends$1({}, rowModesModelRef.current);
    if (newProps !== null) {
      newModel[id] = _extends$1({}, newProps);
    } else {
      delete newModel[id];
    }
    updateRowModesModel(newModel);
  }, [updateRowModesModel]);
  const updateOrDeleteRowState = React.useCallback((id, newProps) => {
    apiRef.current.setState((state) => {
      const newEditingState = _extends$1({}, state.editRows);
      if (newProps !== null) {
        newEditingState[id] = newProps;
      } else {
        delete newEditingState[id];
      }
      return _extends$1({}, state, {
        editRows: newEditingState
      });
    });
    apiRef.current.forceUpdate();
  }, [apiRef]);
  const updateOrDeleteFieldState = React.useCallback((id, field, newProps) => {
    apiRef.current.setState((state) => {
      const newEditingState = _extends$1({}, state.editRows);
      if (newProps !== null) {
        newEditingState[id] = _extends$1({}, newEditingState[id], {
          [field]: _extends$1({}, newProps)
        });
      } else {
        delete newEditingState[id][field];
        if (Object.keys(newEditingState[id]).length === 0) {
          delete newEditingState[id];
        }
      }
      return _extends$1({}, state, {
        editRows: newEditingState
      });
    });
    apiRef.current.forceUpdate();
  }, [apiRef]);
  const startRowEditMode = React.useCallback((params) => {
    const {
      id
    } = params, other = _objectWithoutPropertiesLoose$1(params, _excluded$a);
    throwIfNotInMode(id, GridRowModes.View);
    updateRowInRowModesModel(id, _extends$1({
      mode: GridRowModes.Edit
    }, other));
  }, [throwIfNotInMode, updateRowInRowModesModel]);
  const updateStateToStartRowEditMode = unstable_useEventCallback((params) => {
    const {
      id,
      fieldToFocus,
      deleteValue,
      initialValue
    } = params;
    const columnFields = gridColumnFieldsSelector(apiRef);
    const newProps = columnFields.reduce((acc, field) => {
      const cellParams = apiRef.current.getCellParams(id, field);
      if (!cellParams.isEditable) {
        return acc;
      }
      let newValue = apiRef.current.getCellValue(id, field);
      if (fieldToFocus === field && (deleteValue || initialValue)) {
        newValue = deleteValue ? "" : initialValue;
      }
      acc[field] = {
        value: newValue,
        error: false,
        isProcessingProps: false
      };
      return acc;
    }, {});
    updateOrDeleteRowState(id, newProps);
    if (fieldToFocus) {
      apiRef.current.setCellFocus(id, fieldToFocus);
    }
  });
  const stopRowEditMode = React.useCallback((params) => {
    const {
      id
    } = params, other = _objectWithoutPropertiesLoose$1(params, _excluded2$1);
    throwIfNotInMode(id, GridRowModes.Edit);
    updateRowInRowModesModel(id, _extends$1({
      mode: GridRowModes.View
    }, other));
  }, [throwIfNotInMode, updateRowInRowModesModel]);
  const updateStateToStopRowEditMode = unstable_useEventCallback((params) => {
    const {
      id,
      ignoreModifications,
      field: focusedField,
      cellToFocusAfter = "none"
    } = params;
    apiRef.current.runPendingEditCellValueMutation(id);
    const finishRowEditMode = () => {
      if (cellToFocusAfter !== "none" && focusedField) {
        apiRef.current.moveFocusToRelativeCell(id, focusedField, cellToFocusAfter);
      }
      updateOrDeleteRowState(id, null);
      updateRowInRowModesModel(id, null);
    };
    if (ignoreModifications) {
      finishRowEditMode();
      return;
    }
    const editingState = gridEditRowsStateSelector(apiRef.current.state);
    const row = apiRef.current.getRow(id);
    const isSomeFieldProcessingProps = Object.values(editingState[id]).some((fieldProps) => fieldProps.isProcessingProps);
    if (isSomeFieldProcessingProps) {
      prevRowModesModel.current[id].mode = GridRowModes.Edit;
      return;
    }
    const hasSomeFieldWithError = Object.values(editingState[id]).some((fieldProps) => fieldProps.error);
    if (hasSomeFieldWithError) {
      prevRowModesModel.current[id].mode = GridRowModes.Edit;
      updateRowInRowModesModel(id, {
        mode: GridRowModes.Edit
      });
      return;
    }
    const rowUpdate = apiRef.current.getRowWithUpdatedValuesFromRowEditing(id);
    if (processRowUpdate) {
      const handleError = (errorThrown) => {
        prevRowModesModel.current[id].mode = GridRowModes.Edit;
        updateRowInRowModesModel(id, {
          mode: GridRowModes.Edit
        });
        if (onProcessRowUpdateError) {
          onProcessRowUpdateError(errorThrown);
        } else {
          missingOnProcessRowUpdateErrorWarning();
        }
      };
      try {
        Promise.resolve(processRowUpdate(rowUpdate, row)).then((finalRowUpdate) => {
          apiRef.current.updateRows([finalRowUpdate]);
          finishRowEditMode();
        }).catch(handleError);
      } catch (errorThrown) {
        handleError(errorThrown);
      }
    } else {
      apiRef.current.updateRows([rowUpdate]);
      finishRowEditMode();
    }
  });
  const setRowEditingEditCellValue = React.useCallback((params) => {
    const {
      id,
      field,
      value,
      debounceMs,
      unstable_skipValueParser: skipValueParser
    } = params;
    throwIfNotEditable(id, field);
    const column = apiRef.current.getColumn(field);
    const row = apiRef.current.getRow(id);
    let parsedValue = value;
    if (column.valueParser && !skipValueParser) {
      parsedValue = column.valueParser(value, apiRef.current.getCellParams(id, field));
    }
    let editingState = gridEditRowsStateSelector(apiRef.current.state);
    let newProps = _extends$1({}, editingState[id][field], {
      value: parsedValue,
      changeReason: debounceMs ? "debouncedSetEditCellValue" : "setEditCellValue"
    });
    if (!column.preProcessEditCellProps) {
      updateOrDeleteFieldState(id, field, newProps);
    }
    return new Promise((resolve) => {
      const promises = [];
      if (column.preProcessEditCellProps) {
        const hasChanged = newProps.value !== editingState[id][field].value;
        newProps = _extends$1({}, newProps, {
          isProcessingProps: true
        });
        updateOrDeleteFieldState(id, field, newProps);
        const _editingState$id = editingState[id], otherFieldsProps = _objectWithoutPropertiesLoose$1(_editingState$id, [field].map(_toPropertyKey$1));
        const promise = Promise.resolve(column.preProcessEditCellProps({
          id,
          row,
          props: newProps,
          hasChanged,
          otherFieldsProps
        })).then((processedProps) => {
          if (apiRef.current.getRowMode(id) === GridRowModes.View) {
            resolve(false);
            return;
          }
          editingState = gridEditRowsStateSelector(apiRef.current.state);
          processedProps = _extends$1({}, processedProps, {
            isProcessingProps: false
          });
          processedProps.value = column.preProcessEditCellProps ? editingState[id][field].value : parsedValue;
          updateOrDeleteFieldState(id, field, processedProps);
        });
        promises.push(promise);
      }
      Object.entries(editingState[id]).forEach(([thisField, fieldProps]) => {
        if (thisField === field) {
          return;
        }
        const fieldColumn = apiRef.current.getColumn(thisField);
        if (!fieldColumn.preProcessEditCellProps) {
          return;
        }
        fieldProps = _extends$1({}, fieldProps, {
          isProcessingProps: true
        });
        updateOrDeleteFieldState(id, thisField, fieldProps);
        editingState = gridEditRowsStateSelector(apiRef.current.state);
        const _editingState$id2 = editingState[id], otherFieldsProps = _objectWithoutPropertiesLoose$1(_editingState$id2, [thisField].map(_toPropertyKey$1));
        const promise = Promise.resolve(fieldColumn.preProcessEditCellProps({
          id,
          row,
          props: fieldProps,
          hasChanged: false,
          otherFieldsProps
        })).then((processedProps) => {
          if (apiRef.current.getRowMode(id) === GridRowModes.View) {
            resolve(false);
            return;
          }
          processedProps = _extends$1({}, processedProps, {
            isProcessingProps: false
          });
          updateOrDeleteFieldState(id, thisField, processedProps);
        });
        promises.push(promise);
      });
      Promise.all(promises).then(() => {
        if (apiRef.current.getRowMode(id) === GridRowModes.Edit) {
          editingState = gridEditRowsStateSelector(apiRef.current.state);
          resolve(!editingState[id][field].error);
        } else {
          resolve(false);
        }
      });
    });
  }, [apiRef, throwIfNotEditable, updateOrDeleteFieldState]);
  const getRowWithUpdatedValuesFromRowEditing = React.useCallback((id) => {
    const editingState = gridEditRowsStateSelector(apiRef.current.state);
    const row = apiRef.current.getRow(id);
    if (!editingState[id]) {
      return apiRef.current.getRow(id);
    }
    let rowUpdate = _extends$1({}, row);
    Object.entries(editingState[id]).forEach(([field, fieldProps]) => {
      const column = apiRef.current.getColumn(field);
      if (column.valueSetter) {
        rowUpdate = column.valueSetter({
          value: fieldProps.value,
          row: rowUpdate
        });
      } else {
        rowUpdate[field] = fieldProps.value;
      }
    });
    return rowUpdate;
  }, [apiRef]);
  const editingApi = {
    getRowMode,
    startRowEditMode,
    stopRowEditMode
  };
  const editingPrivateApi = {
    setRowEditingEditCellValue,
    getRowWithUpdatedValuesFromRowEditing
  };
  useGridApiMethod(apiRef, editingApi, "public");
  useGridApiMethod(apiRef, editingPrivateApi, "private");
  React.useEffect(() => {
    if (rowModesModelProp) {
      updateRowModesModel(rowModesModelProp);
    }
  }, [rowModesModelProp, updateRowModesModel]);
  unstable_useEnhancedEffect(() => {
    const idToIdLookup = gridRowsDataRowIdToIdLookupSelector(apiRef);
    const copyOfPrevRowModesModel = prevRowModesModel.current;
    prevRowModesModel.current = deepClone(rowModesModel);
    Object.entries(rowModesModel).forEach(([id, params]) => {
      var _copyOfPrevRowModesMo, _idToIdLookup$id;
      const prevMode = ((_copyOfPrevRowModesMo = copyOfPrevRowModesModel[id]) == null ? void 0 : _copyOfPrevRowModesMo.mode) || GridRowModes.View;
      const originalId = (_idToIdLookup$id = idToIdLookup[id]) != null ? _idToIdLookup$id : id;
      if (params.mode === GridRowModes.Edit && prevMode === GridRowModes.View) {
        updateStateToStartRowEditMode(_extends$1({
          id: originalId
        }, params));
      } else if (params.mode === GridRowModes.View && prevMode === GridRowModes.Edit) {
        updateStateToStopRowEditMode(_extends$1({
          id: originalId
        }, params));
      }
    });
  }, [apiRef, rowModesModel, updateStateToStartRowEditMode, updateStateToStopRowEditMode]);
};
const editingStateInitializer = (state) => _extends$1({}, state, {
  editRows: {}
});
const useGridEditing = (apiRef, props) => {
  useGridCellEditing(apiRef, props);
  useGridRowEditing(apiRef, props);
  const debounceMap = React.useRef({});
  const {
    isCellEditable: isCellEditableProp
  } = props;
  const isCellEditable = React.useCallback((params) => {
    if (isAutoGeneratedRow(params.rowNode)) {
      return false;
    }
    if (!params.colDef.editable) {
      return false;
    }
    if (!params.colDef.renderEditCell) {
      return false;
    }
    if (isCellEditableProp) {
      return isCellEditableProp(params);
    }
    return true;
  }, [isCellEditableProp]);
  const maybeDebounce = (id, field, debounceMs, callback) => {
    if (!debounceMs) {
      callback();
      return;
    }
    if (!debounceMap.current[id]) {
      debounceMap.current[id] = {};
    }
    if (debounceMap.current[id][field]) {
      const [timeout2] = debounceMap.current[id][field];
      clearTimeout(timeout2);
    }
    const runImmediately = () => {
      const [timeout2] = debounceMap.current[id][field];
      clearTimeout(timeout2);
      callback();
      delete debounceMap.current[id][field];
    };
    const timeout = setTimeout(() => {
      callback();
      delete debounceMap.current[id][field];
    }, debounceMs);
    debounceMap.current[id][field] = [timeout, runImmediately];
  };
  React.useEffect(() => {
    const debounces = debounceMap.current;
    return () => {
      Object.entries(debounces).forEach(([id, fields]) => {
        Object.keys(fields).forEach((field) => {
          const [timeout] = debounces[id][field];
          clearTimeout(timeout);
          delete debounces[id][field];
        });
      });
    };
  }, []);
  const runPendingEditCellValueMutation = React.useCallback((id, field) => {
    if (!debounceMap.current[id]) {
      return;
    }
    if (!field) {
      Object.keys(debounceMap.current[id]).forEach((debouncedField) => {
        const [, runCallback] = debounceMap.current[id][debouncedField];
        runCallback();
      });
    } else if (debounceMap.current[id][field]) {
      const [, runCallback] = debounceMap.current[id][field];
      runCallback();
    }
  }, []);
  const setEditCellValue = React.useCallback((params) => {
    const {
      id,
      field,
      debounceMs
    } = params;
    return new Promise((resolve) => {
      maybeDebounce(id, field, debounceMs, async () => {
        const setEditCellValueToCall = props.editMode === GridEditModes.Row ? apiRef.current.setRowEditingEditCellValue : apiRef.current.setCellEditingEditCellValue;
        if (apiRef.current.getCellMode(id, field) === GridCellModes.Edit) {
          const result = await setEditCellValueToCall(params);
          resolve(result);
        }
      });
    });
  }, [apiRef, props.editMode]);
  const getRowWithUpdatedValues = React.useCallback((id, field) => {
    return props.editMode === GridEditModes.Cell ? apiRef.current.getRowWithUpdatedValuesFromCellEditing(id, field) : apiRef.current.getRowWithUpdatedValuesFromRowEditing(id);
  }, [apiRef, props.editMode]);
  const getEditCellMeta = React.useCallback((id, field) => {
    var _editingState$id$fiel, _editingState$id;
    const editingState = gridEditRowsStateSelector(apiRef.current.state);
    return (_editingState$id$fiel = (_editingState$id = editingState[id]) == null ? void 0 : _editingState$id[field]) != null ? _editingState$id$fiel : null;
  }, [apiRef]);
  const editingSharedApi = {
    isCellEditable,
    setEditCellValue,
    getRowWithUpdatedValues,
    unstable_getEditCellMeta: getEditCellMeta
  };
  const editingSharedPrivateApi = {
    runPendingEditCellValueMutation
  };
  useGridApiMethod(apiRef, editingSharedApi, "public");
  useGridApiMethod(apiRef, editingSharedPrivateApi, "private");
};
const rowsStateInitializer = (state, props, apiRef) => {
  apiRef.current.caches.rows = createRowsInternalCache({
    rows: props.rows,
    getRowId: props.getRowId,
    loading: props.loading,
    rowCount: props.rowCount
  });
  return _extends$1({}, state, {
    rows: getRowsStateFromCache({
      apiRef,
      rowCountProp: props.rowCount,
      loadingProp: props.loading,
      previousTree: null,
      previousTreeDepths: null
    })
  });
};
const useGridRows = (apiRef, props) => {
  if (process.env.NODE_ENV !== "production") {
    try {
      Object.freeze(props.rows);
    } catch (error) {
    }
  }
  const logger = useGridLogger(apiRef, "useGridRows");
  const currentPage = useGridVisibleRows(apiRef, props);
  const lastUpdateMs = React.useRef(Date.now());
  const timeout = useTimeout();
  const getRow = React.useCallback((id) => {
    const model = gridRowsLookupSelector(apiRef)[id];
    if (model) {
      return model;
    }
    const node = apiRef.current.getRowNode(id);
    if (node && isAutoGeneratedRow(node)) {
      return {
        [GRID_ID_AUTOGENERATED]: id
      };
    }
    return null;
  }, [apiRef]);
  const getRowIdProp = props.getRowId;
  const getRowId = React.useCallback((row) => {
    if (GRID_ID_AUTOGENERATED in row) {
      return row[GRID_ID_AUTOGENERATED];
    }
    if (getRowIdProp) {
      return getRowIdProp(row);
    }
    return row.id;
  }, [getRowIdProp]);
  const lookup = React.useMemo(() => currentPage.rows.reduce((acc, {
    id
  }, index2) => {
    acc[id] = index2;
    return acc;
  }, {}), [currentPage.rows]);
  const throttledRowsChange = React.useCallback(({
    cache,
    throttle
  }) => {
    const run = () => {
      lastUpdateMs.current = Date.now();
      apiRef.current.setState((state) => _extends$1({}, state, {
        rows: getRowsStateFromCache({
          apiRef,
          rowCountProp: props.rowCount,
          loadingProp: props.loading,
          previousTree: gridRowTreeSelector(apiRef),
          previousTreeDepths: gridRowTreeDepthsSelector(apiRef)
        })
      }));
      apiRef.current.publishEvent("rowsSet");
      apiRef.current.forceUpdate();
    };
    timeout.clear();
    apiRef.current.caches.rows = cache;
    if (!throttle) {
      run();
      return;
    }
    const throttleRemainingTimeMs = props.throttleRowsMs - (Date.now() - lastUpdateMs.current);
    if (throttleRemainingTimeMs > 0) {
      timeout.start(throttleRemainingTimeMs, run);
      return;
    }
    run();
  }, [props.throttleRowsMs, props.rowCount, props.loading, apiRef, timeout]);
  const setRows = React.useCallback((rows) => {
    logger.debug(`Updating all rows, new length ${rows.length}`);
    const cache = createRowsInternalCache({
      rows,
      getRowId: props.getRowId,
      loading: props.loading,
      rowCount: props.rowCount
    });
    const prevCache = apiRef.current.caches.rows;
    cache.rowsBeforePartialUpdates = prevCache.rowsBeforePartialUpdates;
    throttledRowsChange({
      cache,
      throttle: true
    });
  }, [logger, props.getRowId, props.loading, props.rowCount, throttledRowsChange, apiRef]);
  const updateRows = React.useCallback((updates) => {
    if (props.signature === GridSignature.DataGrid && updates.length > 1) {
      throw new Error(["MUI: You can't update several rows at once in `apiRef.current.updateRows` on the DataGrid.", "You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join("\n"));
    }
    const nonPinnedRowsUpdates = [];
    updates.forEach((update) => {
      const id = getRowIdFromRowModel(update, props.getRowId, "A row was provided without id when calling updateRows():");
      const rowNode = apiRef.current.getRowNode(id);
      if ((rowNode == null ? void 0 : rowNode.type) === "pinnedRow") {
        const pinnedRowsCache = apiRef.current.caches.pinnedRows;
        const prevModel = pinnedRowsCache.idLookup[id];
        if (prevModel) {
          pinnedRowsCache.idLookup[id] = _extends$1({}, prevModel, update);
        }
      } else {
        nonPinnedRowsUpdates.push(update);
      }
    });
    const cache = updateCacheWithNewRows({
      updates: nonPinnedRowsUpdates,
      getRowId: props.getRowId,
      previousCache: apiRef.current.caches.rows
    });
    throttledRowsChange({
      cache,
      throttle: true
    });
  }, [props.signature, props.getRowId, throttledRowsChange, apiRef]);
  const getRowModels = React.useCallback(() => {
    const dataRows = gridDataRowIdsSelector(apiRef);
    const idRowsLookup = gridRowsLookupSelector(apiRef);
    return new Map(dataRows.map((id) => {
      var _idRowsLookup$id;
      return [id, (_idRowsLookup$id = idRowsLookup[id]) != null ? _idRowsLookup$id : {}];
    }));
  }, [apiRef]);
  const getRowsCount = React.useCallback(() => gridRowCountSelector(apiRef), [apiRef]);
  const getAllRowIds = React.useCallback(() => gridDataRowIdsSelector(apiRef), [apiRef]);
  const getRowIndexRelativeToVisibleRows = React.useCallback((id) => lookup[id], [lookup]);
  const setRowChildrenExpansion = React.useCallback((id, isExpanded) => {
    const currentNode = apiRef.current.getRowNode(id);
    if (!currentNode) {
      throw new Error(`MUI: No row with id #${id} found`);
    }
    if (currentNode.type !== "group") {
      throw new Error("MUI: Only group nodes can be expanded or collapsed");
    }
    const newNode = _extends$1({}, currentNode, {
      childrenExpanded: isExpanded
    });
    apiRef.current.setState((state) => {
      return _extends$1({}, state, {
        rows: _extends$1({}, state.rows, {
          tree: _extends$1({}, state.rows.tree, {
            [id]: newNode
          })
        })
      });
    });
    apiRef.current.forceUpdate();
    apiRef.current.publishEvent("rowExpansionChange", newNode);
  }, [apiRef]);
  const getRowNode = React.useCallback((id) => {
    var _ref;
    return (_ref = gridRowTreeSelector(apiRef)[id]) != null ? _ref : null;
  }, [apiRef]);
  const getRowGroupChildren = React.useCallback(({
    skipAutoGeneratedRows = true,
    groupId,
    applySorting,
    applyFiltering
  }) => {
    const tree = gridRowTreeSelector(apiRef);
    let children;
    if (applySorting) {
      const groupNode = tree[groupId];
      if (!groupNode) {
        return [];
      }
      const sortedRowIds = gridSortedRowIdsSelector(apiRef);
      children = [];
      const startIndex = sortedRowIds.findIndex((id) => id === groupId) + 1;
      for (let index2 = startIndex; index2 < sortedRowIds.length && tree[sortedRowIds[index2]].depth > groupNode.depth; index2 += 1) {
        const id = sortedRowIds[index2];
        if (!skipAutoGeneratedRows || !isAutoGeneratedRow(tree[id])) {
          children.push(id);
        }
      }
    } else {
      children = getTreeNodeDescendants(tree, groupId, skipAutoGeneratedRows);
    }
    if (applyFiltering) {
      const filteredRowsLookup = gridFilteredRowsLookupSelector(apiRef);
      children = children.filter((childId) => filteredRowsLookup[childId] !== false);
    }
    return children;
  }, [apiRef]);
  const setRowIndex = React.useCallback((rowId, targetIndex) => {
    const node = apiRef.current.getRowNode(rowId);
    if (!node) {
      throw new Error(`MUI: No row with id #${rowId} found`);
    }
    if (node.parent !== GRID_ROOT_GROUP_ID) {
      throw new Error(`MUI: The row reordering do not support reordering of grouped rows yet`);
    }
    if (node.type !== "leaf") {
      throw new Error(`MUI: The row reordering do not support reordering of footer or grouping rows`);
    }
    apiRef.current.setState((state) => {
      const group = gridRowTreeSelector(state, apiRef.current.instanceId)[GRID_ROOT_GROUP_ID];
      const allRows = group.children;
      const oldIndex = allRows.findIndex((row) => row === rowId);
      if (oldIndex === -1 || oldIndex === targetIndex) {
        return state;
      }
      logger.debug(`Moving row ${rowId} to index ${targetIndex}`);
      const updatedRows = [...allRows];
      updatedRows.splice(targetIndex, 0, updatedRows.splice(oldIndex, 1)[0]);
      return _extends$1({}, state, {
        rows: _extends$1({}, state.rows, {
          tree: _extends$1({}, state.rows.tree, {
            [GRID_ROOT_GROUP_ID]: _extends$1({}, group, {
              children: updatedRows
            })
          })
        })
      });
    });
    apiRef.current.publishEvent("rowsSet");
  }, [apiRef, logger]);
  const replaceRows = React.useCallback((firstRowToRender, newRows) => {
    if (props.signature === GridSignature.DataGrid && newRows.length > 1) {
      throw new Error(["MUI: You can't replace rows using `apiRef.current.unstable_replaceRows` on the DataGrid.", "You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join("\n"));
    }
    if (newRows.length === 0) {
      return;
    }
    const treeDepth = gridRowMaximumTreeDepthSelector(apiRef);
    if (treeDepth > 1) {
      throw new Error("`apiRef.current.unstable_replaceRows` is not compatible with tree data and row grouping");
    }
    const tree = _extends$1({}, gridRowTreeSelector(apiRef));
    const dataRowIdToModelLookup = _extends$1({}, gridRowsLookupSelector(apiRef));
    const dataRowIdToIdLookup = _extends$1({}, gridRowsDataRowIdToIdLookupSelector(apiRef));
    const rootGroup = tree[GRID_ROOT_GROUP_ID];
    const rootGroupChildren = [...rootGroup.children];
    const seenIds = /* @__PURE__ */ new Set();
    for (let i2 = 0; i2 < newRows.length; i2 += 1) {
      const rowModel = newRows[i2];
      const rowId = getRowIdFromRowModel(rowModel, props.getRowId, "A row was provided without id when calling replaceRows().");
      const [removedRowId] = rootGroupChildren.splice(firstRowToRender + i2, 1, rowId);
      if (!seenIds.has(removedRowId)) {
        delete dataRowIdToModelLookup[removedRowId];
        delete dataRowIdToIdLookup[removedRowId];
        delete tree[removedRowId];
      }
      const rowTreeNodeConfig = {
        id: rowId,
        depth: 0,
        parent: GRID_ROOT_GROUP_ID,
        type: "leaf",
        groupingKey: null
      };
      dataRowIdToModelLookup[rowId] = rowModel;
      dataRowIdToIdLookup[rowId] = rowId;
      tree[rowId] = rowTreeNodeConfig;
      seenIds.add(rowId);
    }
    tree[GRID_ROOT_GROUP_ID] = _extends$1({}, rootGroup, {
      children: rootGroupChildren
    });
    const dataRowIds = rootGroupChildren.filter((childId) => tree[childId].type === "leaf");
    apiRef.current.caches.rows.dataRowIdToModelLookup = dataRowIdToModelLookup;
    apiRef.current.caches.rows.dataRowIdToIdLookup = dataRowIdToIdLookup;
    apiRef.current.setState((state) => _extends$1({}, state, {
      rows: _extends$1({}, state.rows, {
        dataRowIdToModelLookup,
        dataRowIdToIdLookup,
        dataRowIds,
        tree
      })
    }));
    apiRef.current.publishEvent("rowsSet");
  }, [apiRef, props.signature, props.getRowId]);
  const rowApi = {
    getRow,
    getRowId,
    getRowModels,
    getRowsCount,
    getAllRowIds,
    setRows,
    updateRows,
    getRowNode,
    getRowIndexRelativeToVisibleRows,
    unstable_replaceRows: replaceRows
  };
  const rowProApi = {
    setRowIndex,
    setRowChildrenExpansion,
    getRowGroupChildren
  };
  const groupRows = React.useCallback(() => {
    logger.info(`Row grouping pre-processing have changed, regenerating the row tree`);
    let cache;
    if (apiRef.current.caches.rows.rowsBeforePartialUpdates === props.rows) {
      cache = _extends$1({}, apiRef.current.caches.rows, {
        updates: {
          type: "full",
          rows: gridDataRowIdsSelector(apiRef)
        }
      });
    } else {
      cache = createRowsInternalCache({
        rows: props.rows,
        getRowId: props.getRowId,
        loading: props.loading,
        rowCount: props.rowCount
      });
    }
    throttledRowsChange({
      cache,
      throttle: false
    });
  }, [logger, apiRef, props.rows, props.getRowId, props.loading, props.rowCount, throttledRowsChange]);
  const handleStrategyProcessorChange = React.useCallback((methodName) => {
    if (methodName === "rowTreeCreation") {
      groupRows();
    }
  }, [groupRows]);
  const handleStrategyActivityChange = React.useCallback(() => {
    if (apiRef.current.getActiveStrategy("rowTree") !== gridRowGroupingNameSelector(apiRef)) {
      groupRows();
    }
  }, [apiRef, groupRows]);
  useGridApiEventHandler(apiRef, "activeStrategyProcessorChange", handleStrategyProcessorChange);
  useGridApiEventHandler(apiRef, "strategyAvailabilityChange", handleStrategyActivityChange);
  const applyHydrateRowsProcessor = React.useCallback(() => {
    apiRef.current.setState((state) => {
      const response = apiRef.current.unstable_applyPipeProcessors("hydrateRows", {
        tree: gridRowTreeSelector(state, apiRef.current.instanceId),
        treeDepths: gridRowTreeDepthsSelector(state, apiRef.current.instanceId),
        dataRowIds: gridDataRowIdsSelector(state, apiRef.current.instanceId),
        dataRowIdToModelLookup: gridRowsLookupSelector(state, apiRef.current.instanceId),
        dataRowIdToIdLookup: gridRowsDataRowIdToIdLookupSelector(state, apiRef.current.instanceId)
      });
      return _extends$1({}, state, {
        rows: _extends$1({}, state.rows, response, {
          totalTopLevelRowCount: getTopLevelRowCount({
            tree: response.tree,
            rowCountProp: props.rowCount
          })
        })
      });
    });
    apiRef.current.publishEvent("rowsSet");
    apiRef.current.forceUpdate();
  }, [apiRef, props.rowCount]);
  useGridRegisterPipeApplier(apiRef, "hydrateRows", applyHydrateRowsProcessor);
  useGridApiMethod(apiRef, rowApi, "public");
  useGridApiMethod(apiRef, rowProApi, props.signature === GridSignature.DataGrid ? "private" : "public");
  const isFirstRender = React.useRef(true);
  React.useEffect(() => {
    if (isFirstRender.current) {
      isFirstRender.current = false;
      return;
    }
    const areNewRowsAlreadyInState = apiRef.current.caches.rows.rowsBeforePartialUpdates === props.rows;
    const isNewLoadingAlreadyInState = apiRef.current.caches.rows.loadingPropBeforePartialUpdates === props.loading;
    const isNewRowCountAlreadyInState = apiRef.current.caches.rows.rowCountPropBeforePartialUpdates === props.rowCount;
    if (areNewRowsAlreadyInState) {
      if (!isNewLoadingAlreadyInState) {
        apiRef.current.setState((state) => _extends$1({}, state, {
          rows: _extends$1({}, state.rows, {
            loading: props.loading
          })
        }));
        apiRef.current.caches.rows.loadingPropBeforePartialUpdates = props.loading;
        apiRef.current.forceUpdate();
      }
      if (!isNewRowCountAlreadyInState) {
        apiRef.current.setState((state) => _extends$1({}, state, {
          rows: _extends$1({}, state.rows, {
            totalRowCount: Math.max(props.rowCount || 0, state.rows.totalRowCount),
            totalTopLevelRowCount: Math.max(props.rowCount || 0, state.rows.totalTopLevelRowCount)
          })
        }));
        apiRef.current.caches.rows.rowCountPropBeforePartialUpdates = props.rowCount;
        apiRef.current.forceUpdate();
      }
      return;
    }
    logger.debug(`Updating all rows, new length ${props.rows.length}`);
    throttledRowsChange({
      cache: createRowsInternalCache({
        rows: props.rows,
        getRowId: props.getRowId,
        loading: props.loading,
        rowCount: props.rowCount
      }),
      throttle: false
    });
  }, [props.rows, props.rowCount, props.getRowId, props.loading, logger, throttledRowsChange, apiRef]);
};
const createFlatRowTree = (rows) => {
  const tree = {
    [GRID_ROOT_GROUP_ID]: _extends$1({}, buildRootGroup(), {
      children: rows
    })
  };
  for (let i2 = 0; i2 < rows.length; i2 += 1) {
    const rowId = rows[i2];
    tree[rowId] = {
      id: rowId,
      depth: 0,
      parent: GRID_ROOT_GROUP_ID,
      type: "leaf",
      groupingKey: null
    };
  }
  return {
    groupingName: GRID_DEFAULT_STRATEGY,
    tree,
    treeDepths: {
      0: rows.length
    },
    dataRowIds: rows
  };
};
const updateFlatRowTree = ({
  previousTree,
  actions
}) => {
  const tree = _extends$1({}, previousTree);
  const idsToRemoveFromRootGroup = {};
  for (let i2 = 0; i2 < actions.remove.length; i2 += 1) {
    const idToDelete = actions.remove[i2];
    idsToRemoveFromRootGroup[idToDelete] = true;
    delete tree[idToDelete];
  }
  for (let i2 = 0; i2 < actions.insert.length; i2 += 1) {
    const idToInsert = actions.insert[i2];
    tree[idToInsert] = {
      id: idToInsert,
      depth: 0,
      parent: GRID_ROOT_GROUP_ID,
      type: "leaf",
      groupingKey: null
    };
  }
  const rootGroup = tree[GRID_ROOT_GROUP_ID];
  let rootGroupChildren = [...rootGroup.children, ...actions.insert];
  if (Object.values(idsToRemoveFromRootGroup).length) {
    rootGroupChildren = rootGroupChildren.filter((id) => !idsToRemoveFromRootGroup[id]);
  }
  tree[GRID_ROOT_GROUP_ID] = _extends$1({}, rootGroup, {
    children: rootGroupChildren
  });
  return {
    groupingName: GRID_DEFAULT_STRATEGY,
    tree,
    treeDepths: {
      0: rootGroupChildren.length
    },
    dataRowIds: rootGroupChildren
  };
};
const flatRowTreeCreationMethod = (params) => {
  if (params.updates.type === "full") {
    return createFlatRowTree(params.updates.rows);
  }
  return updateFlatRowTree({
    previousTree: params.previousTree,
    actions: params.updates.actions
  });
};
const useGridRowsPreProcessors = (apiRef) => {
  useGridRegisterStrategyProcessor(apiRef, GRID_DEFAULT_STRATEGY, "rowTreeCreation", flatRowTreeCreationMethod);
};
const getSelectionModelPropValue = (selectionModelProp, prevSelectionModel) => {
  if (selectionModelProp == null) {
    return selectionModelProp;
  }
  if (Array.isArray(selectionModelProp)) {
    return selectionModelProp;
  }
  if (prevSelectionModel && prevSelectionModel[0] === selectionModelProp) {
    return prevSelectionModel;
  }
  return [selectionModelProp];
};
const rowSelectionStateInitializer = (state, props) => {
  var _getSelectionModelPro;
  return _extends$1({}, state, {
    rowSelection: props.rowSelection ? (_getSelectionModelPro = getSelectionModelPropValue(props.rowSelectionModel)) != null ? _getSelectionModelPro : [] : []
  });
};
const useGridRowSelection = (apiRef, props) => {
  const logger = useGridLogger(apiRef, "useGridSelection");
  const runIfRowSelectionIsEnabled = (callback) => (...args) => {
    if (props.rowSelection) {
      callback(...args);
    }
  };
  const propRowSelectionModel = React.useMemo(() => {
    return getSelectionModelPropValue(props.rowSelectionModel, gridRowSelectionStateSelector(apiRef.current.state));
  }, [apiRef, props.rowSelectionModel]);
  const lastRowToggled = React.useRef(null);
  apiRef.current.registerControlState({
    stateId: "rowSelection",
    propModel: propRowSelectionModel,
    propOnChange: props.onRowSelectionModelChange,
    stateSelector: gridRowSelectionStateSelector,
    changeEvent: "rowSelectionChange"
  });
  const {
    checkboxSelection,
    disableMultipleRowSelection,
    disableRowSelectionOnClick,
    isRowSelectable: propIsRowSelectable
  } = props;
  const canHaveMultipleSelection = !disableMultipleRowSelection || checkboxSelection;
  const visibleRows = useGridVisibleRows(apiRef, props);
  const expandMouseRowRangeSelection = React.useCallback((id) => {
    var _lastRowToggled$curre;
    let endId = id;
    const startId = (_lastRowToggled$curre = lastRowToggled.current) != null ? _lastRowToggled$curre : id;
    const isSelected = apiRef.current.isRowSelected(id);
    if (isSelected) {
      const visibleRowIds = gridExpandedSortedRowIdsSelector(apiRef);
      const startIndex = visibleRowIds.findIndex((rowId) => rowId === startId);
      const endIndex = visibleRowIds.findIndex((rowId) => rowId === endId);
      if (startIndex === endIndex) {
        return;
      }
      if (startIndex > endIndex) {
        endId = visibleRowIds[endIndex + 1];
      } else {
        endId = visibleRowIds[endIndex - 1];
      }
    }
    lastRowToggled.current = id;
    apiRef.current.selectRowRange({
      startId,
      endId
    }, !isSelected);
  }, [apiRef]);
  const setRowSelectionModel = React.useCallback((model) => {
    if (props.signature === GridSignature.DataGrid && !props.checkboxSelection && Array.isArray(model) && model.length > 1) {
      throw new Error(["MUI: `rowSelectionModel` can only contain 1 item in DataGrid.", "You need to upgrade to DataGridPro or DataGridPremium component to unlock multiple selection."].join("\n"));
    }
    const currentModel = gridRowSelectionStateSelector(apiRef.current.state);
    if (currentModel !== model) {
      logger.debug(`Setting selection model`);
      apiRef.current.setState((state) => _extends$1({}, state, {
        rowSelection: props.rowSelection ? model : []
      }));
      apiRef.current.forceUpdate();
    }
  }, [apiRef, logger, props.rowSelection, props.signature, props.checkboxSelection]);
  const isRowSelected = React.useCallback((id) => gridRowSelectionStateSelector(apiRef.current.state).includes(id), [apiRef]);
  const isRowSelectable = React.useCallback((id) => {
    if (propIsRowSelectable && !propIsRowSelectable(apiRef.current.getRowParams(id))) {
      return false;
    }
    const rowNode = apiRef.current.getRowNode(id);
    if ((rowNode == null ? void 0 : rowNode.type) === "footer" || (rowNode == null ? void 0 : rowNode.type) === "pinnedRow") {
      return false;
    }
    return true;
  }, [apiRef, propIsRowSelectable]);
  const getSelectedRows = React.useCallback(() => selectedGridRowsSelector(apiRef), [apiRef]);
  const selectRow = React.useCallback((id, isSelected = true, resetSelection = false) => {
    if (!apiRef.current.isRowSelectable(id)) {
      return;
    }
    lastRowToggled.current = id;
    if (resetSelection) {
      logger.debug(`Setting selection for row ${id}`);
      apiRef.current.setRowSelectionModel(isSelected ? [id] : []);
    } else {
      logger.debug(`Toggling selection for row ${id}`);
      const selection = gridRowSelectionStateSelector(apiRef.current.state);
      const newSelection = selection.filter((el) => el !== id);
      if (isSelected) {
        newSelection.push(id);
      }
      const isSelectionValid = newSelection.length < 2 || canHaveMultipleSelection;
      if (isSelectionValid) {
        apiRef.current.setRowSelectionModel(newSelection);
      }
    }
  }, [apiRef, logger, canHaveMultipleSelection]);
  const selectRows = React.useCallback((ids, isSelected = true, resetSelection = false) => {
    logger.debug(`Setting selection for several rows`);
    const selectableIds = ids.filter((id) => apiRef.current.isRowSelectable(id));
    let newSelection;
    if (resetSelection) {
      newSelection = isSelected ? selectableIds : [];
    } else {
      const selectionLookup = _extends$1({}, selectedIdsLookupSelector(apiRef));
      selectableIds.forEach((id) => {
        if (isSelected) {
          selectionLookup[id] = id;
        } else {
          delete selectionLookup[id];
        }
      });
      newSelection = Object.values(selectionLookup);
    }
    const isSelectionValid = newSelection.length < 2 || canHaveMultipleSelection;
    if (isSelectionValid) {
      apiRef.current.setRowSelectionModel(newSelection);
    }
  }, [apiRef, logger, canHaveMultipleSelection]);
  const selectRowRange = React.useCallback(({
    startId,
    endId
  }, isSelected = true, resetSelection = false) => {
    if (!apiRef.current.getRow(startId) || !apiRef.current.getRow(endId)) {
      return;
    }
    logger.debug(`Expanding selection from row ${startId} to row ${endId}`);
    const allPagesRowIds = gridExpandedSortedRowIdsSelector(apiRef);
    const startIndex = allPagesRowIds.indexOf(startId);
    const endIndex = allPagesRowIds.indexOf(endId);
    const [start, end] = startIndex > endIndex ? [endIndex, startIndex] : [startIndex, endIndex];
    const rowsBetweenStartAndEnd = allPagesRowIds.slice(start, end + 1);
    apiRef.current.selectRows(rowsBetweenStartAndEnd, isSelected, resetSelection);
  }, [apiRef, logger]);
  const selectionPublicApi = {
    selectRow,
    setRowSelectionModel,
    getSelectedRows,
    isRowSelected,
    isRowSelectable
  };
  const selectionPrivateApi = {
    selectRows,
    selectRowRange
  };
  useGridApiMethod(apiRef, selectionPublicApi, "public");
  useGridApiMethod(apiRef, selectionPrivateApi, props.signature === GridSignature.DataGrid ? "private" : "public");
  const removeOutdatedSelection = React.useCallback(() => {
    if (props.keepNonExistentRowsSelected) {
      return;
    }
    const currentSelection = gridRowSelectionStateSelector(apiRef.current.state);
    const rowsLookup = gridRowsLookupSelector(apiRef);
    const selectionLookup = _extends$1({}, selectedIdsLookupSelector(apiRef));
    let hasChanged = false;
    currentSelection.forEach((id) => {
      if (!rowsLookup[id]) {
        delete selectionLookup[id];
        hasChanged = true;
      }
    });
    if (hasChanged) {
      apiRef.current.setRowSelectionModel(Object.values(selectionLookup));
    }
  }, [apiRef, props.keepNonExistentRowsSelected]);
  const handleSingleRowSelection = React.useCallback((id, event) => {
    const hasCtrlKey = event.metaKey || event.ctrlKey;
    const isMultipleSelectionDisabled = !checkboxSelection && !hasCtrlKey && !isKeyboardEvent$1(event);
    const resetSelection = !canHaveMultipleSelection || isMultipleSelectionDisabled;
    const isSelected = apiRef.current.isRowSelected(id);
    if (resetSelection) {
      apiRef.current.selectRow(id, !isMultipleSelectionDisabled ? !isSelected : true, true);
    } else {
      apiRef.current.selectRow(id, !isSelected, false);
    }
  }, [apiRef, canHaveMultipleSelection, checkboxSelection]);
  const handleRowClick = React.useCallback((params, event) => {
    var _closest;
    if (disableRowSelectionOnClick) {
      return;
    }
    const field = (_closest = event.target.closest(`.${gridClasses.cell}`)) == null ? void 0 : _closest.getAttribute("data-field");
    if (field === GRID_CHECKBOX_SELECTION_COL_DEF.field) {
      return;
    }
    if (field === GRID_DETAIL_PANEL_TOGGLE_FIELD) {
      return;
    }
    if (field) {
      const column = apiRef.current.getColumn(field);
      if ((column == null ? void 0 : column.type) === GRID_ACTIONS_COLUMN_TYPE) {
        return;
      }
    }
    const rowNode = apiRef.current.getRowNode(params.id);
    if (rowNode.type === "pinnedRow") {
      return;
    }
    if (event.shiftKey && (canHaveMultipleSelection || checkboxSelection)) {
      expandMouseRowRangeSelection(params.id);
    } else {
      handleSingleRowSelection(params.id, event);
    }
  }, [disableRowSelectionOnClick, canHaveMultipleSelection, checkboxSelection, apiRef, expandMouseRowRangeSelection, handleSingleRowSelection]);
  const preventSelectionOnShift = React.useCallback((params, event) => {
    if (canHaveMultipleSelection && event.shiftKey) {
      var _window$getSelection;
      (_window$getSelection = window.getSelection()) == null || _window$getSelection.removeAllRanges();
    }
  }, [canHaveMultipleSelection]);
  const handleRowSelectionCheckboxChange = React.useCallback((params, event) => {
    if (event.nativeEvent.shiftKey) {
      expandMouseRowRangeSelection(params.id);
    } else {
      apiRef.current.selectRow(params.id, params.value);
    }
  }, [apiRef, expandMouseRowRangeSelection]);
  const handleHeaderSelectionCheckboxChange = React.useCallback((params) => {
    const shouldLimitSelectionToCurrentPage = props.checkboxSelectionVisibleOnly && props.pagination;
    const rowsToBeSelected = shouldLimitSelectionToCurrentPage ? gridPaginatedVisibleSortedGridRowIdsSelector(apiRef) : gridExpandedSortedRowIdsSelector(apiRef);
    const filterModel = gridFilterModelSelector(apiRef);
    apiRef.current.selectRows(rowsToBeSelected, params.value, (filterModel == null ? void 0 : filterModel.items.length) > 0);
  }, [apiRef, props.checkboxSelectionVisibleOnly, props.pagination]);
  const handleCellKeyDown = React.useCallback((params, event) => {
    if (apiRef.current.getCellMode(params.id, params.field) === GridCellModes.Edit) {
      return;
    }
    if (isEventTargetInPortal(event)) {
      return;
    }
    if (isNavigationKey(event.key) && event.shiftKey) {
      const focusCell = gridFocusCellSelector(apiRef);
      if (focusCell && focusCell.id !== params.id) {
        event.preventDefault();
        const isNextRowSelected = apiRef.current.isRowSelected(focusCell.id);
        if (!canHaveMultipleSelection) {
          apiRef.current.selectRow(focusCell.id, !isNextRowSelected, true);
          return;
        }
        const newRowIndex = apiRef.current.getRowIndexRelativeToVisibleRows(focusCell.id);
        const previousRowIndex = apiRef.current.getRowIndexRelativeToVisibleRows(params.id);
        let start;
        let end;
        if (newRowIndex > previousRowIndex) {
          if (isNextRowSelected) {
            start = previousRowIndex;
            end = newRowIndex - 1;
          } else {
            start = previousRowIndex;
            end = newRowIndex;
          }
        } else {
          if (isNextRowSelected) {
            start = newRowIndex + 1;
            end = previousRowIndex;
          } else {
            start = newRowIndex;
            end = previousRowIndex;
          }
        }
        const rowsBetweenStartAndEnd = visibleRows.rows.slice(start, end + 1).map((row) => row.id);
        apiRef.current.selectRows(rowsBetweenStartAndEnd, !isNextRowSelected);
        return;
      }
    }
    if (event.key === " " && event.shiftKey) {
      event.preventDefault();
      handleSingleRowSelection(params.id, event);
      return;
    }
    if (event.key === "a" && (event.ctrlKey || event.metaKey)) {
      event.preventDefault();
      selectRows(apiRef.current.getAllRowIds(), true);
    }
  }, [apiRef, handleSingleRowSelection, selectRows, visibleRows.rows, canHaveMultipleSelection]);
  useGridApiEventHandler(apiRef, "sortedRowsSet", runIfRowSelectionIsEnabled(removeOutdatedSelection));
  useGridApiEventHandler(apiRef, "rowClick", runIfRowSelectionIsEnabled(handleRowClick));
  useGridApiEventHandler(apiRef, "rowSelectionCheckboxChange", runIfRowSelectionIsEnabled(handleRowSelectionCheckboxChange));
  useGridApiEventHandler(apiRef, "headerSelectionCheckboxChange", handleHeaderSelectionCheckboxChange);
  useGridApiEventHandler(apiRef, "cellMouseDown", runIfRowSelectionIsEnabled(preventSelectionOnShift));
  useGridApiEventHandler(apiRef, "cellKeyDown", runIfRowSelectionIsEnabled(handleCellKeyDown));
  React.useEffect(() => {
    if (propRowSelectionModel !== void 0) {
      apiRef.current.setRowSelectionModel(propRowSelectionModel);
    }
  }, [apiRef, propRowSelectionModel, props.rowSelection]);
  React.useEffect(() => {
    if (!props.rowSelection) {
      apiRef.current.setRowSelectionModel([]);
    }
  }, [apiRef, props.rowSelection]);
  const isStateControlled = propRowSelectionModel != null;
  React.useEffect(() => {
    if (isStateControlled || !props.rowSelection) {
      return;
    }
    const currentSelection = gridRowSelectionStateSelector(apiRef.current.state);
    if (isRowSelectable) {
      const newSelection = currentSelection.filter((id) => isRowSelectable(id));
      if (newSelection.length < currentSelection.length) {
        apiRef.current.setRowSelectionModel(newSelection);
      }
    }
  }, [apiRef, isRowSelectable, isStateControlled, props.rowSelection]);
  React.useEffect(() => {
    if (!props.rowSelection || isStateControlled) {
      return;
    }
    const currentSelection = gridRowSelectionStateSelector(apiRef.current.state);
    if (!canHaveMultipleSelection && currentSelection.length > 1) {
      apiRef.current.setRowSelectionModel([]);
    }
  }, [apiRef, canHaveMultipleSelection, checkboxSelection, isStateControlled, props.rowSelection]);
};
const GRID_DEFAULT_LOCALE_TEXT = {
  // Root
  noRowsLabel: "No rows",
  noResultsOverlayLabel: "No results found.",
  // Density selector toolbar button text
  toolbarDensity: "Density",
  toolbarDensityLabel: "Density",
  toolbarDensityCompact: "Compact",
  toolbarDensityStandard: "Standard",
  toolbarDensityComfortable: "Comfortable",
  // Columns selector toolbar button text
  toolbarColumns: "Columns",
  toolbarColumnsLabel: "Select columns",
  // Filters toolbar button text
  toolbarFilters: "Filters",
  toolbarFiltersLabel: "Show filters",
  toolbarFiltersTooltipHide: "Hide filters",
  toolbarFiltersTooltipShow: "Show filters",
  toolbarFiltersTooltipActive: (count) => count !== 1 ? `${count} active filters` : `${count} active filter`,
  // Quick filter toolbar field
  toolbarQuickFilterPlaceholder: "Search…",
  toolbarQuickFilterLabel: "Search",
  toolbarQuickFilterDeleteIconLabel: "Clear",
  // Export selector toolbar button text
  toolbarExport: "Export",
  toolbarExportLabel: "Export",
  toolbarExportCSV: "Download as CSV",
  toolbarExportPrint: "Print",
  toolbarExportExcel: "Download as Excel",
  // Columns panel text
  columnsPanelTextFieldLabel: "Find column",
  columnsPanelTextFieldPlaceholder: "Column title",
  columnsPanelDragIconLabel: "Reorder column",
  columnsPanelShowAllButton: "Show all",
  columnsPanelHideAllButton: "Hide all",
  // Filter panel text
  filterPanelAddFilter: "Add filter",
  filterPanelRemoveAll: "Remove all",
  filterPanelDeleteIconLabel: "Delete",
  filterPanelLogicOperator: "Logic operator",
  filterPanelOperator: "Operator",
  filterPanelOperatorAnd: "And",
  filterPanelOperatorOr: "Or",
  filterPanelColumns: "Columns",
  filterPanelInputLabel: "Value",
  filterPanelInputPlaceholder: "Filter value",
  // Filter operators text
  filterOperatorContains: "contains",
  filterOperatorEquals: "equals",
  filterOperatorStartsWith: "starts with",
  filterOperatorEndsWith: "ends with",
  filterOperatorIs: "is",
  filterOperatorNot: "is not",
  filterOperatorAfter: "is after",
  filterOperatorOnOrAfter: "is on or after",
  filterOperatorBefore: "is before",
  filterOperatorOnOrBefore: "is on or before",
  filterOperatorIsEmpty: "is empty",
  filterOperatorIsNotEmpty: "is not empty",
  filterOperatorIsAnyOf: "is any of",
  "filterOperator=": "=",
  "filterOperator!=": "!=",
  "filterOperator>": ">",
  "filterOperator>=": ">=",
  "filterOperator<": "<",
  "filterOperator<=": "<=",
  // Header filter operators text
  headerFilterOperatorContains: "Contains",
  headerFilterOperatorEquals: "Equals",
  headerFilterOperatorStartsWith: "Starts with",
  headerFilterOperatorEndsWith: "Ends with",
  headerFilterOperatorIs: "Is",
  headerFilterOperatorNot: "Is not",
  headerFilterOperatorAfter: "Is after",
  headerFilterOperatorOnOrAfter: "Is on or after",
  headerFilterOperatorBefore: "Is before",
  headerFilterOperatorOnOrBefore: "Is on or before",
  headerFilterOperatorIsEmpty: "Is empty",
  headerFilterOperatorIsNotEmpty: "Is not empty",
  headerFilterOperatorIsAnyOf: "Is any of",
  "headerFilterOperator=": "Equals",
  "headerFilterOperator!=": "Not equals",
  "headerFilterOperator>": "Greater than",
  "headerFilterOperator>=": "Greater than or equal to",
  "headerFilterOperator<": "Less than",
  "headerFilterOperator<=": "Less than or equal to",
  // Filter values text
  filterValueAny: "any",
  filterValueTrue: "true",
  filterValueFalse: "false",
  // Column menu text
  columnMenuLabel: "Menu",
  columnMenuShowColumns: "Show columns",
  columnMenuManageColumns: "Manage columns",
  columnMenuFilter: "Filter",
  columnMenuHideColumn: "Hide column",
  columnMenuUnsort: "Unsort",
  columnMenuSortAsc: "Sort by ASC",
  columnMenuSortDesc: "Sort by DESC",
  // Column header text
  columnHeaderFiltersTooltipActive: (count) => count !== 1 ? `${count} active filters` : `${count} active filter`,
  columnHeaderFiltersLabel: "Show filters",
  columnHeaderSortIconLabel: "Sort",
  // Rows selected footer text
  footerRowSelected: (count) => count !== 1 ? `${count.toLocaleString()} rows selected` : `${count.toLocaleString()} row selected`,
  // Total row amount footer text
  footerTotalRows: "Total Rows:",
  // Total visible row amount footer text
  footerTotalVisibleRows: (visibleCount, totalCount) => `${visibleCount.toLocaleString()} of ${totalCount.toLocaleString()}`,
  // Checkbox selection text
  checkboxSelectionHeaderName: "Checkbox selection",
  checkboxSelectionSelectAllRows: "Select all rows",
  checkboxSelectionUnselectAllRows: "Unselect all rows",
  checkboxSelectionSelectRow: "Select row",
  checkboxSelectionUnselectRow: "Unselect row",
  // Boolean cell text
  booleanCellTrueLabel: "yes",
  booleanCellFalseLabel: "no",
  // Actions cell more text
  actionsCellMore: "more",
  // Column pinning text
  pinToLeft: "Pin to left",
  pinToRight: "Pin to right",
  unpin: "Unpin",
  // Tree Data
  treeDataGroupingHeaderName: "Group",
  treeDataExpand: "see children",
  treeDataCollapse: "hide children",
  // Grouping columns
  groupingColumnHeaderName: "Group",
  groupColumn: (name) => `Group by ${name}`,
  unGroupColumn: (name) => `Stop grouping by ${name}`,
  // Master/detail
  detailPanelToggle: "Detail panel toggle",
  expandDetailPanel: "Expand",
  collapseDetailPanel: "Collapse",
  // Used core components translation keys
  MuiTablePagination: {},
  // Row reordering text
  rowReorderingHeaderName: "Row reordering",
  // Aggregation
  aggregationMenuItemHeader: "Aggregation",
  aggregationFunctionLabelSum: "sum",
  aggregationFunctionLabelAvg: "avg",
  aggregationFunctionLabelMin: "min",
  aggregationFunctionLabelMax: "max",
  aggregationFunctionLabelSize: "size"
};
const useUtilityClasses$6 = (ownerState) => {
  const {
    classes
  } = ownerState;
  return React.useMemo(() => {
    const slots = {
      cellCheckbox: ["cellCheckbox"],
      columnHeaderCheckbox: ["columnHeaderCheckbox"]
    };
    return unstable_composeClasses(slots, getDataGridUtilityClass, classes);
  }, [classes]);
};
const useGridRowSelectionPreProcessors = (apiRef, props) => {
  const ownerState = {
    classes: props.classes
  };
  const classes = useUtilityClasses$6(ownerState);
  const updateSelectionColumn = React.useCallback((columnsState) => {
    const selectionColumn = _extends$1({}, GRID_CHECKBOX_SELECTION_COL_DEF, {
      cellClassName: classes.cellCheckbox,
      headerClassName: classes.columnHeaderCheckbox,
      headerName: apiRef.current.getLocaleText("checkboxSelectionHeaderName")
    });
    const shouldHaveSelectionColumn = props.checkboxSelection;
    const haveSelectionColumn = columnsState.lookup[GRID_CHECKBOX_SELECTION_FIELD] != null;
    if (shouldHaveSelectionColumn && !haveSelectionColumn) {
      columnsState.lookup[GRID_CHECKBOX_SELECTION_FIELD] = selectionColumn;
      columnsState.orderedFields = [GRID_CHECKBOX_SELECTION_FIELD, ...columnsState.orderedFields];
    } else if (!shouldHaveSelectionColumn && haveSelectionColumn) {
      delete columnsState.lookup[GRID_CHECKBOX_SELECTION_FIELD];
      columnsState.orderedFields = columnsState.orderedFields.filter((field) => field !== GRID_CHECKBOX_SELECTION_FIELD);
    } else if (shouldHaveSelectionColumn && haveSelectionColumn) {
      columnsState.lookup[GRID_CHECKBOX_SELECTION_FIELD] = _extends$1({}, selectionColumn, columnsState.lookup[GRID_CHECKBOX_SELECTION_FIELD]);
    }
    return columnsState;
  }, [apiRef, classes, props.checkboxSelection]);
  useGridRegisterPipeProcessor(apiRef, "hydrateColumns", updateSelectionColumn);
};
const sortingStateInitializer = (state, props) => {
  var _ref, _props$sortModel, _props$initialState;
  const sortModel = (_ref = (_props$sortModel = props.sortModel) != null ? _props$sortModel : (_props$initialState = props.initialState) == null || (_props$initialState = _props$initialState.sorting) == null ? void 0 : _props$initialState.sortModel) != null ? _ref : [];
  return _extends$1({}, state, {
    sorting: {
      sortModel: sanitizeSortModel(sortModel, props.disableMultipleColumnsSorting),
      sortedRows: []
    }
  });
};
const useGridSorting = (apiRef, props) => {
  var _props$initialState3;
  const logger = useGridLogger(apiRef, "useGridSorting");
  apiRef.current.registerControlState({
    stateId: "sortModel",
    propModel: props.sortModel,
    propOnChange: props.onSortModelChange,
    stateSelector: gridSortModelSelector,
    changeEvent: "sortModelChange"
  });
  const upsertSortModel = React.useCallback((field, sortItem) => {
    const sortModel = gridSortModelSelector(apiRef);
    const existingIdx = sortModel.findIndex((c) => c.field === field);
    let newSortModel = [...sortModel];
    if (existingIdx > -1) {
      if (!sortItem) {
        newSortModel.splice(existingIdx, 1);
      } else {
        newSortModel.splice(existingIdx, 1, sortItem);
      }
    } else {
      newSortModel = [...sortModel, sortItem];
    }
    return newSortModel;
  }, [apiRef]);
  const createSortItem = React.useCallback((col, directionOverride) => {
    var _col$sortingOrder2;
    const sortModel = gridSortModelSelector(apiRef);
    const existing = sortModel.find((c) => c.field === col.field);
    if (existing) {
      var _col$sortingOrder;
      const nextSort = directionOverride === void 0 ? getNextGridSortDirection((_col$sortingOrder = col.sortingOrder) != null ? _col$sortingOrder : props.sortingOrder, existing.sort) : directionOverride;
      return nextSort == null ? void 0 : _extends$1({}, existing, {
        sort: nextSort
      });
    }
    return {
      field: col.field,
      sort: directionOverride === void 0 ? getNextGridSortDirection((_col$sortingOrder2 = col.sortingOrder) != null ? _col$sortingOrder2 : props.sortingOrder) : directionOverride
    };
  }, [apiRef, props.sortingOrder]);
  const addColumnMenuItem = React.useCallback((columnMenuItems, colDef) => {
    if (colDef == null || colDef.sortable === false) {
      return columnMenuItems;
    }
    const sortingOrder = colDef.sortingOrder || props.sortingOrder;
    if (sortingOrder.some((item) => !!item)) {
      return [...columnMenuItems, "columnMenuSortItem"];
    }
    return columnMenuItems;
  }, [props.sortingOrder]);
  const applySorting = React.useCallback(() => {
    apiRef.current.setState((state) => {
      if (props.sortingMode === "server") {
        logger.debug("Skipping sorting rows as sortingMode = server");
        return _extends$1({}, state, {
          sorting: _extends$1({}, state.sorting, {
            sortedRows: getTreeNodeDescendants(gridRowTreeSelector(apiRef), GRID_ROOT_GROUP_ID, false)
          })
        });
      }
      const sortModel = gridSortModelSelector(state, apiRef.current.instanceId);
      const sortRowList = buildAggregatedSortingApplier(sortModel, apiRef);
      const sortedRows = apiRef.current.applyStrategyProcessor("sorting", {
        sortRowList
      });
      return _extends$1({}, state, {
        sorting: _extends$1({}, state.sorting, {
          sortedRows
        })
      });
    });
    apiRef.current.publishEvent("sortedRowsSet");
    apiRef.current.forceUpdate();
  }, [apiRef, logger, props.sortingMode]);
  const setSortModel = React.useCallback((model) => {
    const currentModel = gridSortModelSelector(apiRef);
    if (currentModel !== model) {
      logger.debug(`Setting sort model`);
      apiRef.current.setState(mergeStateWithSortModel(model, props.disableMultipleColumnsSorting));
      apiRef.current.forceUpdate();
      apiRef.current.applySorting();
    }
  }, [apiRef, logger, props.disableMultipleColumnsSorting]);
  const sortColumn = React.useCallback((column, direction, allowMultipleSorting) => {
    if (!column.sortable) {
      return;
    }
    const sortItem = createSortItem(column, direction);
    let sortModel;
    if (!allowMultipleSorting || props.disableMultipleColumnsSorting) {
      sortModel = !sortItem ? [] : [sortItem];
    } else {
      sortModel = upsertSortModel(column.field, sortItem);
    }
    apiRef.current.setSortModel(sortModel);
  }, [apiRef, upsertSortModel, createSortItem, props.disableMultipleColumnsSorting]);
  const getSortModel = React.useCallback(() => gridSortModelSelector(apiRef), [apiRef]);
  const getSortedRows = React.useCallback(() => {
    const sortedRows = gridSortedRowEntriesSelector(apiRef);
    return sortedRows.map((row) => row.model);
  }, [apiRef]);
  const getSortedRowIds = React.useCallback(() => gridSortedRowIdsSelector(apiRef), [apiRef]);
  const getRowIdFromRowIndex = React.useCallback((index2) => apiRef.current.getSortedRowIds()[index2], [apiRef]);
  const sortApi = {
    getSortModel,
    getSortedRows,
    getSortedRowIds,
    getRowIdFromRowIndex,
    setSortModel,
    sortColumn,
    applySorting
  };
  useGridApiMethod(apiRef, sortApi, "public");
  const stateExportPreProcessing = React.useCallback((prevState, context) => {
    var _props$initialState2;
    const sortModelToExport = gridSortModelSelector(apiRef);
    const shouldExportSortModel = (
      // Always export if the `exportOnlyDirtyModels` property is not activated
      !context.exportOnlyDirtyModels || // Always export if the model is controlled
      props.sortModel != null || // Always export if the model has been initialized
      ((_props$initialState2 = props.initialState) == null || (_props$initialState2 = _props$initialState2.sorting) == null ? void 0 : _props$initialState2.sortModel) != null || // Export if the model is not empty
      sortModelToExport.length > 0
    );
    if (!shouldExportSortModel) {
      return prevState;
    }
    return _extends$1({}, prevState, {
      sorting: {
        sortModel: sortModelToExport
      }
    });
  }, [apiRef, props.sortModel, (_props$initialState3 = props.initialState) == null || (_props$initialState3 = _props$initialState3.sorting) == null ? void 0 : _props$initialState3.sortModel]);
  const stateRestorePreProcessing = React.useCallback((params, context) => {
    var _context$stateToResto;
    const sortModel = (_context$stateToResto = context.stateToRestore.sorting) == null ? void 0 : _context$stateToResto.sortModel;
    if (sortModel == null) {
      return params;
    }
    apiRef.current.setState(mergeStateWithSortModel(sortModel, props.disableMultipleColumnsSorting));
    return _extends$1({}, params, {
      callbacks: [...params.callbacks, apiRef.current.applySorting]
    });
  }, [apiRef, props.disableMultipleColumnsSorting]);
  const flatSortingMethod = React.useCallback((params) => {
    const rowTree = gridRowTreeSelector(apiRef);
    const rootGroupNode = rowTree[GRID_ROOT_GROUP_ID];
    const sortedChildren = params.sortRowList ? params.sortRowList(rootGroupNode.children.map((childId) => rowTree[childId])) : [...rootGroupNode.children];
    if (rootGroupNode.footerId != null) {
      sortedChildren.push(rootGroupNode.footerId);
    }
    return sortedChildren;
  }, [apiRef]);
  useGridRegisterPipeProcessor(apiRef, "exportState", stateExportPreProcessing);
  useGridRegisterPipeProcessor(apiRef, "restoreState", stateRestorePreProcessing);
  useGridRegisterStrategyProcessor(apiRef, GRID_DEFAULT_STRATEGY, "sorting", flatSortingMethod);
  const handleColumnHeaderClick = React.useCallback(({
    colDef
  }, event) => {
    const allowMultipleSorting = event.shiftKey || event.metaKey || event.ctrlKey;
    sortColumn(colDef, void 0, allowMultipleSorting);
  }, [sortColumn]);
  const handleColumnHeaderKeyDown = React.useCallback(({
    colDef
  }, event) => {
    if (isEnterKey(event.key) && !event.ctrlKey && !event.metaKey) {
      sortColumn(colDef, void 0, event.shiftKey);
    }
  }, [sortColumn]);
  const handleColumnsChange = React.useCallback(() => {
    const sortModel = gridSortModelSelector(apiRef);
    const latestColumns = gridColumnLookupSelector(apiRef);
    if (sortModel.length > 0) {
      const newModel = sortModel.filter((sortItem) => latestColumns[sortItem.field]);
      if (newModel.length < sortModel.length) {
        apiRef.current.setSortModel(newModel);
      }
    }
  }, [apiRef]);
  const handleStrategyProcessorChange = React.useCallback((methodName) => {
    if (methodName === "sorting") {
      apiRef.current.applySorting();
    }
  }, [apiRef]);
  useGridRegisterPipeProcessor(apiRef, "columnMenu", addColumnMenuItem);
  useGridApiEventHandler(apiRef, "columnHeaderClick", handleColumnHeaderClick);
  useGridApiEventHandler(apiRef, "columnHeaderKeyDown", handleColumnHeaderKeyDown);
  useGridApiEventHandler(apiRef, "rowsSet", apiRef.current.applySorting);
  useGridApiEventHandler(apiRef, "columnsChange", handleColumnsChange);
  useGridApiEventHandler(apiRef, "activeStrategyProcessorChange", handleStrategyProcessorChange);
  useFirstRender(() => {
    apiRef.current.applySorting();
  });
  unstable_useEnhancedEffect(() => {
    if (props.sortModel !== void 0) {
      apiRef.current.setSortModel(props.sortModel);
    }
  }, [apiRef, props.sortModel]);
};
function scrollIntoView(dimensions) {
  const {
    clientHeight,
    scrollTop,
    offsetHeight,
    offsetTop
  } = dimensions;
  const elementBottom = offsetTop + offsetHeight;
  if (offsetHeight > clientHeight) {
    return offsetTop;
  }
  if (elementBottom - clientHeight > scrollTop) {
    return elementBottom - clientHeight;
  }
  if (offsetTop < scrollTop) {
    return offsetTop;
  }
  return void 0;
}
const useGridScroll = (apiRef, props) => {
  const theme = useTheme();
  const logger = useGridLogger(apiRef, "useGridScroll");
  const colRef = apiRef.current.columnHeadersElementRef;
  const virtualScrollerRef = apiRef.current.virtualScrollerRef;
  const visibleSortedRows = useGridSelector(apiRef, gridExpandedSortedRowEntriesSelector);
  const scrollToIndexes = React.useCallback((params) => {
    const totalRowCount = gridRowCountSelector(apiRef);
    const visibleColumns = gridVisibleColumnDefinitionsSelector(apiRef);
    const scrollToHeader = params.rowIndex == null;
    if (!scrollToHeader && totalRowCount === 0 || visibleColumns.length === 0) {
      return false;
    }
    logger.debug(`Scrolling to cell at row ${params.rowIndex}, col: ${params.colIndex} `);
    let scrollCoordinates = {};
    if (params.colIndex != null) {
      const columnPositions = gridColumnPositionsSelector(apiRef);
      let cellWidth;
      if (typeof params.rowIndex !== "undefined") {
        var _visibleSortedRows$pa;
        const rowId = (_visibleSortedRows$pa = visibleSortedRows[params.rowIndex]) == null ? void 0 : _visibleSortedRows$pa.id;
        const cellColSpanInfo = apiRef.current.unstable_getCellColSpanInfo(rowId, params.colIndex);
        if (cellColSpanInfo && !cellColSpanInfo.spannedByColSpan) {
          cellWidth = cellColSpanInfo.cellProps.width;
        }
      }
      if (typeof cellWidth === "undefined") {
        cellWidth = visibleColumns[params.colIndex].computedWidth;
      }
      scrollCoordinates.left = scrollIntoView({
        clientHeight: virtualScrollerRef.current.clientWidth,
        scrollTop: Math.abs(virtualScrollerRef.current.scrollLeft),
        offsetHeight: cellWidth,
        offsetTop: columnPositions[params.colIndex]
      });
    }
    if (params.rowIndex != null) {
      var _querySelector, _querySelector2;
      const rowsMeta = gridRowsMetaSelector(apiRef.current.state);
      const page = gridPageSelector(apiRef);
      const pageSize = gridPageSizeSelector(apiRef);
      const elementIndex = !props.pagination ? params.rowIndex : params.rowIndex - page * pageSize;
      const targetOffsetHeight = rowsMeta.positions[elementIndex + 1] ? rowsMeta.positions[elementIndex + 1] - rowsMeta.positions[elementIndex] : rowsMeta.currentPageTotalHeight - rowsMeta.positions[elementIndex];
      const topPinnedRowsHeight = ((_querySelector = virtualScrollerRef.current.querySelector(`.${gridClasses["pinnedRows--top"]}`)) == null ? void 0 : _querySelector.clientHeight) || 0;
      const bottomPinnedRowsHeight = ((_querySelector2 = virtualScrollerRef.current.querySelector(`.${gridClasses["pinnedRows--bottom"]}`)) == null ? void 0 : _querySelector2.clientHeight) || 0;
      scrollCoordinates.top = scrollIntoView({
        clientHeight: virtualScrollerRef.current.clientHeight - topPinnedRowsHeight - bottomPinnedRowsHeight,
        scrollTop: virtualScrollerRef.current.scrollTop,
        offsetHeight: targetOffsetHeight,
        offsetTop: rowsMeta.positions[elementIndex]
      });
    }
    scrollCoordinates = apiRef.current.unstable_applyPipeProcessors("scrollToIndexes", scrollCoordinates, params);
    if (typeof scrollCoordinates.left !== void 0 || typeof scrollCoordinates.top !== void 0) {
      apiRef.current.scroll(scrollCoordinates);
      return true;
    }
    return false;
  }, [logger, apiRef, virtualScrollerRef, props.pagination, visibleSortedRows]);
  const scroll = React.useCallback((params) => {
    if (virtualScrollerRef.current && params.left != null && colRef.current) {
      const direction = theme.direction === "rtl" ? -1 : 1;
      colRef.current.scrollLeft = params.left;
      virtualScrollerRef.current.scrollLeft = direction * params.left;
      logger.debug(`Scrolling left: ${params.left}`);
    }
    if (virtualScrollerRef.current && params.top != null) {
      virtualScrollerRef.current.scrollTop = params.top;
      logger.debug(`Scrolling top: ${params.top}`);
    }
    logger.debug(`Scrolling, updating container, and viewport`);
  }, [virtualScrollerRef, theme.direction, colRef, logger]);
  const getScrollPosition = React.useCallback(() => {
    if (!(virtualScrollerRef != null && virtualScrollerRef.current)) {
      return {
        top: 0,
        left: 0
      };
    }
    return {
      top: virtualScrollerRef.current.scrollTop,
      left: virtualScrollerRef.current.scrollLeft
    };
  }, [virtualScrollerRef]);
  const scrollApi = {
    scroll,
    scrollToIndexes,
    getScrollPosition
  };
  useGridApiMethod(apiRef, scrollApi, "public");
};
function useGridEvents(apiRef, props) {
  useGridApiOptionHandler(apiRef, "columnHeaderClick", props.onColumnHeaderClick);
  useGridApiOptionHandler(apiRef, "columnHeaderDoubleClick", props.onColumnHeaderDoubleClick);
  useGridApiOptionHandler(apiRef, "columnHeaderOver", props.onColumnHeaderOver);
  useGridApiOptionHandler(apiRef, "columnHeaderOut", props.onColumnHeaderOut);
  useGridApiOptionHandler(apiRef, "columnHeaderEnter", props.onColumnHeaderEnter);
  useGridApiOptionHandler(apiRef, "columnHeaderLeave", props.onColumnHeaderLeave);
  useGridApiOptionHandler(apiRef, "cellClick", props.onCellClick);
  useGridApiOptionHandler(apiRef, "cellDoubleClick", props.onCellDoubleClick);
  useGridApiOptionHandler(apiRef, "cellKeyDown", props.onCellKeyDown);
  useGridApiOptionHandler(apiRef, "preferencePanelClose", props.onPreferencePanelClose);
  useGridApiOptionHandler(apiRef, "preferencePanelOpen", props.onPreferencePanelOpen);
  useGridApiOptionHandler(apiRef, "menuOpen", props.onMenuOpen);
  useGridApiOptionHandler(apiRef, "menuClose", props.onMenuClose);
  useGridApiOptionHandler(apiRef, "rowDoubleClick", props.onRowDoubleClick);
  useGridApiOptionHandler(apiRef, "rowClick", props.onRowClick);
  useGridApiOptionHandler(apiRef, "stateChange", props.onStateChange);
}
const isTestEnvironment = process.env.NODE_ENV === "test";
const hasScroll = ({
  content,
  container,
  scrollBarSize
}) => {
  const hasScrollXIfNoYScrollBar = content.width > container.width;
  const hasScrollYIfNoXScrollBar = content.height > container.height;
  let hasScrollX = false;
  let hasScrollY = false;
  if (hasScrollXIfNoYScrollBar || hasScrollYIfNoXScrollBar) {
    hasScrollX = hasScrollXIfNoYScrollBar;
    hasScrollY = content.height + (hasScrollX ? scrollBarSize : 0) > container.height;
    if (hasScrollY) {
      hasScrollX = content.width + scrollBarSize > container.width;
    }
  }
  return {
    hasScrollX,
    hasScrollY
  };
};
function useGridDimensions(apiRef, props) {
  const logger = useGridLogger(apiRef, "useResizeContainer");
  const errorShown = React.useRef(false);
  const rootDimensionsRef = React.useRef(null);
  const fullDimensionsRef = React.useRef(null);
  const rowsMeta = useGridSelector(apiRef, gridRowsMetaSelector);
  const densityFactor = useGridSelector(apiRef, gridDensityFactorSelector);
  const rowHeight = Math.floor(props.rowHeight * densityFactor);
  const totalHeaderHeight = getTotalHeaderHeight(apiRef, props.columnHeaderHeight);
  const updateGridDimensionsRef = React.useCallback(() => {
    var _apiRef$current$rootE;
    const rootElement = (_apiRef$current$rootE = apiRef.current.rootElementRef) == null ? void 0 : _apiRef$current$rootE.current;
    const columnsTotalWidth = gridColumnsTotalWidthSelector(apiRef);
    const pinnedRowsHeight = calculatePinnedRowsHeight(apiRef);
    if (!rootDimensionsRef.current) {
      return;
    }
    let scrollBarSize;
    if (props.scrollbarSize != null) {
      scrollBarSize = props.scrollbarSize;
    } else if (!columnsTotalWidth || !rootElement) {
      scrollBarSize = 0;
    } else {
      const doc = unstable_ownerDocument(rootElement);
      const scrollDiv = doc.createElement("div");
      scrollDiv.style.width = "99px";
      scrollDiv.style.height = "99px";
      scrollDiv.style.position = "absolute";
      scrollDiv.style.overflow = "scroll";
      scrollDiv.className = "scrollDiv";
      rootElement.appendChild(scrollDiv);
      scrollBarSize = scrollDiv.offsetWidth - scrollDiv.clientWidth;
      rootElement.removeChild(scrollDiv);
    }
    let viewportOuterSize;
    let hasScrollX;
    let hasScrollY;
    if (props.autoHeight) {
      hasScrollY = false;
      hasScrollX = Math.round(columnsTotalWidth) > Math.round(rootDimensionsRef.current.width);
      viewportOuterSize = {
        width: rootDimensionsRef.current.width,
        height: rowsMeta.currentPageTotalHeight + (hasScrollX ? scrollBarSize : 0)
      };
    } else {
      viewportOuterSize = {
        width: rootDimensionsRef.current.width,
        height: Math.max(rootDimensionsRef.current.height - totalHeaderHeight, 0)
      };
      const scrollInformation = hasScroll({
        content: {
          width: Math.round(columnsTotalWidth),
          height: rowsMeta.currentPageTotalHeight
        },
        container: {
          width: Math.round(viewportOuterSize.width),
          height: viewportOuterSize.height - pinnedRowsHeight.top - pinnedRowsHeight.bottom
        },
        scrollBarSize
      });
      hasScrollY = scrollInformation.hasScrollY;
      hasScrollX = scrollInformation.hasScrollX;
    }
    const viewportInnerSize = {
      width: viewportOuterSize.width - (hasScrollY ? scrollBarSize : 0),
      height: viewportOuterSize.height - (hasScrollX ? scrollBarSize : 0)
    };
    const newFullDimensions = {
      viewportOuterSize,
      viewportInnerSize,
      hasScrollX,
      hasScrollY,
      scrollBarSize
    };
    const prevDimensions = fullDimensionsRef.current;
    fullDimensionsRef.current = newFullDimensions;
    if (newFullDimensions.viewportInnerSize.width !== (prevDimensions == null ? void 0 : prevDimensions.viewportInnerSize.width) || newFullDimensions.viewportInnerSize.height !== (prevDimensions == null ? void 0 : prevDimensions.viewportInnerSize.height)) {
      apiRef.current.publishEvent("viewportInnerSizeChange", newFullDimensions.viewportInnerSize);
    }
  }, [apiRef, props.scrollbarSize, props.autoHeight, rowsMeta.currentPageTotalHeight, totalHeaderHeight]);
  const [savedSize, setSavedSize] = React.useState();
  const debouncedSetSavedSize = React.useMemo(() => unstable_debounce(setSavedSize, 60), []);
  const previousSize = React.useRef();
  unstable_useEnhancedEffect(() => {
    if (savedSize) {
      updateGridDimensionsRef();
      apiRef.current.publishEvent("debouncedResize", rootDimensionsRef.current);
    }
  }, [apiRef, savedSize, updateGridDimensionsRef]);
  const resize = React.useCallback(() => {
    apiRef.current.computeSizeAndPublishResizeEvent();
  }, [apiRef]);
  const getRootDimensions = React.useCallback(() => fullDimensionsRef.current, []);
  const getViewportPageSize = React.useCallback(() => {
    const dimensions = apiRef.current.getRootDimensions();
    if (!dimensions) {
      return 0;
    }
    const currentPage = getVisibleRows(apiRef, {
      pagination: props.pagination,
      paginationMode: props.paginationMode
    });
    if (props.getRowHeight) {
      const renderContext = apiRef.current.getRenderContext();
      const viewportPageSize = renderContext.lastRowIndex - renderContext.firstRowIndex;
      return Math.min(viewportPageSize - 1, currentPage.rows.length);
    }
    const maximumPageSizeWithoutScrollBar = Math.floor(dimensions.viewportInnerSize.height / rowHeight);
    return Math.min(maximumPageSizeWithoutScrollBar, currentPage.rows.length);
  }, [apiRef, props.pagination, props.paginationMode, props.getRowHeight, rowHeight]);
  const computeSizeAndPublishResizeEvent = React.useCallback(() => {
    var _apiRef$current$mainE, _previousSize$current, _previousSize$current2;
    const mainEl = (_apiRef$current$mainE = apiRef.current.mainElementRef) == null ? void 0 : _apiRef$current$mainE.current;
    if (!mainEl) {
      return;
    }
    const win = unstable_ownerWindow(mainEl);
    const computedStyle = win.getComputedStyle(mainEl);
    const height = parseFloat(computedStyle.height) || 0;
    const width = parseFloat(computedStyle.width) || 0;
    const hasHeightChanged = height !== ((_previousSize$current = previousSize.current) == null ? void 0 : _previousSize$current.height);
    const hasWidthChanged = width !== ((_previousSize$current2 = previousSize.current) == null ? void 0 : _previousSize$current2.width);
    if (!previousSize.current || hasHeightChanged || hasWidthChanged) {
      const size = {
        width,
        height
      };
      apiRef.current.publishEvent("resize", size);
      previousSize.current = size;
    }
  }, [apiRef]);
  const dimensionsApi = {
    resize,
    getRootDimensions
  };
  const dimensionsPrivateApi = {
    getViewportPageSize,
    updateGridDimensionsRef,
    computeSizeAndPublishResizeEvent
  };
  useGridApiMethod(apiRef, dimensionsApi, "public");
  useGridApiMethod(apiRef, dimensionsPrivateApi, "private");
  const isFirstSizing = React.useRef(true);
  const handleResize = React.useCallback((size) => {
    rootDimensionsRef.current = size;
    const isJSDOM = /jsdom/.test(window.navigator.userAgent);
    if (size.height === 0 && !errorShown.current && !props.autoHeight && !isJSDOM) {
      logger.error(["The parent DOM element of the data grid has an empty height.", "Please make sure that this element has an intrinsic height.", "The grid displays with a height of 0px.", "", "More details: https://mui.com/r/x-data-grid-no-dimensions."].join("\n"));
      errorShown.current = true;
    }
    if (size.width === 0 && !errorShown.current && !isJSDOM) {
      logger.error(["The parent DOM element of the data grid has an empty width.", "Please make sure that this element has an intrinsic width.", "The grid displays with a width of 0px.", "", "More details: https://mui.com/r/x-data-grid-no-dimensions."].join("\n"));
      errorShown.current = true;
    }
    if (isTestEnvironment) {
      setSavedSize(size);
      isFirstSizing.current = false;
      return;
    }
    if (isFirstSizing.current) {
      setSavedSize(size);
      isFirstSizing.current = false;
      return;
    }
    debouncedSetSavedSize(size);
  }, [props.autoHeight, debouncedSetSavedSize, logger]);
  unstable_useEnhancedEffect(() => updateGridDimensionsRef(), [updateGridDimensionsRef]);
  useGridApiOptionHandler(apiRef, "sortedRowsSet", updateGridDimensionsRef);
  useGridApiOptionHandler(apiRef, "paginationModelChange", updateGridDimensionsRef);
  useGridApiOptionHandler(apiRef, "columnsChange", updateGridDimensionsRef);
  useGridApiEventHandler(apiRef, "resize", handleResize);
  useGridApiOptionHandler(apiRef, "debouncedResize", props.onResize);
}
const _excluded$9 = ["style"], _excluded2 = ["style"];
function binarySearch$1(offset, positions, sliceStart = 0, sliceEnd = positions.length) {
  if (positions.length <= 0) {
    return -1;
  }
  if (sliceStart >= sliceEnd) {
    return sliceStart;
  }
  const pivot = sliceStart + Math.floor((sliceEnd - sliceStart) / 2);
  const itemOffset = positions[pivot];
  return offset <= itemOffset ? binarySearch$1(offset, positions, sliceStart, pivot) : binarySearch$1(offset, positions, pivot + 1, sliceEnd);
}
function exponentialSearch(offset, positions, index2) {
  let interval = 1;
  while (index2 < positions.length && Math.abs(positions[index2]) < offset) {
    index2 += interval;
    interval *= 2;
  }
  return binarySearch$1(offset, positions, Math.floor(index2 / 2), Math.min(index2, positions.length));
}
const getRenderableIndexes = ({
  firstIndex,
  lastIndex,
  buffer,
  minFirstIndex,
  maxLastIndex
}) => {
  return [clamp(firstIndex - buffer, minFirstIndex, maxLastIndex), clamp(lastIndex + buffer, minFirstIndex, maxLastIndex)];
};
const areRenderContextsEqual = (context1, context2) => {
  if (context1 === context2) {
    return true;
  }
  return context1.firstRowIndex === context2.firstRowIndex && context1.lastRowIndex === context2.lastRowIndex && context1.firstColumnIndex === context2.firstColumnIndex && context1.lastColumnIndex === context2.lastColumnIndex;
};
const MEMOIZE_OPTIONS = {
  maxSize: 3
};
const useGridVirtualScroller = (props) => {
  const apiRef = useGridPrivateApiContext();
  const rootProps = useGridRootProps();
  const visibleColumns = useGridSelector(apiRef, gridVisibleColumnDefinitionsSelector);
  const enabled = useGridSelector(apiRef, gridVirtualizationEnabledSelector);
  const enabledForColumns = useGridSelector(apiRef, gridVirtualizationColumnEnabledSelector);
  const {
    ref,
    onRenderZonePositioning,
    renderZoneMinColumnIndex = 0,
    renderZoneMaxColumnIndex = visibleColumns.length,
    getRowProps
  } = props;
  const theme = useTheme();
  const columnPositions = useGridSelector(apiRef, gridColumnPositionsSelector);
  const columnsTotalWidth = useGridSelector(apiRef, gridColumnsTotalWidthSelector);
  const cellFocus = useGridSelector(apiRef, gridFocusCellSelector);
  const cellTabIndex = useGridSelector(apiRef, gridTabIndexCellSelector);
  const rowsMeta = useGridSelector(apiRef, gridRowsMetaSelector);
  const selectedRowsLookup = useGridSelector(apiRef, selectedIdsLookupSelector);
  const currentPage = useGridVisibleRows(apiRef, rootProps);
  const renderZoneRef = React.useRef(null);
  const rootRef = React.useRef(null);
  const handleRef = unstable_useForkRef(ref, rootRef);
  const [renderContext, setRenderContextState] = React.useState(null);
  const prevRenderContext = React.useRef(renderContext);
  const scrollPosition = React.useRef({
    top: 0,
    left: 0
  });
  const [containerDimensions, setContainerDimensions] = React.useState({
    width: null,
    height: null
  });
  const prevTotalWidth = React.useRef(columnsTotalWidth);
  const [hoveredRowId, setHoveredRowId] = React.useState(null);
  const rowStyleCache = React.useRef(/* @__PURE__ */ Object.create(null));
  const prevGetRowProps = React.useRef();
  const prevRootRowStyle = React.useRef();
  const getRenderedColumnsRef = React.useRef(defaultMemoize((columns, firstColumnToRender, lastColumnToRender, minFirstColumn, maxLastColumn, indexOfColumnWithFocusedCell2) => {
    let focusedCellColumnIndexNotInRange;
    const renderedColumns = columns.slice(firstColumnToRender, lastColumnToRender);
    if (indexOfColumnWithFocusedCell2 > -1) {
      if (firstColumnToRender > indexOfColumnWithFocusedCell2 && indexOfColumnWithFocusedCell2 >= minFirstColumn) {
        focusedCellColumnIndexNotInRange = indexOfColumnWithFocusedCell2;
      } else if (lastColumnToRender < indexOfColumnWithFocusedCell2 && indexOfColumnWithFocusedCell2 < maxLastColumn) {
        focusedCellColumnIndexNotInRange = indexOfColumnWithFocusedCell2;
      }
    }
    return {
      focusedCellColumnIndexNotInRange,
      renderedColumns
    };
  }, MEMOIZE_OPTIONS));
  const indexOfColumnWithFocusedCell = React.useMemo(() => {
    if (cellFocus !== null) {
      return visibleColumns.findIndex((column) => column.field === cellFocus.field);
    }
    return -1;
  }, [cellFocus, visibleColumns]);
  const computeRenderContext = React.useCallback(() => {
    if (!enabled) {
      return {
        firstRowIndex: 0,
        lastRowIndex: currentPage.rows.length,
        firstColumnIndex: 0,
        lastColumnIndex: visibleColumns.length
      };
    }
    const {
      top,
      left
    } = scrollPosition.current;
    const firstRowIndex = Math.min(getNearestIndexToRender(apiRef, currentPage, rowsMeta, top), rowsMeta.positions.length - 1);
    const lastRowIndex = rootProps.autoHeight ? firstRowIndex + currentPage.rows.length : getNearestIndexToRender(apiRef, currentPage, rowsMeta, top + containerDimensions.height);
    let firstColumnIndex = 0;
    let lastColumnIndex = columnPositions.length;
    if (enabledForColumns) {
      let hasRowWithAutoHeight = false;
      const [firstRowToRender, lastRowToRender] = getRenderableIndexes({
        firstIndex: firstRowIndex,
        lastIndex: lastRowIndex,
        minFirstIndex: 0,
        maxLastIndex: currentPage.rows.length,
        buffer: rootProps.rowBuffer
      });
      for (let i2 = firstRowToRender; i2 < lastRowToRender && !hasRowWithAutoHeight; i2 += 1) {
        const row = currentPage.rows[i2];
        hasRowWithAutoHeight = apiRef.current.rowHasAutoHeight(row.id);
      }
      if (!hasRowWithAutoHeight) {
        firstColumnIndex = binarySearch$1(Math.abs(left), columnPositions);
        lastColumnIndex = binarySearch$1(Math.abs(left) + containerDimensions.width, columnPositions);
      }
    }
    return {
      firstRowIndex,
      lastRowIndex,
      firstColumnIndex,
      lastColumnIndex
    };
  }, [enabled, enabledForColumns, rowsMeta, rootProps.autoHeight, rootProps.rowBuffer, currentPage, columnPositions, visibleColumns.length, apiRef, containerDimensions]);
  unstable_useEnhancedEffect(() => {
    if (enabled) {
      rootRef.current.scrollLeft = 0;
      rootRef.current.scrollTop = 0;
    } else {
      renderZoneRef.current.style.transform = `translate3d(0px, 0px, 0px)`;
    }
  }, [enabled]);
  unstable_useEnhancedEffect(() => {
    setContainerDimensions({
      width: rootRef.current.clientWidth,
      height: rootRef.current.clientHeight
    });
  }, [rowsMeta.currentPageTotalHeight]);
  const handleResize = React.useCallback(() => {
    if (rootRef.current) {
      setContainerDimensions({
        width: rootRef.current.clientWidth,
        height: rootRef.current.clientHeight
      });
    }
  }, []);
  useGridApiEventHandler(apiRef, "debouncedResize", handleResize);
  const updateRenderZonePosition = React.useCallback((nextRenderContext) => {
    const [firstRowToRender, lastRowToRender] = getRenderableIndexes({
      firstIndex: nextRenderContext.firstRowIndex,
      lastIndex: nextRenderContext.lastRowIndex,
      minFirstIndex: 0,
      maxLastIndex: currentPage.rows.length,
      buffer: rootProps.rowBuffer
    });
    const [initialFirstColumnToRender] = getRenderableIndexes({
      firstIndex: nextRenderContext.firstColumnIndex,
      lastIndex: nextRenderContext.lastColumnIndex,
      minFirstIndex: renderZoneMinColumnIndex,
      maxLastIndex: renderZoneMaxColumnIndex,
      buffer: rootProps.columnBuffer
    });
    const firstColumnToRender = getFirstNonSpannedColumnToRender({
      firstColumnToRender: initialFirstColumnToRender,
      apiRef,
      firstRowToRender,
      lastRowToRender,
      visibleRows: currentPage.rows
    });
    const direction = theme.direction === "ltr" ? 1 : -1;
    const top = gridRowsMetaSelector(apiRef.current.state).positions[firstRowToRender];
    const left = direction * gridColumnPositionsSelector(apiRef)[firstColumnToRender];
    renderZoneRef.current.style.transform = `translate3d(${left}px, ${top}px, 0px)`;
    if (typeof onRenderZonePositioning === "function") {
      onRenderZonePositioning({
        top,
        left
      });
    }
  }, [apiRef, currentPage.rows, onRenderZonePositioning, renderZoneMinColumnIndex, renderZoneMaxColumnIndex, rootProps.columnBuffer, rootProps.rowBuffer, theme.direction]);
  const getRenderContext = React.useCallback(() => prevRenderContext.current, []);
  const setRenderContext = React.useCallback((nextRenderContext) => {
    if (prevRenderContext.current && areRenderContextsEqual(nextRenderContext, prevRenderContext.current)) {
      updateRenderZonePosition(nextRenderContext);
      return;
    }
    setRenderContextState(nextRenderContext);
    updateRenderZonePosition(nextRenderContext);
    const [firstRowToRender, lastRowToRender] = getRenderableIndexes({
      firstIndex: nextRenderContext.firstRowIndex,
      lastIndex: nextRenderContext.lastRowIndex,
      minFirstIndex: 0,
      maxLastIndex: currentPage.rows.length,
      buffer: rootProps.rowBuffer
    });
    apiRef.current.publishEvent("renderedRowsIntervalChange", {
      firstRowToRender,
      lastRowToRender
    });
    prevRenderContext.current = nextRenderContext;
  }, [apiRef, setRenderContextState, prevRenderContext, currentPage.rows.length, rootProps.rowBuffer, updateRenderZonePosition]);
  unstable_useEnhancedEffect(() => {
    if (containerDimensions.width == null) {
      return;
    }
    const initialRenderContext = computeRenderContext();
    setRenderContext(initialRenderContext);
    const {
      top,
      left
    } = scrollPosition.current;
    const params = {
      top,
      left,
      renderContext: initialRenderContext
    };
    apiRef.current.publishEvent("scrollPositionChange", params);
  }, [apiRef, computeRenderContext, containerDimensions.width, setRenderContext]);
  const handleScroll = unstable_useEventCallback((event) => {
    const {
      scrollTop,
      scrollLeft
    } = event.currentTarget;
    scrollPosition.current.top = scrollTop;
    scrollPosition.current.left = scrollLeft;
    if (!prevRenderContext.current || scrollTop < 0) {
      return;
    }
    if (theme.direction === "ltr") {
      if (scrollLeft < 0) {
        return;
      }
    }
    if (theme.direction === "rtl") {
      if (scrollLeft > 0) {
        return;
      }
    }
    const nextRenderContext = enabled ? computeRenderContext() : prevRenderContext.current;
    const topRowsScrolledSincePreviousRender = Math.abs(nextRenderContext.firstRowIndex - prevRenderContext.current.firstRowIndex);
    const bottomRowsScrolledSincePreviousRender = Math.abs(nextRenderContext.lastRowIndex - prevRenderContext.current.lastRowIndex);
    const topColumnsScrolledSincePreviousRender = Math.abs(nextRenderContext.firstColumnIndex - prevRenderContext.current.firstColumnIndex);
    const bottomColumnsScrolledSincePreviousRender = Math.abs(nextRenderContext.lastColumnIndex - prevRenderContext.current.lastColumnIndex);
    const shouldSetState = topRowsScrolledSincePreviousRender >= rootProps.rowThreshold || bottomRowsScrolledSincePreviousRender >= rootProps.rowThreshold || topColumnsScrolledSincePreviousRender >= rootProps.columnThreshold || bottomColumnsScrolledSincePreviousRender >= rootProps.columnThreshold || prevTotalWidth.current !== columnsTotalWidth;
    apiRef.current.publishEvent("scrollPositionChange", {
      top: scrollTop,
      left: scrollLeft,
      renderContext: shouldSetState ? nextRenderContext : prevRenderContext.current
    }, event);
    if (shouldSetState) {
      ReactDOM.flushSync(() => {
        setRenderContext(nextRenderContext);
      });
      prevTotalWidth.current = columnsTotalWidth;
    }
  });
  const handleWheel = unstable_useEventCallback((event) => {
    apiRef.current.publishEvent("virtualScrollerWheel", {}, event);
  });
  const handleTouchMove = unstable_useEventCallback((event) => {
    apiRef.current.publishEvent("virtualScrollerTouchMove", {}, event);
  });
  const indexOfRowWithFocusedCell = React.useMemo(() => {
    if (cellFocus !== null) {
      return currentPage.rows.findIndex((row) => row.id === cellFocus.id);
    }
    return -1;
  }, [cellFocus, currentPage.rows]);
  useGridApiEventHandler(apiRef, "rowMouseOver", (params, event) => {
    var _params$id;
    if (event.currentTarget.contains(event.relatedTarget)) {
      return;
    }
    setHoveredRowId((_params$id = params.id) != null ? _params$id : null);
  });
  useGridApiEventHandler(apiRef, "rowMouseOut", (params, event) => {
    if (event.currentTarget.contains(event.relatedTarget)) {
      return;
    }
    setHoveredRowId(null);
  });
  const getRows = (params = {
    renderContext
  }) => {
    var _rootProps$slotProps;
    const {
      onRowRender,
      renderContext: nextRenderContext,
      minFirstColumn = renderZoneMinColumnIndex,
      maxLastColumn = renderZoneMaxColumnIndex,
      availableSpace = containerDimensions.width,
      rowIndexOffset = 0,
      position = "center"
    } = params;
    if (!nextRenderContext || availableSpace == null) {
      return null;
    }
    const rowBuffer = enabled ? rootProps.rowBuffer : 0;
    const columnBuffer = enabled ? rootProps.columnBuffer : 0;
    const [firstRowToRender, lastRowToRender] = getRenderableIndexes({
      firstIndex: nextRenderContext.firstRowIndex,
      lastIndex: nextRenderContext.lastRowIndex,
      minFirstIndex: 0,
      maxLastIndex: currentPage.rows.length,
      buffer: rowBuffer
    });
    const renderedRows = [];
    if (params.rows) {
      params.rows.forEach((row) => {
        renderedRows.push(row);
        apiRef.current.calculateColSpan({
          rowId: row.id,
          minFirstColumn,
          maxLastColumn,
          columns: visibleColumns
        });
      });
    } else {
      if (!currentPage.range) {
        return null;
      }
      for (let i2 = firstRowToRender; i2 < lastRowToRender; i2 += 1) {
        const row = currentPage.rows[i2];
        renderedRows.push(row);
        apiRef.current.calculateColSpan({
          rowId: row.id,
          minFirstColumn,
          maxLastColumn,
          columns: visibleColumns
        });
      }
    }
    let isRowWithFocusedCellNotInRange = false;
    if (indexOfRowWithFocusedCell > -1) {
      const rowWithFocusedCell = currentPage.rows[indexOfRowWithFocusedCell];
      if (firstRowToRender > indexOfRowWithFocusedCell || lastRowToRender < indexOfRowWithFocusedCell) {
        isRowWithFocusedCellNotInRange = true;
        if (indexOfRowWithFocusedCell > firstRowToRender) {
          renderedRows.push(rowWithFocusedCell);
        } else {
          renderedRows.unshift(rowWithFocusedCell);
        }
        apiRef.current.calculateColSpan({
          rowId: rowWithFocusedCell.id,
          minFirstColumn,
          maxLastColumn,
          columns: visibleColumns
        });
      }
    }
    const [initialFirstColumnToRender, lastColumnToRender] = getRenderableIndexes({
      firstIndex: nextRenderContext.firstColumnIndex,
      lastIndex: nextRenderContext.lastColumnIndex,
      minFirstIndex: minFirstColumn,
      maxLastIndex: maxLastColumn,
      buffer: columnBuffer
    });
    const firstColumnToRender = getFirstNonSpannedColumnToRender({
      firstColumnToRender: initialFirstColumnToRender,
      apiRef,
      firstRowToRender,
      lastRowToRender,
      visibleRows: currentPage.rows
    });
    let isColumnWihFocusedCellNotInRange = false;
    if (firstColumnToRender > indexOfColumnWithFocusedCell || lastColumnToRender < indexOfColumnWithFocusedCell) {
      isColumnWihFocusedCellNotInRange = true;
    }
    const {
      focusedCellColumnIndexNotInRange,
      renderedColumns
    } = getRenderedColumnsRef.current(visibleColumns, firstColumnToRender, lastColumnToRender, minFirstColumn, maxLastColumn, isColumnWihFocusedCellNotInRange ? indexOfColumnWithFocusedCell : -1);
    const _ref = ((_rootProps$slotProps = rootProps.slotProps) == null ? void 0 : _rootProps$slotProps.row) || {}, {
      style: rootRowStyle
    } = _ref, rootRowProps = _objectWithoutPropertiesLoose$1(_ref, _excluded$9);
    const invalidatesCachedRowStyle = prevGetRowProps.current !== getRowProps || prevRootRowStyle.current !== rootRowStyle;
    if (invalidatesCachedRowStyle) {
      rowStyleCache.current = /* @__PURE__ */ Object.create(null);
    }
    const rows = [];
    let isRowWithFocusedCellRendered = false;
    for (let i2 = 0; i2 < renderedRows.length; i2 += 1) {
      var _currentPage$range;
      const {
        id,
        model
      } = renderedRows[i2];
      const isRowNotVisible = isRowWithFocusedCellNotInRange && cellFocus.id === id;
      const lastVisibleRowIndex = isRowWithFocusedCellNotInRange ? firstRowToRender + i2 === currentPage.rows.length : firstRowToRender + i2 === currentPage.rows.length - 1;
      const baseRowHeight = !apiRef.current.rowHasAutoHeight(id) ? apiRef.current.unstable_getRowHeight(id) : "auto";
      let isSelected;
      if (selectedRowsLookup[id] == null) {
        isSelected = false;
      } else {
        isSelected = apiRef.current.isRowSelectable(id);
      }
      if (onRowRender) {
        onRowRender(id);
      }
      const focusedCell = cellFocus !== null && cellFocus.id === id ? cellFocus.field : null;
      const columnWithFocusedCellNotInRange = focusedCellColumnIndexNotInRange !== void 0 && visibleColumns[focusedCellColumnIndexNotInRange];
      const renderedColumnsWithFocusedCell = columnWithFocusedCellNotInRange && focusedCell ? [columnWithFocusedCellNotInRange, ...renderedColumns] : renderedColumns;
      let tabbableCell = null;
      if (cellTabIndex !== null && cellTabIndex.id === id) {
        const cellParams = apiRef.current.getCellParams(id, cellTabIndex.field);
        tabbableCell = cellParams.cellMode === "view" ? cellTabIndex.field : null;
      }
      const _ref2 = typeof getRowProps === "function" && getRowProps(id, model) || {}, {
        style: rowStyle
      } = _ref2, rowProps = _objectWithoutPropertiesLoose$1(_ref2, _excluded2);
      if (!rowStyleCache.current[id]) {
        const style = _extends$1({}, rowStyle, rootRowStyle);
        rowStyleCache.current[id] = style;
      }
      let index2 = rowIndexOffset + ((currentPage == null || (_currentPage$range = currentPage.range) == null ? void 0 : _currentPage$range.firstRowIndex) || 0) + firstRowToRender + i2;
      if (isRowWithFocusedCellNotInRange && (cellFocus == null ? void 0 : cellFocus.id) === id) {
        index2 = indexOfRowWithFocusedCell;
        isRowWithFocusedCellRendered = true;
      } else if (isRowWithFocusedCellRendered) {
        index2 -= 1;
      }
      rows.push(/* @__PURE__ */ jsx(rootProps.slots.row, _extends$1({
        row: model,
        rowId: id,
        focusedCellColumnIndexNotInRange,
        isNotVisible: isRowNotVisible,
        rowHeight: baseRowHeight,
        focusedCell,
        tabbableCell,
        renderedColumns: renderedColumnsWithFocusedCell,
        visibleColumns,
        firstColumnToRender,
        lastColumnToRender,
        selected: isSelected,
        index: index2,
        containerWidth: availableSpace,
        isLastVisible: lastVisibleRowIndex,
        position
      }, rowProps, rootRowProps, {
        hovered: hoveredRowId === id,
        style: rowStyleCache.current[id]
      }), id));
    }
    prevGetRowProps.current = getRowProps;
    prevRootRowStyle.current = rootRowStyle;
    return rows;
  };
  const needsHorizontalScrollbar = containerDimensions.width && columnsTotalWidth >= containerDimensions.width;
  const contentSize = React.useMemo(() => {
    const height = Math.max(rowsMeta.currentPageTotalHeight, 1);
    let shouldExtendContent = false;
    if (rootRef != null && rootRef.current && height <= (rootRef == null ? void 0 : rootRef.current.clientHeight)) {
      shouldExtendContent = true;
    }
    const size = {
      width: needsHorizontalScrollbar ? columnsTotalWidth : "auto",
      height,
      minHeight: shouldExtendContent ? "100%" : "auto"
    };
    if (rootProps.autoHeight && currentPage.rows.length === 0) {
      size.height = getMinimalContentHeight(apiRef, rootProps.rowHeight);
    }
    return size;
  }, [apiRef, rootRef, columnsTotalWidth, rowsMeta.currentPageTotalHeight, needsHorizontalScrollbar, rootProps.autoHeight, rootProps.rowHeight, currentPage.rows.length]);
  React.useEffect(() => {
    apiRef.current.publishEvent("virtualScrollerContentSizeChange");
  }, [apiRef, contentSize]);
  const rootStyle = React.useMemo(() => {
    const style = {};
    if (!needsHorizontalScrollbar) {
      style.overflowX = "hidden";
    }
    if (rootProps.autoHeight) {
      style.overflowY = "hidden";
    }
    return style;
  }, [needsHorizontalScrollbar, rootProps.autoHeight]);
  apiRef.current.register("private", {
    getRenderContext
  });
  return {
    renderContext,
    updateRenderZonePosition,
    getRows,
    getRootProps: (inputProps = {}) => _extends$1({
      ref: handleRef,
      onScroll: handleScroll,
      onWheel: handleWheel,
      onTouchMove: handleTouchMove
    }, inputProps, {
      style: inputProps.style ? _extends$1({}, inputProps.style, rootStyle) : rootStyle,
      role: "presentation"
    }),
    getContentProps: ({
      style
    } = {}) => ({
      style: style ? _extends$1({}, style, contentSize) : contentSize,
      role: "presentation"
    }),
    getRenderZoneProps: () => ({
      ref: renderZoneRef,
      role: "rowgroup"
    })
  };
};
function getNearestIndexToRender(apiRef, currentPage, rowsMeta, offset) {
  var _currentPage$range2, _currentPage$range3;
  const lastMeasuredIndexRelativeToAllRows = apiRef.current.getLastMeasuredRowIndex();
  let allRowsMeasured = lastMeasuredIndexRelativeToAllRows === Infinity;
  if ((_currentPage$range2 = currentPage.range) != null && _currentPage$range2.lastRowIndex && !allRowsMeasured) {
    allRowsMeasured = lastMeasuredIndexRelativeToAllRows >= currentPage.range.lastRowIndex;
  }
  const lastMeasuredIndexRelativeToCurrentPage = clamp(lastMeasuredIndexRelativeToAllRows - (((_currentPage$range3 = currentPage.range) == null ? void 0 : _currentPage$range3.firstRowIndex) || 0), 0, rowsMeta.positions.length);
  if (allRowsMeasured || rowsMeta.positions[lastMeasuredIndexRelativeToCurrentPage] >= offset) {
    return binarySearch$1(offset, rowsMeta.positions);
  }
  return exponentialSearch(offset, rowsMeta.positions, lastMeasuredIndexRelativeToCurrentPage);
}
const useUtilityClasses$5 = (ownerState) => {
  const {
    classes,
    headerAlign,
    isDragging,
    showColumnBorder,
    groupId
  } = ownerState;
  const slots = {
    root: ["columnHeader", headerAlign === "left" && "columnHeader--alignLeft", headerAlign === "center" && "columnHeader--alignCenter", headerAlign === "right" && "columnHeader--alignRight", isDragging && "columnHeader--moving", showColumnBorder && "columnHeader--showColumnBorder", showColumnBorder && "columnHeader--withRightBorder", "withBorderColor", groupId === null ? "columnHeader--emptyGroup" : "columnHeader--filledGroup"],
    draggableContainer: ["columnHeaderDraggableContainer"],
    titleContainer: ["columnHeaderTitleContainer", "withBorderColor"],
    titleContainerContent: ["columnHeaderTitleContainerContent"]
  };
  return unstable_composeClasses(slots, getDataGridUtilityClass, classes);
};
function GridColumnGroupHeader(props) {
  var _columnGroupsLookup$g;
  const {
    groupId,
    width,
    depth,
    maxDepth,
    fields,
    height,
    colIndex,
    hasFocus,
    tabIndex,
    isLastColumn
  } = props;
  const rootProps = useGridRootProps();
  const headerCellRef = React.useRef(null);
  const apiRef = useGridApiContext();
  const columnGroupsLookup = useGridSelector(apiRef, gridColumnGroupsLookupSelector);
  const group = groupId ? columnGroupsLookup[groupId] : {};
  const {
    headerName = groupId != null ? groupId : "",
    description = "",
    headerAlign = void 0
  } = group;
  let headerComponent;
  const render2 = groupId && ((_columnGroupsLookup$g = columnGroupsLookup[groupId]) == null ? void 0 : _columnGroupsLookup$g.renderHeaderGroup);
  const renderParams = React.useMemo(() => ({
    groupId,
    headerName,
    description,
    depth,
    maxDepth,
    fields,
    colIndex,
    isLastColumn
  }), [groupId, headerName, description, depth, maxDepth, fields, colIndex, isLastColumn]);
  if (groupId && render2) {
    headerComponent = render2(renderParams);
  }
  const showColumnBorder = rootProps.showColumnVerticalBorder;
  const ownerState = _extends$1({}, props, {
    classes: rootProps.classes,
    showColumnBorder,
    headerAlign,
    depth,
    isDragging: false
  });
  const label = headerName != null ? headerName : groupId;
  const id = unstable_useId();
  const elementId = groupId === null ? `empty-group-cell-${id}` : groupId;
  const classes = useUtilityClasses$5(ownerState);
  React.useLayoutEffect(() => {
    if (hasFocus) {
      const focusableElement = headerCellRef.current.querySelector('[tabindex="0"]');
      const elementToFocus = focusableElement || headerCellRef.current;
      elementToFocus == null || elementToFocus.focus();
    }
  }, [apiRef, hasFocus]);
  const publish = React.useCallback(
    (eventName) => (event) => {
      if (isEventTargetInPortal(event)) {
        return;
      }
      apiRef.current.publishEvent(eventName, renderParams, event);
    },
    // For now this is stupid, because renderParams change all the time.
    // Need to move it's computation in the api, such that for a given depth+columnField, I can get the group parameters
    [apiRef, renderParams]
  );
  const mouseEventsHandlers = React.useMemo(() => ({
    onKeyDown: publish("columnGroupHeaderKeyDown"),
    onFocus: publish("columnGroupHeaderFocus"),
    onBlur: publish("columnGroupHeaderBlur")
  }), [publish]);
  const headerClassName = typeof group.headerClassName === "function" ? group.headerClassName(renderParams) : group.headerClassName;
  return /* @__PURE__ */ jsx(GridGenericColumnHeaderItem, _extends$1({
    ref: headerCellRef,
    classes,
    columnMenuOpen: false,
    colIndex,
    height,
    isResizing: false,
    sortDirection: null,
    hasFocus: false,
    tabIndex,
    isDraggable: false,
    headerComponent,
    headerClassName,
    description,
    elementId,
    width,
    columnMenuIconButton: null,
    columnTitleIconButtons: null,
    resizable: false,
    label,
    "aria-colspan": fields.length,
    "data-fields": `|-${fields.join("-|-")}-|`
  }, mouseEventsHandlers));
}
const GridColumnHeaderRow = styled$1("div", {
  name: "MuiDataGrid",
  slot: "ColumnHeaderRow",
  overridesResolver: (props, styles) => styles.columnHeaderRow
})(() => ({
  display: "flex"
}));
function isUIEvent(event) {
  return !!event.target;
}
const useGridColumnHeaders = (props) => {
  const {
    innerRef: innerRefProp,
    minColumnIndex = 0,
    visibleColumns,
    sortColumnLookup,
    filterColumnLookup,
    columnPositions,
    columnHeaderTabIndexState,
    columnGroupHeaderTabIndexState,
    columnHeaderFocus,
    columnGroupHeaderFocus,
    densityFactor,
    headerGroupingMaxDepth,
    columnMenuState,
    columnVisibility,
    columnGroupsHeaderStructure,
    hasOtherElementInTabSequence
  } = props;
  const theme = useTheme();
  const [dragCol, setDragCol] = React.useState("");
  const [resizeCol, setResizeCol] = React.useState("");
  const apiRef = useGridPrivateApiContext();
  const hasVirtualization = useGridSelector(apiRef, gridVirtualizationColumnEnabledSelector);
  const rootProps = useGridRootProps();
  const innerRef = React.useRef(null);
  const handleInnerRef = unstable_useForkRef(innerRefProp, innerRef);
  const [renderContext, setRenderContextRaw] = React.useState(null);
  const prevRenderContext = React.useRef(renderContext);
  const prevScrollLeft = React.useRef(0);
  const currentPage = useGridVisibleRows(apiRef, rootProps);
  const totalHeaderHeight = getTotalHeaderHeight(apiRef, rootProps.columnHeaderHeight);
  const headerHeight = Math.floor(rootProps.columnHeaderHeight * densityFactor);
  const setRenderContext = React.useCallback((nextRenderContext) => {
    if (renderContext && nextRenderContext && areRenderContextsEqual(renderContext, nextRenderContext)) {
      return;
    }
    setRenderContextRaw(nextRenderContext);
  }, [renderContext]);
  React.useEffect(() => {
    var _apiRef$current$colum;
    if ((_apiRef$current$colum = apiRef.current.columnHeadersContainerElementRef) != null && _apiRef$current$colum.current) {
      apiRef.current.columnHeadersContainerElementRef.current.scrollLeft = 0;
    }
  }, [apiRef]);
  const getFirstColumnIndexToRenderRef = React.useRef(defaultMemoize(getFirstColumnIndexToRender, {
    equalityCheck: (a, b) => ["firstColumnIndex", "minColumnIndex", "columnBuffer"].every((key) => a[key] === b[key])
  }));
  const updateInnerPosition = React.useCallback((nextRenderContext) => {
    const [firstRowToRender, lastRowToRender] = getRenderableIndexes({
      firstIndex: nextRenderContext.firstRowIndex,
      lastIndex: nextRenderContext.lastRowIndex,
      minFirstIndex: 0,
      maxLastIndex: currentPage.rows.length,
      buffer: rootProps.rowBuffer
    });
    const firstColumnToRender = getFirstColumnIndexToRenderRef.current({
      firstColumnIndex: nextRenderContext.firstColumnIndex,
      minColumnIndex,
      columnBuffer: rootProps.columnBuffer,
      firstRowToRender,
      lastRowToRender,
      apiRef,
      visibleRows: currentPage.rows
    });
    const direction = theme.direction === "ltr" ? 1 : -1;
    const offset = firstColumnToRender > 0 ? prevScrollLeft.current - direction * columnPositions[firstColumnToRender] : prevScrollLeft.current;
    innerRef.current.style.transform = `translate3d(${-offset}px, 0px, 0px)`;
  }, [columnPositions, minColumnIndex, rootProps.columnBuffer, apiRef, currentPage.rows, rootProps.rowBuffer, theme.direction]);
  React.useLayoutEffect(() => {
    if (renderContext) {
      updateInnerPosition(renderContext);
    }
  }, [renderContext, updateInnerPosition]);
  const handleScroll = React.useCallback(({
    left,
    renderContext: nextRenderContext = null
  }, event) => {
    var _prevRenderContext$cu, _prevRenderContext$cu2;
    if (!innerRef.current) {
      return;
    }
    if (prevScrollLeft.current === left && ((_prevRenderContext$cu = prevRenderContext.current) == null ? void 0 : _prevRenderContext$cu.firstColumnIndex) === (nextRenderContext == null ? void 0 : nextRenderContext.firstColumnIndex) && ((_prevRenderContext$cu2 = prevRenderContext.current) == null ? void 0 : _prevRenderContext$cu2.lastColumnIndex) === (nextRenderContext == null ? void 0 : nextRenderContext.lastColumnIndex)) {
      return;
    }
    prevScrollLeft.current = left;
    let canUpdateInnerPosition = false;
    if (nextRenderContext !== prevRenderContext.current || !prevRenderContext.current) {
      if (isUIEvent(event)) {
        ReactDOM.flushSync(() => {
          setRenderContext(nextRenderContext);
        });
        canUpdateInnerPosition = true;
      } else {
        setRenderContext(nextRenderContext);
      }
      prevRenderContext.current = nextRenderContext;
    } else {
      canUpdateInnerPosition = true;
    }
    if (nextRenderContext && canUpdateInnerPosition) {
      updateInnerPosition(nextRenderContext);
    }
  }, [updateInnerPosition, setRenderContext]);
  const handleColumnResizeStart = React.useCallback((params) => setResizeCol(params.field), []);
  const handleColumnResizeStop = React.useCallback(() => setResizeCol(""), []);
  const handleColumnReorderStart = React.useCallback((params) => setDragCol(params.field), []);
  const handleColumnReorderStop = React.useCallback(() => setDragCol(""), []);
  useGridApiEventHandler(apiRef, "columnResizeStart", handleColumnResizeStart);
  useGridApiEventHandler(apiRef, "columnResizeStop", handleColumnResizeStop);
  useGridApiEventHandler(apiRef, "columnHeaderDragStart", handleColumnReorderStart);
  useGridApiEventHandler(apiRef, "columnHeaderDragEnd", handleColumnReorderStop);
  useGridApiEventHandler(apiRef, "scrollPositionChange", handleScroll);
  const getColumnsToRender = (params) => {
    const {
      renderContext: nextRenderContext = renderContext,
      minFirstColumn = minColumnIndex,
      maxLastColumn = visibleColumns.length
    } = params || {};
    if (!nextRenderContext) {
      return null;
    }
    const [firstRowToRender, lastRowToRender] = getRenderableIndexes({
      firstIndex: nextRenderContext.firstRowIndex,
      lastIndex: nextRenderContext.lastRowIndex,
      minFirstIndex: 0,
      maxLastIndex: currentPage.rows.length,
      buffer: rootProps.rowBuffer
    });
    const firstColumnToRender = !hasVirtualization ? 0 : getFirstColumnIndexToRenderRef.current({
      firstColumnIndex: nextRenderContext.firstColumnIndex,
      minColumnIndex: minFirstColumn,
      columnBuffer: rootProps.columnBuffer,
      apiRef,
      firstRowToRender,
      lastRowToRender,
      visibleRows: currentPage.rows
    });
    const lastColumnToRender = !hasVirtualization ? maxLastColumn : Math.min(nextRenderContext.lastColumnIndex + rootProps.columnBuffer, maxLastColumn);
    const renderedColumns = visibleColumns.slice(firstColumnToRender, lastColumnToRender);
    return {
      renderedColumns,
      firstColumnToRender,
      lastColumnToRender,
      minFirstColumn,
      maxLastColumn
    };
  };
  const getColumnHeaders = (params, other = {}) => {
    const columnsToRender = getColumnsToRender(params);
    if (columnsToRender == null) {
      return null;
    }
    const {
      renderedColumns,
      firstColumnToRender
    } = columnsToRender;
    const columns = [];
    for (let i2 = 0; i2 < renderedColumns.length; i2 += 1) {
      const colDef = renderedColumns[i2];
      const columnIndex = firstColumnToRender + i2;
      const isFirstColumn = columnIndex === 0;
      const tabIndex = columnHeaderTabIndexState !== null && columnHeaderTabIndexState.field === colDef.field || isFirstColumn && !hasOtherElementInTabSequence ? 0 : -1;
      const hasFocus = columnHeaderFocus !== null && columnHeaderFocus.field === colDef.field;
      const open = columnMenuState.open && columnMenuState.field === colDef.field;
      columns.push(/* @__PURE__ */ jsx(GridColumnHeaderItem, _extends$1({}, sortColumnLookup[colDef.field], {
        columnMenuOpen: open,
        filterItemsCounter: filterColumnLookup[colDef.field] && filterColumnLookup[colDef.field].length,
        headerHeight,
        isDragging: colDef.field === dragCol,
        colDef,
        colIndex: columnIndex,
        isResizing: resizeCol === colDef.field,
        hasFocus,
        tabIndex
      }, other), colDef.field));
    }
    return /* @__PURE__ */ jsx(GridColumnHeaderRow, {
      role: "row",
      "aria-rowindex": headerGroupingMaxDepth + 1,
      ownerState: rootProps,
      children: columns
    });
  };
  const getColumnGroupHeaders = (params) => {
    if (headerGroupingMaxDepth === 0) {
      return null;
    }
    const columnsToRender = getColumnsToRender(params);
    if (columnsToRender == null || columnsToRender.renderedColumns.length === 0) {
      return null;
    }
    const {
      firstColumnToRender,
      lastColumnToRender
    } = columnsToRender;
    const columns = [];
    const headerToRender = [];
    for (let depth = 0; depth < headerGroupingMaxDepth; depth += 1) {
      var _apiRef$current$unsta, _apiRef$current$unsta2;
      const rowStructure = columnGroupsHeaderStructure[depth];
      const firstColumnFieldToRender = visibleColumns[firstColumnToRender].field;
      const firstGroupToRender = (_apiRef$current$unsta = apiRef.current.unstable_getColumnGroupPath(firstColumnFieldToRender)[depth]) != null ? _apiRef$current$unsta : null;
      const firstGroupIndex = rowStructure.findIndex(({
        groupId,
        columnFields
      }) => groupId === firstGroupToRender && columnFields.includes(firstColumnFieldToRender));
      const lastColumnFieldToRender = visibleColumns[lastColumnToRender - 1].field;
      const lastGroupToRender = (_apiRef$current$unsta2 = apiRef.current.unstable_getColumnGroupPath(lastColumnFieldToRender)[depth]) != null ? _apiRef$current$unsta2 : null;
      const lastGroupIndex = rowStructure.findIndex(({
        groupId,
        columnFields
      }) => groupId === lastGroupToRender && columnFields.includes(lastColumnFieldToRender));
      const visibleColumnGroupHeader = rowStructure.slice(firstGroupIndex, lastGroupIndex + 1).map((groupStructure) => {
        return _extends$1({}, groupStructure, {
          columnFields: groupStructure.columnFields.filter((field) => columnVisibility[field] !== false)
        });
      }).filter((groupStructure) => groupStructure.columnFields.length > 0);
      const firstVisibleColumnIndex = visibleColumnGroupHeader[0].columnFields.indexOf(firstColumnFieldToRender);
      const hiddenGroupColumns = visibleColumnGroupHeader[0].columnFields.slice(0, firstVisibleColumnIndex);
      const leftOverflow = hiddenGroupColumns.reduce((acc, field) => {
        var _column$computedWidth;
        const column = apiRef.current.getColumn(field);
        return acc + ((_column$computedWidth = column.computedWidth) != null ? _column$computedWidth : 0);
      }, 0);
      let columnIndex = firstColumnToRender;
      const elements = visibleColumnGroupHeader.map(({
        groupId,
        columnFields
      }) => {
        const hasFocus = columnGroupHeaderFocus !== null && columnGroupHeaderFocus.depth === depth && columnFields.includes(columnGroupHeaderFocus.field);
        const tabIndex = columnGroupHeaderTabIndexState !== null && columnGroupHeaderTabIndexState.depth === depth && columnFields.includes(columnGroupHeaderTabIndexState.field) ? 0 : -1;
        const headerInfo = {
          groupId,
          width: columnFields.reduce((acc, field) => acc + apiRef.current.getColumn(field).computedWidth, 0),
          fields: columnFields,
          colIndex: columnIndex,
          hasFocus,
          tabIndex
        };
        columnIndex += columnFields.length;
        return headerInfo;
      });
      headerToRender.push({
        leftOverflow,
        elements
      });
    }
    headerToRender.forEach((depthInfo, depthIndex) => {
      columns.push(/* @__PURE__ */ jsx(GridColumnHeaderRow, {
        style: {
          height: `${headerHeight}px`,
          transform: `translateX(-${depthInfo.leftOverflow}px)`
        },
        role: "row",
        "aria-rowindex": depthIndex + 1,
        ownerState: rootProps,
        children: depthInfo.elements.map(({
          groupId,
          width,
          fields,
          colIndex,
          hasFocus,
          tabIndex
        }, groupIndex) => {
          return /* @__PURE__ */ jsx(GridColumnGroupHeader, {
            groupId,
            width,
            fields,
            colIndex,
            depth: depthIndex,
            isLastColumn: colIndex === visibleColumns.length - fields.length,
            maxDepth: headerToRender.length,
            height: headerHeight,
            hasFocus,
            tabIndex
          }, groupIndex);
        })
      }, depthIndex));
    });
    return columns;
  };
  const rootStyle = {
    minHeight: totalHeaderHeight,
    maxHeight: totalHeaderHeight,
    lineHeight: `${headerHeight}px`
  };
  return {
    renderContext,
    getColumnHeaders,
    getColumnsToRender,
    getColumnGroupHeaders,
    isDragging: !!dragCol,
    getRootProps: (other = {}) => _extends$1({
      style: rootStyle
    }, other),
    getInnerProps: () => ({
      ref: handleInnerRef,
      role: "rowgroup"
    }),
    headerHeight
  };
};
const _excluded$8 = ["className"];
const useUtilityClasses$4 = (ownerState) => {
  const {
    classes
  } = ownerState;
  const slots = {
    root: ["columnHeaders", "withBorderColor"]
  };
  return unstable_composeClasses(slots, getDataGridUtilityClass, classes);
};
const GridColumnHeadersRoot = styled("div", {
  name: "MuiDataGrid",
  slot: "ColumnHeaders",
  overridesResolver: (props, styles) => styles.columnHeaders
})({
  position: "relative",
  overflow: "hidden",
  display: "flex",
  alignItems: "center",
  boxSizing: "border-box",
  borderBottom: "1px solid",
  borderTopLeftRadius: "var(--unstable_DataGrid-radius)",
  borderTopRightRadius: "var(--unstable_DataGrid-radius)"
});
const GridBaseColumnHeaders = /* @__PURE__ */ React.forwardRef(function GridColumnHeaders(props, ref) {
  const {
    className
  } = props, other = _objectWithoutPropertiesLoose$1(props, _excluded$8);
  const rootProps = useGridRootProps();
  const classes = useUtilityClasses$4(rootProps);
  return /* @__PURE__ */ jsx(GridColumnHeadersRoot, _extends$1({
    ref,
    className: clsx(className, classes.root),
    ownerState: rootProps
  }, other, {
    role: "presentation"
  }));
});
const _excluded$7 = ["isDragging", "className"];
const useUtilityClasses$3 = (ownerState) => {
  const {
    isDragging,
    hasScrollX,
    classes
  } = ownerState;
  const slots = {
    root: ["columnHeadersInner", isDragging && "columnHeaderDropZone", hasScrollX && "columnHeadersInner--scrollable"]
  };
  return unstable_composeClasses(slots, getDataGridUtilityClass, classes);
};
const GridColumnHeadersInnerRoot = styled("div", {
  name: "MuiDataGrid",
  slot: "columnHeadersInner",
  overridesResolver: (props, styles) => [{
    [`&.${gridClasses.columnHeaderDropZone}`]: styles.columnHeaderDropZone
  }, styles.columnHeadersInner]
})(() => ({
  display: "flex",
  alignItems: "flex-start",
  flexDirection: "column",
  [`&.${gridClasses.columnHeaderDropZone} .${gridClasses.columnHeaderDraggableContainer}`]: {
    cursor: "move"
  },
  [`&.${gridClasses["columnHeadersInner--scrollable"]} .${gridClasses.columnHeader}:last-child`]: {
    borderRight: "none"
  }
}));
const GridColumnHeadersInner = /* @__PURE__ */ React.forwardRef(function GridColumnHeadersInner2(props, ref) {
  var _apiRef$current$getRo, _apiRef$current$getRo2;
  const {
    isDragging,
    className
  } = props, other = _objectWithoutPropertiesLoose$1(props, _excluded$7);
  const apiRef = useGridApiContext();
  const rootProps = useGridRootProps();
  const ownerState = _extends$1({}, rootProps, {
    isDragging,
    hasScrollX: (_apiRef$current$getRo = (_apiRef$current$getRo2 = apiRef.current.getRootDimensions()) == null ? void 0 : _apiRef$current$getRo2.hasScrollX) != null ? _apiRef$current$getRo : false
  });
  const classes = useUtilityClasses$3(ownerState);
  return /* @__PURE__ */ jsx(GridColumnHeadersInnerRoot, _extends$1({
    ref,
    className: clsx(className, classes.root),
    ownerState
  }, other));
});
const _excluded$6 = ["innerRef", "className", "visibleColumns", "sortColumnLookup", "filterColumnLookup", "columnPositions", "columnHeaderTabIndexState", "columnGroupHeaderTabIndexState", "columnHeaderFocus", "columnGroupHeaderFocus", "densityFactor", "headerGroupingMaxDepth", "columnMenuState", "columnVisibility", "columnGroupsHeaderStructure", "hasOtherElementInTabSequence"];
const GridColumnHeaders2 = /* @__PURE__ */ React.forwardRef(function GridColumnsHeaders(props, ref) {
  const {
    innerRef,
    visibleColumns,
    sortColumnLookup,
    filterColumnLookup,
    columnPositions,
    columnHeaderTabIndexState,
    columnGroupHeaderTabIndexState,
    columnHeaderFocus,
    columnGroupHeaderFocus,
    densityFactor,
    headerGroupingMaxDepth,
    columnMenuState,
    columnVisibility,
    columnGroupsHeaderStructure,
    hasOtherElementInTabSequence
  } = props, other = _objectWithoutPropertiesLoose$1(props, _excluded$6);
  const {
    isDragging,
    getRootProps,
    getInnerProps,
    getColumnHeaders,
    getColumnGroupHeaders
  } = useGridColumnHeaders({
    innerRef,
    visibleColumns,
    sortColumnLookup,
    filterColumnLookup,
    columnPositions,
    columnHeaderTabIndexState,
    columnGroupHeaderTabIndexState,
    columnHeaderFocus,
    columnGroupHeaderFocus,
    densityFactor,
    headerGroupingMaxDepth,
    columnMenuState,
    columnVisibility,
    columnGroupsHeaderStructure,
    hasOtherElementInTabSequence
  });
  return /* @__PURE__ */ jsx(GridBaseColumnHeaders, _extends$1({
    ref
  }, getRootProps(other), {
    children: /* @__PURE__ */ jsxs(GridColumnHeadersInner, _extends$1({
      isDragging
    }, getInnerProps(), {
      children: [getColumnGroupHeaders(), getColumnHeaders()]
    }))
  }));
});
process.env.NODE_ENV !== "production" ? GridColumnHeaders2.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // | To update them edit the TypeScript types and run "yarn proptypes"  |
  // ----------------------------------------------------------------------
  columnGroupHeaderFocus: PropTypes.shape({
    depth: PropTypes.number.isRequired,
    field: PropTypes.string.isRequired
  }),
  columnGroupHeaderTabIndexState: PropTypes.shape({
    depth: PropTypes.number.isRequired,
    field: PropTypes.string.isRequired
  }),
  columnGroupsHeaderStructure: PropTypes.arrayOf(PropTypes.arrayOf(PropTypes.shape({
    columnFields: PropTypes.arrayOf(PropTypes.string).isRequired,
    groupId: PropTypes.string
  }))).isRequired,
  columnHeaderFocus: PropTypes.shape({
    field: PropTypes.string.isRequired
  }),
  columnHeaderTabIndexState: PropTypes.shape({
    field: PropTypes.string.isRequired
  }),
  columnMenuState: PropTypes.shape({
    field: PropTypes.string,
    open: PropTypes.bool.isRequired
  }).isRequired,
  columnPositions: PropTypes.arrayOf(PropTypes.number).isRequired,
  columnVisibility: PropTypes.object.isRequired,
  densityFactor: PropTypes.number.isRequired,
  filterColumnLookup: PropTypes.object.isRequired,
  hasOtherElementInTabSequence: PropTypes.bool.isRequired,
  headerGroupingMaxDepth: PropTypes.number.isRequired,
  innerRef: refType,
  minColumnIndex: PropTypes.number,
  sortColumnLookup: PropTypes.object.isRequired,
  visibleColumns: PropTypes.arrayOf(PropTypes.object).isRequired
} : void 0;
const MemoizedGridColumnHeaders = fastMemo(GridColumnHeaders2);
const GridNoResultsOverlay = /* @__PURE__ */ React.forwardRef(function GridNoResultsOverlay2(props, ref) {
  const apiRef = useGridApiContext();
  const noResultsOverlayLabel = apiRef.current.getLocaleText("noResultsOverlayLabel");
  return /* @__PURE__ */ jsx(GridOverlay, _extends$1({
    ref
  }, props, {
    children: noResultsOverlayLabel
  }));
});
const _excluded$5 = ["sortingOrder"];
const GridColumnUnsortedIcon = /* @__PURE__ */ React.memo(function GridColumnHeaderSortIcon2(props) {
  const {
    sortingOrder
  } = props, other = _objectWithoutPropertiesLoose$1(props, _excluded$5);
  const rootProps = useGridRootProps();
  const [nextSortDirection] = sortingOrder;
  const Icon = nextSortDirection === "asc" ? rootProps.slots.columnSortedAscendingIcon : rootProps.slots.columnSortedDescendingIcon;
  return Icon ? /* @__PURE__ */ jsx(Icon, _extends$1({}, other)) : null;
});
const _excluded$4 = ["native"];
function MUISelectOption(_ref) {
  let {
    native
  } = _ref, props = _objectWithoutPropertiesLoose$1(_ref, _excluded$4);
  if (native) {
    return /* @__PURE__ */ jsx("option", _extends$1({}, props));
  }
  return /* @__PURE__ */ jsx(MenuItem, _extends$1({}, props));
}
const iconSlots = {
  BooleanCellTrueIcon: GridCheckIcon,
  BooleanCellFalseIcon: GridCloseIcon,
  ColumnMenuIcon: GridTripleDotsVerticalIcon,
  OpenFilterButtonIcon: GridFilterListIcon,
  FilterPanelDeleteIcon: GridCloseIcon,
  ColumnFilteredIcon: GridFilterAltIcon,
  ColumnSelectorIcon: GridColumnIcon,
  ColumnUnsortedIcon: GridColumnUnsortedIcon,
  ColumnSortedAscendingIcon: GridArrowUpwardIcon,
  ColumnSortedDescendingIcon: GridArrowDownwardIcon,
  ColumnResizeIcon: GridSeparatorIcon,
  DensityCompactIcon: GridViewHeadlineIcon,
  DensityStandardIcon: GridTableRowsIcon,
  DensityComfortableIcon: GridViewStreamIcon,
  ExportIcon: GridSaveAltIcon,
  MoreActionsIcon: GridMoreVertIcon,
  TreeDataCollapseIcon: GridExpandMoreIcon,
  TreeDataExpandIcon: GridKeyboardArrowRight,
  GroupingCriteriaCollapseIcon: GridExpandMoreIcon,
  GroupingCriteriaExpandIcon: GridKeyboardArrowRight,
  DetailPanelExpandIcon: GridAddIcon,
  DetailPanelCollapseIcon: GridRemoveIcon,
  RowReorderIcon: GridDragIcon,
  QuickFilterIcon: GridSearchIcon,
  QuickFilterClearIcon: GridCloseIcon,
  ColumnMenuHideIcon: GridVisibilityOffIcon,
  ColumnMenuSortAscendingIcon: GridArrowUpwardIcon,
  ColumnMenuSortDescendingIcon: GridArrowDownwardIcon,
  ColumnMenuFilterIcon: GridFilterAltIcon,
  ColumnMenuManageColumnsIcon: GridViewColumnIcon,
  ColumnMenuClearIcon: GridClearIcon,
  LoadIcon: GridLoadIcon,
  FilterPanelAddIcon: GridAddIcon,
  FilterPanelRemoveAllIcon: GridDeleteForeverIcon,
  ColumnReorderIcon: GridDragIcon
};
const materialSlots = _extends$1({}, iconSlots, {
  BaseCheckbox: MUICheckbox,
  BaseTextField: TextField,
  BaseFormControl: MUIFormControl,
  BaseSelect: MUISelect,
  BaseSwitch: MUISwitch,
  BaseButton: MUIButton,
  BaseIconButton: IconButton,
  BaseInputAdornment: MUIInputAdornment,
  BaseTooltip: MUITooltip,
  BasePopper: Popper,
  BaseInputLabel: MUIInputLabel,
  BaseSelectOption: MUISelectOption,
  BaseChip: MUIChip
});
const DATA_GRID_DEFAULT_SLOTS_COMPONENTS = _extends$1({}, materialSlots, {
  Cell: MemoizedGridCellV7,
  SkeletonCell: GridSkeletonCell,
  ColumnHeaderFilterIconButton: GridColumnHeaderFilterIconButton,
  ColumnMenu: GridColumnMenu,
  ColumnHeaders: MemoizedGridColumnHeaders,
  Footer: GridFooter,
  FooterRowCount: GridRowCount,
  Toolbar: null,
  PreferencesPanel: GridPreferencesPanel,
  LoadingOverlay: GridLoadingOverlay,
  NoResultsOverlay: GridNoResultsOverlay,
  NoRowsOverlay: GridNoRowsOverlay,
  Pagination: GridPagination,
  FilterPanel: GridFilterPanel,
  ColumnsPanel: GridColumnsPanel,
  Panel: GridPanel,
  Row: MemoizedGridRow
});
const uncapitalizeObjectKeys = (capitalizedObject) => {
  if (capitalizedObject === void 0) {
    return void 0;
  }
  return Object.keys(capitalizedObject).reduce((acc, key) => _extends$1({}, acc, {
    [`${key.charAt(0).toLowerCase()}${key.slice(1)}`]: capitalizedObject[key]
  }), {});
};
function computeSlots({
  defaultSlots: defaultSlots2,
  slots,
  components
}) {
  const overrides = slots != null ? slots : components ? uncapitalizeObjectKeys(components) : null;
  if (!overrides || Object.keys(overrides).length === 0) {
    return defaultSlots2;
  }
  const result = _extends$1({}, defaultSlots2);
  Object.keys(overrides).forEach((key) => {
    const k = key;
    if (overrides[k] !== void 0) {
      result[k] = overrides[k];
    }
  });
  return result;
}
const _excluded$3 = ["components", "componentsProps"];
function groupForwardedProps(props) {
  var _props$forwardedProps;
  const keys = Object.keys(props);
  if (!keys.some((key) => key.startsWith("aria-") || key.startsWith("data-"))) {
    return props;
  }
  const newProps = {};
  const forwardedProps = (_props$forwardedProps = props.forwardedProps) != null ? _props$forwardedProps : {};
  for (let i2 = 0; i2 < keys.length; i2 += 1) {
    const key = keys[i2];
    if (key.startsWith("aria-") || key.startsWith("data-")) {
      forwardedProps[key] = props[key];
    } else {
      newProps[key] = props[key];
    }
  }
  newProps.forwardedProps = forwardedProps;
  return newProps;
}
function useProps(allProps) {
  return React.useMemo(() => {
    const {
      components,
      componentsProps
    } = allProps, themedProps = _objectWithoutPropertiesLoose$1(allProps, _excluded$3);
    return [components, componentsProps, groupForwardedProps(themedProps)];
  }, [allProps]);
}
const DATA_GRID_FORCED_PROPS = {
  disableMultipleColumnsFiltering: true,
  disableMultipleColumnsSorting: true,
  disableMultipleRowSelection: true,
  throttleRowsMs: void 0,
  hideFooterRowCount: false,
  pagination: true,
  checkboxSelectionVisibleOnly: false,
  disableColumnReorder: true,
  disableColumnResize: true,
  keepColumnPositionIfDraggedOutside: false,
  signature: "DataGrid"
};
const DATA_GRID_PROPS_DEFAULT_VALUES = {
  autoHeight: false,
  autoPageSize: false,
  checkboxSelection: false,
  checkboxSelectionVisibleOnly: false,
  columnBuffer: 3,
  rowBuffer: 3,
  columnThreshold: 3,
  rowThreshold: 3,
  rowSelection: true,
  density: "standard",
  disableColumnFilter: false,
  disableColumnMenu: false,
  disableColumnSelector: false,
  disableDensitySelector: false,
  disableEval: false,
  disableMultipleColumnsFiltering: false,
  disableMultipleRowSelection: false,
  disableMultipleColumnsSorting: false,
  disableRowSelectionOnClick: false,
  disableVirtualization: false,
  editMode: GridEditModes.Cell,
  filterMode: "client",
  filterDebounceMs: 150,
  columnHeaderHeight: 56,
  hideFooter: false,
  hideFooterPagination: false,
  hideFooterRowCount: false,
  hideFooterSelectedRowCount: false,
  ignoreDiacritics: false,
  logger: console,
  logLevel: process.env.NODE_ENV === "production" ? "error" : "warn",
  pagination: false,
  paginationMode: "client",
  rowHeight: 52,
  pageSizeOptions: [25, 50, 100],
  rowSpacingType: "margin",
  showCellVerticalBorder: false,
  showColumnVerticalBorder: false,
  sortingOrder: ["asc", "desc", null],
  sortingMode: "client",
  throttleRowsMs: 0,
  disableColumnReorder: false,
  disableColumnResize: false,
  keepNonExistentRowsSelected: false,
  keepColumnPositionIfDraggedOutside: false,
  unstable_ignoreValueFormatterDuringExport: false,
  clipboardCopyCellDelimiter: "	",
  rowPositionsDebounceMs: 166
};
const defaultSlots = uncapitalizeObjectKeys(DATA_GRID_DEFAULT_SLOTS_COMPONENTS);
const useDataGridProps = (inProps) => {
  const [components, componentsProps, themedProps] = useProps(useThemeProps({
    props: inProps,
    name: "MuiDataGrid"
  }));
  const localeText = React.useMemo(() => _extends$1({}, GRID_DEFAULT_LOCALE_TEXT, themedProps.localeText), [themedProps.localeText]);
  const slots = React.useMemo(() => computeSlots({
    defaultSlots,
    slots: themedProps.slots,
    components
  }), [components, themedProps.slots]);
  return React.useMemo(() => {
    var _themedProps$slotProp;
    return _extends$1({}, DATA_GRID_PROPS_DEFAULT_VALUES, themedProps, {
      localeText,
      slots,
      slotProps: (_themedProps$slotProp = themedProps.slotProps) != null ? _themedProps$slotProp : componentsProps
    }, DATA_GRID_FORCED_PROPS);
  }, [themedProps, localeText, slots, componentsProps]);
};
const rowsMetaStateInitializer = (state) => _extends$1({}, state, {
  rowsMeta: {
    currentPageTotalHeight: 0,
    positions: []
  }
});
let warnedOnceInvalidRowHeight = false;
const getValidRowHeight = (rowHeightProp, defaultRowHeight, warningMessage) => {
  if (typeof rowHeightProp === "number" && rowHeightProp > 0) {
    return rowHeightProp;
  }
  if (process.env.NODE_ENV !== "production" && !warnedOnceInvalidRowHeight && typeof rowHeightProp !== "undefined" && rowHeightProp !== null) {
    console.warn(warningMessage);
    warnedOnceInvalidRowHeight = true;
  }
  return defaultRowHeight;
};
const rowHeightWarning = [`MUI: The \`rowHeight\` prop should be a number greater than 0.`, `The default value will be used instead.`].join("\n");
const getRowHeightWarning = [`MUI: The \`getRowHeight\` prop should return a number greater than 0 or 'auto'.`, `The default value will be used instead.`].join("\n");
const useGridRowsMeta = (apiRef, props) => {
  const {
    getRowHeight: getRowHeightProp,
    getRowSpacing,
    getEstimatedRowHeight
  } = props;
  const rowsHeightLookup = React.useRef(/* @__PURE__ */ Object.create(null));
  const lastMeasuredRowIndex = React.useRef(-1);
  const hasRowWithAutoHeight = React.useRef(false);
  const densityFactor = useGridSelector(apiRef, gridDensityFactorSelector);
  const filterModel = useGridSelector(apiRef, gridFilterModelSelector);
  const paginationState = useGridSelector(apiRef, gridPaginationSelector);
  const sortModel = useGridSelector(apiRef, gridSortModelSelector);
  const currentPage = useGridVisibleRows(apiRef, props);
  const pinnedRows = useGridSelector(apiRef, gridPinnedRowsSelector);
  const validRowHeight = getValidRowHeight(props.rowHeight, DATA_GRID_PROPS_DEFAULT_VALUES.rowHeight, rowHeightWarning);
  const rowHeight = Math.floor(validRowHeight * densityFactor);
  const hydrateRowsMeta = React.useCallback(() => {
    var _pinnedRows$top, _pinnedRows$bottom;
    hasRowWithAutoHeight.current = false;
    const calculateRowProcessedSizes = (row) => {
      if (!rowsHeightLookup.current[row.id]) {
        rowsHeightLookup.current[row.id] = {
          sizes: {
            baseCenter: rowHeight
          },
          isResized: false,
          autoHeight: false,
          needsFirstMeasurement: true
          // Assume all rows will need to be measured by default
        };
      }
      const {
        isResized,
        needsFirstMeasurement,
        sizes
      } = rowsHeightLookup.current[row.id];
      let baseRowHeight = typeof rowHeight === "number" && rowHeight > 0 ? rowHeight : 52;
      const existingBaseRowHeight = sizes.baseCenter;
      if (isResized) {
        baseRowHeight = existingBaseRowHeight;
      } else if (getRowHeightProp) {
        const rowHeightFromUser = getRowHeightProp(_extends$1({}, row, {
          densityFactor
        }));
        if (rowHeightFromUser === "auto") {
          if (needsFirstMeasurement) {
            const estimatedRowHeight = getEstimatedRowHeight ? getEstimatedRowHeight(_extends$1({}, row, {
              densityFactor
            })) : rowHeight;
            baseRowHeight = estimatedRowHeight != null ? estimatedRowHeight : rowHeight;
          } else {
            baseRowHeight = existingBaseRowHeight;
          }
          hasRowWithAutoHeight.current = true;
          rowsHeightLookup.current[row.id].autoHeight = true;
        } else {
          baseRowHeight = getValidRowHeight(rowHeightFromUser, rowHeight, getRowHeightWarning);
          rowsHeightLookup.current[row.id].needsFirstMeasurement = false;
          rowsHeightLookup.current[row.id].autoHeight = false;
        }
      } else {
        rowsHeightLookup.current[row.id].needsFirstMeasurement = false;
      }
      const initialHeights = {};
      for (const key in sizes) {
        if (/^base[A-Z]/.test(key)) {
          initialHeights[key] = sizes[key];
        }
      }
      initialHeights.baseCenter = baseRowHeight;
      if (getRowSpacing) {
        var _spacing$top, _spacing$bottom;
        const indexRelativeToCurrentPage = apiRef.current.getRowIndexRelativeToVisibleRows(row.id);
        const spacing = getRowSpacing(_extends$1({}, row, {
          isFirstVisible: indexRelativeToCurrentPage === 0,
          isLastVisible: indexRelativeToCurrentPage === currentPage.rows.length - 1,
          indexRelativeToCurrentPage
        }));
        initialHeights.spacingTop = (_spacing$top = spacing.top) != null ? _spacing$top : 0;
        initialHeights.spacingBottom = (_spacing$bottom = spacing.bottom) != null ? _spacing$bottom : 0;
      }
      const processedSizes = apiRef.current.unstable_applyPipeProcessors("rowHeight", initialHeights, row);
      rowsHeightLookup.current[row.id].sizes = processedSizes;
      return processedSizes;
    };
    const positions = [];
    const currentPageTotalHeight = currentPage.rows.reduce((acc, row) => {
      positions.push(acc);
      let maximumBaseSize = 0;
      let otherSizes = 0;
      const processedSizes = calculateRowProcessedSizes(row);
      for (const key in processedSizes) {
        const value = processedSizes[key];
        if (/^base[A-Z]/.test(key)) {
          maximumBaseSize = value > maximumBaseSize ? value : maximumBaseSize;
        } else {
          otherSizes += value;
        }
      }
      return acc + maximumBaseSize + otherSizes;
    }, 0);
    pinnedRows == null || (_pinnedRows$top = pinnedRows.top) == null || _pinnedRows$top.forEach((row) => {
      calculateRowProcessedSizes(row);
    });
    pinnedRows == null || (_pinnedRows$bottom = pinnedRows.bottom) == null || _pinnedRows$bottom.forEach((row) => {
      calculateRowProcessedSizes(row);
    });
    apiRef.current.setState((state) => {
      return _extends$1({}, state, {
        rowsMeta: {
          currentPageTotalHeight,
          positions
        }
      });
    });
    if (!hasRowWithAutoHeight.current) {
      lastMeasuredRowIndex.current = Infinity;
    }
    apiRef.current.forceUpdate();
  }, [apiRef, currentPage.rows, rowHeight, getRowHeightProp, getRowSpacing, getEstimatedRowHeight, pinnedRows, densityFactor]);
  const getRowHeight = React.useCallback((rowId) => {
    const height = rowsHeightLookup.current[rowId];
    return height ? height.sizes.baseCenter : rowHeight;
  }, [rowHeight]);
  const getRowInternalSizes = (rowId) => {
    var _rowsHeightLookup$cur;
    return (_rowsHeightLookup$cur = rowsHeightLookup.current[rowId]) == null ? void 0 : _rowsHeightLookup$cur.sizes;
  };
  const setRowHeight = React.useCallback((id, height) => {
    rowsHeightLookup.current[id].sizes.baseCenter = height;
    rowsHeightLookup.current[id].isResized = true;
    rowsHeightLookup.current[id].needsFirstMeasurement = false;
    hydrateRowsMeta();
  }, [hydrateRowsMeta]);
  const debouncedHydrateRowsMeta = React.useMemo(() => unstable_debounce(hydrateRowsMeta, props.rowPositionsDebounceMs), [hydrateRowsMeta, props.rowPositionsDebounceMs]);
  const storeMeasuredRowHeight = React.useCallback((id, height, position) => {
    if (!rowsHeightLookup.current[id] || !rowsHeightLookup.current[id].autoHeight) {
      return;
    }
    const needsHydration = rowsHeightLookup.current[id].sizes[`base${unstable_capitalize(position)}`] !== height;
    rowsHeightLookup.current[id].needsFirstMeasurement = false;
    rowsHeightLookup.current[id].sizes[`base${unstable_capitalize(position)}`] = height;
    if (needsHydration) {
      debouncedHydrateRowsMeta();
    }
  }, [debouncedHydrateRowsMeta]);
  const rowHasAutoHeight = React.useCallback((id) => {
    var _rowsHeightLookup$cur2;
    return ((_rowsHeightLookup$cur2 = rowsHeightLookup.current[id]) == null ? void 0 : _rowsHeightLookup$cur2.autoHeight) || false;
  }, []);
  const getLastMeasuredRowIndex = React.useCallback(() => {
    return lastMeasuredRowIndex.current;
  }, []);
  const setLastMeasuredRowIndex = React.useCallback((index2) => {
    if (hasRowWithAutoHeight.current && index2 > lastMeasuredRowIndex.current) {
      lastMeasuredRowIndex.current = index2;
    }
  }, []);
  const resetRowHeights = React.useCallback(() => {
    rowsHeightLookup.current = {};
    hydrateRowsMeta();
  }, [hydrateRowsMeta]);
  React.useEffect(() => {
    hydrateRowsMeta();
  }, [rowHeight, filterModel, paginationState, sortModel, hydrateRowsMeta]);
  useGridRegisterPipeApplier(apiRef, "rowHeight", hydrateRowsMeta);
  const rowsMetaApi = {
    unstable_setLastMeasuredRowIndex: setLastMeasuredRowIndex,
    unstable_getRowHeight: getRowHeight,
    unstable_getRowInternalSizes: getRowInternalSizes,
    unstable_setRowHeight: setRowHeight,
    unstable_storeRowHeightMeasurement: storeMeasuredRowHeight,
    resetRowHeights
  };
  const rowsMetaPrivateApi = {
    getLastMeasuredRowIndex,
    rowHasAutoHeight
  };
  useGridApiMethod(apiRef, rowsMetaApi, "public");
  useGridApiMethod(apiRef, rowsMetaPrivateApi, "private");
};
const useGridStatePersistence = (apiRef) => {
  const exportState = React.useCallback((params = {}) => {
    const stateToExport = apiRef.current.unstable_applyPipeProcessors("exportState", {}, params);
    return stateToExport;
  }, [apiRef]);
  const restoreState = React.useCallback((stateToRestore) => {
    const response = apiRef.current.unstable_applyPipeProcessors("restoreState", {
      callbacks: []
    }, {
      stateToRestore
    });
    response.callbacks.forEach((callback) => {
      callback();
    });
    apiRef.current.forceUpdate();
  }, [apiRef]);
  const statePersistenceApi = {
    exportState,
    restoreState
  };
  useGridApiMethod(apiRef, statePersistenceApi, "public");
};
const useGridColumnSpanning = (apiRef) => {
  const lookup = React.useRef({});
  const setCellColSpanInfo = React.useCallback((rowId, columnIndex, cellColSpanInfo) => {
    const sizes = lookup.current;
    if (!sizes[rowId]) {
      sizes[rowId] = {};
    }
    sizes[rowId][columnIndex] = cellColSpanInfo;
  }, []);
  const getCellColSpanInfo = React.useCallback((rowId, columnIndex) => {
    var _lookup$current$rowId;
    return (_lookup$current$rowId = lookup.current[rowId]) == null ? void 0 : _lookup$current$rowId[columnIndex];
  }, []);
  const calculateCellColSpan = React.useCallback((params) => {
    const {
      columnIndex,
      rowId,
      minFirstColumnIndex,
      maxLastColumnIndex,
      columns
    } = params;
    const columnsLength = columns.length;
    const column = columns[columnIndex];
    const colSpan = typeof column.colSpan === "function" ? column.colSpan(apiRef.current.getCellParams(rowId, column.field)) : column.colSpan;
    if (!colSpan || colSpan === 1) {
      setCellColSpanInfo(rowId, columnIndex, {
        spannedByColSpan: false,
        cellProps: {
          colSpan: 1,
          width: column.computedWidth
        }
      });
      return {
        colSpan: 1
      };
    }
    let width = column.computedWidth;
    for (let j = 1; j < colSpan; j += 1) {
      const nextColumnIndex = columnIndex + j;
      if (nextColumnIndex >= minFirstColumnIndex && nextColumnIndex < maxLastColumnIndex) {
        const nextColumn = columns[nextColumnIndex];
        width += nextColumn.computedWidth;
        setCellColSpanInfo(rowId, columnIndex + j, {
          spannedByColSpan: true,
          rightVisibleCellIndex: Math.min(columnIndex + colSpan, columnsLength - 1),
          leftVisibleCellIndex: columnIndex
        });
      }
      setCellColSpanInfo(rowId, columnIndex, {
        spannedByColSpan: false,
        cellProps: {
          colSpan,
          width
        }
      });
    }
    return {
      colSpan
    };
  }, [apiRef, setCellColSpanInfo]);
  const calculateColSpan = React.useCallback(({
    rowId,
    minFirstColumn,
    maxLastColumn,
    columns
  }) => {
    for (let i2 = minFirstColumn; i2 < maxLastColumn; i2 += 1) {
      const cellProps = calculateCellColSpan({
        columnIndex: i2,
        rowId,
        minFirstColumnIndex: minFirstColumn,
        maxLastColumnIndex: maxLastColumn,
        columns
      });
      if (cellProps.colSpan > 1) {
        i2 += cellProps.colSpan - 1;
      }
    }
  }, [calculateCellColSpan]);
  const columnSpanningPublicApi = {
    unstable_getCellColSpanInfo: getCellColSpanInfo
  };
  const columnSpanningPrivateApi = {
    calculateColSpan
  };
  useGridApiMethod(apiRef, columnSpanningPublicApi, "public");
  useGridApiMethod(apiRef, columnSpanningPrivateApi, "private");
  const handleColumnReorderChange = React.useCallback(() => {
    lookup.current = {};
  }, []);
  useGridApiEventHandler(apiRef, "columnOrderChange", handleColumnReorderChange);
};
const recurrentUnwrapGroupingColumnModel = (columnGroupNode, parents, unwrappedGroupingModelToComplete) => {
  if (isLeaf(columnGroupNode)) {
    if (unwrappedGroupingModelToComplete[columnGroupNode.field] !== void 0) {
      throw new Error([`MUI: columnGroupingModel contains duplicated field`, `column field ${columnGroupNode.field} occurs two times in the grouping model:`, `- ${unwrappedGroupingModelToComplete[columnGroupNode.field].join(" > ")}`, `- ${parents.join(" > ")}`].join("\n"));
    }
    unwrappedGroupingModelToComplete[columnGroupNode.field] = parents;
    return;
  }
  const {
    groupId,
    children
  } = columnGroupNode;
  children.forEach((child) => {
    recurrentUnwrapGroupingColumnModel(child, [...parents, groupId], unwrappedGroupingModelToComplete);
  });
};
const unwrapGroupingColumnModel = (columnGroupingModel) => {
  if (!columnGroupingModel) {
    return {};
  }
  const unwrappedSubTree = {};
  columnGroupingModel.forEach((columnGroupNode) => {
    recurrentUnwrapGroupingColumnModel(columnGroupNode, [], unwrappedSubTree);
  });
  return unwrappedSubTree;
};
const getColumnGroupsHeaderStructure = (orderedColumns, unwrappedGroupingModel, pinnedFields) => {
  const getParents = (field) => {
    var _unwrappedGroupingMod;
    return (_unwrappedGroupingMod = unwrappedGroupingModel[field]) != null ? _unwrappedGroupingMod : [];
  };
  const groupingHeaderStructure = [];
  const maxDepth = Math.max(...orderedColumns.map((field) => getParents(field).length));
  const haveSameParents = (field1, field2, depth) => isDeepEqual(getParents(field1).slice(0, depth + 1), getParents(field2).slice(0, depth + 1));
  const haveDifferentContainers = (field1, field2) => {
    if (pinnedFields != null && pinnedFields.left && pinnedFields.left.includes(field1) && !pinnedFields.left.includes(field2)) {
      return true;
    }
    if (pinnedFields != null && pinnedFields.right && !pinnedFields.right.includes(field1) && pinnedFields.right.includes(field2)) {
      return true;
    }
    return false;
  };
  for (let depth = 0; depth < maxDepth; depth += 1) {
    const depthStructure = orderedColumns.reduce((structure, newField) => {
      var _getParents$depth;
      const groupId = (_getParents$depth = getParents(newField)[depth]) != null ? _getParents$depth : null;
      if (structure.length === 0) {
        return [{
          columnFields: [newField],
          groupId
        }];
      }
      const lastGroup = structure[structure.length - 1];
      const prevField = lastGroup.columnFields[lastGroup.columnFields.length - 1];
      const prevGroupId = lastGroup.groupId;
      if (prevGroupId !== groupId || !haveSameParents(prevField, newField, depth) || // Fix for https://github.com/mui/mui-x/issues/7041
      haveDifferentContainers(prevField, newField)) {
        return [...structure, {
          columnFields: [newField],
          groupId
        }];
      }
      return [...structure.slice(0, structure.length - 1), {
        columnFields: [...lastGroup.columnFields, newField],
        groupId
      }];
    }, []);
    groupingHeaderStructure.push(depthStructure);
  }
  return groupingHeaderStructure;
};
const _excluded$2 = ["groupId", "children"];
const createGroupLookup = (columnGroupingModel) => {
  let groupLookup = {};
  columnGroupingModel.forEach((node) => {
    if (isLeaf(node)) {
      return;
    }
    const {
      groupId,
      children
    } = node, other = _objectWithoutPropertiesLoose$1(node, _excluded$2);
    if (!groupId) {
      throw new Error("MUI: An element of the columnGroupingModel does not have either `field` or `groupId`.");
    }
    if (!children) {
      console.warn(`MUI: group groupId=${groupId} has no children.`);
    }
    const groupParam = _extends$1({}, other, {
      groupId
    });
    const subTreeLookup = createGroupLookup(children);
    if (subTreeLookup[groupId] !== void 0 || groupLookup[groupId] !== void 0) {
      throw new Error(`MUI: The groupId ${groupId} is used multiple times in the columnGroupingModel.`);
    }
    groupLookup = _extends$1({}, groupLookup, subTreeLookup, {
      [groupId]: groupParam
    });
  });
  return _extends$1({}, groupLookup);
};
const columnGroupsStateInitializer = (state, props, apiRef) => {
  var _props$experimentalFe, _props$columnGrouping, _props$columnGrouping2, _apiRef$current$state;
  if (!((_props$experimentalFe = props.experimentalFeatures) != null && _props$experimentalFe.columnGrouping)) {
    return state;
  }
  const columnFields = gridColumnFieldsSelector(apiRef);
  const visibleColumnFields = gridVisibleColumnFieldsSelector(apiRef);
  const groupLookup = createGroupLookup((_props$columnGrouping = props.columnGroupingModel) != null ? _props$columnGrouping : []);
  const unwrappedGroupingModel = unwrapGroupingColumnModel((_props$columnGrouping2 = props.columnGroupingModel) != null ? _props$columnGrouping2 : []);
  const columnGroupsHeaderStructure = getColumnGroupsHeaderStructure(
    columnFields,
    unwrappedGroupingModel,
    // @ts-expect-error Move this part to `Pro` package
    (_apiRef$current$state = apiRef.current.state.pinnedColumns) != null ? _apiRef$current$state : {}
  );
  const maxDepth = visibleColumnFields.length === 0 ? 0 : Math.max(...visibleColumnFields.map((field) => {
    var _unwrappedGroupingMod, _unwrappedGroupingMod2;
    return (_unwrappedGroupingMod = (_unwrappedGroupingMod2 = unwrappedGroupingModel[field]) == null ? void 0 : _unwrappedGroupingMod2.length) != null ? _unwrappedGroupingMod : 0;
  }));
  return _extends$1({}, state, {
    columnGrouping: {
      lookup: groupLookup,
      unwrappedGroupingModel,
      headerStructure: columnGroupsHeaderStructure,
      maxDepth
    }
  });
};
const useGridColumnGrouping = (apiRef, props) => {
  var _props$experimentalFe3;
  const getColumnGroupPath = React.useCallback((field) => {
    var _unwrappedGroupingMod3;
    const unwrappedGroupingModel = gridColumnGroupsUnwrappedModelSelector(apiRef);
    return (_unwrappedGroupingMod3 = unwrappedGroupingModel[field]) != null ? _unwrappedGroupingMod3 : [];
  }, [apiRef]);
  const getAllGroupDetails = React.useCallback(() => {
    const columnGroupLookup = gridColumnGroupsLookupSelector(apiRef);
    return columnGroupLookup;
  }, [apiRef]);
  const columnGroupingApi = {
    unstable_getColumnGroupPath: getColumnGroupPath,
    unstable_getAllGroupDetails: getAllGroupDetails
  };
  useGridApiMethod(apiRef, columnGroupingApi, "public");
  const handleColumnIndexChange = React.useCallback(() => {
    var _props$columnGrouping3;
    const unwrappedGroupingModel = unwrapGroupingColumnModel((_props$columnGrouping3 = props.columnGroupingModel) != null ? _props$columnGrouping3 : []);
    apiRef.current.setState((state) => {
      var _state$columns$ordere, _state$columns, _state$pinnedColumns;
      const orderedFields = (_state$columns$ordere = (_state$columns = state.columns) == null ? void 0 : _state$columns.orderedFields) != null ? _state$columns$ordere : [];
      const pinnedColumns = (_state$pinnedColumns = state.pinnedColumns) != null ? _state$pinnedColumns : {};
      const columnGroupsHeaderStructure = getColumnGroupsHeaderStructure(orderedFields, unwrappedGroupingModel, pinnedColumns);
      return _extends$1({}, state, {
        columnGrouping: _extends$1({}, state.columnGrouping, {
          headerStructure: columnGroupsHeaderStructure
        })
      });
    });
  }, [apiRef, props.columnGroupingModel]);
  const updateColumnGroupingState = React.useCallback((columnGroupingModel) => {
    var _props$experimentalFe2, _apiRef$current$getPi, _apiRef$current$getPi2, _apiRef$current;
    if (!((_props$experimentalFe2 = props.experimentalFeatures) != null && _props$experimentalFe2.columnGrouping)) {
      return;
    }
    const pinnedColumns = (_apiRef$current$getPi = (_apiRef$current$getPi2 = (_apiRef$current = apiRef.current).getPinnedColumns) == null ? void 0 : _apiRef$current$getPi2.call(_apiRef$current)) != null ? _apiRef$current$getPi : {};
    const columnFields = gridColumnFieldsSelector(apiRef);
    const visibleColumnFields = gridVisibleColumnFieldsSelector(apiRef);
    const groupLookup = createGroupLookup(columnGroupingModel != null ? columnGroupingModel : []);
    const unwrappedGroupingModel = unwrapGroupingColumnModel(columnGroupingModel != null ? columnGroupingModel : []);
    const columnGroupsHeaderStructure = getColumnGroupsHeaderStructure(columnFields, unwrappedGroupingModel, pinnedColumns);
    const maxDepth = visibleColumnFields.length === 0 ? 0 : Math.max(...visibleColumnFields.map((field) => {
      var _unwrappedGroupingMod4, _unwrappedGroupingMod5;
      return (_unwrappedGroupingMod4 = (_unwrappedGroupingMod5 = unwrappedGroupingModel[field]) == null ? void 0 : _unwrappedGroupingMod5.length) != null ? _unwrappedGroupingMod4 : 0;
    }));
    apiRef.current.setState((state) => {
      return _extends$1({}, state, {
        columnGrouping: {
          lookup: groupLookup,
          unwrappedGroupingModel,
          headerStructure: columnGroupsHeaderStructure,
          maxDepth
        }
      });
    });
  }, [apiRef, (_props$experimentalFe3 = props.experimentalFeatures) == null ? void 0 : _props$experimentalFe3.columnGrouping]);
  useGridApiEventHandler(apiRef, "columnIndexChange", handleColumnIndexChange);
  useGridApiEventHandler(apiRef, "columnsChange", () => {
    updateColumnGroupingState(props.columnGroupingModel);
  });
  useGridApiEventHandler(apiRef, "columnVisibilityModelChange", () => {
    updateColumnGroupingState(props.columnGroupingModel);
  });
  React.useEffect(() => {
    updateColumnGroupingState(props.columnGroupingModel);
  }, [updateColumnGroupingState, props.columnGroupingModel]);
};
const useDataGridComponent = (inputApiRef, props) => {
  const apiRef = useGridInitialization(inputApiRef, props);
  useGridRowSelectionPreProcessors(apiRef, props);
  useGridRowsPreProcessors(apiRef);
  useGridInitializeState(rowSelectionStateInitializer, apiRef, props);
  useGridInitializeState(columnsStateInitializer, apiRef, props);
  useGridInitializeState(rowsStateInitializer, apiRef, props);
  useGridInitializeState(editingStateInitializer, apiRef, props);
  useGridInitializeState(focusStateInitializer, apiRef, props);
  useGridInitializeState(sortingStateInitializer, apiRef, props);
  useGridInitializeState(preferencePanelStateInitializer, apiRef, props);
  useGridInitializeState(filterStateInitializer, apiRef, props);
  useGridInitializeState(densityStateInitializer, apiRef, props);
  useGridInitializeState(paginationStateInitializer, apiRef, props);
  useGridInitializeState(rowsMetaStateInitializer, apiRef, props);
  useGridInitializeState(columnMenuStateInitializer, apiRef, props);
  useGridInitializeState(columnGroupsStateInitializer, apiRef, props);
  useGridInitializeState(virtualizationStateInitializer, apiRef, props);
  useGridKeyboardNavigation(apiRef, props);
  useGridRowSelection(apiRef, props);
  useGridColumns(apiRef, props);
  useGridRows(apiRef, props);
  useGridParamsApi(apiRef, props);
  useGridColumnSpanning(apiRef);
  useGridColumnGrouping(apiRef, props);
  useGridEditing(apiRef, props);
  useGridFocus(apiRef, props);
  useGridPreferencesPanel(apiRef, props);
  useGridFilter(apiRef, props);
  useGridSorting(apiRef, props);
  useGridDensity(apiRef, props);
  useGridPagination(apiRef, props);
  useGridRowsMeta(apiRef, props);
  useGridScroll(apiRef, props);
  useGridColumnMenu(apiRef);
  useGridCsvExport(apiRef, props);
  useGridPrintExport(apiRef, props);
  useGridClipboard(apiRef, props);
  useGridDimensions(apiRef, props);
  useGridEvents(apiRef, props);
  useGridStatePersistence(apiRef);
  useGridVirtualization(apiRef, props);
  return apiRef;
};
const useUtilityClasses$2 = (ownerState) => {
  const {
    classes
  } = ownerState;
  const slots = {
    root: ["virtualScroller"]
  };
  return unstable_composeClasses(slots, getDataGridUtilityClass, classes);
};
const VirtualScrollerRoot = styled("div", {
  name: "MuiDataGrid",
  slot: "VirtualScroller",
  overridesResolver: (props, styles) => styles.virtualScroller
})({
  overflow: "auto",
  height: "100%",
  // See https://github.com/mui/mui-x/issues/4360
  position: "relative",
  "@media print": {
    overflow: "hidden"
  },
  zIndex: 0
  // See https://github.com/mui/mui-x/issues/10547
});
const GridVirtualScroller = /* @__PURE__ */ React.forwardRef(function GridVirtualScroller2(props, ref) {
  const rootProps = useGridRootProps();
  const classes = useUtilityClasses$2(rootProps);
  return /* @__PURE__ */ jsx(VirtualScrollerRoot, _extends$1({
    ref
  }, props, {
    className: clsx(classes.root, props.className),
    ownerState: rootProps
  }));
});
const useUtilityClasses$1 = (props, overflowedContent) => {
  const {
    classes
  } = props;
  const slots = {
    root: ["virtualScrollerContent", overflowedContent && "virtualScrollerContent--overflowed"]
  };
  return unstable_composeClasses(slots, getDataGridUtilityClass, classes);
};
const VirtualScrollerContentRoot = styled("div", {
  name: "MuiDataGrid",
  slot: "VirtualScrollerContent",
  overridesResolver: (props, styles) => styles.virtualScrollerContent
})({});
const GridVirtualScrollerContent = /* @__PURE__ */ React.forwardRef(function GridVirtualScrollerContent2(props, ref) {
  var _props$style;
  const rootProps = useGridRootProps();
  const overflowedContent = !rootProps.autoHeight && ((_props$style = props.style) == null ? void 0 : _props$style.minHeight) === "auto";
  const classes = useUtilityClasses$1(rootProps, overflowedContent);
  return /* @__PURE__ */ jsx(VirtualScrollerContentRoot, _extends$1({
    ref
  }, props, {
    ownerState: rootProps,
    className: clsx(classes.root, props.className)
  }));
});
const _excluded$1 = ["className"];
const useUtilityClasses = (ownerState) => {
  const {
    classes
  } = ownerState;
  const slots = {
    root: ["virtualScrollerRenderZone"]
  };
  return unstable_composeClasses(slots, getDataGridUtilityClass, classes);
};
const VirtualScrollerRenderZoneRoot = styled("div", {
  name: "MuiDataGrid",
  slot: "VirtualScrollerRenderZone",
  overridesResolver: (props, styles) => styles.virtualScrollerRenderZone
})({
  position: "absolute",
  display: "flex",
  // Prevents margin collapsing when using `getRowSpacing`
  flexDirection: "column"
});
const GridVirtualScrollerRenderZone = /* @__PURE__ */ React.forwardRef(function GridVirtualScrollerRenderZone2(props, ref) {
  const {
    className
  } = props, other = _objectWithoutPropertiesLoose$1(props, _excluded$1);
  const rootProps = useGridRootProps();
  const classes = useUtilityClasses(rootProps);
  return /* @__PURE__ */ jsx(VirtualScrollerRenderZoneRoot, _extends$1({
    ref,
    className: clsx(classes.root, className),
    ownerState: rootProps
  }, other));
});
const _excluded = ["className"];
const DataGridVirtualScroller = /* @__PURE__ */ React.forwardRef(function DataGridVirtualScroller2(props, ref) {
  const {
    className
  } = props, other = _objectWithoutPropertiesLoose$1(props, _excluded);
  const {
    getRootProps,
    getContentProps,
    getRenderZoneProps,
    getRows
  } = useGridVirtualScroller({
    ref
  });
  return /* @__PURE__ */ jsxs(GridVirtualScroller, _extends$1({
    className
  }, getRootProps(other), {
    children: [/* @__PURE__ */ jsx(GridOverlays, {}), /* @__PURE__ */ jsx(GridVirtualScrollerContent, _extends$1({}, getContentProps(), {
      children: /* @__PURE__ */ jsx(GridVirtualScrollerRenderZone, _extends$1({}, getRenderZoneProps(), {
        children: getRows()
      }))
    }))]
  }));
});
const DataGridRaw = /* @__PURE__ */ React.forwardRef(function DataGrid(inProps, ref) {
  const props = useDataGridProps(inProps);
  const privateApiRef = useDataGridComponent(props.apiRef, props);
  return /* @__PURE__ */ jsx(GridContextProvider, {
    privateApiRef,
    props,
    children: /* @__PURE__ */ jsxs(GridRoot, _extends$1({
      className: props.className,
      style: props.style,
      sx: props.sx,
      ref
    }, props.forwardedProps, {
      children: [/* @__PURE__ */ jsx(GridHeader, {}), /* @__PURE__ */ jsx(GridBody, {
        VirtualScrollerComponent: DataGridVirtualScroller
      }), /* @__PURE__ */ jsx(GridFooterPlaceholder, {})]
    }))
  });
});
const DataGrid2 = /* @__PURE__ */ React.memo(DataGridRaw);
DATA_GRID_PROPS_DEFAULT_VALUES.filterDebounceMs;
DATA_GRID_PROPS_DEFAULT_VALUES.filterDebounceMs;
DataGridRaw.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // | To update them edit the TypeScript types and run "yarn proptypes"  |
  // ----------------------------------------------------------------------
  /**
   * The ref object that allows Data Grid manipulation. Can be instantiated with `useGridApiRef()`.
   */
  apiRef: PropTypes.shape({
    current: PropTypes.object.isRequired
  }),
  /**
   * The label of the Data Grid.
   */
  "aria-label": PropTypes.string,
  /**
   * The id of the element containing a label for the Data Grid.
   */
  "aria-labelledby": PropTypes.string,
  /**
   * If `true`, the Data Grid height is dynamic and follow the number of rows in the Data Grid.
   * @default false
   */
  autoHeight: PropTypes.bool,
  /**
   * If `true`, the pageSize is calculated according to the container size and the max number of rows to avoid rendering a vertical scroll bar.
   * @default false
   */
  autoPageSize: PropTypes.bool,
  /**
   * Controls the modes of the cells.
   */
  cellModesModel: PropTypes.object,
  /**
   * If `true`, the Data Grid will display an extra column with checkboxes for selecting rows.
   * @default false
   */
  checkboxSelection: PropTypes.bool,
  /**
   * Override or extend the styles applied to the component.
   */
  classes: PropTypes.object,
  /**
   * The character used to separate cell values when copying to the clipboard.
   * @default '\t'
   */
  clipboardCopyCellDelimiter: PropTypes.string,
  /**
   * Number of extra columns to be rendered before/after the visible slice.
   * @default 3
   */
  columnBuffer: PropTypes.number,
  columnGroupingModel: PropTypes.arrayOf(PropTypes.object),
  /**
   * Sets the height in pixel of the column headers in the Data Grid.
   * @default 56
   */
  columnHeaderHeight: PropTypes.number,
  /**
   * Set of columns of type [[GridColDef[]]].
   */
  columns: chainPropTypes(PropTypes.array.isRequired, (props) => {
    if (props.columns && props.columns.some((column) => column.resizable)) {
      return new Error([`MUI: \`column.resizable = true\` is not a valid prop.`, "Column resizing is not available in the MIT version.", "", "You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join("\n"));
    }
    return null;
  }),
  /**
   * Number of rows from the `columnBuffer` that can be visible before a new slice is rendered.
   * @default 3
   */
  columnThreshold: PropTypes.number,
  /**
   * Set the column visibility model of the Data Grid.
   * If defined, the Data Grid will ignore the `hide` property in [[GridColDef]].
   */
  columnVisibilityModel: PropTypes.object,
  /**
   * Overridable components.
   * @deprecated Use `slots` instead.
   */
  components: PropTypes.object,
  /**
   * Overridable components props dynamically passed to the component at rendering.
   * @deprecated Use the `slotProps` prop instead.
   */
  componentsProps: PropTypes.object,
  /**
   * Set the density of the Data Grid.
   * @default "standard"
   */
  density: PropTypes.oneOf(["comfortable", "compact", "standard"]),
  /**
   * If `true`, column filters are disabled.
   * @default false
   */
  disableColumnFilter: PropTypes.bool,
  /**
   * If `true`, the column menu is disabled.
   * @default false
   */
  disableColumnMenu: PropTypes.bool,
  /**
   * If `true`, hiding/showing columns is disabled.
   * @default false
   */
  disableColumnSelector: PropTypes.bool,
  /**
   * If `true`, the density selector is disabled.
   * @default false
   */
  disableDensitySelector: PropTypes.bool,
  /**
   * If `true`, `eval()` is not used for performance optimization.
   * @default false
   */
  disableEval: PropTypes.bool,
  /**
   * If `true`, the selection on click on a row or cell is disabled.
   * @default false
   */
  disableRowSelectionOnClick: PropTypes.bool,
  /**
   * If `true`, the virtualization is disabled.
   * @default false
   */
  disableVirtualization: PropTypes.bool,
  /**
   * Controls whether to use the cell or row editing.
   * @default "cell"
   */
  editMode: PropTypes.oneOf(["cell", "row"]),
  /**
   * Unstable features, breaking changes might be introduced.
   * For each feature, if the flag is not explicitly set to `true`, the feature will be fully disabled and any property / method call will not have any effect.
   */
  experimentalFeatures: PropTypes.shape({
    ariaV7: PropTypes.bool,
    columnGrouping: PropTypes.bool,
    warnIfFocusStateIsNotSynced: PropTypes.bool
  }),
  /**
   * The milliseconds delay to wait after a keystroke before triggering filtering.
   * @default 150
   */
  filterDebounceMs: PropTypes.number,
  /**
   * Filtering can be processed on the server or client-side.
   * Set it to 'server' if you would like to handle filtering on the server-side.
   * @default "client"
   */
  filterMode: PropTypes.oneOf(["client", "server"]),
  /**
   * Set the filter model of the Data Grid.
   */
  filterModel: PropTypes.shape({
    items: PropTypes.arrayOf(PropTypes.shape({
      field: PropTypes.string.isRequired,
      id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),
      operator: PropTypes.string.isRequired,
      value: PropTypes.any
    })).isRequired,
    logicOperator: PropTypes.oneOf(["and", "or"]),
    quickFilterExcludeHiddenColumns: PropTypes.bool,
    quickFilterLogicOperator: PropTypes.oneOf(["and", "or"]),
    quickFilterValues: PropTypes.array
  }),
  /**
   * Forwarded props for the Data Grid root element.
   * @ignore - do not document.
   */
  forwardedProps: PropTypes.object,
  /**
   * Function that applies CSS classes dynamically on cells.
   * @param {GridCellParams} params With all properties from [[GridCellParams]].
   * @returns {string} The CSS class to apply to the cell.
   */
  getCellClassName: PropTypes.func,
  /**
   * Function that returns the element to render in row detail.
   * @param {GridRowParams} params With all properties from [[GridRowParams]].
   * @returns {React.JSX.Element} The row detail element.
   */
  getDetailPanelContent: PropTypes.func,
  /**
   * Function that returns the estimated height for a row.
   * Only works if dynamic row height is used.
   * Once the row height is measured this value is discarded.
   * @param {GridRowHeightParams} params With all properties from [[GridRowHeightParams]].
   * @returns {number | null} The estimated row height value. If `null` or `undefined` then the default row height, based on the density, is applied.
   */
  getEstimatedRowHeight: PropTypes.func,
  /**
   * Function that applies CSS classes dynamically on rows.
   * @param {GridRowClassNameParams} params With all properties from [[GridRowClassNameParams]].
   * @returns {string} The CSS class to apply to the row.
   */
  getRowClassName: PropTypes.func,
  /**
   * Function that sets the row height per row.
   * @param {GridRowHeightParams} params With all properties from [[GridRowHeightParams]].
   * @returns {GridRowHeightReturnValue} The row height value. If `null` or `undefined` then the default row height is applied. If "auto" then the row height is calculated based on the content.
   */
  getRowHeight: PropTypes.func,
  /**
   * Return the id of a given [[GridRowModel]].
   */
  getRowId: PropTypes.func,
  /**
   * Function that allows to specify the spacing between rows.
   * @param {GridRowSpacingParams} params With all properties from [[GridRowSpacingParams]].
   * @returns {GridRowSpacing} The row spacing values.
   */
  getRowSpacing: PropTypes.func,
  /**
   * If `true`, the footer component is hidden.
   * @default false
   */
  hideFooter: PropTypes.bool,
  /**
   * If `true`, the pagination component in the footer is hidden.
   * @default false
   */
  hideFooterPagination: PropTypes.bool,
  /**
   * If `true`, the selected row count in the footer is hidden.
   * @default false
   */
  hideFooterSelectedRowCount: PropTypes.bool,
  /**
   * If `true`, the diacritics (accents) are ignored when filtering or quick filtering.
   * E.g. when filter value is `cafe`, the rows with `café` will be visible.
   * @default false
   */
  ignoreDiacritics: PropTypes.bool,
  /**
   * The initial state of the DataGrid.
   * The data in it will be set in the state on initialization but will not be controlled.
   * If one of the data in `initialState` is also being controlled, then the control state wins.
   */
  initialState: PropTypes.object,
  /**
   * Callback fired when a cell is rendered, returns true if the cell is editable.
   * @param {GridCellParams} params With all properties from [[GridCellParams]].
   * @returns {boolean} A boolean indicating if the cell is editable.
   */
  isCellEditable: PropTypes.func,
  /**
   * Determines if a row can be selected.
   * @param {GridRowParams} params With all properties from [[GridRowParams]].
   * @returns {boolean} A boolean indicating if the cell is selectable.
   */
  isRowSelectable: PropTypes.func,
  /**
   * If `true`, the selection model will retain selected rows that do not exist.
   * Useful when using server side pagination and row selections need to be retained
   * when changing pages.
   * @default false
   */
  keepNonExistentRowsSelected: PropTypes.bool,
  /**
   * If `true`, a  loading overlay is displayed.
   */
  loading: PropTypes.bool,
  /**
   * Set the locale text of the Data Grid.
   * You can find all the translation keys supported in [the source](https://github.com/mui/mui-x/blob/v6.19.4/packages/grid/x-data-grid/src/constants/localeTextConstants.ts) in the GitHub repository.
   */
  localeText: PropTypes.object,
  /**
   * Pass a custom logger in the components that implements the [[Logger]] interface.
   * @default console
   */
  logger: PropTypes.shape({
    debug: PropTypes.func.isRequired,
    error: PropTypes.func.isRequired,
    info: PropTypes.func.isRequired,
    warn: PropTypes.func.isRequired
  }),
  /**
   * Allows to pass the logging level or false to turn off logging.
   * @default "error" ("warn" in dev mode)
   */
  logLevel: PropTypes.oneOf(["debug", "error", "info", "warn", false]),
  /**
   * Nonce of the inline styles for [Content Security Policy](https://www.w3.org/TR/2016/REC-CSP2-20161215/#script-src-the-nonce-attribute).
   */
  nonce: PropTypes.string,
  /**
   * Callback fired when any cell is clicked.
   * @param {GridCellParams} params With all properties from [[GridCellParams]].
   * @param {MuiEvent<React.MouseEvent>} event The event object.
   * @param {GridCallbackDetails} details Additional details for this callback.
   */
  onCellClick: PropTypes.func,
  /**
   * Callback fired when a double click event comes from a cell element.
   * @param {GridCellParams} params With all properties from [[GridCellParams]].
   * @param {MuiEvent<React.MouseEvent>} event The event object.
   * @param {GridCallbackDetails} details Additional details for this callback.
   */
  onCellDoubleClick: PropTypes.func,
  /**
   * Callback fired when the cell turns to edit mode.
   * @param {GridCellParams} params With all properties from [[GridCellParams]].
   * @param {MuiEvent<React.KeyboardEvent | React.MouseEvent>} event The event that caused this prop to be called.
   */
  onCellEditStart: PropTypes.func,
  /**
   * Callback fired when the cell turns to view mode.
   * @param {GridCellParams} params With all properties from [[GridCellParams]].
   * @param {MuiEvent<MuiBaseEvent>} event The event that caused this prop to be called.
   */
  onCellEditStop: PropTypes.func,
  /**
   * Callback fired when a keydown event comes from a cell element.
   * @param {GridCellParams} params With all properties from [[GridCellParams]].
   * @param {MuiEvent<React.KeyboardEvent>} event The event object.
   * @param {GridCallbackDetails} details Additional details for this callback.
   */
  onCellKeyDown: PropTypes.func,
  /**
   * Callback fired when the `cellModesModel` prop changes.
   * @param {GridCellModesModel} cellModesModel Object containing which cells are in "edit" mode.
   * @param {GridCallbackDetails} details Additional details for this callback.
   */
  onCellModesModelChange: PropTypes.func,
  /**
   * Callback called when the data is copied to the clipboard.
   * @param {string} data The data copied to the clipboard.
   */
  onClipboardCopy: PropTypes.func,
  /**
   * Callback fired when a click event comes from a column header element.
   * @param {GridColumnHeaderParams} params With all properties from [[GridColumnHeaderParams]].
   * @param {MuiEvent<React.MouseEvent>} event The event object.
   * @param {GridCallbackDetails} details Additional details for this callback.
   */
  onColumnHeaderClick: PropTypes.func,
  /**
   * Callback fired when a double click event comes from a column header element.
   * @param {GridColumnHeaderParams} params With all properties from [[GridColumnHeaderParams]].
   * @param {MuiEvent<React.MouseEvent>} event The event object.
   * @param {GridCallbackDetails} details Additional details for this callback.
   */
  onColumnHeaderDoubleClick: PropTypes.func,
  /**
   * Callback fired when a mouse enter event comes from a column header element.
   * @param {GridColumnHeaderParams} params With all properties from [[GridColumnHeaderParams]].
   * @param {MuiEvent<React.MouseEvent>} event The event object.
   * @param {GridCallbackDetails} details Additional details for this callback.
   */
  onColumnHeaderEnter: PropTypes.func,
  /**
   * Callback fired when a mouse leave event comes from a column header element.
   * @param {GridColumnHeaderParams} params With all properties from [[GridColumnHeaderParams]].
   * @param {MuiEvent<React.MouseEvent>} event The event object.
   * @param {GridCallbackDetails} details Additional details for this callback.
   */
  onColumnHeaderLeave: PropTypes.func,
  /**
   * Callback fired when a mouseout event comes from a column header element.
   * @param {GridColumnHeaderParams} params With all properties from [[GridColumnHeaderParams]].
   * @param {MuiEvent<React.MouseEvent>} event The event object.
   * @param {GridCallbackDetails} details Additional details for this callback.
   */
  onColumnHeaderOut: PropTypes.func,
  /**
   * Callback fired when a mouseover event comes from a column header element.
   * @param {GridColumnHeaderParams} params With all properties from [[GridColumnHeaderParams]].
   * @param {MuiEvent<React.MouseEvent>} event The event object.
   * @param {GridCallbackDetails} details Additional details for this callback.
   */
  onColumnHeaderOver: PropTypes.func,
  /**
   * Callback fired when a column is reordered.
   * @param {GridColumnOrderChangeParams} params With all properties from [[GridColumnOrderChangeParams]].
   * @param {MuiEvent<{}>} event The event object.
   * @param {GridCallbackDetails} details Additional details for this callback.
   */
  onColumnOrderChange: PropTypes.func,
  /**
   * Callback fired when the column visibility model changes.
   * @param {GridColumnVisibilityModel} model The new model.
   * @param {GridCallbackDetails} details Additional details for this callback.
   */
  onColumnVisibilityModelChange: PropTypes.func,
  /**
   * Callback fired when the Filter model changes before the filters are applied.
   * @param {GridFilterModel} model With all properties from [[GridFilterModel]].
   * @param {GridCallbackDetails} details Additional details for this callback.
   */
  onFilterModelChange: PropTypes.func,
  /**
   * Callback fired when the menu is closed.
   * @param {GridMenuParams} params With all properties from [[GridMenuParams]].
   * @param {MuiEvent<{}>} event The event object.
   * @param {GridCallbackDetails} details Additional details for this callback.
   */
  onMenuClose: PropTypes.func,
  /**
   * Callback fired when the menu is opened.
   * @param {GridMenuParams} params With all properties from [[GridMenuParams]].
   * @param {MuiEvent<{}>} event The event object.
   * @param {GridCallbackDetails} details Additional details for this callback.
   */
  onMenuOpen: PropTypes.func,
  /**
   * Callback fired when the pagination model has changed.
   * @param {GridPaginationModel} model Updated pagination model.
   * @param {GridCallbackDetails} details Additional details for this callback.
   */
  onPaginationModelChange: PropTypes.func,
  /**
   * Callback fired when the preferences panel is closed.
   * @param {GridPreferencePanelParams} params With all properties from [[GridPreferencePanelParams]].
   * @param {MuiEvent<{}>} event The event object.
   * @param {GridCallbackDetails} details Additional details for this callback.
   */
  onPreferencePanelClose: PropTypes.func,
  /**
   * Callback fired when the preferences panel is opened.
   * @param {GridPreferencePanelParams} params With all properties from [[GridPreferencePanelParams]].
   * @param {MuiEvent<{}>} event The event object.
   * @param {GridCallbackDetails} details Additional details for this callback.
   */
  onPreferencePanelOpen: PropTypes.func,
  /**
   * Callback called when `processRowUpdate` throws an error or rejects.
   * @param {any} error The error thrown.
   */
  onProcessRowUpdateError: PropTypes.func,
  /**
   * Callback fired when the Data Grid is resized.
   * @param {ElementSize} containerSize With all properties from [[ElementSize]].
   * @param {MuiEvent<{}>} event The event object.
   * @param {GridCallbackDetails} details Additional details for this callback.
   */
  onResize: PropTypes.func,
  /**
   * Callback fired when a row is clicked.
   * Not called if the target clicked is an interactive element added by the built-in columns.
   * @param {GridRowParams} params With all properties from [[GridRowParams]].
   * @param {MuiEvent<React.MouseEvent>} event The event object.
   * @param {GridCallbackDetails} details Additional details for this callback.
   */
  onRowClick: PropTypes.func,
  /**
   * Callback fired when the row count has changed.
   * @param {number} count Updated row count.
   */
  onRowCountChange: PropTypes.func,
  /**
   * Callback fired when a double click event comes from a row container element.
   * @param {GridRowParams} params With all properties from [[RowParams]].
   * @param {MuiEvent<React.MouseEvent>} event The event object.
   * @param {GridCallbackDetails} details Additional details for this callback.
   */
  onRowDoubleClick: PropTypes.func,
  /**
   * Callback fired when the row turns to edit mode.
   * @param {GridRowParams} params With all properties from [[GridRowParams]].
   * @param {MuiEvent<React.KeyboardEvent | React.MouseEvent>} event The event that caused this prop to be called.
   */
  onRowEditStart: PropTypes.func,
  /**
   * Callback fired when the row turns to view mode.
   * @param {GridRowParams} params With all properties from [[GridRowParams]].
   * @param {MuiEvent<MuiBaseEvent>} event The event that caused this prop to be called.
   */
  onRowEditStop: PropTypes.func,
  /**
   * Callback fired when the `rowModesModel` prop changes.
   * @param {GridRowModesModel} rowModesModel Object containing which rows are in "edit" mode.
   * @param {GridCallbackDetails} details Additional details for this callback.
   */
  onRowModesModelChange: PropTypes.func,
  /**
   * Callback fired when the selection state of one or multiple rows changes.
   * @param {GridRowSelectionModel} rowSelectionModel With all the row ids [[GridSelectionModel]].
   * @param {GridCallbackDetails} details Additional details for this callback.
   */
  onRowSelectionModelChange: PropTypes.func,
  /**
   * Callback fired when the sort model changes before a column is sorted.
   * @param {GridSortModel} model With all properties from [[GridSortModel]].
   * @param {GridCallbackDetails} details Additional details for this callback.
   */
  onSortModelChange: PropTypes.func,
  /**
   * Callback fired when the state of the Data Grid is updated.
   * @param {GridState} state The new state.
   * @param {MuiEvent<{}>} event The event object.
   * @param {GridCallbackDetails} details Additional details for this callback.
   * @ignore - do not document.
   */
  onStateChange: PropTypes.func,
  /**
   * Select the pageSize dynamically using the component UI.
   * @default [25, 50, 100]
   */
  pageSizeOptions: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.number, PropTypes.shape({
    label: PropTypes.string.isRequired,
    value: PropTypes.number.isRequired
  })]).isRequired),
  pagination: (props) => {
    if (props.pagination === false) {
      return new Error(["MUI: `<DataGrid pagination={false} />` is not a valid prop.", "Infinite scrolling is not available in the MIT version.", "", "You need to upgrade to DataGridPro or DataGridPremium component to disable the pagination."].join("\n"));
    }
    return null;
  },
  /**
   * Pagination can be processed on the server or client-side.
   * Set it to 'client' if you would like to handle the pagination on the client-side.
   * Set it to 'server' if you would like to handle the pagination on the server-side.
   * @default "client"
   */
  paginationMode: PropTypes.oneOf(["client", "server"]),
  /**
   * The pagination model of type [[GridPaginationModel]] which refers to current `page` and `pageSize`.
   */
  paginationModel: PropTypes.shape({
    page: PropTypes.number.isRequired,
    pageSize: PropTypes.number.isRequired
  }),
  /**
   * Callback called before updating a row with new values in the row and cell editing.
   * @template R
   * @param {R} newRow Row object with the new values.
   * @param {R} oldRow Row object with the old values.
   * @returns {Promise<R> | R} The final values to update the row.
   */
  processRowUpdate: PropTypes.func,
  /**
   * Number of extra rows to be rendered before/after the visible slice.
   * @default 3
   */
  rowBuffer: PropTypes.number,
  /**
   * Set the total number of rows, if it is different from the length of the value `rows` prop.
   * If some rows have children (for instance in the tree data), this number represents the amount of top level rows.
   */
  rowCount: PropTypes.number,
  /**
   * Sets the height in pixel of a row in the Data Grid.
   * @default 52
   */
  rowHeight: PropTypes.number,
  /**
   * Controls the modes of the rows.
   */
  rowModesModel: PropTypes.object,
  /**
   * The milliseconds delay to wait after measuring the row height before recalculating row positions.
   * Setting it to a lower value could be useful when using dynamic row height,
   * but might reduce performance when displaying a large number of rows.
   * @default 166
   */
  rowPositionsDebounceMs: PropTypes.number,
  /**
   * Set of rows of type [[GridRowsProp]].
   */
  rows: PropTypes.arrayOf(PropTypes.object).isRequired,
  /**
   * If `false`, the row selection mode is disabled.
   * @default true
   */
  rowSelection: PropTypes.bool,
  /**
   * Sets the row selection model of the Data Grid.
   */
  rowSelectionModel: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired), PropTypes.number, PropTypes.string]),
  /**
   * Sets the type of space between rows added by `getRowSpacing`.
   * @default "margin"
   */
  rowSpacingType: PropTypes.oneOf(["border", "margin"]),
  /**
   * Number of rows from the `rowBuffer` that can be visible before a new slice is rendered.
   * @default 3
   */
  rowThreshold: PropTypes.number,
  /**
   * Override the height/width of the Data Grid inner scrollbar.
   */
  scrollbarSize: PropTypes.number,
  /**
   * If `true`, the vertical borders of the cells are displayed.
   * @default false
   */
  showCellVerticalBorder: PropTypes.bool,
  /**
   * If `true`, the right border of the column headers are displayed.
   * @default false
   */
  showColumnVerticalBorder: PropTypes.bool,
  /**
   * Overridable components props dynamically passed to the component at rendering.
   */
  slotProps: PropTypes.object,
  /**
   * Overridable components.
   */
  slots: PropTypes.object,
  /**
   * Sorting can be processed on the server or client-side.
   * Set it to 'client' if you would like to handle sorting on the client-side.
   * Set it to 'server' if you would like to handle sorting on the server-side.
   * @default "client"
   */
  sortingMode: PropTypes.oneOf(["client", "server"]),
  /**
   * The order of the sorting sequence.
   * @default ['asc', 'desc', null]
   */
  sortingOrder: PropTypes.arrayOf(PropTypes.oneOf(["asc", "desc"])),
  /**
   * Set the sort model of the Data Grid.
   */
  sortModel: PropTypes.arrayOf(PropTypes.shape({
    field: PropTypes.string.isRequired,
    sort: PropTypes.oneOf(["asc", "desc"])
  })),
  /**
   * The system prop that allows defining system overrides as well as additional CSS styles.
   */
  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),
  /**
   * If `true`, the Data Grid will not use `valueFormatter` when exporting to CSV or copying to clipboard.
   * If an object is provided, you can choose to ignore the `valueFormatter` for CSV export or clipboard export.
   * @default false
   */
  unstable_ignoreValueFormatterDuringExport: PropTypes.oneOfType([PropTypes.shape({
    clipboardExport: PropTypes.bool,
    csvExport: PropTypes.bool
  }), PropTypes.bool])
};
function HiCheckCircle(props) {
  return GenIcon({ "attr": { "viewBox": "0 0 24 24", "fill": "currentColor", "aria-hidden": "true" }, "child": [{ "tag": "path", "attr": { "fillRule": "evenodd", "d": "M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z", "clipRule": "evenodd" }, "child": [] }] })(props);
}
function HiStar(props) {
  return GenIcon({ "attr": { "viewBox": "0 0 24 24", "fill": "currentColor", "aria-hidden": "true" }, "child": [{ "tag": "path", "attr": { "fillRule": "evenodd", "d": "M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z", "clipRule": "evenodd" }, "child": [] }] })(props);
}
function HiOutlineArrowLeft(props) {
  return GenIcon({ "attr": { "fill": "none", "viewBox": "0 0 24 24", "strokeWidth": "1.5", "stroke": "currentColor", "aria-hidden": "true" }, "child": [{ "tag": "path", "attr": { "strokeLinecap": "round", "strokeLinejoin": "round", "d": "M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18" }, "child": [] }] })(props);
}
function HiOutlineDocumentText(props) {
  return GenIcon({ "attr": { "fill": "none", "viewBox": "0 0 24 24", "strokeWidth": "1.5", "stroke": "currentColor", "aria-hidden": "true" }, "child": [{ "tag": "path", "attr": { "strokeLinecap": "round", "strokeLinejoin": "round", "d": "M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z" }, "child": [] }] })(props);
}
function HiOutlineEye(props) {
  return GenIcon({ "attr": { "fill": "none", "viewBox": "0 0 24 24", "strokeWidth": "1.5", "stroke": "currentColor", "aria-hidden": "true" }, "child": [{ "tag": "path", "attr": { "strokeLinecap": "round", "strokeLinejoin": "round", "d": "M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z" }, "child": [] }, { "tag": "path", "attr": { "strokeLinecap": "round", "strokeLinejoin": "round", "d": "M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" }, "child": [] }] })(props);
}
function HiOutlineGlobeAmericas(props) {
  return GenIcon({ "attr": { "fill": "none", "viewBox": "0 0 24 24", "strokeWidth": "1.5", "stroke": "currentColor", "aria-hidden": "true" }, "child": [{ "tag": "path", "attr": { "strokeLinecap": "round", "strokeLinejoin": "round", "d": "m6.115 5.19.319 1.913A6 6 0 0 0 8.11 10.36L9.75 12l-.387.775c-.217.433-.132.956.21 1.298l1.348 1.348c.21.21.329.497.329.795v1.089c0 .426.24.815.622 1.006l.153.076c.433.217.956.132 1.298-.21l.723-.723a8.7 8.7 0 0 0 2.288-4.042 1.087 1.087 0 0 0-.358-1.099l-1.33-1.108c-.251-.21-.582-.299-.905-.245l-1.17.195a1.125 1.125 0 0 1-.98-.314l-.295-.295a1.125 1.125 0 0 1 0-1.591l.13-.132a1.125 1.125 0 0 1 1.3-.21l.603.302a.809.809 0 0 0 1.086-1.086L14.25 7.5l1.256-.837a4.5 4.5 0 0 0 1.528-1.732l.146-.292M6.115 5.19A9 9 0 1 0 17.18 4.64M6.115 5.19A8.965 8.965 0 0 1 12 3c1.929 0 3.716.607 5.18 1.64" }, "child": [] }] })(props);
}
function HiOutlineHeart(props) {
  return GenIcon({ "attr": { "fill": "none", "viewBox": "0 0 24 24", "strokeWidth": "1.5", "stroke": "currentColor", "aria-hidden": "true" }, "child": [{ "tag": "path", "attr": { "strokeLinecap": "round", "strokeLinejoin": "round", "d": "M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z" }, "child": [] }] })(props);
}
function HiOutlineHome(props) {
  return GenIcon({ "attr": { "fill": "none", "viewBox": "0 0 24 24", "strokeWidth": "1.5", "stroke": "currentColor", "aria-hidden": "true" }, "child": [{ "tag": "path", "attr": { "strokeLinecap": "round", "strokeLinejoin": "round", "d": "m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25" }, "child": [] }] })(props);
}
function HiOutlineLockClosed(props) {
  return GenIcon({ "attr": { "fill": "none", "viewBox": "0 0 24 24", "strokeWidth": "1.5", "stroke": "currentColor", "aria-hidden": "true" }, "child": [{ "tag": "path", "attr": { "strokeLinecap": "round", "strokeLinejoin": "round", "d": "M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z" }, "child": [] }] })(props);
}
function HiOutlineMap(props) {
  return GenIcon({ "attr": { "fill": "none", "viewBox": "0 0 24 24", "strokeWidth": "1.5", "stroke": "currentColor", "aria-hidden": "true" }, "child": [{ "tag": "path", "attr": { "strokeLinecap": "round", "strokeLinejoin": "round", "d": "M9 6.75V15m6-6v8.25m.503 3.498 4.875-2.437c.381-.19.622-.58.622-1.006V4.82c0-.836-.88-1.38-1.628-1.006l-3.869 1.934c-.317.159-.69.159-1.006 0L9.503 3.252a1.125 1.125 0 0 0-1.006 0L3.622 5.689C3.24 5.88 3 6.27 3 6.695V19.18c0 .836.88 1.38 1.628 1.006l3.869-1.934c.317-.159.69-.159 1.006 0l4.994 2.497c.317.158.69.158 1.006 0Z" }, "child": [] }] })(props);
}
function HiOutlinePencilSquare(props) {
  return GenIcon({ "attr": { "fill": "none", "viewBox": "0 0 24 24", "strokeWidth": "1.5", "stroke": "currentColor", "aria-hidden": "true" }, "child": [{ "tag": "path", "attr": { "strokeLinecap": "round", "strokeLinejoin": "round", "d": "m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10" }, "child": [] }] })(props);
}
function HiOutlinePencil(props) {
  return GenIcon({ "attr": { "fill": "none", "viewBox": "0 0 24 24", "strokeWidth": "1.5", "stroke": "currentColor", "aria-hidden": "true" }, "child": [{ "tag": "path", "attr": { "strokeLinecap": "round", "strokeLinejoin": "round", "d": "m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125" }, "child": [] }] })(props);
}
function HiOutlinePlus(props) {
  return GenIcon({ "attr": { "fill": "none", "viewBox": "0 0 24 24", "strokeWidth": "1.5", "stroke": "currentColor", "aria-hidden": "true" }, "child": [{ "tag": "path", "attr": { "strokeLinecap": "round", "strokeLinejoin": "round", "d": "M12 4.5v15m7.5-7.5h-15" }, "child": [] }] })(props);
}
function HiOutlineScale(props) {
  return GenIcon({ "attr": { "fill": "none", "viewBox": "0 0 24 24", "strokeWidth": "1.5", "stroke": "currentColor", "aria-hidden": "true" }, "child": [{ "tag": "path", "attr": { "strokeLinecap": "round", "strokeLinejoin": "round", "d": "M12 3v17.25m0 0c-1.472 0-2.882.265-4.185.75M12 20.25c1.472 0 2.882.265 4.185.75M18.75 4.97A48.416 48.416 0 0 0 12 4.5c-2.291 0-4.545.16-6.75.47m13.5 0c1.01.143 2.01.317 3 .52m-3-.52 2.62 10.726c.122.499-.106 1.028-.589 1.202a5.988 5.988 0 0 1-2.031.352 5.988 5.988 0 0 1-2.031-.352c-.483-.174-.711-.703-.59-1.202L18.75 4.971Zm-16.5.52c.99-.203 1.99-.377 3-.52m0 0 2.62 10.726c.122.499-.106 1.028-.589 1.202a5.989 5.989 0 0 1-2.031.352 5.989 5.989 0 0 1-2.031-.352c-.483-.174-.711-.703-.59-1.202L5.25 4.971Z" }, "child": [] }] })(props);
}
function HiOutlineStar(props) {
  return GenIcon({ "attr": { "fill": "none", "viewBox": "0 0 24 24", "strokeWidth": "1.5", "stroke": "currentColor", "aria-hidden": "true" }, "child": [{ "tag": "path", "attr": { "strokeLinecap": "round", "strokeLinejoin": "round", "d": "M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z" }, "child": [] }] })(props);
}
function HiOutlineTrash(props) {
  return GenIcon({ "attr": { "fill": "none", "viewBox": "0 0 24 24", "strokeWidth": "1.5", "stroke": "currentColor", "aria-hidden": "true" }, "child": [{ "tag": "path", "attr": { "strokeLinecap": "round", "strokeLinejoin": "round", "d": "m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0" }, "child": [] }] })(props);
}
function HiOutlineUserCircle(props) {
  return GenIcon({ "attr": { "fill": "none", "viewBox": "0 0 24 24", "strokeWidth": "1.5", "stroke": "currentColor", "aria-hidden": "true" }, "child": [{ "tag": "path", "attr": { "strokeLinecap": "round", "strokeLinejoin": "round", "d": "M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" }, "child": [] }] })(props);
}
function HiOutlineUserGroup(props) {
  return GenIcon({ "attr": { "fill": "none", "viewBox": "0 0 24 24", "strokeWidth": "1.5", "stroke": "currentColor", "aria-hidden": "true" }, "child": [{ "tag": "path", "attr": { "strokeLinecap": "round", "strokeLinejoin": "round", "d": "M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z" }, "child": [] }] })(props);
}
function HiOutlineUser(props) {
  return GenIcon({ "attr": { "fill": "none", "viewBox": "0 0 24 24", "strokeWidth": "1.5", "stroke": "currentColor", "aria-hidden": "true" }, "child": [{ "tag": "path", "attr": { "strokeLinecap": "round", "strokeLinejoin": "round", "d": "M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z" }, "child": [] }] })(props);
}
function HiOutlineXMark(props) {
  return GenIcon({ "attr": { "fill": "none", "viewBox": "0 0 24 24", "strokeWidth": "1.5", "stroke": "currentColor", "aria-hidden": "true" }, "child": [{ "tag": "path", "attr": { "strokeLinecap": "round", "strokeLinejoin": "round", "d": "M6 18 18 6M6 6l12 12" }, "child": [] }] })(props);
}
const DataTable = ({
  columns,
  rows,
  slug,
  includeActionColumn,
  viewRoute,
  checkboxSelection = false,
  onSelectionModelChange,
  selectionModel
}) => {
  const [hoveredButton, setHoveredButton] = useState(null);
  const handleNavigation = (url) => {
    Inertia$1.visit(url);
  };
  const getStatusBadge2 = (status) => {
    const styles = {
      PENDING: "bg-amber-50 text-amber-700 border-amber-200",
      APPROVED: "bg-green-50 text-green-700 border-green-200",
      REJECTED: "bg-red-50 text-red-700 border-red-200"
    };
    const icons = {
      PENDING: /* @__PURE__ */ jsx("div", { className: "w-2 h-2 rounded-full bg-amber-500 mr-1.5" }),
      APPROVED: /* @__PURE__ */ jsx(CheckIcon, { className: "w-4 h-4 mr-1.5" }),
      REJECTED: /* @__PURE__ */ jsx(XMarkIcon, { className: "w-4 h-4 mr-1.5" })
    };
    const statusLabels = {
      PENDING: "En attente",
      APPROVED: "Approuvée",
      REJECTED: "Rejetée"
    };
    return /* @__PURE__ */ jsxs(
      "span",
      {
        className: `inline-flex items-center px-3 py-1 text-sm font-medium rounded-full border ${styles[status]}`,
        children: [
          icons[status],
          statusLabels[status] ?? status
        ]
      }
    );
  };
  const getPaymentBadge = (isPaid) => {
    const paid = isPaid === true || isPaid === "true" || isPaid === "1";
    const styles = paid ? "bg-green-50 text-green-700 border-green-200" : "bg-red-50 text-red-700 border-red-200";
    const icon = paid ? /* @__PURE__ */ jsx(CheckIcon, { className: "w-4 h-4 mr-1.5" }) : /* @__PURE__ */ jsx(XMarkIcon, { className: "w-4 h-4 mr-1.5" });
    const label = paid ? "Payé" : "Non payé";
    return /* @__PURE__ */ jsxs("span", { className: `inline-flex items-center px-3 py-1 text-sm font-medium rounded-full border ${styles}`, children: [
      icon,
      label
    ] });
  };
  const actionColumn = {
    field: "action",
    headerName: "Actions",
    minWidth: 150,
    flex: 0.7,
    renderCell: (params) => {
      const viewUrl = viewRoute ? `${viewRoute}/${params.row.id}` : `/${slug}/${params.row.id}`;
      return /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-3", children: [
        /* @__PURE__ */ jsx(
          "button",
          {
            onClick: () => handleNavigation(viewUrl),
            onMouseEnter: () => setHoveredButton(`view-${params.row.id}`),
            onMouseLeave: () => setHoveredButton(null),
            className: "bg-gray-100 hover:bg-gray-800 text-gray-700 hover:text-white p-2 rounded-md transition-all duration-200 shadow-sm",
            title: "View",
            children: /* @__PURE__ */ jsx(
              HiOutlineEye,
              {
                className: `w-5 h-5 ${hoveredButton === `view-${params.row.id}` ? "scale-110 transition-transform" : ""}`
              }
            )
          }
        ),
        /* @__PURE__ */ jsx(
          "button",
          {
            onClick: () => {
              toast("Jangan diedit!", {
                icon: "😠"
              });
            },
            onMouseEnter: () => setHoveredButton(`edit-${params.row.id}`),
            onMouseLeave: () => setHoveredButton(null),
            className: "bg-gray-100 hover:bg-gray-800 text-gray-700 hover:text-white p-2 rounded-md transition-all duration-200 shadow-sm",
            title: "Edit",
            children: /* @__PURE__ */ jsx(
              HiOutlinePencilSquare,
              {
                className: `w-5 h-5 ${hoveredButton === `edit-${params.row.id}` ? "scale-110 transition-transform" : ""}`
              }
            )
          }
        ),
        /* @__PURE__ */ jsx(
          "button",
          {
            onClick: () => {
              toast("Jangan dihapus!", {
                icon: "😠"
              });
            },
            onMouseEnter: () => setHoveredButton(`delete-${params.row.id}`),
            onMouseLeave: () => setHoveredButton(null),
            className: "bg-gray-100 hover:bg-red-600 text-gray-700 hover:text-white p-2 rounded-md transition-all duration-200 shadow-sm",
            title: "Delete",
            children: /* @__PURE__ */ jsx(
              HiOutlineTrash,
              {
                className: `w-5 h-5 ${hoveredButton === `delete-${params.row.id}` ? "scale-110 transition-transform" : ""}`
              }
            )
          }
        )
      ] });
    }
  };
  const customStyles = {};
  const processedColumns = columns.map((column) => {
    if (column.field === "status") {
      return {
        ...column,
        flex: column.flex || 1,
        minWidth: column.minWidth || 100,
        renderCell: (params) => getStatusBadge2(params.value)
      };
    }
    if (column.field === "Paiement") {
      return {
        ...column,
        flex: column.flex || 1,
        minWidth: column.minWidth || 120,
        renderCell: (params) => getPaymentBadge(params.row.is_transaction_paid)
      };
    }
    if (column.field === "user") {
      return {
        ...column,
        flex: column.flex || 1,
        minWidth: column.minWidth || 140,
        renderCell: (params) => {
          var _a2, _b;
          return /* @__PURE__ */ jsxs("div", { className: "flex flex-col", children: [
            /* @__PURE__ */ jsx("span", { className: "font-medium text-gray-900 text-sm", children: ((_a2 = params.row.user) == null ? void 0 : _a2.name) ?? "" }),
            ((_b = params.row.user) == null ? void 0 : _b.email) && /* @__PURE__ */ jsx("span", { className: "text-xs text-gray-500 mt-1", children: params.row.user.email })
          ] });
        }
      };
    }
    return {
      ...column,
      flex: column.flex || 1,
      minWidth: column.minWidth || 100,
      renderCell: column.renderCell || ((params) => /* @__PURE__ */ jsx("div", { className: "whitespace-normal break-words", children: params.value }))
    };
  });
  const tableContent = /* @__PURE__ */ jsx(
    DataGrid2,
    {
      sx: customStyles,
      className: "dataGrid p-0 xl:p-3 w-full bg-white text-gray-800 shadow-sm",
      rows: rows || [],
      columns: includeActionColumn ? [...processedColumns, actionColumn] : [...processedColumns],
      getRowHeight: () => "auto",
      getRowClassName: (params) => {
        var _a2;
        return ((_a2 = params.row.user) == null ? void 0 : _a2.is_favorite) ? "bg-yellow-50" : "";
      },
      initialState: {
        pagination: {
          paginationModel: {
            pageSize: 10
          }
        },
        columns: {
          columnVisibilityModel: {
            created_at: window.innerWidth > 768
          }
        }
      },
      pageSizeOptions: [5, 10, 25],
      disableRowSelectionOnClick: true,
      disableColumnFilter: true,
      disableDensitySelector: true,
      disableColumnSelector: true,
      autoHeight: true,
      checkboxSelection,
      onRowSelectionModelChange: onSelectionModelChange,
      rowSelectionModel: selectionModel
    }
  );
  return /* @__PURE__ */ jsx("div", { className: "w-full flex flex-col", children: /* @__PURE__ */ jsx("div", { className: "bg-white rounded-xl shadow-md overflow-hidden border border-gray-200", children: tableContent }) });
};
function Index$4({ annonces, auth }) {
  const [selectedAnnonce, setSelectedAnnonce] = useState(null);
  const [isModalOpen, setIsModalOpen] = useState(false);
  const [isProcessing, setIsProcessing] = useState(false);
  const [selectedIds, setSelectedIds] = useState([]);
  const truncateText = (text, limit) => {
    return text.length > limit ? text.substring(0, limit) + "..." : text;
  };
  const handleDelete = (id) => {
    if (confirm("Je suis sûr de vouloir supprimer cette annonce ?")) {
      Inertia$1.delete(`/annonce/${id}`);
    }
  };
  const openAnnonceModal = (annonce) => {
    setSelectedAnnonce(annonce);
    setIsModalOpen(true);
  };
  const columns = [
    {
      field: "payment_reference",
      headerName: "Référence",
      minWidth: 250,
      flex: 1,
      renderCell: (params) => /* @__PURE__ */ jsx("span", { className: "text-[#00377f] font-semibold", children: params.row.order_id })
    },
    {
      field: "nameSociete",
      headerName: "Société",
      minWidth: 200,
      flex: 1,
      renderCell: (params) => /* @__PURE__ */ jsx("div", { className: "font-medium text-[#00377f]", children: truncateText(params.row.nameSociete ?? "", 30) })
    },
    {
      field: "user_name",
      headerName: "Nom d'utilisateur",
      minWidth: 250,
      flex: 1,
      renderCell: (params) => {
        var _a2, _b, _c;
        return /* @__PURE__ */ jsx("div", { className: "text-[#00377f]/90", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2", children: [
          /* @__PURE__ */ jsxs("div", { children: [
            ((_a2 = params.row.user) == null ? void 0 : _a2.name) ?? "—",
            " (",
            ((_b = params.row.user) == null ? void 0 : _b.email) ?? "—",
            ")"
          ] }),
          ((_c = params.row.user) == null ? void 0 : _c.is_favorite) && /* @__PURE__ */ jsxs(
            "span",
            {
              title: "Utilisateur favori",
              className: "inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full bg-gradient-to-r from-amber-100 to-yellow-100 text-amber-800 border border-amber-200 shadow-sm",
              children: [
                /* @__PURE__ */ jsx("svg", { className: "w-4 h-4 text-amber-500 mr-1", fill: "currentColor", viewBox: "0 0 20 20", children: /* @__PURE__ */ jsx("path", { d: "M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.011 3.113a1 1 0 00.95.69h3.255c.969 0 1.371 1.24.588 1.81l-2.63 1.91a1 1 0 00-.364 1.118l1.01 3.112c.3.922-.755 1.688-1.54 1.118l-2.63-1.91a1 1 0 00-1.175 0l-2.63 1.91c-.784.57-1.838-.196-1.539-1.118l1.01-3.112a1 1 0 00-.364-1.118l-2.63-1.91c-.784-.57-.38-1.81.588-1.81h3.255a1 1 0 00.951-.69l1.01-3.113z" }) }),
                "Favori"
              ]
            }
          )
        ] }) });
      }
    },
    {
      field: "status",
      headerName: "Statut",
      minWidth: 150,
      flex: 1,
      renderCell: (params) => {
        const statusLabels = {
          PENDING: "En attente",
          APPROVED: "Approuvée",
          REJECTED: "Rejetée"
        };
        const status = params.row.status;
        return /* @__PURE__ */ jsx("div", { className: "text-[#00377f]/80", children: statusLabels[status] ?? status ?? "—" });
      }
    },
    {
      field: "Paiement",
      headerName: "Paiement",
      minWidth: 120,
      flex: 1,
      renderCell: (params) => {
        console.log("PAYMENT ROW", params.row);
        return /* @__PURE__ */ jsx("div", { className: "text-[#00377f]/80", children: params.row.is_transaction_paid });
      }
    },
    {
      field: "actions",
      headerName: "Actions",
      width: 200,
      renderCell: (params) => /* @__PURE__ */ jsxs("div", { className: "flex gap-2", children: [
        /* @__PURE__ */ jsx(
          "button",
          {
            onClick: () => openAnnonceModal(params.row),
            className: "bg-amber-50 hover:bg-amber-100 text-amber-700 p-2 rounded-lg transition-colors duration-200",
            title: "Examiner l'annonce",
            children: /* @__PURE__ */ jsx(HiOutlineEye, { className: "w-5 h-5" })
          }
        ),
        /* @__PURE__ */ jsx(
          "button",
          {
            onClick: () => Inertia$1.visit(`/annonces/edit/${params.row.id}`),
            className: "bg-[#00377f]/10 hover:bg-[#00377f] text-[#00377f] hover:text-white p-2 rounded-lg transition-colors duration-200",
            title: "Modifier",
            children: /* @__PURE__ */ jsx(HiOutlinePencilSquare, { className: "w-5 h-5" })
          }
        ),
        /* @__PURE__ */ jsx(
          "button",
          {
            onClick: () => handleDelete(params.row.id),
            className: "bg-[#e63946]/10 hover:bg-[#e63946] text-[#e63946] hover:text-white p-2 rounded-lg transition-colors duration-200",
            title: "Supprimer",
            children: /* @__PURE__ */ jsx(HiOutlineTrash, { className: "w-5 h-5" })
          }
        )
      ] })
    }
  ];
  const [searchTerm, setSearchTerm] = useState("");
  const formattedAnnonces = annonces.data ?? [];
  const filteredRows = formattedAnnonces.filter((annonce) => {
    var _a2, _b, _c, _d, _e, _f, _g, _h, _i, _j;
    const userName = ((_b = (_a2 = annonce.user) == null ? void 0 : _a2.name) == null ? void 0 : _b.toLowerCase()) || "";
    const userEmail = ((_d = (_c = annonce.user) == null ? void 0 : _c.email) == null ? void 0 : _d.toLowerCase()) || "";
    return annonce.id.toString().includes(searchTerm) || ((_e = annonce.nameSociete) == null ? void 0 : _e.toLowerCase().includes(searchTerm.toLowerCase())) || ((_f = annonce.title) == null ? void 0 : _f.toLowerCase().includes(searchTerm.toLowerCase())) || ((_g = annonce.ville) == null ? void 0 : _g.toLowerCase().includes(searchTerm.toLowerCase())) || ((_h = annonce.status) == null ? void 0 : _h.toLowerCase().includes(searchTerm.toLowerCase())) || ((_i = annonce.category) == null ? void 0 : _i.toLowerCase().includes(searchTerm.toLowerCase())) || ((_j = annonce.RC) == null ? void 0 : _j.toLowerCase().includes(searchTerm.toLowerCase())) || userName.includes(searchTerm.toLowerCase()) || userEmail.includes(searchTerm.toLowerCase());
  });
  return /* @__PURE__ */ jsxs(
    AuthenticatedLayout,
    {
      header: /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between w-full", children: [
        /* @__PURE__ */ jsxs("div", { className: "flex items-center", children: [
          /* @__PURE__ */ jsx("div", { className: "bg-blue-700/10 p-2.5 rounded-lg mr-4", children: /* @__PURE__ */ jsx(HiOutlineDocumentText, { className: "text-blue-800 text-3xl" }) }),
          /* @__PURE__ */ jsx("h2", { className: "text-2xl font-bold text-[#00377f]", children: "Tableau de bord" })
        ] }),
        /* @__PURE__ */ jsxs(
          Link,
          {
            href: "/annonce/create",
            className: "bg-[#1f2937] hover:bg-[#1f2937]/80 text-white px-5 py-2.5 rounded-lg text-sm font-medium transition-colors duration-200 flex items-center shadow-sm",
            children: [
              /* @__PURE__ */ jsx(HiOutlinePlus, { className: "mr-2" }),
              "Nouvelle Annonce"
            ]
          }
        )
      ] }),
      children: [
        /* @__PURE__ */ jsxs("div", { className: "p-4", children: [
          /* @__PURE__ */ jsx("div", { className: "bg-white rounded-xl border border-[#00377f]/10 shadow-sm p-6 mb-6", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center space-x-4", children: [
            /* @__PURE__ */ jsx("div", { className: "bg-[#00377f]/5 p-2.5 rounded-lg", children: /* @__PURE__ */ jsx(HiOutlineDocumentText, { className: "text-[#00377f] text-xl" }) }),
            /* @__PURE__ */ jsxs("div", { className: "flex-1", children: [
              /* @__PURE__ */ jsx("h3", { className: "text-lg font-semibold text-[#00377f] mb-2", children: "Rechercher des annonces" }),
              /* @__PURE__ */ jsxs("div", { className: "relative", children: [
                /* @__PURE__ */ jsx("div", { className: "absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none", children: /* @__PURE__ */ jsx("svg", { className: "h-5 w-5 text-[#00377f]/40", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: /* @__PURE__ */ jsx(
                  "path",
                  {
                    strokeLinecap: "round",
                    strokeLinejoin: "round",
                    strokeWidth: 2,
                    d: "M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                  }
                ) }) }),
                /* @__PURE__ */ jsx(
                  "input",
                  {
                    type: "text",
                    placeholder: "Rechercher par société, utilisateur, email, ville, statut...",
                    value: searchTerm,
                    onChange: (e2) => setSearchTerm(e2.target.value),
                    className: "block w-full pl-10 pr-4 py-3 border border-[#00377f]/20 rounded-lg bg-white text-[#00377f] placeholder-[#00377f]/50 focus:outline-none focus:ring-2 focus:ring-[#00377f]/20 focus:border-[#00377f]/30 transition-all duration-200"
                  }
                ),
                searchTerm && /* @__PURE__ */ jsx(
                  "button",
                  {
                    onClick: () => setSearchTerm(""),
                    className: "absolute inset-y-0 right-0 pr-3 flex items-center text-[#00377f]/40 hover:text-[#00377f]/60",
                    children: /* @__PURE__ */ jsx("svg", { className: "h-5 w-5", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M6 18L18 6M6 6l12 12" }) })
                  }
                )
              ] }),
              /* @__PURE__ */ jsxs("p", { className: "text-sm text-[#00377f]/60 mt-2", children: [
                filteredRows.length,
                " annonce",
                filteredRows.length !== 1 ? "s" : "",
                " trouvée",
                filteredRows.length !== 1 ? "s" : ""
              ] })
            ] })
          ] }) }),
          /* @__PURE__ */ jsxs("div", { className: "bg-white rounded-xl border border-[#00377f]/10 overflow-hidden shadow-sm", children: [
            /* @__PURE__ */ jsx("div", { className: "flex justify-between items-center px-4 pt-4 pb-4", children: /* @__PURE__ */ jsxs(
              "button",
              {
                onClick: () => {
                  if (selectedIds.length === 0) {
                    alert("Veuillez sélectionner au moins une annonce à supprimer.");
                    return;
                  }
                  if (confirm(`Supprimer ${selectedIds.length} annonce(s) sélectionnée(s) ?`)) {
                    Inertia$1.delete(route("annonces.massDelete"), {
                      data: { ids: selectedIds },
                      onSuccess: () => setSelectedIds([])
                    });
                  }
                },
                disabled: selectedIds.length === 0,
                className: `bg-red-600 text-white px-4 py-2  rounded-lg font-medium shadow-sm transition-colors duration-200 ${selectedIds.length === 0 ? "opacity-50 cursor-not-allowed" : "hover:bg-red-700"}`,
                children: [
                  "Supprimer sélection (",
                  selectedIds.length,
                  ")"
                ]
              }
            ) }),
            /* @__PURE__ */ jsx(
              DataTable,
              {
                slug: "annonces",
                columns,
                rows: filteredRows,
                includeActionColumn: false,
                viewRoute: "/annonces/show",
                checkboxSelection: true,
                selectionModel: selectedIds,
                onSelectionModelChange: (ids) => setSelectedIds(ids)
              }
            )
          ] }),
          /* @__PURE__ */ jsx("div", { className: "bg-white shadow-sm rounded-xl border border-[#00377f]/10 p-4 mt-6 relative overflow-hidden", children: /* @__PURE__ */ jsxs("div", { className: "relative z-10 flex items-center mb-4", children: [
            /* @__PURE__ */ jsx("div", { className: "bg-[#00377f]/5 p-2 rounded-lg mr-3", children: /* @__PURE__ */ jsx(MdFilterList, { className: "text-[#00377f] text-xl" }) }),
            /* @__PURE__ */ jsxs("div", { children: [
              /* @__PURE__ */ jsx("h3", { className: "text-lg font-bold text-[#00377f]", children: "Explorer les annonces" }),
              /* @__PURE__ */ jsx("p", { className: "text-sm text-[#00377f]/60", children: "Consultez et gérez toutes les annonces disponibles" })
            ] })
          ] }) })
        ] }),
        /* @__PURE__ */ jsx(Transition, { appear: true, show: isModalOpen, as: Fragment$1, children: /* @__PURE__ */ jsxs(Dialog, { as: "div", className: "relative z-50", onClose: () => !isProcessing && setIsModalOpen(false), children: [
          /* @__PURE__ */ jsx(
            Transition.Child,
            {
              as: Fragment$1,
              enter: "ease-out duration-300",
              enterFrom: "opacity-0",
              enterTo: "opacity-100",
              leave: "ease-in duration-200",
              leaveFrom: "opacity-100",
              leaveTo: "opacity-0",
              children: /* @__PURE__ */ jsx("div", { className: "fixed inset-0 bg-black/25" })
            }
          ),
          /* @__PURE__ */ jsx("div", { className: "fixed inset-0 overflow-y-auto", children: /* @__PURE__ */ jsx("div", { className: "flex min-h-full items-center justify-center p-4 text-center", children: /* @__PURE__ */ jsx(
            Transition.Child,
            {
              as: Fragment$1,
              enter: "ease-out duration-300",
              enterFrom: "opacity-0 scale-95",
              enterTo: "opacity-100 scale-100",
              leave: "ease-in duration-200",
              leaveFrom: "opacity-100 scale-100",
              leaveTo: "opacity-0 scale-95",
              children: /* @__PURE__ */ jsx(Dialog.Panel, { className: "w-full max-w-3xl transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all", children: selectedAnnonce && /* @__PURE__ */ jsxs(Fragment, { children: [
                /* @__PURE__ */ jsxs("div", { className: "flex justify-between items-start", children: [
                  /* @__PURE__ */ jsx(Dialog.Title, { as: "h3", className: "text-lg font-medium leading-6 text-gray-900", children: "Examen de l'annonce" }),
                  /* @__PURE__ */ jsxs("span", { className: "inline-flex items-center px-3 py-1 text-sm font-medium rounded-full border bg-amber-50 text-amber-700 border-amber-200", children: [
                    /* @__PURE__ */ jsx("div", { className: "w-2 h-2 rounded-full bg-amber-500 mr-1.5" }),
                    selectedAnnonce.status
                  ] })
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "mt-6 space-y-4", children: [
                  /* @__PURE__ */ jsxs("div", { className: "bg-gray-50 p-4 rounded-lg", children: [
                    /* @__PURE__ */ jsx("h4", { className: "text-sm font-medium text-gray-500 mb-1", children: "Utilisateur" }),
                    /* @__PURE__ */ jsxs("p", { className: "text-[#00377f] font-medium", children: [
                      selectedAnnonce.user.name,
                      " (",
                      selectedAnnonce.user.email,
                      ")"
                    ] }),
                    /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500", children: selectedAnnonce.user.phone }),
                    /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500", children: selectedAnnonce.user.address })
                  ] }),
                  /* @__PURE__ */ jsxs("div", { children: [
                    /* @__PURE__ */ jsx("h4", { className: "text-sm font-medium text-gray-500 mb-1", children: "Titre" }),
                    /* @__PURE__ */ jsx("p", { className: "text-lg font-semibold text-[#00377f]", children: selectedAnnonce.title })
                  ] }),
                  /* @__PURE__ */ jsxs("div", { children: [
                    /* @__PURE__ */ jsx("h4", { className: "text-sm font-medium text-gray-500 mb-1", children: "Contenu" }),
                    /* @__PURE__ */ jsx("div", { className: "bg-gray-50 p-4 rounded-lg", children: /* @__PURE__ */ jsx("p", { className: "text-gray-700 whitespace-pre-line", children: selectedAnnonce.content }) })
                  ] }),
                  /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [
                    /* @__PURE__ */ jsxs("div", { children: [
                      /* @__PURE__ */ jsx("h4", { className: "text-sm font-medium text-gray-500 mb-1", children: "Catégorie" }),
                      /* @__PURE__ */ jsx("span", { className: "inline-block bg-[#00377f]/10 text-[#00377f] px-3 py-1 rounded-full text-sm font-medium", children: selectedAnnonce.category })
                    ] }),
                    /* @__PURE__ */ jsxs("div", { children: [
                      /* @__PURE__ */ jsx("h4", { className: "text-sm font-medium text-gray-500 mb-1", children: "RC" }),
                      /* @__PURE__ */ jsx("p", { className: "text-[#00377f]/80 font-mono", children: selectedAnnonce.RC })
                    ] }),
                    /* @__PURE__ */ jsxs("div", { children: [
                      /* @__PURE__ */ jsx("h4", { className: "text-sm font-medium text-gray-500 mb-1", children: "Canal de Publication" }),
                      /* @__PURE__ */ jsx("p", { className: "text-[#00377f]/80", children: selectedAnnonce.canal_de_publication || "Digital" })
                    ] })
                  ] }),
                  /* @__PURE__ */ jsxs("div", { children: [
                    /* @__PURE__ */ jsx("h4", { className: "text-sm font-medium text-gray-500 mb-1", children: "Ville" }),
                    /* @__PURE__ */ jsx("p", { className: "text-[#00377f]/80", children: selectedAnnonce.ville ?? "—" })
                  ] }),
                  /* @__PURE__ */ jsxs("div", { children: [
                    /* @__PURE__ */ jsx("h4", { className: "text-sm font-medium text-gray-500 mb-1", children: "Methode de paiement" }),
                    /* @__PURE__ */ jsx("p", { className: "text-[#00377f]/80", children: selectedAnnonce.payment_method ?? "—" })
                  ] })
                ] }),
                /* @__PURE__ */ jsx("div", { className: "mt-8 border-t pt-4", children: /* @__PURE__ */ jsx("div", { className: "flex flex-col sm:flex-row justify-end gap-3", children: /* @__PURE__ */ jsx(
                  "button",
                  {
                    type: "button",
                    className: "inline-flex justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none",
                    onClick: () => !isProcessing && setIsModalOpen(false),
                    disabled: isProcessing,
                    children: "Fermer"
                  }
                ) }) })
              ] }) })
            }
          ) }) })
        ] }) })
      ]
    }
  );
}
const __vite_glob_0_3 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: Index$4
}, Symbol.toStringTag, { value: "Module" }));
const formatDate$6 = (dateString) => {
  const options = {
    day: "2-digit",
    month: "2-digit",
    year: "numeric",
    hour: "2-digit",
    minute: "2-digit"
  };
  return new Date(dateString).toLocaleDateString("fr-FR", options);
};
function JournauxIndex({ journaux = [], stats = { total: 0, today: 0, week: 0 } }) {
  const [canonicalUrl, setCanonicalUrl] = useState("");
  useEffect(() => {
    if (typeof window !== "undefined") {
      setCanonicalUrl(window.location.href);
    }
  }, []);
  const [searchQuery, setSearchQuery] = useState("");
  const [selectedFilter, setSelectedFilter] = useState("all");
  const [isDragging, setIsDragging] = useState(false);
  const [journalName, setJournalName] = useState("");
  const [selectedFile, setSelectedFile] = useState(null);
  const [isUploading, setIsUploading] = useState(false);
  const [showUploadForm, setShowUploadForm] = useState(false);
  const [activeJournal, setActiveJournal] = useState(null);
  const fileInputRef = useRef(null);
  const uploadFormRef = useRef(null);
  useEffect(() => {
    const handleClickOutside = (event) => {
      if (uploadFormRef.current && !uploadFormRef.current.contains(event.target) && showUploadForm) {
        setShowUploadForm(false);
      }
    };
    document.addEventListener("mousedown", handleClickOutside);
    return () => {
      document.removeEventListener("mousedown", handleClickOutside);
    };
  }, [showUploadForm]);
  const filteredJournaux = journaux ? journaux.filter((journal) => {
    if (searchQuery && !journal.titre.toLowerCase().includes(searchQuery.toLowerCase()) && !journal.id.toString().toLowerCase().includes(searchQuery.toLowerCase())) {
      return false;
    }
    if (selectedFilter === "recent") {
      const yesterday = /* @__PURE__ */ new Date();
      yesterday.setDate(yesterday.getDate() - 1);
      if (new Date(journal.created_at) < yesterday) {
        return false;
      }
    } else if (selectedFilter === "week") {
      const lastWeek = /* @__PURE__ */ new Date();
      lastWeek.setDate(lastWeek.getDate() - 7);
      if (new Date(journal.created_at) < lastWeek) {
        return false;
      }
    }
    return true;
  }) : [];
  const handleFileSelect = (e2) => {
    if (e2.target.files && e2.target.files.length > 0) {
      setSelectedFile(e2.target.files[0]);
    }
  };
  const handleDragOver = (e2) => {
    e2.preventDefault();
    setIsDragging(true);
  };
  const handleDragLeave = (e2) => {
    e2.preventDefault();
    setIsDragging(false);
  };
  const handleDrop = (e2) => {
    e2.preventDefault();
    setIsDragging(false);
    if (e2.dataTransfer.files && e2.dataTransfer.files.length > 0) {
      setSelectedFile(e2.dataTransfer.files[0]);
    }
  };
  const handleSubmit = (e2) => {
    e2.preventDefault();
    if (!selectedFile || !journalName.trim()) {
      alert("Veuillez sélectionner un fichier et entrer un nom pour le journal");
      return;
    }
    setIsUploading(true);
    const formData = new FormData();
    formData.append("titre", journalName);
    formData.append("file", selectedFile);
    router.post(route("journaux.store"), formData, {
      onSuccess: () => {
        setJournalName("");
        setSelectedFile(null);
        setIsUploading(false);
        setShowUploadForm(false);
      },
      onError: (errors) => {
        console.error(errors);
        setIsUploading(false);
      }
    });
  };
  const handleDownload = (journal) => {
    window.location.href = route("journaux.download", journal.id);
  };
  const handleDelete = (journal) => {
    if (confirm(`Êtes-vous sûr de vouloir supprimer le journal "${journal.titre}"?`)) {
      router.delete(route("journaux.destroy", journal.id), {
        onSuccess: () => {
        }
      });
    }
  };
  const containerVariants = {
    hidden: { opacity: 0 },
    visible: {
      opacity: 1,
      transition: {
        staggerChildren: 0.1
      }
    }
  };
  const itemVariants = {
    hidden: { y: 20, opacity: 0 },
    visible: {
      y: 0,
      opacity: 1,
      transition: {
        type: "spring",
        stiffness: 100,
        damping: 12
      }
    }
  };
  const fadeInVariants = {
    hidden: { opacity: 0 },
    visible: {
      opacity: 1,
      transition: { duration: 0.3 }
    },
    exit: {
      opacity: 0,
      transition: { duration: 0.2 }
    }
  };
  return /* @__PURE__ */ jsxs(AdminLayout, { children: [
    /* @__PURE__ */ jsx(Head, { children: /* @__PURE__ */ jsx("title", { children: "Gestion des journaux – Tableau de bord" }) }),
    /* @__PURE__ */ jsxs("div", { className: "py-6 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto", children: [
      /* @__PURE__ */ jsxs("div", { className: "mb-8", children: [
        /* @__PURE__ */ jsxs("div", { className: "flex flex-col md:flex-row justify-between items-start md:items-center mb-6", children: [
          /* @__PURE__ */ jsxs("div", { children: [
            /* @__PURE__ */ jsxs("h1", { className: "text-3xl font-bold text-gray-900 mb-2 flex items-center", children: [
              /* @__PURE__ */ jsx(MdNewspaper, { className: "mr-3 text-[#00377f]" }),
              "Gestion des Journaux"
            ] }),
            /* @__PURE__ */ jsx("p", { className: "text-gray-600 max-w-2xl", children: "Téléchargez, consultez et gérez les journaux du système. Tous les fichiers sont stockés de manière sécurisée." })
          ] }),
          /* @__PURE__ */ jsxs(
            "button",
            {
              onClick: () => setShowUploadForm(true),
              className: "mt-4 md:mt-0 bg-gradient-to-r from-[#00377f] to-[#002b61] text-white px-5 py-2.5 rounded-lg flex items-center transition-all shadow-md hover:shadow-lg transform hover:-translate-y-1",
              children: [
                /* @__PURE__ */ jsx(MdOutlineCloudUpload, { className: "mr-2 text-xl" }),
                "Ajouter un Journal"
              ]
            }
          )
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6", children: [
          /* @__PURE__ */ jsxs(
            motion.div,
            {
              className: "bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-6 border border-blue-200 shadow-md",
              whileHover: { y: -5, boxShadow: "0 10px 25px -5px rgba(0, 0, 0, 0.1)" },
              transition: { duration: 0.2 },
              children: [
                /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
                  /* @__PURE__ */ jsxs("div", { children: [
                    /* @__PURE__ */ jsx("p", { className: "text-blue-800 text-sm font-medium uppercase tracking-wider", children: "Total des Journaux" }),
                    /* @__PURE__ */ jsx("p", { className: "text-3xl font-bold text-blue-900 mt-2", children: stats.total })
                  ] }),
                  /* @__PURE__ */ jsx("div", { className: "bg-blue-200 rounded-full p-4", children: /* @__PURE__ */ jsx(MdOutlineInsertDriveFile, { className: "text-blue-700 text-2xl" }) })
                ] }),
                /* @__PURE__ */ jsx("div", { className: "mt-4 pt-4 border-t border-blue-200", children: /* @__PURE__ */ jsx("p", { className: "text-blue-700 text-sm", children: "Tous les journaux disponibles dans le système" }) })
              ]
            }
          ),
          /* @__PURE__ */ jsxs(
            motion.div,
            {
              className: "bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-6 border border-green-200 shadow-md",
              whileHover: { y: -5, boxShadow: "0 10px 25px -5px rgba(0, 0, 0, 0.1)" },
              transition: { duration: 0.2 },
              children: [
                /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
                  /* @__PURE__ */ jsxs("div", { children: [
                    /* @__PURE__ */ jsx("p", { className: "text-green-800 text-sm font-medium uppercase tracking-wider", children: "Ajoutés aujourd'hui" }),
                    /* @__PURE__ */ jsx("p", { className: "text-3xl font-bold text-green-900 mt-2", children: stats.today })
                  ] }),
                  /* @__PURE__ */ jsx("div", { className: "bg-green-200 rounded-full p-4", children: /* @__PURE__ */ jsx(MdOutlineCalendarToday, { className: "text-green-700 text-2xl" }) })
                ] }),
                /* @__PURE__ */ jsx("div", { className: "mt-4 pt-4 border-t border-green-200", children: /* @__PURE__ */ jsx("p", { className: "text-green-700 text-sm", children: "Journaux ajoutés au cours des dernières 24 heures" }) })
              ]
            }
          ),
          /* @__PURE__ */ jsxs(
            motion.div,
            {
              className: "bg-gradient-to-br from-amber-50 to-amber-100 rounded-xl p-6 border border-amber-200 shadow-md",
              whileHover: { y: -5, boxShadow: "0 10px 25px -5px rgba(0, 0, 0, 0.1)" },
              transition: { duration: 0.2 },
              children: [
                /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
                  /* @__PURE__ */ jsxs("div", { children: [
                    /* @__PURE__ */ jsx("p", { className: "text-amber-800 text-sm font-medium uppercase tracking-wider", children: "Cette semaine" }),
                    /* @__PURE__ */ jsx("p", { className: "text-3xl font-bold text-amber-900 mt-2", children: stats.week })
                  ] }),
                  /* @__PURE__ */ jsx("div", { className: "bg-amber-200 rounded-full p-4", children: /* @__PURE__ */ jsx(MdOutlineCloudUpload, { className: "text-amber-700 text-2xl" }) })
                ] }),
                /* @__PURE__ */ jsx("div", { className: "mt-4 pt-4 border-t border-amber-200", children: /* @__PURE__ */ jsx("p", { className: "text-amber-700 text-sm", children: "Journaux ajoutés au cours des 7 derniers jours" }) })
              ]
            }
          )
        ] })
      ] }),
      /* @__PURE__ */ jsx(AnimatePresence, { children: showUploadForm && /* @__PURE__ */ jsx(
        motion.div,
        {
          className: "fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",
          variants: fadeInVariants,
          initial: "hidden",
          animate: "visible",
          exit: "exit",
          onClick: () => setShowUploadForm(false),
          children: /* @__PURE__ */ jsxs(
            motion.div,
            {
              className: "bg-white rounded-2xl shadow-xl max-w-2xl w-full overflow-hidden",
              variants: {
                hidden: { opacity: 0, y: 50, scale: 0.9 },
                visible: {
                  opacity: 1,
                  y: 0,
                  scale: 1,
                  transition: { type: "spring", damping: 25, stiffness: 300 }
                },
                exit: {
                  opacity: 0,
                  y: 50,
                  scale: 0.9,
                  transition: { duration: 0.2 }
                }
              },
              onClick: (e2) => e2.stopPropagation(),
              ref: uploadFormRef,
              children: [
                /* @__PURE__ */ jsxs("div", { className: "bg-gradient-to-r from-[#00377f] to-[#002b61] p-6 text-white", children: [
                  /* @__PURE__ */ jsxs("div", { className: "flex justify-between items-center", children: [
                    /* @__PURE__ */ jsxs("h2", { className: "text-xl font-semibold flex items-center", children: [
                      /* @__PURE__ */ jsx(MdOutlineCloudUpload, { className: "mr-2 text-2xl" }),
                      "Ajouter un nouveau journal"
                    ] }),
                    /* @__PURE__ */ jsx(
                      "button",
                      {
                        onClick: () => setShowUploadForm(false),
                        className: "text-white/80 hover:text-white transition-colors",
                        children: /* @__PURE__ */ jsx(MdClose, { className: "text-xl" })
                      }
                    )
                  ] }),
                  /* @__PURE__ */ jsx("p", { className: "mt-2 text-white/80 text-sm", children: "Téléchargez un nouveau journal dans le système" })
                ] }),
                /* @__PURE__ */ jsxs("form", { onSubmit: handleSubmit, encType: "multipart/form-data", className: "p-6", children: [
                  /* @__PURE__ */ jsxs("div", { className: "space-y-6", children: [
                    /* @__PURE__ */ jsxs("div", { children: [
                      /* @__PURE__ */ jsx("label", { htmlFor: "journal-name", className: "block text-sm font-medium text-gray-700 mb-2", children: "Nom du Journal" }),
                      /* @__PURE__ */ jsx(
                        "input",
                        {
                          type: "text",
                          id: "journal-name",
                          name: "titre",
                          className: "w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00377f]/30 focus:border-[#00377f] transition-all shadow-sm",
                          placeholder: "Entrez le nom du journal",
                          value: journalName,
                          onChange: (e2) => setJournalName(e2.target.value),
                          required: true
                        }
                      )
                    ] }),
                    /* @__PURE__ */ jsxs("div", { children: [
                      /* @__PURE__ */ jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Fichier du Journal" }),
                      /* @__PURE__ */ jsxs(
                        "div",
                        {
                          className: `border-2 border-dashed rounded-lg p-8 flex flex-col items-center justify-center cursor-pointer transition-all ${isDragging ? "border-[#00377f] bg-[#00377f]/5" : selectedFile ? "border-green-500 bg-green-50" : "border-gray-300 hover:border-[#00377f] hover:bg-[#00377f]/5"}`,
                          onDragOver: handleDragOver,
                          onDragLeave: handleDragLeave,
                          onDrop: handleDrop,
                          onClick: () => {
                            var _a2;
                            return (_a2 = fileInputRef.current) == null ? void 0 : _a2.click();
                          },
                          children: [
                            /* @__PURE__ */ jsx(
                              "input",
                              {
                                type: "file",
                                ref: fileInputRef,
                                className: "hidden",
                                onChange: handleFileSelect,
                                accept: ".pdf,.doc,.docx,.xls,.xlsx"
                              }
                            ),
                            selectedFile ? /* @__PURE__ */ jsxs("div", { className: "flex flex-col items-center", children: [
                              /* @__PURE__ */ jsx("div", { className: "bg-green-100 rounded-full p-4 mb-3", children: /* @__PURE__ */ jsx(MdFileUpload, { className: "text-green-600 text-2xl" }) }),
                              /* @__PURE__ */ jsx("p", { className: "text-base font-medium text-gray-900", children: selectedFile.name }),
                              /* @__PURE__ */ jsxs("p", { className: "text-sm text-gray-500 mt-1", children: [
                                (selectedFile.size / 1024 / 1024).toFixed(2),
                                " MB"
                              ] }),
                              /* @__PURE__ */ jsxs(
                                "button",
                                {
                                  type: "button",
                                  className: "mt-3 text-red-600 hover:text-red-800 text-sm flex items-center bg-red-50 px-3 py-1 rounded-full",
                                  onClick: (e2) => {
                                    e2.stopPropagation();
                                    setSelectedFile(null);
                                  },
                                  children: [
                                    /* @__PURE__ */ jsx(MdClose, { className: "mr-1" }),
                                    "Supprimer"
                                  ]
                                }
                              )
                            ] }) : /* @__PURE__ */ jsxs(Fragment, { children: [
                              /* @__PURE__ */ jsx("div", { className: "bg-[#00377f]/10 rounded-full p-4 mb-3", children: /* @__PURE__ */ jsx(MdUpload, { className: "text-[#00377f] text-2xl" }) }),
                              /* @__PURE__ */ jsx("p", { className: "text-base font-medium text-gray-900", children: "Glissez-déposez un fichier ici ou cliquez pour parcourir" }),
                              /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 mt-2", children: "Formats supportés: PDF, DOC, DOCX, XLS, XLSX (max. 10MB)" })
                            ] })
                          ]
                        }
                      )
                    ] })
                  ] }),
                  /* @__PURE__ */ jsxs("div", { className: "mt-8 flex justify-end space-x-3", children: [
                    /* @__PURE__ */ jsx(
                      "button",
                      {
                        type: "button",
                        onClick: () => setShowUploadForm(false),
                        className: "px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",
                        disabled: isUploading,
                        children: "Annuler"
                      }
                    ),
                    /* @__PURE__ */ jsx(
                      "button",
                      {
                        type: "submit",
                        disabled: isUploading || !selectedFile,
                        className: `bg-gradient-to-r from-[#00377f] to-[#002b61] text-white px-5 py-2 rounded-lg flex items-center transition-all shadow-sm hover:shadow-md ${isUploading || !selectedFile ? "opacity-50 cursor-not-allowed" : ""}`,
                        children: isUploading ? /* @__PURE__ */ jsxs(Fragment, { children: [
                          /* @__PURE__ */ jsxs(
                            "svg",
                            {
                              className: "animate-spin -ml-1 mr-2 h-4 w-4 text-white",
                              xmlns: "http://www.w3.org/2000/svg",
                              fill: "none",
                              viewBox: "0 0 24 24",
                              children: [
                                /* @__PURE__ */ jsx(
                                  "circle",
                                  {
                                    className: "opacity-25",
                                    cx: "12",
                                    cy: "12",
                                    r: "10",
                                    stroke: "currentColor",
                                    strokeWidth: "4"
                                  }
                                ),
                                /* @__PURE__ */ jsx(
                                  "path",
                                  {
                                    className: "opacity-75",
                                    fill: "currentColor",
                                    d: "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
                                  }
                                )
                              ]
                            }
                          ),
                          "Téléchargement..."
                        ] }) : /* @__PURE__ */ jsxs(Fragment, { children: [
                          /* @__PURE__ */ jsx(MdAdd, { className: "mr-1" }),
                          "Ajouter le Journal"
                        ] })
                      }
                    )
                  ] })
                ] })
              ]
            }
          )
        }
      ) }),
      /* @__PURE__ */ jsx("div", { className: "bg-white rounded-xl shadow-md overflow-hidden mb-6", children: /* @__PURE__ */ jsxs("div", { className: "p-6 flex flex-col md:flex-row md:items-center md:justify-between gap-4", children: [
        /* @__PURE__ */ jsxs("h2", { className: "text-xl font-semibold text-gray-800 flex items-center", children: [
          /* @__PURE__ */ jsx(MdNewspaper, { className: "mr-2 text-[#00377f]" }),
          "Liste des Journaux"
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "flex flex-col sm:flex-row items-center gap-3", children: [
          /* @__PURE__ */ jsxs("div", { className: "relative w-full sm:w-auto", children: [
            /* @__PURE__ */ jsx(MdSearch, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 text-xl" }),
            /* @__PURE__ */ jsx(
              "input",
              {
                type: "text",
                placeholder: "Rechercher un journal...",
                className: "pl-10 pr-4 py-2.5 w-full sm:w-64 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00377f]/30 focus:border-[#00377f] transition-all shadow-sm",
                value: searchQuery,
                onChange: (e2) => setSearchQuery(e2.target.value)
              }
            )
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "relative w-full sm:w-auto", children: [
            /* @__PURE__ */ jsxs(
              "select",
              {
                className: "appearance-none pl-4 pr-10 py-2.5 w-full sm:w-auto border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00377f]/30 focus:border-[#00377f] transition-all shadow-sm",
                value: selectedFilter,
                onChange: (e2) => setSelectedFilter(e2.target.value),
                children: [
                  /* @__PURE__ */ jsx("option", { value: "all", children: "Tous les journaux" }),
                  /* @__PURE__ */ jsx("option", { value: "recent", children: "Récents (24h)" }),
                  /* @__PURE__ */ jsx("option", { value: "week", children: "Cette semaine" })
                ]
              }
            ),
            /* @__PURE__ */ jsx(MdFilterList, { className: "absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none" })
          ] })
        ] })
      ] }) }),
      /* @__PURE__ */ jsxs(
        motion.div,
        {
          className: "bg-white rounded-xl shadow-md overflow-hidden",
          variants: containerVariants,
          initial: "hidden",
          animate: "visible",
          children: [
            /* @__PURE__ */ jsx("div", { className: "overflow-x-auto", children: /* @__PURE__ */ jsxs("table", { className: "min-w-full divide-y divide-gray-200", children: [
              /* @__PURE__ */ jsx("thead", { className: "bg-gray-50", children: /* @__PURE__ */ jsxs("tr", { children: [
                /* @__PURE__ */ jsx(
                  "th",
                  {
                    scope: "col",
                    className: "px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",
                    children: "Journal"
                  }
                ),
                /* @__PURE__ */ jsx(
                  "th",
                  {
                    scope: "col",
                    className: "px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",
                    children: "Ajouté par"
                  }
                ),
                /* @__PURE__ */ jsx(
                  "th",
                  {
                    scope: "col",
                    className: "px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",
                    children: "Date d'ajout"
                  }
                ),
                /* @__PURE__ */ jsx(
                  "th",
                  {
                    scope: "col",
                    className: "px-6 py-4 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",
                    children: "Actions"
                  }
                )
              ] }) }),
              /* @__PURE__ */ jsx("tbody", { className: "bg-white divide-y divide-gray-200", children: filteredJournaux.length > 0 ? filteredJournaux.map((journal) => /* @__PURE__ */ jsxs(
                motion.tr,
                {
                  variants: itemVariants,
                  className: `hover:bg-gray-50 transition-colors ${activeJournal === journal.id ? "bg-blue-50" : ""}`,
                  onMouseEnter: () => setActiveJournal(journal.id),
                  onMouseLeave: () => setActiveJournal(null),
                  children: [
                    /* @__PURE__ */ jsx("td", { className: "px-6 py-5 whitespace-nowrap", children: /* @__PURE__ */ jsxs("div", { className: "flex items-start", children: [
                      /* @__PURE__ */ jsx("div", { className: "bg-[#00377f]/10 p-3 rounded-lg mr-4 flex-shrink-0", children: /* @__PURE__ */ jsx(MdNewspaper, { className: "text-[#00377f] text-xl" }) }),
                      /* @__PURE__ */ jsxs("div", { children: [
                        /* @__PURE__ */ jsx("div", { className: "text-xs text-gray-500 mb-1 flex items-center", children: /* @__PURE__ */ jsxs("span", { className: "bg-gray-100 px-2 py-0.5 rounded text-gray-600 font-medium", children: [
                          "#",
                          journal.id
                        ] }) }),
                        /* @__PURE__ */ jsx("div", { className: "text-base font-medium text-gray-900", children: journal.titre })
                      ] })
                    ] }) }),
                    /* @__PURE__ */ jsx("td", { className: "px-6 py-5 whitespace-nowrap", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center", children: [
                      /* @__PURE__ */ jsx("div", { className: "flex-shrink-0 h-9 w-9 rounded-full bg-[#00377f]/10 flex items-center justify-center mr-3", children: /* @__PURE__ */ jsx(MdPerson, { className: "text-[#00377f]" }) }),
                      /* @__PURE__ */ jsx("div", { className: "text-sm text-gray-900 font-medium", children: journal.created_by || "Admin" })
                    ] }) }),
                    /* @__PURE__ */ jsx("td", { className: "px-6 py-5 whitespace-nowrap", children: /* @__PURE__ */ jsxs("div", { className: "flex flex-col", children: [
                      /* @__PURE__ */ jsxs("div", { className: "text-sm text-gray-900 flex items-center font-medium", children: [
                        /* @__PURE__ */ jsx(MdAccessTime, { className: "text-gray-400 mr-1.5 text-base" }),
                        formatDate$6(journal.created_at)
                      ] }),
                      /* @__PURE__ */ jsxs("div", { className: "text-xs text-gray-500 mt-1 pl-5", children: [
                        "Mis à jour: ",
                        formatDate$6(journal.updated_at)
                      ] })
                    ] }) }),
                    /* @__PURE__ */ jsx("td", { className: "px-6 py-5 whitespace-nowrap text-right text-sm font-medium", children: /* @__PURE__ */ jsxs("div", { className: "flex space-x-2 justify-end", children: [
                      /* @__PURE__ */ jsx(
                        "button",
                        {
                          onClick: () => handleDownload(journal),
                          className: "text-[#00377f] hover:text-[#00377f]/80 p-2 rounded-full hover:bg-[#00377f]/10 transition-colors",
                          title: "Télécharger",
                          children: /* @__PURE__ */ jsx(MdOutlineFileDownload, { className: "h-5 w-5" })
                        }
                      ),
                      /* @__PURE__ */ jsx(
                        "button",
                        {
                          onClick: () => handleDelete(journal),
                          className: "text-red-600 hover:text-red-800 p-2 rounded-full hover:bg-red-50 transition-colors",
                          title: "Supprimer",
                          children: /* @__PURE__ */ jsx(MdOutlineDeleteOutline, { className: "h-5 w-5" })
                        }
                      )
                    ] }) })
                  ]
                },
                journal.id
              )) : /* @__PURE__ */ jsx("tr", { children: /* @__PURE__ */ jsx("td", { colSpan: 4, className: "px-6 py-12 text-center", children: /* @__PURE__ */ jsxs("div", { className: "flex flex-col items-center", children: [
                /* @__PURE__ */ jsx("div", { className: "bg-gray-100 rounded-full p-4 mb-4", children: /* @__PURE__ */ jsx(MdSearch, { className: "text-gray-400 text-2xl" }) }),
                /* @__PURE__ */ jsx("p", { className: "text-gray-600 font-medium text-lg", children: "Aucun journal trouvé" }),
                /* @__PURE__ */ jsx("p", { className: "text-gray-500 text-sm mt-2 max-w-md", children: "Essayez de modifier vos filtres ou votre recherche, ou ajoutez un nouveau journal." }),
                /* @__PURE__ */ jsxs(
                  "button",
                  {
                    onClick: () => setShowUploadForm(true),
                    className: "mt-6 bg-[#00377f] hover:bg-[#00377f]/90 text-white px-4 py-2 rounded-lg flex items-center transition-all",
                    children: [
                      /* @__PURE__ */ jsx(MdAdd, { className: "mr-1" }),
                      "Ajouter un Journal"
                    ]
                  }
                )
              ] }) }) }) })
            ] }) }),
            filteredJournaux.length > 0 && /* @__PURE__ */ jsxs("div", { className: "bg-gray-50 px-6 py-4 flex items-center justify-between border-t border-gray-200", children: [
              /* @__PURE__ */ jsxs("div", { className: "flex-1 flex justify-between sm:hidden", children: [
                /* @__PURE__ */ jsx("button", { className: "relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50", children: "Précédent" }),
                /* @__PURE__ */ jsx("button", { className: "ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50", children: "Suivant" })
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "hidden sm:flex-1 sm:flex sm:items-center sm:justify-between", children: [
                /* @__PURE__ */ jsx("div", { children: /* @__PURE__ */ jsxs("p", { className: "text-sm text-gray-700", children: [
                  "Affichage de ",
                  /* @__PURE__ */ jsx("span", { className: "font-medium", children: "1" }),
                  " à",
                  " ",
                  /* @__PURE__ */ jsx("span", { className: "font-medium", children: filteredJournaux.length }),
                  " sur",
                  " ",
                  /* @__PURE__ */ jsx("span", { className: "font-medium", children: stats.total }),
                  " journaux"
                ] }) }),
                /* @__PURE__ */ jsx("div", { children: /* @__PURE__ */ jsxs("nav", { className: "relative z-0 inline-flex rounded-md shadow-sm -space-x-px", "aria-label": "Pagination", children: [
                  /* @__PURE__ */ jsxs("button", { className: "relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50", children: [
                    /* @__PURE__ */ jsx("span", { className: "sr-only", children: "Précédent" }),
                    /* @__PURE__ */ jsx(
                      "svg",
                      {
                        className: "h-5 w-5",
                        xmlns: "http://www.w3.org/2000/svg",
                        viewBox: "0 0 20 20",
                        fill: "currentColor",
                        "aria-hidden": "true",
                        children: /* @__PURE__ */ jsx(
                          "path",
                          {
                            fillRule: "evenodd",
                            d: "M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",
                            clipRule: "evenodd"
                          }
                        )
                      }
                    )
                  ] }),
                  /* @__PURE__ */ jsx("button", { className: "relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50", children: "1" }),
                  /* @__PURE__ */ jsx("button", { className: "relative inline-flex items-center px-4 py-2 border border-gray-300 bg-[#00377f] text-sm font-medium text-white", children: "2" }),
                  /* @__PURE__ */ jsxs("button", { className: "relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50", children: [
                    /* @__PURE__ */ jsx("span", { className: "sr-only", children: "Suivant" }),
                    /* @__PURE__ */ jsx(
                      "svg",
                      {
                        className: "h-5 w-5",
                        xmlns: "http://www.w3.org/2000/svg",
                        viewBox: "0 0 20 20",
                        fill: "currentColor",
                        "aria-hidden": "true",
                        children: /* @__PURE__ */ jsx(
                          "path",
                          {
                            fillRule: "evenodd",
                            d: "M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",
                            clipRule: "evenodd"
                          }
                        )
                      }
                    )
                  ] })
                ] }) })
              ] })
            ] })
          ]
        }
      )
    ] })
  ] });
}
const __vite_glob_0_4 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: JournauxIndex
}, Symbol.toStringTag, { value: "Module" }));
function cn(...inputs) {
  return twMerge(clsx$1(inputs));
}
const buttonVariants = cva(
  "inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",
  {
    variants: {
      variant: {
        default: "bg-primary text-primary-foreground hover:bg-primary/90",
        destructive: "bg-destructive text-destructive-foreground hover:bg-destructive/90",
        outline: "border border-input bg-background hover:bg-accent hover:text-accent-foreground",
        secondary: "bg-secondary text-secondary-foreground hover:bg-secondary/80",
        ghost: "hover:bg-accent hover:text-accent-foreground",
        link: "text-primary underline-offset-4 hover:underline"
      },
      size: {
        default: "h-10 px-4 py-2",
        sm: "h-9 rounded-md px-3",
        lg: "h-11 rounded-md px-8",
        icon: "h-10 w-10"
      }
    },
    defaultVariants: {
      variant: "default",
      size: "default"
    }
  }
);
const Button = React.forwardRef(
  ({ className, variant, size, asChild = false, ...props }, ref) => {
    const Comp = asChild ? Slot : "button";
    return /* @__PURE__ */ jsx(
      Comp,
      {
        className: cn(buttonVariants({ variant, size, className })),
        ref,
        ...props
      }
    );
  }
);
Button.displayName = "Button";
const badgeVariants = cva(
  "inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",
  {
    variants: {
      variant: {
        default: "border-transparent bg-primary text-primary-foreground hover:bg-primary/80",
        secondary: "border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",
        destructive: "border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",
        outline: "text-foreground"
      }
    },
    defaultVariants: {
      variant: "default"
    }
  }
);
function Badge({ className, variant, ...props }) {
  return /* @__PURE__ */ jsx("div", { className: cn(badgeVariants({ variant }), className), ...props });
}
const Index$3 = ({
  annonces = [],
  annoncesParUser = {}
}) => {
  const [isProcessing, setIsProcessing] = useState(null);
  const [selectedDays, setSelectedDays] = useState(null);
  const formatDate2 = (dateString) => {
    const date = new Date(dateString);
    const day = String(date.getDate()).padStart(2, "0");
    const month = String(date.getMonth() + 1).padStart(2, "0");
    const year = date.getFullYear();
    return `${day}/${month}/${year}`;
  };
  const handleTabClick = (days) => {
    setSelectedDays(days);
    toast$1.success(`Filtrage ${days ? `des ${days} derniers jours` : "de toutes les annonces"} appliqué`);
  };
  const handleMarkAsSent = async (id) => {
    var _a2;
    setIsProcessing(id);
    try {
      const response = await fetch(`/admin/annonce-a-livrer/${id}/mark-as-sent`, {
        method: "POST",
        headers: {
          "X-Requested-With": "XMLHttpRequest",
          "X-CSRF-TOKEN": ((_a2 = document.querySelector('meta[name="csrf-token"]')) == null ? void 0 : _a2.content) || "",
          "Content-Type": "application/json"
        }
      });
      if (response.ok) {
        toast$1.success("Annonce marquée comme envoyée au livreur.");
        if (annonces) {
          const idx = annonces.findIndex((a) => a.id === id);
          if (idx !== -1) {
            annonces[idx].is_sent_to_delivery = true;
          }
        }
      } else {
        toast$1.error("Erreur lors de l'envoi.");
      }
    } catch (error) {
      toast$1.error("Erreur lors de l'envoi.");
    }
    setIsProcessing(null);
  };
  const handleExport = () => {
    window.open("/admin/annonces/export", "_blank");
  };
  const tabs = [
    { label: "Toutes", value: null },
    { label: "Derniers 24 Heures", value: "1" }
  ];
  const filteredAnnonces = selectedDays === "1" ? annonces.filter((a) => new Date(a.created_at) > new Date(Date.now() - 24 * 60 * 60 * 1e3)) : annonces;
  return /* @__PURE__ */ jsx(
    AuthenticatedLayout,
    {
      header: /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
        /* @__PURE__ */ jsxs("div", { className: "flex items-center space-x-3", children: [
          /* @__PURE__ */ jsx("div", { className: "p-2 bg-blue-100 dark:bg-blue-900/50 rounded-lg", children: /* @__PURE__ */ jsx(Truck, { className: "w-6 h-6 text-blue-600 dark:text-blue-400" }) }),
          /* @__PURE__ */ jsx("h2", { className: "text-2xl font-bold leading-tight text-gray-800 dark:text-gray-200", children: "Annonces à livrer (Papier + Digital)" })
        ] }),
        /* @__PURE__ */ jsxs(
          Button,
          {
            onClick: handleExport,
            className: "bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300 rounded-xl px-6 py-3 font-semibold",
            children: [
              /* @__PURE__ */ jsx(Download, { className: "w-5 h-5 mr-2" }),
              "Exporter Excel"
            ]
          }
        )
      ] }),
      children: /* @__PURE__ */ jsx("div", { className: "bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden", children: /* @__PURE__ */ jsxs("div", { className: "p-6", children: [
        /* @__PURE__ */ jsx("div", { className: "mb-6", children: /* @__PURE__ */ jsx("div", { className: "flex flex-wrap gap-2", children: tabs.map((tab) => /* @__PURE__ */ jsxs(
          Button,
          {
            onClick: () => handleTabClick(tab.value),
            variant: tab.value === null && selectedDays === null || tab.value === selectedDays ? "default" : "outline",
            className: `rounded-xl font-medium transition-all duration-300 ${tab.value === null && selectedDays === null || tab.value === selectedDays ? "bg-gradient-to-r from-red-500 to-pink-600 hover:from-red-600 hover:to-pink-700 text-white shadow-lg" : "hover:bg-gray-50 border-2"}`,
            children: [
              /* @__PURE__ */ jsx(Calendar$2, { className: "w-4 h-4 mr-2" }),
              tab.label
            ]
          },
          tab.label
        )) }) }),
        /* @__PURE__ */ jsx("div", { className: "mb-4", children: /* @__PURE__ */ jsxs("p", { className: "text-sm text-gray-600 dark:text-gray-400", children: [
          filteredAnnonces.length,
          " annonce",
          filteredAnnonces.length !== 1 ? "s" : "",
          " trouvée",
          filteredAnnonces.length !== 1 ? "s" : ""
        ] }) }),
        filteredAnnonces.length > 0 ? /* @__PURE__ */ jsx("div", { className: "overflow-x-auto", children: /* @__PURE__ */ jsxs("table", { className: "min-w-full divide-y divide-gray-200 dark:divide-gray-700", children: [
          /* @__PURE__ */ jsx("thead", { className: "bg-gray-50 dark:bg-gray-700", children: /* @__PURE__ */ jsxs("tr", { children: [
            /* @__PURE__ */ jsx("th", { className: "px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center", children: [
              /* @__PURE__ */ jsx(User$1, { className: "w-4 h-4 mr-2" }),
              "Nom du client"
            ] }) }),
            /* @__PURE__ */ jsx("th", { className: "px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center", children: [
              /* @__PURE__ */ jsx(MapPin, { className: "w-4 h-4 mr-2" }),
              "Adresse"
            ] }) }),
            /* @__PURE__ */ jsx("th", { className: "px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center", children: [
              /* @__PURE__ */ jsx(Calendar$2, { className: "w-4 h-4 mr-2" }),
              "Date de création"
            ] }) }),
            /* @__PURE__ */ jsx("th", { className: "px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center", children: [
              /* @__PURE__ */ jsx(Package, { className: "w-4 h-4 mr-2" }),
              "Annonces à livrer"
            ] }) }),
            /* @__PURE__ */ jsx("th", { className: "px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider", children: "Statut de livraison" }),
            /* @__PURE__ */ jsx("th", { className: "px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider", children: "Action" })
          ] }) }),
          /* @__PURE__ */ jsx("tbody", { className: "bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700", children: filteredAnnonces.map((annonce) => {
            var _a2, _b, _c, _d, _e;
            return /* @__PURE__ */ jsxs("tr", { className: "hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors", children: [
              /* @__PURE__ */ jsx("td", { className: "px-6 py-4 whitespace-nowrap", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center", children: [
                /* @__PURE__ */ jsx("div", { className: "w-10 h-10 bg-gradient-to-r from-blue-400 to-indigo-500 rounded-full flex items-center justify-center text-white font-semibold mr-3", children: ((_b = (_a2 = annonce.user) == null ? void 0 : _a2.name) == null ? void 0 : _b.charAt(0)) || "?" }),
                /* @__PURE__ */ jsx("div", { className: "text-sm font-medium text-gray-900 dark:text-gray-100", children: ((_c = annonce.user) == null ? void 0 : _c.name) || "N/A" })
              ] }) }),
              /* @__PURE__ */ jsx("td", { className: "px-6 py-4", children: /* @__PURE__ */ jsx("div", { className: "text-sm text-gray-900 dark:text-gray-100 max-w-xs truncate", children: ((_d = annonce.user) == null ? void 0 : _d.address) || "N/A" }) }),
              /* @__PURE__ */ jsx("td", { className: "px-6 py-4 whitespace-nowrap", children: /* @__PURE__ */ jsx("div", { className: "text-sm text-gray-900 dark:text-gray-100", children: formatDate2(annonce.created_at) }) }),
              /* @__PURE__ */ jsx("td", { className: "px-6 py-4 whitespace-nowrap", children: /* @__PURE__ */ jsx(Badge, { variant: "outline", className: "font-semibold", children: annoncesParUser[((_e = annonce.user) == null ? void 0 : _e.id) || 0] || 0 }) }),
              /* @__PURE__ */ jsx("td", { className: "px-6 py-4 whitespace-nowrap", children: /* @__PURE__ */ jsx(
                Badge,
                {
                  className: `font-medium ${annonce.is_sent_to_delivery ? "bg-gradient-to-r from-green-100 to-emerald-100 text-green-800 border-green-200" : "bg-gradient-to-r from-amber-100 to-orange-100 text-amber-800 border-amber-200"}`,
                  children: annonce.is_sent_to_delivery ? /* @__PURE__ */ jsxs(Fragment, { children: [
                    /* @__PURE__ */ jsx(CheckCircle, { className: "w-3 h-3 mr-1" }),
                    "Oui"
                  ] }) : "Non"
                }
              ) }),
              /* @__PURE__ */ jsx("td", { className: "px-6 py-4 whitespace-nowrap", children: !annonce.is_sent_to_delivery && /* @__PURE__ */ jsx(
                Button,
                {
                  onClick: () => handleMarkAsSent(annonce.id),
                  disabled: isProcessing === annonce.id,
                  className: "bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-300 rounded-lg",
                  size: "sm",
                  children: isProcessing === annonce.id ? /* @__PURE__ */ jsxs(Fragment, { children: [
                    /* @__PURE__ */ jsx("div", { className: "animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2" }),
                    "Envoi..."
                  ] }) : "Marquer comme envoyé"
                }
              ) })
            ] }, annonce.id);
          }) })
        ] }) }) : /* @__PURE__ */ jsxs("div", { className: "text-center py-12", children: [
          /* @__PURE__ */ jsx(Truck, { className: "mx-auto h-12 w-12 text-gray-400" }),
          /* @__PURE__ */ jsx("h3", { className: "mt-2 text-sm font-medium text-gray-900 dark:text-gray-100", children: "Aucune annonce à livrer" }),
          /* @__PURE__ */ jsx("p", { className: "mt-1 text-sm text-gray-500 dark:text-gray-400", children: selectedDays ? `Aucune annonce trouvée pour les ${selectedDays} derniers jours.` : "Aucune annonce Papier+Digital en attente de livraison." })
        ] })
      ] }) })
    }
  );
};
const __vite_glob_0_5 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: Index$3
}, Symbol.toStringTag, { value: "Module" }));
function Show$4({ annonce }) {
  const formattedDate = annonce.created_at ? new Date(annonce.created_at).toLocaleDateString("fr-FR", {
    day: "numeric",
    month: "long",
    year: "numeric"
  }) : null;
  const getStatusStyle = (status) => {
    switch (status.toUpperCase()) {
      case "APPROVED":
        return "bg-emerald-50 text-emerald-700 border-emerald-200";
      case "PENDING":
        return "bg-amber-50 text-amber-700 border-amber-200";
      case "REJECTED":
        return "bg-red-50 text-red-700 border-red-200";
      default:
        return "bg-blue-50 text-blue-700 border-blue-200";
    }
  };
  return /* @__PURE__ */ jsx(
    AuthenticatedLayout,
    {
      header: /* @__PURE__ */ jsxs("div", { className: "flex items-center space-x-3", children: [
        /* @__PURE__ */ jsx("div", { className: "p-2 bg-blue-50 rounded-lg", children: /* @__PURE__ */ jsx(FileText, { className: "w-6 h-6 text-blue-600" }) }),
        /* @__PURE__ */ jsx("h2", { className: "text-2xl font-bold leading-tight text-gray-800 dark:text-gray-200", children: "Détails de l'annonce" })
      ] }),
      children: /* @__PURE__ */ jsxs("div", { className: "max-w-5xl mx-auto px-4 py-8 sm:px-6 lg:px-8", children: [
        /* @__PURE__ */ jsxs(
          Link$1,
          {
            href: route("admin.dashboard"),
            className: "inline-flex items-center mb-6 text-sm font-medium text-blue-600 hover:text-blue-500 transition-colors",
            children: [
              /* @__PURE__ */ jsx(ArrowLeft, { className: "w-4 h-4 mr-1" }),
              "Retour aux annonces"
            ]
          }
        ),
        /* @__PURE__ */ jsxs("div", { className: "bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden", children: [
          /* @__PURE__ */ jsx("div", { className: "border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50 px-6 py-4", children: /* @__PURE__ */ jsxs("div", { className: "flex flex-wrap items-center justify-between gap-4", children: [
            /* @__PURE__ */ jsx("h1", { className: "text-xl font-bold text-gray-900 dark:text-white", children: annonce.title }),
            /* @__PURE__ */ jsx("div", { className: `px-3 py-1 rounded-full text-sm font-medium border ${getStatusStyle(annonce.status)}`, children: annonce.status })
          ] }) }),
          /* @__PURE__ */ jsx("div", { className: "p-6", children: /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 md:grid-cols-3 gap-8", children: [
            /* @__PURE__ */ jsxs("div", { className: "md:col-span-1 space-y-6", children: [
              /* @__PURE__ */ jsxs("div", { className: "bg-gray-50 dark:bg-gray-900/30 rounded-lg p-5 border border-gray-100 dark:border-gray-800", children: [
                /* @__PURE__ */ jsxs("div", { className: "flex items-center mb-4", children: [
                  /* @__PURE__ */ jsx(Building, { className: "w-5 h-5 text-blue-600 dark:text-blue-400 mr-2" }),
                  /* @__PURE__ */ jsx("h3", { className: "font-semibold text-gray-900 dark:text-gray-100", children: "Informations société" })
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "space-y-3", children: [
                  /* @__PURE__ */ jsxs("div", { children: [
                    /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 dark:text-gray-400", children: "Nom de la société" }),
                    /* @__PURE__ */ jsx("p", { className: "font-medium text-gray-900 dark:text-white", children: annonce.nameSociete })
                  ] }),
                  /* @__PURE__ */ jsxs("div", { children: [
                    /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 dark:text-gray-400", children: "RC" }),
                    /* @__PURE__ */ jsx("p", { className: "font-mono font-medium text-gray-900 dark:text-white", children: annonce.RC })
                  ] }),
                  annonce.ville && /* @__PURE__ */ jsxs("div", { children: [
                    /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 dark:text-gray-400", children: "Ville" }),
                    /* @__PURE__ */ jsx("p", { className: "font-medium text-gray-900 dark:text-white", children: annonce.ville })
                  ] }),
                  annonce.category && /* @__PURE__ */ jsxs("div", { children: [
                    /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 dark:text-gray-400", children: "Catégorie" }),
                    /* @__PURE__ */ jsxs("div", { className: "flex items-center", children: [
                      /* @__PURE__ */ jsx(Tag, { className: "w-3.5 h-3.5 text-blue-600 dark:text-blue-400 mr-1.5" }),
                      /* @__PURE__ */ jsx("p", { className: "font-medium text-gray-900 dark:text-white", children: annonce.category })
                    ] })
                  ] })
                ] })
              ] }),
              annonce.user && /* @__PURE__ */ jsxs("div", { className: "bg-gray-50 dark:bg-gray-900/30 rounded-lg p-5 border border-gray-100 dark:border-gray-800", children: [
                /* @__PURE__ */ jsxs("div", { className: "flex items-center mb-4", children: [
                  /* @__PURE__ */ jsx(User$1, { className: "w-5 h-5 text-blue-600 dark:text-blue-400 mr-2" }),
                  /* @__PURE__ */ jsx("h3", { className: "font-semibold text-gray-900 dark:text-gray-100", children: "Créé par" })
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "flex items-center", children: [
                  /* @__PURE__ */ jsx("div", { className: "w-10 h-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center mr-3", children: /* @__PURE__ */ jsx("span", { className: "text-blue-600 dark:text-blue-400 font-medium", children: annonce.user.name.charAt(0).toUpperCase() }) }),
                  /* @__PURE__ */ jsxs("div", { children: [
                    /* @__PURE__ */ jsx("p", { className: "font-medium text-gray-900 dark:text-white", children: annonce.user.name }),
                    /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 dark:text-gray-400", children: annonce.user.email })
                  ] })
                ] }),
                formattedDate && /* @__PURE__ */ jsxs("div", { className: "mt-4 flex items-center text-sm text-gray-500 dark:text-gray-400", children: [
                  /* @__PURE__ */ jsx(Calendar$2, { className: "w-3.5 h-3.5 mr-1.5" }),
                  /* @__PURE__ */ jsxs("span", { children: [
                    "Publié le ",
                    formattedDate
                  ] })
                ] })
              ] }),
              annonce.pdf && /* @__PURE__ */ jsx("div", { className: "bg-blue-50 dark:bg-blue-900/20 rounded-lg p-5 border border-blue-100 dark:border-blue-800/30", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
                /* @__PURE__ */ jsxs("div", { className: "flex items-center", children: [
                  /* @__PURE__ */ jsx(FileText, { className: "w-5 h-5 text-blue-600 dark:text-blue-400 mr-2" }),
                  /* @__PURE__ */ jsx("h3", { className: "font-semibold text-gray-900 dark:text-gray-100", children: "Document" })
                ] }),
                /* @__PURE__ */ jsx(
                  "a",
                  {
                    href: `/storage/${annonce.pdf}`,
                    target: "_blank",
                    rel: "noopener noreferrer",
                    className: "text-sm font-medium text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300",
                    children: "Télécharger"
                  }
                )
              ] }) })
            ] }),
            /* @__PURE__ */ jsx("div", { className: "md:col-span-2", children: /* @__PURE__ */ jsxs("div", { className: "bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-5", children: [
              /* @__PURE__ */ jsx("h3", { className: "font-semibold text-gray-900 dark:text-gray-100 mb-4", children: "Contenu de l'annonce" }),
              /* @__PURE__ */ jsx("div", { className: "prose dark:prose-invert max-w-none", children: /* @__PURE__ */ jsx("p", { className: "text-gray-700 dark:text-gray-300 whitespace-pre-line", children: annonce.content }) })
            ] }) })
          ] }) })
        ] })
      ] })
    }
  );
}
const __vite_glob_0_6 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: Show$4
}, Symbol.toStringTag, { value: "Module" }));
const formatDate$5 = (dateString) => {
  const options = {
    day: "2-digit",
    month: "2-digit",
    year: "numeric",
    hour: "2-digit",
    minute: "2-digit"
  };
  return new Date(dateString).toLocaleDateString("fr-FR", options);
};
const getStatusBadge$3 = (status) => {
  switch (status) {
    case "new":
    case "open":
      return {
        bg: "bg-yellow-500/20",
        text: "text-yellow-600",
        icon: /* @__PURE__ */ jsx(MdOutlineWatchLater, { className: "w-4 h-4 mr-1" }),
        label: "Nouveau"
      };
    case "pending":
    case "in_progress":
      return {
        bg: "bg-orange-500/20",
        text: "text-orange-600",
        icon: /* @__PURE__ */ jsx(MdErrorOutline, { className: "w-4 h-4 mr-1" }),
        label: "En attente"
      };
    case "resolved":
    case "closed":
      return {
        bg: "bg-green-500/20",
        text: "text-green-600",
        icon: /* @__PURE__ */ jsx(MdCheckCircleOutline, { className: "w-4 h-4 mr-1" }),
        label: "Résolu"
      };
    default:
      return {
        bg: "bg-gray-200",
        text: "text-gray-700",
        icon: null,
        label: status
      };
  }
};
const getPriorityBadge$2 = (priority) => {
  switch (priority) {
    case "high":
      return {
        bg: "bg-red-500/20",
        text: "text-red-600",
        icon: /* @__PURE__ */ jsx(MdPriorityHigh, { className: "w-4 h-4 mr-1" }),
        label: "Élevée"
      };
    case "medium":
      return {
        bg: "bg-blue-500/20",
        text: "text-blue-600",
        icon: /* @__PURE__ */ jsx(MdPriorityHigh, { className: "w-4 h-4 mr-1" }),
        label: "Moyenne"
      };
    case "low":
      return {
        bg: "bg-gray-200",
        text: "text-gray-700",
        icon: /* @__PURE__ */ jsx(MdPriorityHigh, { className: "w-4 h-4 mr-1" }),
        label: "Basse"
      };
    default:
      return {
        bg: "bg-gray-200",
        text: "text-gray-700",
        icon: null,
        label: priority
      };
  }
};
function TicketsIndex({
  tickets = { data: [], links: { first: null, last: null, prev: null, next: null }, meta: { current_page: 1, last_page: 1, per_page: 10, total: 0, from: 0, to: 0 } },
  stats = { new: 0, pending: 0, resolved: 0, total: 0 }
}) {
  const [activeTab, setActiveTab] = useState("all");
  const [searchQuery, setSearchQuery] = useState("");
  const [selectedFilter, setSelectedFilter] = useState("all");
  const mapStatus = (backendStatus) => {
    switch (backendStatus) {
      case "open":
        return "new";
      case "in_progress":
        return "pending";
      case "closed":
        return "resolved";
      default:
        return backendStatus;
    }
  };
  const filteredTickets = tickets.data ? tickets.data.filter((ticket) => {
    var _a2;
    const frontendStatus = mapStatus(ticket.status);
    if (activeTab !== "all" && frontendStatus !== activeTab) {
      return false;
    }
    if (searchQuery && !ticket.title.toLowerCase().includes(searchQuery.toLowerCase()) && !ticket.id.toString().toLowerCase().includes(searchQuery.toLowerCase()) && !(ticket.submitted_by && ticket.submitted_by.toLowerCase().includes(searchQuery.toLowerCase()))) {
      return false;
    }
    if (selectedFilter === "priority_high" && ticket.priority !== "high") {
      return false;
    } else if (selectedFilter === "unassigned" && !((_a2 = ticket.user) == null ? void 0 : _a2.id)) {
      return false;
    } else if (selectedFilter === "recent") {
      const yesterday = /* @__PURE__ */ new Date();
      yesterday.setDate(yesterday.getDate() - 1);
      if (new Date(ticket.updated_at) < yesterday) {
        return false;
      }
    }
    return true;
  }) : [];
  const containerVariants = {
    hidden: { opacity: 0 },
    visible: {
      opacity: 1,
      transition: {
        staggerChildren: 0.1
      }
    }
  };
  const itemVariants = {
    hidden: { y: 20, opacity: 0 },
    visible: {
      y: 0,
      opacity: 1,
      transition: {
        type: "spring",
        stiffness: 100,
        damping: 12
      }
    }
  };
  return /* @__PURE__ */ jsxs(
    AuthenticatedLayout,
    {
      header: /* @__PURE__ */ jsxs("div", { className: "flex items-center", children: [
        /* @__PURE__ */ jsx("div", { className: "bg-[#00377f]/10 p-2 rounded-lg mr-3", children: /* @__PURE__ */ jsx(
          "svg",
          {
            xmlns: "http://www.w3.org/2000/svg",
            fill: "none",
            viewBox: "0 0 24 24",
            strokeWidth: "1.5",
            stroke: "blue",
            className: "size-8",
            children: /* @__PURE__ */ jsx(
              "path",
              {
                strokeLinecap: "round",
                strokeLinejoin: "round",
                d: "M16.5 6v.75m0 3v.75m0 3v.75m0 3V18m-9-5.25h5.25M7.5 15h3M3.375 5.25c-.621 0-1.125.504-1.125 1.125v3.026a2.999 2.999 0 0 1 0 5.198v3.026c0 .621.504 1.125 1.125 1.125h17.25c.621 0 1.125-.504 1.125-1.125v-3.026a2.999 2.999 0 0 1 0-5.198V6.375c0-.621-.504-1.125-1.125-1.125H3.375Z"
              }
            )
          }
        ) }),
        /* @__PURE__ */ jsx("h2", { className: "text-xl font-semibold leading-tight text-gray-800", children: "Gestion des Tickets" })
      ] }),
      children: [
        /* @__PURE__ */ jsx(Head, {}),
        /* @__PURE__ */ jsx("div", { className: "py-3", children: /* @__PURE__ */ jsxs("div", { className: "w-full px-2 sm:px-4", children: [
          /* @__PURE__ */ jsxs("div", { className: "bg-white rounded-xl shadow-md overflow-hidden mb-6", children: [
            /* @__PURE__ */ jsxs("div", { className: "bg-gradient-to-r from-[#00377f]/5 to-transparent p-6 border-b border-gray-100", children: [
              /* @__PURE__ */ jsx("h1", { className: "text-2xl font-bold text-gray-800 mb-2", children: "Centre de Support" }),
              /* @__PURE__ */ jsx("p", { className: "text-gray-600", children: "Gérez et répondez aux tickets de support des utilisateurs" })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 md:grid-cols-4 gap-3 p-4", children: [
              /* @__PURE__ */ jsx(
                motion.div,
                {
                  className: "bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-lg p-4 border border-yellow-200 shadow-sm",
                  whileHover: { y: -5, boxShadow: "0 10px 15px -3px rgba(0, 0, 0, 0.1)" },
                  transition: { duration: 0.2 },
                  children: /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
                    /* @__PURE__ */ jsxs("div", { children: [
                      /* @__PURE__ */ jsx("p", { className: "text-yellow-800 text-sm font-medium", children: "Nouveaux" }),
                      /* @__PURE__ */ jsx("p", { className: "text-2xl font-bold text-yellow-900", children: stats.new })
                    ] }),
                    /* @__PURE__ */ jsx("div", { className: "bg-yellow-200 rounded-full p-3", children: /* @__PURE__ */ jsx(MdOutlineWatchLater, { className: "text-yellow-700 text-xl" }) })
                  ] })
                }
              ),
              /* @__PURE__ */ jsx(
                motion.div,
                {
                  className: "bg-gradient-to-br from-orange-50 to-orange-100 rounded-lg p-4 border border-orange-200 shadow-sm",
                  whileHover: { y: -5, boxShadow: "0 10px 15px -3px rgba(0, 0, 0, 0.1)" },
                  transition: { duration: 0.2 },
                  children: /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
                    /* @__PURE__ */ jsxs("div", { children: [
                      /* @__PURE__ */ jsx("p", { className: "text-orange-800 text-sm font-medium", children: "En attente" }),
                      /* @__PURE__ */ jsx("p", { className: "text-2xl font-bold text-orange-900", children: stats.pending })
                    ] }),
                    /* @__PURE__ */ jsx("div", { className: "bg-orange-200 rounded-full p-3", children: /* @__PURE__ */ jsx(MdErrorOutline, { className: "text-orange-700 text-xl" }) })
                  ] })
                }
              ),
              /* @__PURE__ */ jsx(
                motion.div,
                {
                  className: "bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4 border border-green-200 shadow-sm",
                  whileHover: { y: -5, boxShadow: "0 10px 15px -3px rgba(0, 0, 0, 0.1)" },
                  transition: { duration: 0.2 },
                  children: /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
                    /* @__PURE__ */ jsxs("div", { children: [
                      /* @__PURE__ */ jsx("p", { className: "text-green-800 text-sm font-medium", children: "Résolus" }),
                      /* @__PURE__ */ jsx("p", { className: "text-2xl font-bold text-green-900", children: stats.resolved })
                    ] }),
                    /* @__PURE__ */ jsx("div", { className: "bg-green-200 rounded-full p-3", children: /* @__PURE__ */ jsx(MdCheckCircleOutline, { className: "text-green-700 text-xl" }) })
                  ] })
                }
              ),
              /* @__PURE__ */ jsx(
                motion.div,
                {
                  className: "bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4 border border-blue-200 shadow-sm",
                  whileHover: { y: -5, boxShadow: "0 10px 15px -3px rgba(0, 0, 0, 0.1)" },
                  transition: { duration: 0.2 },
                  children: /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
                    /* @__PURE__ */ jsxs("div", { children: [
                      /* @__PURE__ */ jsx("p", { className: "text-blue-800 text-sm font-medium", children: "Total" }),
                      /* @__PURE__ */ jsx("p", { className: "text-2xl font-bold text-blue-900", children: stats.total })
                    ] }),
                    /* @__PURE__ */ jsx("div", { className: "bg-blue-200 rounded-full p-3", children: /* @__PURE__ */ jsx(MdConfirmationNumber, { className: "text-blue-700 text-xl" }) })
                  ] })
                }
              )
            ] })
          ] }),
          /* @__PURE__ */ jsx("div", { className: "bg-white rounded-xl shadow-md overflow-hidden mb-6", children: /* @__PURE__ */ jsxs("div", { className: "p-4 flex flex-col md:flex-row md:items-center md:justify-between gap-3", children: [
            /* @__PURE__ */ jsxs("div", { className: "flex space-x-1 bg-gray-100 p-1 rounded-lg", children: [
              /* @__PURE__ */ jsx(
                "button",
                {
                  onClick: () => setActiveTab("all"),
                  className: `px-4 py-2 text-sm font-medium rounded-md transition-all ${activeTab === "all" ? "bg-white text-[#00377f] shadow-sm" : "text-gray-600 hover:text-gray-900"}`,
                  children: "Tous"
                }
              ),
              /* @__PURE__ */ jsxs(
                "button",
                {
                  onClick: () => setActiveTab("new"),
                  className: `px-4 py-2 text-sm font-medium rounded-md transition-all flex items-center ${activeTab === "new" ? "bg-white text-yellow-600 shadow-sm" : "text-gray-600 hover:text-gray-900"}`,
                  children: [
                    /* @__PURE__ */ jsx(MdOutlineWatchLater, { className: `mr-1 ${activeTab === "new" ? "text-yellow-500" : ""}` }),
                    "Nouveaux"
                  ]
                }
              ),
              /* @__PURE__ */ jsxs(
                "button",
                {
                  onClick: () => setActiveTab("pending"),
                  className: `px-4 py-2 text-sm font-medium rounded-md transition-all flex items-center ${activeTab === "pending" ? "bg-white text-orange-600 shadow-sm" : "text-gray-600 hover:text-gray-900"}`,
                  children: [
                    /* @__PURE__ */ jsx(MdErrorOutline, { className: `mr-1 ${activeTab === "pending" ? "text-orange-500" : ""}` }),
                    "En attente"
                  ]
                }
              ),
              /* @__PURE__ */ jsxs(
                "button",
                {
                  onClick: () => setActiveTab("resolved"),
                  className: `px-4 py-2 text-sm font-medium rounded-md transition-all flex items-center ${activeTab === "resolved" ? "bg-white text-green-600 shadow-sm" : "text-gray-600 hover:text-gray-900"}`,
                  children: [
                    /* @__PURE__ */ jsx(MdCheckCircleOutline, { className: `mr-1 ${activeTab === "resolved" ? "text-green-500" : ""}` }),
                    "Résolus"
                  ]
                }
              )
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "flex items-center space-x-2", children: [
              /* @__PURE__ */ jsxs("div", { className: "relative", children: [
                /* @__PURE__ */ jsx(MdSearch, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400" }),
                /* @__PURE__ */ jsx(
                  "input",
                  {
                    type: "text",
                    placeholder: "Rechercher un ticket...",
                    className: "pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00377f]/30 focus:border-[#00377f] transition-all",
                    value: searchQuery,
                    onChange: (e2) => setSearchQuery(e2.target.value)
                  }
                )
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "relative", children: [
                /* @__PURE__ */ jsxs(
                  "select",
                  {
                    className: "appearance-none pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00377f]/30 focus:border-[#00377f] transition-all",
                    value: selectedFilter,
                    onChange: (e2) => setSelectedFilter(e2.target.value),
                    children: [
                      /* @__PURE__ */ jsx("option", { value: "all", children: "Tous les filtres" }),
                      /* @__PURE__ */ jsx("option", { value: "priority_high", children: "Priorité élevée" }),
                      /* @__PURE__ */ jsx("option", { value: "unassigned", children: "Non assignés" }),
                      /* @__PURE__ */ jsx("option", { value: "recent", children: "Récents (24h)" })
                    ]
                  }
                ),
                /* @__PURE__ */ jsx(MdFilterList, { className: "absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none" })
              ] }),
              /* @__PURE__ */ jsxs(
                Link,
                {
                  href: route("admin.tickets.create"),
                  className: "bg-[#00377f] hover:bg-[#00377f]/90 text-white px-4 py-2 rounded-lg flex items-center transition-all shadow-sm hover:shadow-md",
                  children: [
                    /* @__PURE__ */ jsx(MdAdd, { className: "mr-1" }),
                    "Nouveau"
                  ]
                }
              )
            ] })
          ] }) }),
          /* @__PURE__ */ jsxs(
            motion.div,
            {
              className: "bg-white rounded-xl shadow-md overflow-hidden",
              variants: containerVariants,
              initial: "hidden",
              animate: "visible",
              children: [
                /* @__PURE__ */ jsx("div", { className: "overflow-x-auto", children: /* @__PURE__ */ jsxs("table", { className: "min-w-full divide-y divide-gray-200", children: [
                  /* @__PURE__ */ jsx("thead", { className: "bg-gray-50", children: /* @__PURE__ */ jsxs("tr", { children: [
                    /* @__PURE__ */ jsx(
                      "th",
                      {
                        scope: "col",
                        className: "px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",
                        children: "ID & Titre"
                      }
                    ),
                    /* @__PURE__ */ jsx(
                      "th",
                      {
                        scope: "col",
                        className: "px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",
                        children: "Statut"
                      }
                    ),
                    /* @__PURE__ */ jsx(
                      "th",
                      {
                        scope: "col",
                        className: "px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",
                        children: "Priorité"
                      }
                    ),
                    /* @__PURE__ */ jsx(
                      "th",
                      {
                        scope: "col",
                        className: "px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",
                        children: "Assigné à"
                      }
                    ),
                    /* @__PURE__ */ jsx(
                      "th",
                      {
                        scope: "col",
                        className: "px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",
                        children: "Date"
                      }
                    ),
                    /* @__PURE__ */ jsx(
                      "th",
                      {
                        scope: "col",
                        className: "px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",
                        children: "Actions"
                      }
                    )
                  ] }) }),
                  /* @__PURE__ */ jsx("tbody", { className: "bg-white divide-y divide-gray-200", children: filteredTickets.length > 0 ? filteredTickets.map((ticket) => {
                    const statusBadge = getStatusBadge$3(ticket.status);
                    const priorityBadge = getPriorityBadge$2(ticket.priority);
                    return /* @__PURE__ */ jsxs(
                      motion.tr,
                      {
                        variants: itemVariants,
                        className: "hover:bg-gray-50 transition-colors",
                        children: [
                          /* @__PURE__ */ jsx("td", { className: "px-6 py-4 whitespace-nowrap", children: /* @__PURE__ */ jsxs("div", { className: "flex items-start", children: [
                            /* @__PURE__ */ jsx("div", { className: "bg-[#00377f]/10 p-2 rounded-lg mr-3 flex-shrink-0", children: /* @__PURE__ */ jsx(MdConfirmationNumber, { className: "text-[#00377f] text-lg" }) }),
                            /* @__PURE__ */ jsxs("div", { children: [
                              /* @__PURE__ */ jsx("div", { className: "text-sm font-medium text-gray-900", children: ticket.title }),
                              /* @__PURE__ */ jsxs("div", { className: "text-xs text-gray-500 mt-1 flex items-center", children: [
                                /* @__PURE__ */ jsx(MdLabel, { className: "mr-1" }),
                                ticket.category
                              ] })
                            ] })
                          ] }) }),
                          /* @__PURE__ */ jsx("td", { className: "px-6 py-4 whitespace-nowrap", children: /* @__PURE__ */ jsxs(
                            "span",
                            {
                              className: `inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${statusBadge.bg} ${statusBadge.text}`,
                              children: [
                                statusBadge.icon,
                                statusBadge.label
                              ]
                            }
                          ) }),
                          /* @__PURE__ */ jsx("td", { className: "px-6 py-4 whitespace-nowrap", children: /* @__PURE__ */ jsxs(
                            "span",
                            {
                              className: `inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${priorityBadge.bg} ${priorityBadge.text}`,
                              children: [
                                priorityBadge.icon,
                                priorityBadge.label
                              ]
                            }
                          ) }),
                          /* @__PURE__ */ jsx("td", { className: "px-6 py-4 whitespace-nowrap", children: /* @__PURE__ */ jsx("div", { className: "flex items-center", children: !ticket.user ? /* @__PURE__ */ jsx("span", { className: "text-gray-500 text-sm italic", children: "Utilisateur inconnu" }) : /* @__PURE__ */ jsxs(Fragment, { children: [
                            /* @__PURE__ */ jsx("div", { className: "flex-shrink-0 h-8 w-8 rounded-full bg-gray-200 flex items-center justify-center mr-2", children: /* @__PURE__ */ jsx(MdPerson, { className: "text-gray-600" }) }),
                            /* @__PURE__ */ jsxs("div", { className: "flex flex-col", children: [
                              /* @__PURE__ */ jsx("span", { className: "text-sm font-medium text-gray-900", children: ticket.user.name }),
                              ticket.user.email && /* @__PURE__ */ jsx("span", { className: "text-xs text-gray-500", children: ticket.user.email })
                            ] })
                          ] }) }) }),
                          /* @__PURE__ */ jsx("td", { className: "px-6 py-4 whitespace-nowrap", children: /* @__PURE__ */ jsxs("div", { className: "flex flex-col", children: [
                            /* @__PURE__ */ jsxs("div", { className: "text-sm text-gray-900 flex items-center", children: [
                              /* @__PURE__ */ jsx(MdAccessTime, { className: "text-gray-400 mr-1 text-xs" }),
                              formatDate$5(ticket.created_at)
                            ] }),
                            /* @__PURE__ */ jsxs("div", { className: "text-xs text-gray-500 mt-1", children: [
                              "Mis à jour: ",
                              formatDate$5(ticket.updated_at)
                            ] })
                          ] }) }),
                          /* @__PURE__ */ jsx("td", { className: "px-6 py-4 whitespace-nowrap text-right text-sm font-medium", children: /* @__PURE__ */ jsxs("div", { className: "flex space-x-2 justify-end", children: [
                            /* @__PURE__ */ jsx(
                              Link,
                              {
                                href: route("admin.tickets.show", ticket.id),
                                className: "inline-flex items-center justify-center text-blue-600 hover:text-blue-800 p-1 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-200",
                                title: "Voir le ticket",
                                children: /* @__PURE__ */ jsx("svg", { xmlns: "http://www.w3.org/2000/svg", className: "h-5 w-5", fill: "none", viewBox: "0 0 24 24", stroke: "currentColor", children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M15 12a3 3 0 11-6 0 3 3 0 016 0zm6 0c0 5-7 9-9 9s-9-4-9-9 7-9 9-9 9 4 9 9z" }) })
                              }
                            ),
                            /* @__PURE__ */ jsx(
                              "button",
                              {
                                onClick: () => {
                                  if (confirm(`Êtes-vous sûr de vouloir supprimer le ticket ${ticket.id}?`)) {
                                    router.delete(route("admin.tickets.destroy", ticket.id));
                                  }
                                },
                                children: /* @__PURE__ */ jsx(
                                  "svg",
                                  {
                                    xmlns: "http://www.w3.org/2000/svg",
                                    className: "h-5 w-5",
                                    fill: "none",
                                    viewBox: "0 0 24 24",
                                    stroke: "currentColor",
                                    children: /* @__PURE__ */ jsx(
                                      "path",
                                      {
                                        strokeLinecap: "round",
                                        strokeLinejoin: "round",
                                        strokeWidth: 2,
                                        d: "M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"
                                      }
                                    )
                                  }
                                )
                              }
                            )
                          ] }) })
                        ]
                      },
                      ticket.id
                    );
                  }) : /* @__PURE__ */ jsx("tr", { children: /* @__PURE__ */ jsx("td", { colSpan: 6, className: "px-6 py-10 text-center", children: /* @__PURE__ */ jsxs("div", { className: "flex flex-col items-center", children: [
                    /* @__PURE__ */ jsx("div", { className: "bg-gray-100 rounded-full p-3 mb-3", children: /* @__PURE__ */ jsx(MdSearch, { className: "text-gray-400 text-xl" }) }),
                    /* @__PURE__ */ jsx("p", { className: "text-gray-500 font-medium", children: "Aucun ticket trouvé" }),
                    /* @__PURE__ */ jsx("p", { className: "text-gray-400 text-sm mt-1", children: "Essayez de modifier vos filtres ou votre recherche" })
                  ] }) }) }) })
                ] }) }),
                /* @__PURE__ */ jsxs("div", { className: "flex space-x-2", children: [
                  tickets.links.prev && /* @__PURE__ */ jsx(Link, { href: tickets.links.prev, children: "Précédent" }),
                  tickets.links.next && /* @__PURE__ */ jsx(Link, { href: tickets.links.next, children: "Suivant" })
                ] }),
                /* @__PURE__ */ jsx("div", { className: "flex space-x-2 justify-center p-4", children: tickets.meta && Array.from({ length: tickets.meta.last_page }, (_, i2) => /* @__PURE__ */ jsx(
                  Link,
                  {
                    href: `?page=${i2 + 1}`,
                    className: `px-3 py-1 border rounded ${tickets.meta.current_page === i2 + 1 ? "bg-[#00377f] text-white" : "bg-white hover:bg-gray-100"}`,
                    children: i2 + 1
                  },
                  i2
                )) })
              ]
            }
          )
        ] }) })
      ]
    }
  );
}
const __vite_glob_0_7 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: TicketsIndex
}, Symbol.toStringTag, { value: "Module" }));
const formatDate$4 = (dateString) => {
  const options = {
    day: "2-digit",
    month: "2-digit",
    year: "numeric",
    hour: "2-digit",
    minute: "2-digit"
  };
  return new Date(dateString).toLocaleDateString("fr-FR", options);
};
const getStatusBadge$2 = (status) => {
  switch (status) {
    case "open":
      return {
        bg: "bg-gradient-to-r from-yellow-50 to-yellow-100",
        text: "text-yellow-800",
        borderColor: "border-yellow-200",
        icon: /* @__PURE__ */ jsx(MdOutlineWatchLater, { className: "w-4 h-4 mr-1" }),
        label: "Nouveau",
        shadow: "shadow-sm shadow-yellow-200"
      };
    case "in_progress":
      return {
        bg: "bg-gradient-to-r from-orange-50 to-orange-100",
        text: "text-orange-800",
        borderColor: "border-orange-200",
        icon: /* @__PURE__ */ jsx(MdErrorOutline, { className: "w-4 h-4 mr-1" }),
        label: "En attente",
        shadow: "shadow-sm shadow-orange-200"
      };
    case "closed":
      return {
        bg: "bg-gradient-to-r from-green-50 to-green-100",
        text: "text-green-800",
        borderColor: "border-green-200",
        icon: /* @__PURE__ */ jsx(MdCheckCircleOutline, { className: "w-4 h-4 mr-1" }),
        label: "Résolu",
        shadow: "shadow-sm shadow-green-200"
      };
    default:
      return {
        bg: "bg-gradient-to-r from-gray-50 to-gray-100",
        text: "text-gray-800",
        borderColor: "border-gray-200",
        icon: null,
        label: status,
        shadow: "shadow-sm"
      };
  }
};
const getPriorityBadge$1 = (priority) => {
  switch (priority) {
    case "high":
      return {
        bg: "bg-gradient-to-r from-red-50 to-red-100",
        text: "text-red-800",
        borderColor: "border-red-200",
        icon: /* @__PURE__ */ jsx(MdPriorityHigh, { className: "w-4 h-4 mr-1" }),
        label: "Élevée",
        shadow: "shadow-sm shadow-red-200"
      };
    case "medium":
      return {
        bg: "bg-gradient-to-r from-blue-50 to-blue-100",
        text: "text-blue-800",
        borderColor: "border-blue-200",
        icon: /* @__PURE__ */ jsx(MdPriorityHigh, { className: "w-4 h-4 mr-1" }),
        label: "Moyenne",
        shadow: "shadow-sm shadow-blue-200"
      };
    case "low":
      return {
        bg: "bg-gradient-to-r from-gray-50 to-gray-100",
        text: "text-gray-800",
        borderColor: "border-gray-200",
        icon: /* @__PURE__ */ jsx(MdPriorityHigh, { className: "w-4 h-4 mr-1" }),
        label: "Basse",
        shadow: "shadow-sm shadow-gray-200"
      };
    default:
      return {
        bg: "bg-gradient-to-r from-gray-50 to-gray-100",
        text: "text-gray-800",
        borderColor: "border-gray-200",
        icon: null,
        label: priority,
        shadow: "shadow-sm"
      };
  }
};
function Show$3({ ticket, statuses = {} }) {
  const { data, setData, post, put, processing, errors, reset } = useForm({
    reply: "",
    status: ticket.status
  });
  const handleStatusChange = (e2) => {
    const newStatus = e2.target.value;
    setData("status", newStatus);
    put(route("admin.tickets.update-status", ticket.id), {
      preserveScroll: true,
      onSuccess: () => {
        router.reload({ only: ["ticket"] });
      }
    });
  };
  const statusBadge = getStatusBadge$2(ticket.status);
  const priorityBadge = getPriorityBadge$1(ticket.priority);
  return /* @__PURE__ */ jsxs(
    AuthenticatedLayout,
    {
      header: /* @__PURE__ */ jsxs("div", { className: "flex items-center", children: [
        /* @__PURE__ */ jsx("div", { className: "bg-blue-100 p-2 rounded-lg mr-3", children: /* @__PURE__ */ jsx(
          "svg",
          {
            xmlns: "http://www.w3.org/2000/svg",
            fill: "none",
            viewBox: "0 0 24 24",
            strokeWidth: "1.5",
            stroke: "blue",
            className: "size-8",
            children: /* @__PURE__ */ jsx(
              "path",
              {
                strokeLinecap: "round",
                strokeLinejoin: "round",
                d: "M16.5 6v.75m0 3v.75m0 3v.75m0 3V18m-9-5.25h5.25M7.5 15h2M3.375 5.25c-.621 0-1.125.504-1.125 1.125v3.026a2.999 2.999 0 0 1 0 5.198v3.026c0 .621.504 1.125 1.125 1.125h17.25c.621 0 1.125-.504 1.125-1.125v-3.026a2.999 2.999 0 0 1 0-5.198V6.375c0-.621-.504-1.125-1.125-1.125h2.375Z"
              }
            )
          }
        ) }),
        /* @__PURE__ */ jsx("h1", { className: "text-xl font-semibold leading-tight text-gray-800", children: "Détails du Ticket" })
      ] }),
      children: [
        /* @__PURE__ */ jsxs(Head, { children: [
          /* @__PURE__ */ jsx("title", { children: ticket.title }),
          /* @__PURE__ */ jsx("meta", { name: "description", content: ticket.description })
        ] }),
        /* @__PURE__ */ jsx("div", { className: "py-6 bg-gray-50 min-h-screen", children: /* @__PURE__ */ jsxs("div", { className: "max-w-7xl mx-auto px-4 sm:px-6 lg:px-8", children: [
          /* @__PURE__ */ jsx(
            motion.div,
            {
              initial: { opacity: 0, y: -10 },
              animate: { opacity: 1, y: 0 },
              transition: { duration: 0.3 },
              className: "mb-6",
              children: /* @__PURE__ */ jsxs(
                Link,
                {
                  href: route("admin.tickets.index"),
                  className: "inline-flex items-center text-blue-600 hover:text-blue-800 transition-colors font-medium",
                  children: [
                    /* @__PURE__ */ jsx(MdArrowBack, { className: "mr-2" }),
                    "Retour à la liste des tickets"
                  ]
                }
              )
            }
          ),
          /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 lg:grid-cols-3 gap-8", children: [
            /* @__PURE__ */ jsxs(
              motion.div,
              {
                initial: { opacity: 0, y: 20 },
                animate: { opacity: 1, y: 0 },
                transition: { duration: 0.4 },
                className: "lg:col-span-2 space-y-8",
                children: [
                  /* @__PURE__ */ jsxs("div", { className: "bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden", children: [
                    /* @__PURE__ */ jsx("div", { className: "bg-gradient-to-r from-blue-50 to-white p-8", children: /* @__PURE__ */ jsxs("div", { className: "flex flex-col md:flex-row md:items-start md:justify-between gap-4", children: [
                      /* @__PURE__ */ jsxs("div", { children: [
                        /* @__PURE__ */ jsxs("div", { className: "flex items-center space-x-3 mb-3", children: [
                          /* @__PURE__ */ jsxs(
                            "span",
                            {
                              className: `px-3 py-1.5 rounded-full text-xs font-medium ${statusBadge.bg} ${statusBadge.text} border ${statusBadge.borderColor} ${statusBadge.shadow} flex items-center`,
                              children: [
                                statusBadge.icon,
                                statusBadge.label
                              ]
                            }
                          ),
                          /* @__PURE__ */ jsxs(
                            "span",
                            {
                              className: `px-3 py-1.5 rounded-full text-xs font-medium ${priorityBadge.bg} ${priorityBadge.text} border ${priorityBadge.borderColor} ${priorityBadge.shadow} flex items-center`,
                              children: [
                                priorityBadge.icon,
                                priorityBadge.label
                              ]
                            }
                          ),
                          /* @__PURE__ */ jsxs("span", { className: "px-3 py-1.5 rounded-full text-xs font-medium bg-gradient-to-r from-purple-50 to-purple-100 text-purple-800 border border-purple-200 shadow-sm shadow-purple-200 flex items-center", children: [
                            /* @__PURE__ */ jsx(MdLabel, { className: "w-4 h-4 mr-1" }),
                            ticket.category
                          ] })
                        ] }),
                        /* @__PURE__ */ jsx("h1", { className: "text-2xl font-bold text-gray-900 mb-2", children: ticket.title }),
                        /* @__PURE__ */ jsxs("div", { className: "text-sm text-gray-600 flex items-center", children: [
                          /* @__PURE__ */ jsx(MdAccessTime, { className: "mr-1" }),
                          "Créé le ",
                          formatDate$4(ticket.created_at)
                        ] })
                      ] }),
                      /* @__PURE__ */ jsx("div", { className: "flex-shrink-0", children: /* @__PURE__ */ jsxs(
                        "select",
                        {
                          id: "status",
                          name: "status",
                          value: data.status,
                          onChange: handleStatusChange,
                          className: "border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all text-sm bg-white shadow-sm",
                          children: [
                            /* @__PURE__ */ jsx("option", { value: "open", children: "Nouveau" }),
                            /* @__PURE__ */ jsx("option", { value: "in_progress", children: "En attente" }),
                            /* @__PURE__ */ jsx("option", { value: "closed", children: "Résolu" })
                          ]
                        }
                      ) })
                    ] }) }),
                    /* @__PURE__ */ jsx("div", { className: "p-8 border-t border-gray-100", children: /* @__PURE__ */ jsxs("div", { className: "prose max-w-none", children: [
                      /* @__PURE__ */ jsx("h2", { className: "text-lg font-semibold mb-3 text-gray-900", children: "Description" }),
                      /* @__PURE__ */ jsx("div", { className: "bg-gray-50 p-6 rounded-xl border border-gray-100 whitespace-pre-wrap text-gray-700 leading-relaxed", children: ticket.description })
                    ] }) })
                  ] }),
                  ticket.messages && ticket.messages.length > 0 && /* @__PURE__ */ jsx(
                    motion.div,
                    {
                      initial: { opacity: 0, y: 20 },
                      animate: { opacity: 1, y: 0 },
                      transition: { duration: 0.5, delay: 0.1 },
                      className: "bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",
                      children: /* @__PURE__ */ jsxs("div", { className: "p-8", children: [
                        /* @__PURE__ */ jsx("h2", { className: "text-lg font-semibold mb-6 text-gray-900", children: "Conversation" }),
                        /* @__PURE__ */ jsx("div", { className: "space-y-6", children: ticket.messages.map((message, index2) => /* @__PURE__ */ jsx(
                          motion.div,
                          {
                            initial: { opacity: 0, y: 10 },
                            animate: { opacity: 1, y: 0 },
                            transition: { duration: 0.3, delay: 0.05 * index2 },
                            className: `flex ${message.is_admin ? "justify-start" : "justify-end"}`,
                            children: /* @__PURE__ */ jsxs(
                              "div",
                              {
                                className: `max-w-[80%] rounded-2xl p-6 ${message.is_admin ? "bg-white border border-gray-200 shadow-sm" : "bg-blue-50 border border-blue-100"}`,
                                children: [
                                  /* @__PURE__ */ jsxs("div", { className: "flex items-center mb-3", children: [
                                    /* @__PURE__ */ jsx(
                                      "div",
                                      {
                                        className: `flex-shrink-0 h-10 w-10 rounded-full ${message.is_admin ? "bg-blue-100" : "bg-blue-200"} flex items-center justify-center mr-3`,
                                        children: /* @__PURE__ */ jsx(
                                          MdPerson,
                                          {
                                            className: `${message.is_admin ? "text-blue-600" : "text-blue-700"} text-lg`
                                          }
                                        )
                                      }
                                    ),
                                    /* @__PURE__ */ jsxs("div", { children: [
                                      /* @__PURE__ */ jsx("div", { className: "font-medium text-gray-900", children: message.user_name }),
                                      /* @__PURE__ */ jsx("div", { className: "text-xs text-gray-500", children: formatDate$4(message.created_at) })
                                    ] })
                                  ] }),
                                  /* @__PURE__ */ jsx("div", { className: "text-gray-700 whitespace-pre-wrap leading-relaxed", children: message.content }),
                                  message.attachments && message.attachments.length > 0 && /* @__PURE__ */ jsxs("div", { className: "mt-4 pt-4 border-t border-gray-200", children: [
                                    /* @__PURE__ */ jsx("div", { className: "text-sm font-medium mb-2 text-gray-700", children: "Pièces jointes:" }),
                                    /* @__PURE__ */ jsx("div", { className: "flex flex-wrap gap-2", children: message.attachments.map((attachment, index22) => /* @__PURE__ */ jsxs(
                                      "a",
                                      {
                                        href: attachment,
                                        target: "_blank",
                                        rel: "noopener noreferrer",
                                        className: "inline-flex items-center px-3 py-1.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800 hover:bg-gray-200 border border-gray-200 transition-colors",
                                        children: [
                                          /* @__PURE__ */ jsx(MdAttachFile, { className: "mr-1" }),
                                          "Fichier ",
                                          index22 + 1
                                        ]
                                      },
                                      index22
                                    )) })
                                  ] })
                                ]
                              }
                            )
                          },
                          message.id
                        )) })
                      ] })
                    }
                  )
                ]
              }
            ),
            /* @__PURE__ */ jsxs(
              motion.div,
              {
                initial: { opacity: 0, x: 20 },
                animate: { opacity: 1, x: 0 },
                transition: { duration: 0.4, delay: 0.1 },
                className: "lg:col-span-1 space-y-8",
                children: [
                  /* @__PURE__ */ jsxs("div", { className: "bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden", children: [
                    /* @__PURE__ */ jsx("div", { className: "bg-gradient-to-r from-blue-50 to-white p-6 border-b border-gray-100", children: /* @__PURE__ */ jsxs("h2", { className: "font-semibold text-gray-900 flex items-center", children: [
                      /* @__PURE__ */ jsx(
                        "svg",
                        {
                          xmlns: "http://www.w3.org/2000/svg",
                          className: "h-5 w-5 mr-2 text-blue-500",
                          fill: "none",
                          viewBox: "0 0 24 24",
                          stroke: "currentColor",
                          children: /* @__PURE__ */ jsx(
                            "path",
                            {
                              strokeLinecap: "round",
                              strokeLinejoin: "round",
                              strokeWidth: 2,
                              d: "M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                            }
                          )
                        }
                      ),
                      "Informations"
                    ] }) }),
                    /* @__PURE__ */ jsx("div", { className: "p-6", children: /* @__PURE__ */ jsxs("div", { className: "space-y-5", children: [
                      /* @__PURE__ */ jsxs("div", { className: "flex justify-between items-center pb-3 border-b border-gray-100", children: [
                        /* @__PURE__ */ jsx("div", { className: "text-sm text-gray-500", children: "ID du ticket" }),
                        /* @__PURE__ */ jsx("div", { className: "font-medium text-gray-900 bg-gray-100 px-3 py-1 rounded-full text-sm", children: ticket.id })
                      ] }),
                      /* @__PURE__ */ jsxs("div", { className: "flex justify-between items-center pb-3 border-b border-gray-100", children: [
                        /* @__PURE__ */ jsx("div", { className: "text-sm text-gray-500", children: "Soumis par" }),
                        /* @__PURE__ */ jsxs("div", { className: "font-medium text-gray-900 flex items-center", children: [
                          /* @__PURE__ */ jsx("div", { className: "h-6 w-6 rounded-full bg-blue-100 flex items-center justify-center mr-2", children: /* @__PURE__ */ jsx(MdPerson, { className: "text-blue-600 text-sm" }) }),
                          ticket.submitted_by || "Non spécifié"
                        ] })
                      ] }),
                      /* @__PURE__ */ jsxs("div", { className: "flex justify-between items-center pb-3 border-b border-gray-100", children: [
                        /* @__PURE__ */ jsx("div", { className: "text-sm text-gray-500", children: "Assigné à" }),
                        /* @__PURE__ */ jsx("div", { className: "font-medium text-gray-900", children: ticket.assigned_to ? /* @__PURE__ */ jsxs("div", { className: "flex items-center", children: [
                          /* @__PURE__ */ jsx("div", { className: "h-6 w-6 rounded-full bg-green-100 flex items-center justify-center mr-2", children: /* @__PURE__ */ jsx(MdPerson, { className: "text-green-600 text-sm" }) }),
                          ticket.assigned_to
                        ] }) : /* @__PURE__ */ jsx("span", { className: "text-gray-500 italic", children: "Non assigné" }) })
                      ] }),
                      /* @__PURE__ */ jsxs("div", { className: "flex justify-between items-center pb-3 border-b border-gray-100", children: [
                        /* @__PURE__ */ jsx("div", { className: "text-sm text-gray-500", children: "Créé le" }),
                        /* @__PURE__ */ jsx("div", { className: "font-medium text-gray-900", children: formatDate$4(ticket.created_at) })
                      ] }),
                      /* @__PURE__ */ jsxs("div", { className: "flex justify-between items-center", children: [
                        /* @__PURE__ */ jsx("div", { className: "text-sm text-gray-500", children: "Dernière mise à jour" }),
                        /* @__PURE__ */ jsx("div", { className: "font-medium text-gray-900", children: formatDate$4(ticket.updated_at) })
                      ] })
                    ] }) })
                  ] }),
                  /* @__PURE__ */ jsxs("div", { className: "bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden", children: [
                    /* @__PURE__ */ jsx("div", { className: "bg-gradient-to-r from-blue-50 to-white p-6 border-b border-gray-100", children: /* @__PURE__ */ jsxs("h2", { className: "font-semibold text-gray-900 flex items-center", children: [
                      /* @__PURE__ */ jsx(
                        "svg",
                        {
                          xmlns: "http://www.w3.org/2000/svg",
                          className: "h-5 w-5 mr-2 text-blue-500",
                          fill: "none",
                          viewBox: "0 0 24 24",
                          stroke: "currentColor",
                          children: /* @__PURE__ */ jsx(
                            "path",
                            {
                              strokeLinecap: "round",
                              strokeLinejoin: "round",
                              strokeWidth: 2,
                              d: "M12 6v6m0 0v6m0-6h6m-6 0H6"
                            }
                          )
                        }
                      ),
                      "Actions"
                    ] }) }),
                    /* @__PURE__ */ jsx("div", { className: "p-6", children: /* @__PURE__ */ jsx(motion.div, { whileHover: { scale: 1.02 }, whileTap: { scale: 0.98 }, className: "w-full", children: /* @__PURE__ */ jsxs(
                      Link,
                      {
                        href: route("admin.tickets.show", ticket.id),
                        className: "w-full bg-blue-600 hover:bg-blue-700 text-white px-4 py-3 rounded-xl flex items-center justify-center transition-all shadow-sm font-medium",
                        children: [
                          /* @__PURE__ */ jsx(MdEdit, { className: "mr-2 text-lg" }),
                          "Modifier le ticket"
                        ]
                      }
                    ) }) })
                  ] })
                ]
              }
            )
          ] })
        ] }) })
      ]
    }
  );
}
const __vite_glob_0_8 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: Show$3
}, Symbol.toStringTag, { value: "Module" }));
function Create$2({ categories = {}, users = [] }) {
  const { data, setData, post, processing, errors } = useForm({
    title: "",
    category: "",
    priority: "medium",
    description: "",
    user_id: ""
  });
  const [formSubmitted, setFormSubmitted] = useState(false);
  const handleSubmit = (e2) => {
    e2.preventDefault();
    setFormSubmitted(true);
    post(route("admin.tickets.store"), {});
  };
  return /* @__PURE__ */ jsxs(
    AuthenticatedLayout,
    {
      header: /* @__PURE__ */ jsxs("div", { className: "flex items-center", children: [
        /* @__PURE__ */ jsx("div", { className: "bg-[#00377f]/10 p-2 rounded-lg mr-3", children: /* @__PURE__ */ jsx(
          "svg",
          {
            xmlns: "http://www.w3.org/2000/svg",
            fill: "none",
            viewBox: "0 0 24 24",
            strokeWidth: "1.5",
            stroke: "blue",
            className: "size-8",
            children: /* @__PURE__ */ jsx(
              "path",
              {
                strokeLinecap: "round",
                strokeLinejoin: "round",
                d: "M16.5 6v.75m0 3v.75m0 3v.75m0 3V18m-9-5.25h5.25M7.5 15h3M3.375 5.25c-.621 0-1.125.504-1.125 1.125v3.026a2.999 2.999 0 0 1 0 5.198v3.026c0 .621.504 1.125 1.125 1.125h17.25c.621 0 1.125-.504 1.125-1.125v-3.026a2.999 2.999 0 0 1 0-5.198V6.375c0-.621-.504-1.125-1.125-1.125H3.375Z"
              }
            )
          }
        ) }),
        /* @__PURE__ */ jsx("h2", { className: "text-xl font-semibold leading-tight text-gray-800", children: "Créer un Ticket" })
      ] }),
      children: [
        /* @__PURE__ */ jsx(Head, {}),
        /* @__PURE__ */ jsx("div", { className: "py-3", children: /* @__PURE__ */ jsxs("div", { className: "max-w-3xl mx-auto px-4 sm:px-6 lg:px-8", children: [
          /* @__PURE__ */ jsx("div", { className: "mb-6", children: /* @__PURE__ */ jsxs(
            Link,
            {
              href: route("admin.tickets.index"),
              className: "inline-flex items-center text-[#00377f] hover:text-[#00377f]/80 transition-colors",
              children: [
                /* @__PURE__ */ jsx(MdArrowBack, { className: "mr-2" }),
                "Retour à la liste des tickets"
              ]
            }
          ) }),
          /* @__PURE__ */ jsxs("div", { className: "bg-white rounded-xl shadow-md overflow-hidden border border-gray-100 mb-8", children: [
            /* @__PURE__ */ jsxs("div", { className: "bg-gradient-to-r from-[#00377f]/5 to-transparent p-6 border-b border-gray-100", children: [
              /* @__PURE__ */ jsx("h2", { className: "text-xl font-bold text-gray-800", children: "Informations du Ticket" }),
              /* @__PURE__ */ jsx("p", { className: "text-gray-600 mt-1", children: "Veuillez remplir tous les champs obligatoires" })
            ] }),
            /* @__PURE__ */ jsxs("form", { onSubmit: handleSubmit, className: "p-6", children: [
              /* @__PURE__ */ jsxs("div", { className: "mb-6", children: [
                /* @__PURE__ */ jsxs("label", { htmlFor: "title", className: "block text-sm font-medium text-gray-700 mb-1", children: [
                  "Titre ",
                  /* @__PURE__ */ jsx("span", { className: "text-red-500", children: "*" })
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "relative", children: [
                  /* @__PURE__ */ jsx("div", { className: "absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none", children: /* @__PURE__ */ jsx(MdTitle, { className: "text-gray-400" }) }),
                  /* @__PURE__ */ jsx(
                    "input",
                    {
                      type: "text",
                      id: "title",
                      name: "title",
                      value: data.title,
                      onChange: (e2) => setData("title", e2.target.value),
                      className: `pl-10 pr-4 py-2 w-full border ${errors.title ? "border-red-500" : "border-gray-300"} rounded-lg focus:ring-2 focus:ring-[#00377f]/30 focus:border-[#00377f] transition-all`,
                      placeholder: "Ex: Problème de connexion à mon compte"
                    }
                  )
                ] }),
                errors.title && /* @__PURE__ */ jsx("p", { className: "mt-1 text-sm text-red-600", children: errors.title })
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "mb-6", children: [
                /* @__PURE__ */ jsxs("label", { htmlFor: "category", className: "block text-sm font-medium text-gray-700 mb-1", children: [
                  "Catégorie ",
                  /* @__PURE__ */ jsx("span", { className: "text-red-500", children: "*" })
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "relative", children: [
                  /* @__PURE__ */ jsx("div", { className: "absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none", children: /* @__PURE__ */ jsx(MdCategory, { className: "text-gray-400" }) }),
                  /* @__PURE__ */ jsxs(
                    "select",
                    {
                      id: "category",
                      name: "category",
                      value: data.category,
                      onChange: (e2) => setData("category", e2.target.value),
                      className: `pl-10 pr-4 py-2 w-full border ${errors.category ? "border-red-500" : "border-gray-300"} rounded-lg focus:ring-2 focus:ring-[#00377f]/30 focus:border-[#00377f] transition-all`,
                      children: [
                        /* @__PURE__ */ jsx("option", { value: "", children: "Sélectionnez une catégorie" }),
                        Object.entries(categories).map(([value, label]) => /* @__PURE__ */ jsx("option", { value, children: label }, value))
                      ]
                    }
                  )
                ] }),
                errors.category && /* @__PURE__ */ jsx("p", { className: "mt-1 text-sm text-red-600", children: errors.category })
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "mb-6", children: [
                /* @__PURE__ */ jsxs("label", { htmlFor: "user_id", className: "block text-sm font-medium text-gray-700 mb-1", children: [
                  "Utilisateur ",
                  /* @__PURE__ */ jsx("span", { className: "text-red-500", children: "*" })
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "relative", children: [
                  /* @__PURE__ */ jsx("div", { className: "absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none", children: /* @__PURE__ */ jsx(MdPerson, { className: "text-gray-400" }) }),
                  /* @__PURE__ */ jsxs(
                    "select",
                    {
                      id: "user_id",
                      name: "user_id",
                      value: data.user_id,
                      onChange: (e2) => setData("user_id", e2.target.value),
                      className: `pl-10 pr-4 py-2 w-full border ${errors.user_id ? "border-red-500" : "border-gray-300"} rounded-lg focus:ring-2 focus:ring-[#00377f]/30 focus:border-[#00377f] transition-all`,
                      children: [
                        /* @__PURE__ */ jsx("option", { value: "", children: "Sélectionnez un utilisateur" }),
                        users.map((user) => /* @__PURE__ */ jsx("option", { value: user.id, children: user.name }, user.id))
                      ]
                    }
                  )
                ] }),
                errors.user_id && /* @__PURE__ */ jsx("p", { className: "mt-1 text-sm text-red-600", children: errors.user_id })
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "mb-6", children: [
                /* @__PURE__ */ jsxs("label", { htmlFor: "priority", className: "block text-sm font-medium text-gray-700 mb-1", children: [
                  "Priorité ",
                  /* @__PURE__ */ jsx("span", { className: "text-red-500", children: "*" })
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "relative", children: [
                  /* @__PURE__ */ jsx("div", { className: "absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none", children: /* @__PURE__ */ jsx(MdPriorityHigh, { className: "text-gray-400" }) }),
                  /* @__PURE__ */ jsxs(
                    "select",
                    {
                      id: "priority",
                      name: "priority",
                      value: data.priority,
                      onChange: (e2) => setData("priority", e2.target.value),
                      className: `pl-10 pr-4 py-2 w-full border ${errors.priority ? "border-red-500" : "border-gray-300"} rounded-lg focus:ring-2 focus:ring-[#00377f]/30 focus:border-[#00377f] transition-all`,
                      children: [
                        /* @__PURE__ */ jsx("option", { value: "low", children: "Basse" }),
                        /* @__PURE__ */ jsx("option", { value: "medium", children: "Moyenne" }),
                        /* @__PURE__ */ jsx("option", { value: "high", children: "Haute" })
                      ]
                    }
                  )
                ] }),
                errors.priority && /* @__PURE__ */ jsx("p", { className: "mt-1 text-sm text-red-600", children: errors.priority })
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "mb-6", children: [
                /* @__PURE__ */ jsxs("label", { htmlFor: "description", className: "block text-sm font-medium text-gray-700 mb-1", children: [
                  "Description ",
                  /* @__PURE__ */ jsx("span", { className: "text-red-500", children: "*" })
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "relative", children: [
                  /* @__PURE__ */ jsx("div", { className: "absolute top-3 left-3 flex items-start pointer-events-none", children: /* @__PURE__ */ jsx(MdDescription, { className: "text-gray-400" }) }),
                  /* @__PURE__ */ jsx(
                    "textarea",
                    {
                      id: "description",
                      name: "description",
                      value: data.description,
                      onChange: (e2) => setData("description", e2.target.value),
                      rows: 6,
                      className: `pl-10 pr-4 py-2 w-full border ${errors.description ? "border-red-500" : "border-gray-300"} rounded-lg focus:ring-2 focus:ring-[#00377f]/30 focus:border-[#00377f] transition-all`,
                      placeholder: "Décrivez votre problème en détail..."
                    }
                  )
                ] }),
                errors.description && /* @__PURE__ */ jsx("p", { className: "mt-1 text-sm text-red-600", children: errors.description })
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "flex justify-end space-x-4", children: [
                /* @__PURE__ */ jsx(
                  Link,
                  {
                    href: route("admin.tickets.index"),
                    className: "px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",
                    children: "Annuler"
                  }
                ),
                /* @__PURE__ */ jsx(
                  "button",
                  {
                    type: "submit",
                    disabled: processing,
                    className: "bg-[#00377f] hover:bg-[#00377f]/90 text-white px-4 py-2 rounded-md flex items-center transition-all disabled:opacity-70",
                    children: processing ? /* @__PURE__ */ jsxs(Fragment, { children: [
                      /* @__PURE__ */ jsxs(
                        "svg",
                        {
                          className: "animate-spin -ml-1 mr-3 h-5 w-5 text-white",
                          xmlns: "http://www.w3.org/2000/svg",
                          fill: "none",
                          viewBox: "0 0 24 24",
                          children: [
                            /* @__PURE__ */ jsx(
                              "circle",
                              {
                                className: "opacity-25",
                                cx: "12",
                                cy: "12",
                                r: "10",
                                stroke: "currentColor",
                                strokeWidth: "4"
                              }
                            ),
                            /* @__PURE__ */ jsx(
                              "path",
                              {
                                className: "opacity-75",
                                fill: "currentColor",
                                d: "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
                              }
                            )
                          ]
                        }
                      ),
                      "Traitement..."
                    ] }) : /* @__PURE__ */ jsxs(Fragment, { children: [
                      /* @__PURE__ */ jsx(MdSend, { className: "mr-2" }),
                      "Soumettre"
                    ] })
                  }
                )
              ] })
            ] })
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "bg-white rounded-xl shadow-md overflow-hidden border border-gray-100 mb-8", children: [
            /* @__PURE__ */ jsxs("div", { className: "bg-gradient-to-r from-[#00377f]/5 to-transparent p-6 border-b border-gray-100", children: [
              /* @__PURE__ */ jsx("h2", { className: "text-xl font-bold text-gray-800", children: "Conseils pour un ticket efficace" }),
              /* @__PURE__ */ jsx("p", { className: "text-gray-600 mt-1", children: "Comment obtenir une réponse rapide et précise" })
            ] }),
            /* @__PURE__ */ jsx("div", { className: "p-6", children: /* @__PURE__ */ jsxs("ul", { className: "space-y-3", children: [
              /* @__PURE__ */ jsxs("li", { className: "flex items-start", children: [
                /* @__PURE__ */ jsx("span", { className: "bg-[#00377f]/10 p-1 rounded text-[#00377f] mr-3", children: "1." }),
                /* @__PURE__ */ jsx("p", { className: "text-gray-700", children: "Soyez précis dans le titre de votre ticket" })
              ] }),
              /* @__PURE__ */ jsxs("li", { className: "flex items-start", children: [
                /* @__PURE__ */ jsx("span", { className: "bg-[#00377f]/10 p-1 rounded text-[#00377f] mr-3", children: "2." }),
                /* @__PURE__ */ jsx("p", { className: "text-gray-700", children: "Incluez toutes les informations pertinentes dans la description" })
              ] }),
              /* @__PURE__ */ jsxs("li", { className: "flex items-start", children: [
                /* @__PURE__ */ jsx("span", { className: "bg-[#00377f]/10 p-1 rounded text-[#00377f] mr-3", children: "3." }),
                /* @__PURE__ */ jsx("p", { className: "text-gray-700", children: "Mentionnez les étapes que vous avez déjà essayées" })
              ] }),
              /* @__PURE__ */ jsxs("li", { className: "flex items-start", children: [
                /* @__PURE__ */ jsx("span", { className: "bg-[#00377f]/10 p-1 rounded text-[#00377f] mr-3", children: "4." }),
                /* @__PURE__ */ jsx("p", { className: "text-gray-700", children: "Choisissez la bonne catégorie pour votre problème" })
              ] })
            ] }) })
          ] })
        ] }) })
      ]
    }
  );
}
const __vite_glob_0_9 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: Create$2
}, Symbol.toStringTag, { value: "Module" }));
function EditTicketStatus({ ticket, statuses = {} }) {
  const { data, setData, post, processing, errors } = useForm({
    status: ticket.status || "open"
  });
  const [isSubmitting, setIsSubmitting] = useState(false);
  const [showSuccessMessage, setShowSuccessMessage] = useState(false);
  const handleSubmit = (e2) => {
    e2.preventDefault();
    setIsSubmitting(true);
    post(route("admin.tickets.update-status", ticket.id), {
      onSuccess: () => {
        setIsSubmitting(false);
        setShowSuccessMessage(true);
        setTimeout(() => setShowSuccessMessage(false), 3e3);
      },
      onError: () => {
        setIsSubmitting(false);
      }
    });
  };
  const handleCancel = () => {
    window.history.back();
  };
  return /* @__PURE__ */ jsx(
    AuthenticatedLayout,
    {
      header: /* @__PURE__ */ jsxs("div", { className: "flex items-center", children: [
        /* @__PURE__ */ jsx("div", { className: "bg-blue-100 p-2 rounded-lg mr-3", children: /* @__PURE__ */ jsx(
          "svg",
          {
            xmlns: "http://www.w3.org/2000/svg",
            fill: "none",
            viewBox: "0 0 24 24",
            strokeWidth: "1.5",
            stroke: "blue",
            className: "size-8",
            children: /* @__PURE__ */ jsx(
              "path",
              {
                strokeLinecap: "round",
                strokeLinejoin: "round",
                d: "M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"
              }
            )
          }
        ) }),
        /* @__PURE__ */ jsx("h2", { className: "text-xl font-semibold leading-tight text-gray-800", children: "Modifier le Statut du Ticket" })
      ] }),
      children: /* @__PURE__ */ jsx("div", { className: "py-6 bg-gray-50 min-h-screen", children: /* @__PURE__ */ jsxs("div", { className: "max-w-7xl mx-auto px-4 sm:px-6 lg:px-8", children: [
        /* @__PURE__ */ jsx(
          motion.div,
          {
            initial: { opacity: 0, y: -10 },
            animate: { opacity: 1, y: 0 },
            transition: { duration: 0.3 },
            className: "mb-6",
            children: /* @__PURE__ */ jsxs(
              Link,
              {
                href: route("admin.tickets.show", ticket.id),
                className: "inline-flex items-center text-blue-600 hover:text-blue-800 transition-colors font-medium",
                children: [
                  /* @__PURE__ */ jsx(MdArrowBack, { className: "mr-2" }),
                  "Retour aux détails du ticket"
                ]
              }
            )
          }
        ),
        showSuccessMessage && /* @__PURE__ */ jsxs(
          motion.div,
          {
            initial: { opacity: 0, y: -20 },
            animate: { opacity: 1, y: 0 },
            exit: { opacity: 0, y: -20 },
            className: "mb-6 bg-green-100 border border-green-200 text-green-800 rounded-xl p-4 flex items-center shadow-sm",
            children: [
              /* @__PURE__ */ jsx(MdCheckCircle, { className: "text-green-600 text-xl mr-2" }),
              /* @__PURE__ */ jsx("span", { children: "Le statut du ticket a été mis à jour avec succès!" })
            ]
          }
        ),
        /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 lg:grid-cols-3 gap-8", children: [
          /* @__PURE__ */ jsx(
            motion.div,
            {
              initial: { opacity: 0, y: 20 },
              animate: { opacity: 1, y: 0 },
              transition: { duration: 0.4 },
              className: "lg:col-span-2",
              children: /* @__PURE__ */ jsxs("div", { className: "bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden", children: [
                /* @__PURE__ */ jsxs("div", { className: "bg-gradient-to-r from-blue-50 to-white p-8 border-b border-gray-100", children: [
                  /* @__PURE__ */ jsxs("h1", { className: "text-2xl font-bold text-gray-900", children: [
                    "Modifier le Statut du Ticket #",
                    ticket.id
                  ] }),
                  /* @__PURE__ */ jsx("p", { className: "text-gray-600 mt-2", children: "Utilisez ce formulaire pour mettre à jour le statut du ticket." })
                ] }),
                /* @__PURE__ */ jsxs("form", { onSubmit: handleSubmit, className: "p-8", children: [
                  /* @__PURE__ */ jsxs("div", { className: "space-y-6", children: [
                    /* @__PURE__ */ jsxs("div", { children: [
                      /* @__PURE__ */ jsx("label", { className: "block text-sm font-medium text-gray-700 mb-1", children: "Titre" }),
                      /* @__PURE__ */ jsx("div", { className: "w-full border border-gray-200 rounded-xl p-3 bg-gray-50 text-gray-700", children: ticket.title })
                    ] }),
                    /* @__PURE__ */ jsxs("div", { children: [
                      /* @__PURE__ */ jsx("label", { className: "block text-sm font-medium text-gray-700 mb-1", children: "Description" }),
                      /* @__PURE__ */ jsx("div", { className: "w-full border border-gray-200 rounded-xl p-3 bg-gray-50 text-gray-700", children: ticket.description })
                    ] }),
                    /* @__PURE__ */ jsxs("div", { children: [
                      /* @__PURE__ */ jsx("label", { htmlFor: "status", className: "block text-sm font-medium text-gray-700 mb-1", children: "Statut" }),
                      /* @__PURE__ */ jsx(
                        "select",
                        {
                          id: "status",
                          name: "status",
                          value: data.status,
                          onChange: (e2) => setData("status", e2.target.value),
                          className: "w-full border border-gray-300 rounded-xl p-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all shadow-sm bg-white",
                          children: Object.entries(statuses).map(([value, label]) => /* @__PURE__ */ jsx("option", { value, children: label }, value))
                        }
                      ),
                      errors.status && /* @__PURE__ */ jsx("p", { className: "mt-1 text-sm text-red-600", children: errors.status })
                    ] })
                  ] }),
                  /* @__PURE__ */ jsxs("div", { className: "mt-8 pt-6 border-t border-gray-200 flex justify-end space-x-3", children: [
                    /* @__PURE__ */ jsxs(
                      motion.button,
                      {
                        whileHover: { scale: 1.02 },
                        whileTap: { scale: 0.98 },
                        type: "button",
                        onClick: handleCancel,
                        className: "px-5 py-2.5 rounded-xl border border-gray-300 bg-white text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 font-medium flex items-center",
                        children: [
                          /* @__PURE__ */ jsx(MdCancel, { className: "mr-2" }),
                          "Annuler"
                        ]
                      }
                    ),
                    /* @__PURE__ */ jsx(
                      motion.button,
                      {
                        whileHover: { scale: 1.02 },
                        whileTap: { scale: 0.98 },
                        type: "submit",
                        disabled: processing || isSubmitting,
                        className: "px-5 py-2.5 rounded-xl bg-blue-600 text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 font-medium flex items-center disabled:opacity-70",
                        children: isSubmitting ? /* @__PURE__ */ jsxs(Fragment, { children: [
                          /* @__PURE__ */ jsxs(
                            "svg",
                            {
                              className: "animate-spin -ml-1 mr-2 h-5 w-5 text-white",
                              xmlns: "http://www.w3.org/2000/svg",
                              fill: "none",
                              viewBox: "0 0 24 24",
                              children: [
                                /* @__PURE__ */ jsx(
                                  "circle",
                                  {
                                    className: "opacity-25",
                                    cx: "12",
                                    cy: "12",
                                    r: "10",
                                    stroke: "currentColor",
                                    strokeWidth: "4"
                                  }
                                ),
                                /* @__PURE__ */ jsx(
                                  "path",
                                  {
                                    className: "opacity-75",
                                    fill: "currentColor",
                                    d: "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
                                  }
                                )
                              ]
                            }
                          ),
                          "Enregistrement..."
                        ] }) : /* @__PURE__ */ jsxs(Fragment, { children: [
                          /* @__PURE__ */ jsx(MdSave, { className: "mr-2" }),
                          "Enregistrer les modifications"
                        ] })
                      }
                    )
                  ] })
                ] })
              ] })
            }
          ),
          /* @__PURE__ */ jsxs(
            motion.div,
            {
              initial: { opacity: 0, x: 20 },
              animate: { opacity: 1, x: 0 },
              transition: { duration: 0.4, delay: 0.1 },
              className: "lg:col-span-1 space-y-8",
              children: [
                /* @__PURE__ */ jsxs("div", { className: "bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden", children: [
                  /* @__PURE__ */ jsx("div", { className: "bg-gradient-to-r from-blue-50 to-white p-6 border-b border-gray-100", children: /* @__PURE__ */ jsxs("h3", { className: "font-semibold text-gray-900 flex items-center", children: [
                    /* @__PURE__ */ jsx(
                      "svg",
                      {
                        xmlns: "http://www.w3.org/2000/svg",
                        className: "h-5 w-5 mr-2 text-blue-500",
                        fill: "none",
                        viewBox: "0 0 24 24",
                        stroke: "currentColor",
                        children: /* @__PURE__ */ jsx(
                          "path",
                          {
                            strokeLinecap: "round",
                            strokeLinejoin: "round",
                            strokeWidth: 2,
                            d: "M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                          }
                        )
                      }
                    ),
                    "Informations"
                  ] }) }),
                  /* @__PURE__ */ jsx("div", { className: "p-6", children: /* @__PURE__ */ jsxs("div", { className: "space-y-4", children: [
                    /* @__PURE__ */ jsxs("div", { className: "flex justify-between items-center pb-3 border-b border-gray-100", children: [
                      /* @__PURE__ */ jsx("div", { className: "text-sm text-gray-500", children: "ID du ticket" }),
                      /* @__PURE__ */ jsx("div", { className: "font-medium text-gray-900 bg-gray-100 px-3 py-1 rounded-full text-sm", children: ticket.id })
                    ] }),
                    /* @__PURE__ */ jsxs("div", { className: "flex justify-between items-center pb-3 border-b border-gray-100", children: [
                      /* @__PURE__ */ jsx("div", { className: "text-sm text-gray-500", children: "Soumis par" }),
                      /* @__PURE__ */ jsx("div", { className: "font-medium text-gray-900", children: ticket.submitted_by || "Non spécifié" })
                    ] }),
                    /* @__PURE__ */ jsxs("div", { className: "flex justify-between items-center pb-3 border-b border-gray-100", children: [
                      /* @__PURE__ */ jsx("div", { className: "text-sm text-gray-500", children: "Priorité" }),
                      /* @__PURE__ */ jsx("div", { className: "font-medium text-gray-900", children: ticket.priority })
                    ] }),
                    /* @__PURE__ */ jsxs("div", { className: "flex justify-between items-center pb-3 border-b border-gray-100", children: [
                      /* @__PURE__ */ jsx("div", { className: "text-sm text-gray-500", children: "Catégorie" }),
                      /* @__PURE__ */ jsx("div", { className: "font-medium text-gray-900", children: ticket.category || "Non spécifié" })
                    ] })
                  ] }) })
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden", children: [
                  /* @__PURE__ */ jsx("div", { className: "bg-gradient-to-r from-blue-50 to-white p-6 border-b border-gray-100", children: /* @__PURE__ */ jsxs("h3", { className: "font-semibold text-gray-900 flex items-center", children: [
                    /* @__PURE__ */ jsx(
                      "svg",
                      {
                        xmlns: "http://www.w3.org/2000/svg",
                        className: "h-5 w-5 mr-2 text-blue-500",
                        fill: "none",
                        viewBox: "0 0 24 24",
                        stroke: "currentColor",
                        children: /* @__PURE__ */ jsx(
                          "path",
                          {
                            strokeLinecap: "round",
                            strokeLinejoin: "round",
                            strokeWidth: 2,
                            d: "M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                          }
                        )
                      }
                    ),
                    "Aide"
                  ] }) }),
                  /* @__PURE__ */ jsx("div", { className: "p-6", children: /* @__PURE__ */ jsxs("div", { className: "text-gray-700 text-sm space-y-4", children: [
                    /* @__PURE__ */ jsxs("p", { children: [
                      /* @__PURE__ */ jsx("span", { className: "font-medium", children: "Statut:" }),
                      " Indique l'état actuel du ticket."
                    ] }),
                    /* @__PURE__ */ jsxs("ul", { className: "list-disc pl-5 mt-2 space-y-1 text-gray-600", children: [
                      /* @__PURE__ */ jsxs("li", { children: [
                        /* @__PURE__ */ jsx("span", { className: "font-medium", children: "Ouvert:" }),
                        " Le ticket est en attente de traitement."
                      ] }),
                      /* @__PURE__ */ jsxs("li", { children: [
                        /* @__PURE__ */ jsx("span", { className: "font-medium", children: "En cours:" }),
                        " Le ticket est en cours de traitement."
                      ] }),
                      /* @__PURE__ */ jsxs("li", { children: [
                        /* @__PURE__ */ jsx("span", { className: "font-medium", children: "Fermé:" }),
                        " Le ticket a été résolu et fermé."
                      ] })
                    ] })
                  ] }) })
                ] })
              ]
            }
          )
        ] })
      ] }) })
    }
  );
}
const __vite_glob_0_10 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: EditTicketStatus
}, Symbol.toStringTag, { value: "Module" }));
function UserAnnonces({ annonces }) {
  return /* @__PURE__ */ jsx(AuthenticatedLayout, { children: /* @__PURE__ */ jsx("div", { className: "py-12", children: /* @__PURE__ */ jsxs("div", { className: "max-w-7xl mx-auto sm:px-6 lg:px-8", children: [
    /* @__PURE__ */ jsx("div", { className: "mb-8", children: /* @__PURE__ */ jsx(Link, { href: route("annonce.create"), className: "inline-flex items-center rounded-md border border-transparent bg-gray-800 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition duration-150 ease-in-out hover:bg-gray-700 focus:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 active:bg-gray-900 dark:bg-gray-200 dark:text-gray-800 dark:hover:bg-white dark:focus:bg-white dark:focus:ring-offset-gray-800 dark:active:bg-gray-300", children: "Create new Annonce" }) }),
    /* @__PURE__ */ jsx("div", { className: "bg-white overflow-hidden shadow-sm sm:rounded-lg", children: /* @__PURE__ */ jsxs("div", { className: "p-6 bg-white border-b border-gray-200", children: [
      /* @__PURE__ */ jsx("h1", { className: "text-2xl font-semibold mb-6", children: "My Annonces" }),
      annonces.data.length > 0 ? annonces.data.map((annonce) => /* @__PURE__ */ jsxs("div", { className: "mb-6", children: [
        /* @__PURE__ */ jsx("h2", { className: "text-xl font-bold", children: annonce.title }),
        /* @__PURE__ */ jsx("p", { className: "text-gray-600", children: annonce.content }),
        /* @__PURE__ */ jsxs("p", { className: "text-sm text-gray-500", children: [
          "Category: ",
          annonce.category
        ] }),
        /* @__PURE__ */ jsxs("p", { className: "text-sm text-gray-500", children: [
          "Status: ",
          annonce.status
        ] }),
        /* @__PURE__ */ jsx("a", { href: `/annonce/${annonce.id}`, className: "text-blue-500 hover:underline", children: "View Details" })
      ] }, annonce.id)) : /* @__PURE__ */ jsx("p", { children: "No annonces found." })
    ] }) })
  ] }) }) });
}
const __vite_glob_0_11 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: UserAnnonces
}, Symbol.toStringTag, { value: "Module" }));
function TableauDeBord() {
  new QueryClient();
  const {
    totalUsers,
    totalAppelsOffres,
    totalBudget,
    latestAppelsOffres,
    topEntreprises,
    pendingAppelsOffres,
    appAppelsOffres
  } = usePage().props;
  const safeTotalUsers = totalUsers || { number: 0, percentage: 0 };
  const safeTotalAppelsOffres = totalAppelsOffres || { number: 0, percentage: 0 };
  const safeTotalBudget = totalBudget || { number: 0, percentage: 0 };
  const safeAppAppelsOffres = appAppelsOffres || { number: 0, percentage: 0 };
  const safePendingAppelsOffres = pendingAppelsOffres || [];
  const [searchTerm, setSearchTerm] = useState("");
  const [statusFilter, setStatusFilter] = useState("");
  const [isRefreshing, setIsRefreshing] = useState(false);
  const [statuses, setStatuses] = useState(
    safePendingAppelsOffres.reduce((acc, item) => ({ ...acc, [item.id]: item.status }), {})
  );
  const [animatingId, setAnimatingId] = useState(null);
  const [selectedAppelOffre, setSelectedAppelOffre] = useState(null);
  const [isModalOpen, setIsModalOpen] = useState(false);
  const [isProcessingModal, setIsProcessingModal] = useState(false);
  Array.from(new Set(safePendingAppelsOffres.map((item) => item.type)));
  const filteredData = safePendingAppelsOffres.filter((item) => {
    const matchesSearch = item.id.toString().includes(searchTerm) || item.titre.toLowerCase().includes(searchTerm.toLowerCase()) || item.ICE.toLowerCase().includes(searchTerm.toLowerCase()) || item.ville.toLowerCase().includes(searchTerm.toLowerCase()) || item.object.toLowerCase().includes(searchTerm.toLowerCase());
    const matchesStatus = !statusFilter || statuses[item.id] === statusFilter;
    return matchesSearch && matchesStatus;
  });
  const formatDate2 = (dateString) => {
    return new Date(dateString).toLocaleDateString("fr-FR", {
      year: "numeric",
      month: "short",
      day: "numeric",
      hour: "2-digit",
      minute: "2-digit"
    });
  };
  const openAppelOffreModal = (item) => {
    setSelectedAppelOffre(item);
    setIsModalOpen(true);
  };
  const closeModal = () => {
    setIsModalOpen(false);
    setSelectedAppelOffre(null);
  };
  const currentHour = (/* @__PURE__ */ new Date()).getHours();
  let greeting = "Bonjour";
  if (currentHour < 12) greeting = "Bonjour";
  else if (currentHour < 18) greeting = "Bon après-midi";
  else greeting = "Bonsoir";
  const containerVariants = {
    hidden: { opacity: 0 },
    visible: {
      opacity: 1,
      transition: {
        staggerChildren: 0.1
      }
    }
  };
  const itemVariants = {
    hidden: { y: 20, opacity: 0 },
    visible: {
      y: 0,
      opacity: 1,
      transition: {
        type: "spring",
        stiffness: 100,
        damping: 12
      }
    }
  };
  const handleStatusChange = (id, newStatus) => {
    setAnimatingId(id);
    setStatuses((prevStatuses) => ({
      ...prevStatuses,
      [id]: newStatus
    }));
    router.put(
      `/admin/appel-offres/${id}/update-status`,
      { status: newStatus },
      {
        preserveScroll: true,
        onSuccess: () => {
          setTimeout(() => setAnimatingId(null), 1e3);
        },
        onError: (errors) => {
          console.error("Failed to update status:", errors);
          setStatuses((prevStatuses) => ({
            ...prevStatuses,
            [id]: prevStatuses[id]
          }));
          setAnimatingId(null);
        }
      }
    );
  };
  const handleStatusChangeFromModal = (id, newStatus) => {
    setIsProcessingModal(true);
    handleStatusChange(id, newStatus);
    setTimeout(() => {
      setIsModalOpen(false);
      setIsProcessingModal(false);
    }, 1e3);
  };
  const handleRefresh = () => {
    setIsRefreshing(true);
    setTimeout(() => {
      setIsRefreshing(false);
    }, 1e3);
  };
  const getStatusBadge2 = (status) => {
    const styles = {
      PENDING: "bg-amber-50 text-amber-700 border-amber-200",
      APPROVED: "bg-green-50 text-green-700 border-green-200",
      REJECTED: "bg-red-50 text-red-700 border-red-200"
    };
    const icons = {
      PENDING: /* @__PURE__ */ jsx("div", { className: "w-2 h-2 rounded-full bg-amber-500 mr-1.5" }),
      APPROVED: /* @__PURE__ */ jsx(CheckIcon, { className: "w-4 h-4 mr-1.5" }),
      REJECTED: /* @__PURE__ */ jsx(XMarkIcon, { className: "w-4 h-4 mr-1.5" })
    };
    const statusLabels = {
      PENDING: "En attente",
      APPROVED: "Approuvé",
      REJECTED: "Rejeté"
    };
    return /* @__PURE__ */ jsxs(
      "span",
      {
        className: `inline-flex items-center px-3 py-1 text-sm font-medium rounded-full border ${styles[status]}`,
        children: [
          icons[status],
          statusLabels[status] ?? status
        ]
      }
    );
  };
  const getTypeBadge = (type) => {
    const colors = {
      TRAVAUX: "bg-blue-50 text-blue-700 border-blue-200",
      FOURNITURES: "bg-purple-50 text-purple-700 border-purple-200",
      SERVICES: "bg-orange-50 text-orange-700 border-orange-200",
      AUTRE: "bg-gray-50 text-gray-700 border-gray-200"
    };
    return colors[type] || "bg-purple-100 text-purple-800";
  };
  safePendingAppelsOffres.reduce(
    (acc, item) => {
      const status = statuses[item.id];
      acc[status] = (acc[status] || 0) + 1;
      return acc;
    },
    {}
  );
  const ActionButtons = ({ item }) => /* @__PURE__ */ jsxs("div", { className: "flex justify-end space-x-1 min-w-0", children: [
    /* @__PURE__ */ jsx(
      "button",
      {
        onClick: () => openAppelOffreModal(item),
        className: "p-1.5 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded transition-colors flex-shrink-0",
        title: "Voir les détails",
        children: /* @__PURE__ */ jsx(EyeIcon, { className: "h-4 w-4" })
      }
    ),
    statuses[item.id] === "PENDING" && /* @__PURE__ */ jsx(
      "button",
      {
        onClick: () => handleStatusChange(item.id, "APPROVED"),
        className: "p-1.5 text-green-600 hover:text-green-700 hover:bg-green-50 rounded transition-colors flex-shrink-0",
        title: "Approuver",
        children: /* @__PURE__ */ jsx(CheckCircleIcon, { className: "h-4 w-4" })
      }
    ),
    statuses[item.id] === "PENDING" && /* @__PURE__ */ jsx(
      "button",
      {
        onClick: () => handleStatusChange(item.id, "REJECTED"),
        className: "p-1.5 text-red-600 hover:text-red-700 hover:bg-red-50 rounded transition-colors flex-shrink-0",
        title: "Rejeter",
        children: /* @__PURE__ */ jsx(XCircleIcon, { className: "h-4 w-4" })
      }
    )
  ] });
  return /* @__PURE__ */ jsx(
    AuthenticatedLayout,
    {
      header: /* @__PURE__ */ jsxs("div", { className: "flex items-center", children: [
        /* @__PURE__ */ jsx("div", { className: "bg-blue-100 p-2.5 rounded-xl mr-4", children: /* @__PURE__ */ jsx(MdDashboard, { className: "text-blue-600 text-2xl" }) }),
        /* @__PURE__ */ jsx("h2", { className: "text-xl font-bold text-blue-600", children: "Tableau de Bord" })
      ] }),
      children: /* @__PURE__ */ jsxs("div", { className: "w-full p-4 sm:p-6", children: [
        /* @__PURE__ */ jsx(
          motion.div,
          {
            className: "mb-8",
            initial: { opacity: 0, y: -20 },
            animate: { opacity: 1, y: 0 },
            transition: { duration: 0.5 },
            children: /* @__PURE__ */ jsxs("div", { className: "flex items-center bg-white p-6 rounded-2xl shadow-sm border border-gray-200", children: [
              /* @__PURE__ */ jsx("div", { className: "bg-blue-100 p-4 rounded-xl mr-5", children: /* @__PURE__ */ jsx(MdOutlineWavingHand, { className: "text-blue-600 text-2xl" }) }),
              /* @__PURE__ */ jsxs("div", { children: [
                /* @__PURE__ */ jsx("h1", { className: "text-2xl font-bold text-gray-800", children: greeting }),
                /* @__PURE__ */ jsx("p", { className: "text-gray-500 mt-1", children: "Voici un aperçu de vos appels d'offres aujourd'hui" })
              ] })
            ] })
          }
        ),
        /* @__PURE__ */ jsxs(
          motion.div,
          {
            className: "grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",
            variants: containerVariants,
            initial: "hidden",
            animate: "visible",
            children: [
              /* @__PURE__ */ jsxs(
                motion.div,
                {
                  variants: itemVariants,
                  whileHover: { y: -5, boxShadow: "0 10px 25px -5px rgba(0, 0, 0, 0.1)" },
                  className: "bg-white rounded-2xl shadow-sm border border-gray-200 p-6 transition-all duration-300",
                  children: [
                    /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between mb-4", children: [
                      /* @__PURE__ */ jsx("div", { className: "bg-blue-100 p-4 rounded-xl", children: /* @__PURE__ */ jsx(MdGroup, { className: "text-blue-600 text-xl" }) }),
                      /* @__PURE__ */ jsxs(
                        "span",
                        {
                          className: `text-xs font-medium px-3 py-1.5 rounded-full flex items-center ${safeTotalUsers.percentage >= 0 ? "bg-green-50 text-green-700" : "bg-red-50 text-red-700"}`,
                          children: [
                            safeTotalUsers.percentage >= 0 ? /* @__PURE__ */ jsx(MdArrowUpward, { className: "mr-1" }) : /* @__PURE__ */ jsx(MdArrowDownward, { className: "mr-1" }),
                            Math.abs(safeTotalUsers.percentage),
                            "%"
                          ]
                        }
                      )
                    ] }),
                    /* @__PURE__ */ jsx("h3", { className: "text-sm font-medium text-gray-500 mb-1", children: "Utilisateurs" }),
                    /* @__PURE__ */ jsx("p", { className: "text-3xl font-bold text-blue-600", children: safeTotalUsers.number })
                  ]
                }
              ),
              /* @__PURE__ */ jsxs(
                motion.div,
                {
                  variants: itemVariants,
                  whileHover: { y: -5, boxShadow: "0 10px 25px -5px rgba(0, 0, 0, 0.1)" },
                  className: "bg-white rounded-2xl shadow-sm border border-gray-200 p-6 transition-all duration-300",
                  children: [
                    /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between mb-4", children: [
                      /* @__PURE__ */ jsx("div", { className: "bg-blue-100 p-4 rounded-xl", children: /* @__PURE__ */ jsx(MdInventory2, { className: "text-blue-600 text-xl" }) }),
                      /* @__PURE__ */ jsxs(
                        "span",
                        {
                          className: `text-xs font-medium px-3 py-1.5 rounded-full flex items-center ${safeTotalAppelsOffres.percentage >= 0 ? "bg-green-50 text-green-700" : "bg-red-50 text-red-700"}`,
                          children: [
                            safeTotalAppelsOffres.percentage >= 0 ? /* @__PURE__ */ jsx(MdArrowUpward, { className: "mr-1" }) : /* @__PURE__ */ jsx(MdArrowDownward, { className: "mr-1" }),
                            Math.abs(safeTotalAppelsOffres.percentage),
                            "%"
                          ]
                        }
                      )
                    ] }),
                    /* @__PURE__ */ jsx("h3", { className: "text-sm font-medium text-gray-500 mb-1", children: "Appels d'Offres" }),
                    /* @__PURE__ */ jsx("p", { className: "text-3xl font-bold text-blue-600", children: safeTotalAppelsOffres.number })
                  ]
                }
              ),
              /* @__PURE__ */ jsxs(
                motion.div,
                {
                  variants: itemVariants,
                  whileHover: { y: -5, boxShadow: "0 10px 25px -5px rgba(0, 0, 0, 0.1)" },
                  className: "bg-white rounded-2xl shadow-sm border border-gray-200 p-6 transition-all duration-300",
                  children: [
                    /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between mb-4", children: [
                      /* @__PURE__ */ jsx("div", { className: "bg-green-100 p-4 rounded-xl", children: /* @__PURE__ */ jsx(MdOutlineAutoGraph, { className: "text-green-600 text-xl" }) }),
                      /* @__PURE__ */ jsxs(
                        "span",
                        {
                          className: `text-xs font-medium px-3 py-1.5 rounded-full flex items-center ${safeAppAppelsOffres.percentage >= 0 ? "bg-green-50 text-green-700" : "bg-red-50 text-red-700"}`,
                          children: [
                            safeAppAppelsOffres.percentage >= 0 ? /* @__PURE__ */ jsx(MdArrowUpward, { className: "mr-1" }) : /* @__PURE__ */ jsx(MdArrowDownward, { className: "mr-1" }),
                            Math.abs(safeAppAppelsOffres.percentage),
                            "%"
                          ]
                        }
                      )
                    ] }),
                    /* @__PURE__ */ jsx("h3", { className: "text-sm font-medium text-gray-500 mb-1", children: "Appels d'Offres Approuvés" }),
                    /* @__PURE__ */ jsx("p", { className: "text-3xl font-bold text-green-600", children: safeAppAppelsOffres.number })
                  ]
                }
              ),
              /* @__PURE__ */ jsxs(
                motion.div,
                {
                  variants: itemVariants,
                  whileHover: { y: -5, boxShadow: "0 10px 25px -5px rgba(0, 0, 0, 0.1)" },
                  className: "bg-white rounded-2xl shadow-sm border border-gray-200 p-6 transition-all duration-300",
                  children: [
                    /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between mb-4", children: [
                      /* @__PURE__ */ jsx("div", { className: "bg-purple-100 p-4 rounded-xl", children: /* @__PURE__ */ jsx(MdSwapHorizontalCircle, { className: "text-purple-600 text-xl" }) }),
                      /* @__PURE__ */ jsxs(
                        "span",
                        {
                          className: `text-xs font-medium px-3 py-1.5 rounded-full flex items-center ${safeTotalBudget.percentage >= 0 ? "bg-green-50 text-green-700" : "bg-red-50 text-red-700"}`,
                          children: [
                            safeTotalBudget.percentage >= 0 ? /* @__PURE__ */ jsx(MdArrowUpward, { className: "mr-1" }) : /* @__PURE__ */ jsx(MdArrowDownward, { className: "mr-1" }),
                            Math.abs(safeTotalBudget.percentage),
                            "%"
                          ]
                        }
                      )
                    ] }),
                    /* @__PURE__ */ jsx("h3", { className: "text-sm font-medium text-gray-500 mb-1", children: "Budget Total" }),
                    /* @__PURE__ */ jsxs("p", { className: "text-3xl font-bold text-purple-600", children: [
                      safeTotalBudget.number,
                      " DH"
                    ] })
                  ]
                }
              )
            ]
          }
        ),
        /* @__PURE__ */ jsxs("div", { className: "space-y-6", children: [
          /* @__PURE__ */ jsxs("div", { className: "bg-white rounded-xl shadow-sm border border-gray-200 p-6", children: [
            /* @__PURE__ */ jsxs("div", { className: "flex flex-col sm:flex-row gap-4", children: [
              /* @__PURE__ */ jsxs("div", { className: "relative flex-1", children: [
                /* @__PURE__ */ jsx(MagnifyingGlassIcon, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400" }),
                /* @__PURE__ */ jsx(
                  "input",
                  {
                    type: "text",
                    placeholder: "Rechercher par titre, ICE, ville, objet...",
                    value: searchTerm,
                    onChange: (e2) => setSearchTerm(e2.target.value),
                    className: "w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                  }
                )
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "relative", children: [
                /* @__PURE__ */ jsx(FunnelIcon, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400" }),
                /* @__PURE__ */ jsxs(
                  "select",
                  {
                    value: statusFilter,
                    onChange: (e2) => setStatusFilter(e2.target.value),
                    className: "pl-10 pr-8 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none bg-white min-w-[200px]",
                    children: [
                      /* @__PURE__ */ jsx("option", { value: "", children: "Tous les statuts" }),
                      /* @__PURE__ */ jsx("option", { value: "PENDING", children: "En Attente" }),
                      /* @__PURE__ */ jsx("option", { value: "APPROVED", children: "Approuvé" }),
                      /* @__PURE__ */ jsx("option", { value: "REJECTED", children: "Rejeté" })
                    ]
                  }
                )
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "flex gap-2", children: [
                /* @__PURE__ */ jsx(
                  "button",
                  {
                    onClick: handleRefresh,
                    className: `p-3 rounded-lg bg-gray-100 text-gray-600 transition-all duration-300 ${isRefreshing ? "animate-spin" : ""}`,
                    children: /* @__PURE__ */ jsx(MdRefresh, { className: "text-xl" })
                  }
                ),
                /* @__PURE__ */ jsx(
                  Link,
                  {
                    href: route("admin.appel-offres.create"),
                    className: "bg-blue-600 hover:bg-blue-700 text-white px-4 py-3 rounded-lg flex items-center justify-center transition-all whitespace-nowrap",
                    children: "Publier un appel"
                  }
                ),
                /* @__PURE__ */ jsx(
                  Link,
                  {
                    href: route("admin.appel-offres.all"),
                    className: "border border-blue-600 text-blue-600 hover:bg-blue-50 px-4 py-3 rounded-lg flex items-center justify-center transition-all whitespace-nowrap",
                    children: "Tous les appels"
                  }
                )
              ] })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "mt-4 text-sm text-gray-600", children: [
              filteredData.length,
              " appel",
              filteredData.length !== 1 ? "s" : "",
              " d'offre trouvé",
              filteredData.length !== 1 ? "s" : ""
            ] })
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden", children: [
            /* @__PURE__ */ jsx("div", { className: "hidden lg:block", children: /* @__PURE__ */ jsxs("table", { className: "w-full table-fixed", children: [
              /* @__PURE__ */ jsx("thead", { className: "bg-gray-50 border-b border-gray-200", children: /* @__PURE__ */ jsxs("tr", { children: [
                /* @__PURE__ */ jsx("th", { className: "w-40 px-3 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "ID" }),
                /* @__PURE__ */ jsx("th", { className: "w-48 px-3 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Titre" }),
                /* @__PURE__ */ jsx("th", { className: "w-28 px-3 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Paiement" }),
                /* @__PURE__ */ jsx("th", { className: "w-24 px-3 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Ville" }),
                /* @__PURE__ */ jsx("th", { className: "w-28 px-3 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Date" }),
                /* @__PURE__ */ jsx("th", { className: "w-24 px-3 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Statut" }),
                /* @__PURE__ */ jsx("th", { className: "w-32 px-3 py-4 text-right text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Actions" })
              ] }) }),
              /* @__PURE__ */ jsx("tbody", { className: "bg-white divide-y divide-gray-200", children: filteredData.length > 0 ? filteredData.map((item) => {
                const isAnimating = animatingId === item.id;
                return /* @__PURE__ */ jsxs(
                  "tr",
                  {
                    className: `hover:bg-gray-50 transition-colors ${isAnimating ? "bg-blue-50" : ""}`,
                    children: [
                      /* @__PURE__ */ jsx("td", { className: "w-20 px-3 py-4", children: /* @__PURE__ */ jsx("div", { className: "font-medium text-blue-600 text-sm", children: item.payment_reference }) }),
                      /* @__PURE__ */ jsx("td", { className: "w-48 px-3 py-4", children: /* @__PURE__ */ jsx("div", { className: "min-w-0", children: /* @__PURE__ */ jsx("div", { className: "font-medium text-gray-900 truncate text-sm", title: item.titre, children: item.titre }) }) }),
                      /* @__PURE__ */ jsx("td", { className: "w-28 px-3 py-4", children: /* @__PURE__ */ jsx(
                        "span",
                        {
                          className: `inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${getTypeBadge(
                            item.payment_method
                          )}`,
                          children: item.payment_method
                        }
                      ) }),
                      /* @__PURE__ */ jsx("td", { className: "w-24 px-3 py-4", children: /* @__PURE__ */ jsx("div", { className: "text-sm text-gray-900 truncate", title: item.ville, children: item.ville }) }),
                      /* @__PURE__ */ jsx("td", { className: "w-28 px-3 py-4", children: /* @__PURE__ */ jsx("div", { className: "text-xs text-gray-500", children: formatDate2(item.created_at) }) }),
                      /* @__PURE__ */ jsx("td", { className: "w-24 px-3 py-4", children: getStatusBadge2(statuses[item.id]) }),
                      /* @__PURE__ */ jsx("td", { className: "w-32 px-3 py-4 text-right", children: /* @__PURE__ */ jsx(ActionButtons, { item }) })
                    ]
                  },
                  item.id
                );
              }) : /* @__PURE__ */ jsx("tr", { children: /* @__PURE__ */ jsx("td", { colSpan: 8, className: "px-6 py-20 text-center", children: /* @__PURE__ */ jsx("div", { className: "text-gray-500", children: /* @__PURE__ */ jsxs("div", { className: "flex flex-col items-center", children: [
                /* @__PURE__ */ jsx("div", { className: "bg-gray-100 p-6 rounded-full mb-4", children: /* @__PURE__ */ jsx(MdOutlineInbox, { className: "h-16 w-16 text-gray-400" }) }),
                /* @__PURE__ */ jsx("div", { className: "text-lg font-medium mb-2", children: "Aucun appel d'offre trouvé" }),
                /* @__PURE__ */ jsx("div", { className: "text-sm", children: "Essayez de modifier vos critères de recherche ou de filtrage." })
              ] }) }) }) }) })
            ] }) }),
            /* @__PURE__ */ jsx("div", { className: "lg:hidden", children: filteredData.length > 0 ? /* @__PURE__ */ jsx("div", { className: "divide-y divide-gray-200", children: filteredData.map((item) => /* @__PURE__ */ jsxs("div", { className: "p-6 hover:bg-gray-50 transition-colors", children: [
              /* @__PURE__ */ jsxs("div", { className: "flex items-start justify-between mb-4", children: [
                /* @__PURE__ */ jsxs("div", { className: "flex-1", children: [
                  /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2 mb-2", children: [
                    /* @__PURE__ */ jsxs("span", { className: "bg-blue-100 text-blue-800 font-medium px-2.5 py-1 rounded-lg text-sm", children: [
                      "#",
                      item.id
                    ] }),
                    getStatusBadge2(statuses[item.id])
                  ] }),
                  /* @__PURE__ */ jsx("h3", { className: "font-medium text-gray-900 text-lg leading-tight mb-1", children: item.titre }),
                  /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 font-mono", children: item.ICE })
                ] }),
                /* @__PURE__ */ jsx(ActionButtons, { item })
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 gap-4", children: [
                /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-2 gap-4", children: [
                  /* @__PURE__ */ jsxs("div", { children: [
                    /* @__PURE__ */ jsx("div", { className: "text-xs font-medium text-gray-500 uppercase tracking-wider mb-1", children: "Type" }),
                    /* @__PURE__ */ jsx(
                      "span",
                      {
                        className: `inline-flex items-center px-3 py-1 rounded-full text-sm font-medium border ${getTypeBadge(
                          item.type
                        )}`,
                        children: item.type
                      }
                    )
                  ] }),
                  /* @__PURE__ */ jsxs("div", { children: [
                    /* @__PURE__ */ jsx("div", { className: "text-xs font-medium text-gray-500 uppercase tracking-wider mb-1", children: "Ville" }),
                    /* @__PURE__ */ jsx("div", { className: "text-sm text-gray-900", children: item.ville })
                  ] })
                ] }),
                /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsx("div", { className: "text-xs font-medium text-gray-500 uppercase tracking-wider mb-1", children: "Objet" }),
                  /* @__PURE__ */ jsx("div", { className: "text-sm text-gray-700 line-clamp-2", children: item.object })
                ] }),
                /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsx("div", { className: "text-xs font-medium text-gray-500 uppercase tracking-wider mb-1", children: "Date" }),
                  /* @__PURE__ */ jsx("div", { className: "text-sm text-gray-500", children: formatDate2(item.created_at) })
                ] })
              ] })
            ] }, item.id)) }) : /* @__PURE__ */ jsx("div", { className: "px-6 py-20 text-center", children: /* @__PURE__ */ jsx("div", { className: "text-gray-500", children: /* @__PURE__ */ jsxs("div", { className: "flex flex-col items-center", children: [
              /* @__PURE__ */ jsx("div", { className: "bg-gray-100 p-6 rounded-full mb-4", children: /* @__PURE__ */ jsx(MdOutlineInbox, { className: "h-16 w-16 text-gray-400" }) }),
              /* @__PURE__ */ jsx("div", { className: "text-lg font-medium mb-2", children: "Aucun appel d'offre trouvé" }),
              /* @__PURE__ */ jsx("div", { className: "text-sm", children: "Essayez de modifier vos critères de recherche ou de filtrage." })
            ] }) }) }) })
          ] })
        ] }),
        /* @__PURE__ */ jsx(Transition, { appear: true, show: isModalOpen, as: Fragment$1, children: /* @__PURE__ */ jsxs(Dialog, { as: "div", className: "relative z-50", onClose: closeModal, children: [
          /* @__PURE__ */ jsx(
            Transition.Child,
            {
              as: Fragment$1,
              enter: "ease-out duration-300",
              enterFrom: "opacity-0",
              enterTo: "opacity-100",
              leave: "ease-in duration-200",
              leaveFrom: "opacity-100",
              leaveTo: "opacity-0",
              children: /* @__PURE__ */ jsx("div", { className: "fixed inset-0 bg-black/25" })
            }
          ),
          /* @__PURE__ */ jsx("div", { className: "fixed inset-0 overflow-y-auto", children: /* @__PURE__ */ jsx("div", { className: "flex min-h-full items-center justify-center p-4 text-center", children: /* @__PURE__ */ jsx(
            Transition.Child,
            {
              as: Fragment$1,
              enter: "ease-out duration-300",
              enterFrom: "opacity-0 scale-95",
              enterTo: "opacity-100 scale-100",
              leave: "ease-in duration-200",
              leaveFrom: "opacity-100 scale-100",
              leaveTo: "opacity-0 scale-95",
              children: /* @__PURE__ */ jsx(Dialog.Panel, { className: "w-full max-w-4xl transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all", children: selectedAppelOffre && /* @__PURE__ */ jsxs(Fragment, { children: [
                /* @__PURE__ */ jsxs("div", { className: "flex justify-between items-start mb-6", children: [
                  /* @__PURE__ */ jsxs(Dialog.Title, { as: "h3", className: "text-lg font-bold text-gray-900", children: [
                    "Détails de l'appel d'offre #",
                    selectedAppelOffre.id
                  ] }),
                  /* @__PURE__ */ jsx(
                    "button",
                    {
                      onClick: closeModal,
                      className: "p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",
                      children: /* @__PURE__ */ jsx(XMarkIcon$1, { className: "h-5 w-5" })
                    }
                  )
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "space-y-6", children: [
                  /* @__PURE__ */ jsx("div", { className: "flex flex-wrap gap-4", children: getStatusBadge2(statuses[selectedAppelOffre.id]) }),
                  selectedAppelOffre.user && /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-3", children: [
                    /* @__PURE__ */ jsxs("div", { className: "text-sm text-gray-700 font-medium", children: [
                      selectedAppelOffre.user.name,
                      " (",
                      selectedAppelOffre.user.email,
                      ")"
                    ] }),
                    selectedAppelOffre.user_is_favorite && /* @__PURE__ */ jsx(
                      "span",
                      {
                        title: "Utilisateur favori",
                        className: "inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800 border border-yellow-300 shadow-sm",
                        children: "⭐ Favori"
                      }
                    )
                  ] }),
                  /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-6", children: [
                    /* @__PURE__ */ jsxs("div", { children: [
                      /* @__PURE__ */ jsx("h4", { className: "text-sm font-medium text-gray-500 mb-1", children: "Titre" }),
                      /* @__PURE__ */ jsx("p", { className: "text-lg font-semibold text-gray-900", children: selectedAppelOffre.titre })
                    ] }),
                    /* @__PURE__ */ jsxs("div", { children: [
                      /* @__PURE__ */ jsx("h4", { className: "text-sm font-medium text-gray-500 mb-1", children: "ICE" }),
                      /* @__PURE__ */ jsx("p", { className: "text-gray-900 font-mono", children: selectedAppelOffre.ICE })
                    ] }),
                    /* @__PURE__ */ jsxs("div", { children: [
                      /* @__PURE__ */ jsx("h4", { className: "text-sm font-medium text-gray-500 mb-1", children: "Type" }),
                      /* @__PURE__ */ jsx(
                        "span",
                        {
                          className: `inline-flex items-center px-3 py-1 rounded-full text-sm font-medium border ${getTypeBadge(
                            selectedAppelOffre.type
                          )}`,
                          children: selectedAppelOffre.type
                        }
                      )
                    ] }),
                    /* @__PURE__ */ jsxs("div", { children: [
                      /* @__PURE__ */ jsx("h4", { className: "text-sm font-medium text-gray-500 mb-1", children: "Ville" }),
                      /* @__PURE__ */ jsx("p", { className: "text-gray-900", children: selectedAppelOffre.ville })
                    ] }),
                    /* @__PURE__ */ jsxs("div", { children: [
                      /* @__PURE__ */ jsx("h4", { className: "text-sm font-medium text-gray-500 mb-1", children: "Secteur" }),
                      /* @__PURE__ */ jsx("p", { className: "text-gray-900", children: selectedAppelOffre.secteur })
                    ] }),
                    /* @__PURE__ */ jsxs("div", { children: [
                      /* @__PURE__ */ jsx("h4", { className: "text-sm font-medium text-gray-500 mb-1", children: "Date de création" }),
                      /* @__PURE__ */ jsx("p", { className: "text-gray-900", children: formatDate2(selectedAppelOffre.created_at) })
                    ] })
                  ] }),
                  selectedAppelOffre.object && /* @__PURE__ */ jsxs("div", { children: [
                    /* @__PURE__ */ jsx("h4", { className: "text-sm font-medium text-gray-500 mb-2", children: "Objet" }),
                    /* @__PURE__ */ jsx("div", { className: "bg-gray-50 p-4 rounded-lg", children: /* @__PURE__ */ jsx("p", { className: "text-gray-700 whitespace-pre-line", children: selectedAppelOffre.object }) })
                  ] })
                ] }),
                /* @__PURE__ */ jsx("div", { className: "mt-8 border-t pt-6", children: /* @__PURE__ */ jsxs("div", { className: "flex flex-col sm:flex-row justify-end gap-3", children: [
                  statuses[selectedAppelOffre.id] === "PENDING" && /* @__PURE__ */ jsxs(Fragment, { children: [
                    /* @__PURE__ */ jsxs(
                      "button",
                      {
                        onClick: () => {
                          handleStatusChangeFromModal(selectedAppelOffre.id, "REJECTED");
                        },
                        className: "inline-flex justify-center items-center rounded-md bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors",
                        disabled: isProcessingModal,
                        children: [
                          /* @__PURE__ */ jsx(XCircleIcon, { className: "w-5 h-5 mr-2" }),
                          "Rejeter"
                        ]
                      }
                    ),
                    /* @__PURE__ */ jsxs(
                      "button",
                      {
                        onClick: () => {
                          handleStatusChangeFromModal(selectedAppelOffre.id, "APPROVED");
                        },
                        className: "inline-flex justify-center items-center rounded-md bg-green-600 px-4 py-2 text-sm font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition-colors",
                        disabled: isProcessingModal,
                        children: [
                          /* @__PURE__ */ jsx(CheckCircleIcon, { className: "w-5 h-5 mr-2" }),
                          "Approuver"
                        ]
                      }
                    )
                  ] }),
                  /* @__PURE__ */ jsx(
                    "button",
                    {
                      onClick: closeModal,
                      className: "inline-flex justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors",
                      disabled: isProcessingModal,
                      children: "Fermer"
                    }
                  )
                ] }) })
              ] }) })
            }
          ) }) })
        ] }) })
      ] })
    }
  );
}
const __vite_glob_0_12 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: TableauDeBord
}, Symbol.toStringTag, { value: "Module" }));
function AppelsOffresIndex({
  pendingAppelsOffres = [],
  appAppelsOffres,
  totalAppelsOffres,
  totalUsers,
  totalBudget,
  auth
}) {
  var _a2, _b, _c, _d;
  const [searchTerm, setSearchTerm] = useState("");
  const [statusFilter, setStatusFilter] = useState("");
  const [currentPage, setCurrentPage] = useState(1);
  const [itemsPerPage, setItemsPerPage] = useState(10);
  const [sortField, setSortField] = useState("id");
  const [sortDirection, setSortDirection] = useState("desc");
  const [selectedItems, setSelectedItems] = useState([]);
  const [isConfirmDeleteOpen, setIsConfirmDeleteOpen] = useState(false);
  const [itemToDelete, setItemToDelete] = useState(null);
  const [isRefreshing, setIsRefreshing] = useState(false);
  Array.from(new Set(pendingAppelsOffres.map((item) => item.type)));
  const truncateText = (text, limit) => {
    if (!text) return "";
    return text.length > limit ? text.substring(0, limit) + "..." : text;
  };
  const handleDelete = (id) => {
    setItemToDelete(id);
    setIsConfirmDeleteOpen(true);
  };
  const confirmDelete = () => {
    if (itemToDelete) {
      Inertia$1.delete(`/admin/appel-offres/${itemToDelete}`);
      setIsConfirmDeleteOpen(false);
      setItemToDelete(null);
    }
  };
  const cancelDelete = () => {
    setIsConfirmDeleteOpen(false);
    setItemToDelete(null);
  };
  const handleSort = (field) => {
    if (sortField === field) {
      setSortDirection(sortDirection === "asc" ? "desc" : "asc");
    } else {
      setSortField(field);
      setSortDirection("asc");
    }
  };
  const handleSelectAll = (e2) => {
    if (e2.target.checked) {
      setSelectedItems(filteredData.map((item) => item.id));
    } else {
      setSelectedItems([]);
    }
  };
  const handleSelectOne = (id) => {
    if (selectedItems.includes(id)) {
      setSelectedItems(selectedItems.filter((item) => item !== id));
    } else {
      setSelectedItems([...selectedItems, id]);
    }
  };
  const handleRefresh = () => {
    setIsRefreshing(true);
    setTimeout(() => {
      setIsRefreshing(false);
    }, 1e3);
  };
  const [selectedAppel, setSelectedAppel] = useState(null);
  const [isDetailModalOpen, setIsDetailModalOpen] = useState(false);
  const filteredData = pendingAppelsOffres.filter((item) => {
    var _a3, _b2, _c2, _d2;
    const matchesSearch = item.id.toString().includes(searchTerm) || item.titre.toLowerCase().includes(searchTerm.toLowerCase()) || item.objet.toLowerCase().includes(searchTerm.toLowerCase()) || item.ICE.toLowerCase().includes(searchTerm.toLowerCase()) || item.ville.toLowerCase().includes(searchTerm.toLowerCase()) || (((_b2 = (_a3 = item.user) == null ? void 0 : _a3.name) == null ? void 0 : _b2.toLowerCase().includes(searchTerm.toLowerCase())) ?? false) || (((_d2 = (_c2 = item.user) == null ? void 0 : _c2.email) == null ? void 0 : _d2.toLowerCase().includes(searchTerm.toLowerCase())) ?? false);
    const matchesStatus = !statusFilter || item.status === statusFilter;
    return matchesSearch && matchesStatus;
  }).sort((a, b) => {
    const fieldA = a[sortField];
    const fieldB = b[sortField];
    if (typeof fieldA === "string" && typeof fieldB === "string") {
      return sortDirection === "asc" ? fieldA.localeCompare(fieldB) : fieldB.localeCompare(fieldA);
    }
    if (typeof fieldA === "number" && typeof fieldB === "number") {
      return sortDirection === "asc" ? fieldA - fieldB : fieldB - fieldA;
    }
    if (sortField === "created_at") {
      const dateA = new Date(a.created_at).getTime();
      const dateB = new Date(b.created_at).getTime();
      return sortDirection === "asc" ? dateA - dateB : dateB - dateA;
    }
    return 0;
  });
  const totalPages = Math.ceil(filteredData.length / itemsPerPage);
  const startIndex = (currentPage - 1) * itemsPerPage;
  const paginatedData = filteredData.slice(startIndex, startIndex + itemsPerPage);
  const formatDate2 = (dateString) => {
    return new Date(dateString).toLocaleDateString("fr-FR", {
      year: "numeric",
      month: "short",
      day: "numeric",
      hour: "2-digit",
      minute: "2-digit"
    });
  };
  const getStatusBadge2 = (status) => {
    const styles = {
      PENDING: "bg-amber-50 text-amber-700 border-amber-200",
      APPROVED: "bg-green-50 text-green-700 border-green-200",
      REJECTED: "bg-red-50 text-red-700 border-red-200"
    };
    const icons = {
      PENDING: /* @__PURE__ */ jsx("div", { className: "w-2 h-2 rounded-full bg-amber-500 mr-1.5" }),
      APPROVED: /* @__PURE__ */ jsx(CheckIcon, { className: "w-4 h-4 mr-1.5" }),
      REJECTED: /* @__PURE__ */ jsx(XMarkIcon, { className: "w-4 h-4 mr-1.5" })
    };
    const statusLabels = {
      PENDING: "En attente",
      APPROVED: "Approuvé",
      REJECTED: "Rejeté"
    };
    return /* @__PURE__ */ jsxs(
      "span",
      {
        className: `inline-flex items-center px-3 py-1 text-sm font-medium rounded-full border ${styles[status]}`,
        children: [
          icons[status],
          statusLabels[status] ?? status
        ]
      }
    );
  };
  const getTypeBadge = (type) => {
    const colors = {
      TRAVAUX: "bg-blue-50 text-blue-700 border-blue-200",
      FOURNITURES: "bg-purple-50 text-purple-700 border-purple-200",
      SERVICES: "bg-orange-50 text-orange-700 border-orange-200",
      AUTRE: "bg-gray-50 text-gray-700 border-gray-200"
    };
    return colors[type] || "bg-purple-100 text-purple-800";
  };
  const statusCounts = {
    APPROVED: pendingAppelsOffres.filter((item) => item.status === "APPROVED").length,
    PENDING: pendingAppelsOffres.filter((item) => item.status === "PENDING").length,
    REJECTED: pendingAppelsOffres.filter((item) => item.status === "REJECTED").length
  };
  const ActionButtons = ({ item }) => /* @__PURE__ */ jsxs("div", { className: "flex justify-end space-x-1 min-w-0", children: [
    /* @__PURE__ */ jsx(
      "button",
      {
        onClick: () => {
          setSelectedAppel(item);
          setIsDetailModalOpen(true);
        },
        className: "p-1.5 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded transition-colors flex-shrink-0",
        title: "Voir les détails",
        children: /* @__PURE__ */ jsx(EyeIcon, { className: "h-4 w-4" })
      }
    ),
    /* @__PURE__ */ jsx(
      "button",
      {
        onClick: () => Inertia$1.visit(route("admin.appel-offres.edit", item.id)),
        className: "p-1.5 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded transition-colors flex-shrink-0",
        title: "Modifier",
        children: /* @__PURE__ */ jsx(PencilSquareIcon, { className: "h-4 w-4" })
      }
    ),
    /* @__PURE__ */ jsx(
      "button",
      {
        onClick: () => handleDelete(item.id),
        className: "p-1.5 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded transition-colors flex-shrink-0",
        title: "Supprimer",
        children: /* @__PURE__ */ jsx(TrashIcon, { className: "h-4 w-4" })
      }
    )
  ] });
  return /* @__PURE__ */ jsxs(
    AuthenticatedLayout,
    {
      header: /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between w-full", children: [
        /* @__PURE__ */ jsxs("div", { className: "flex items-center", children: [
          /* @__PURE__ */ jsx("div", { className: "bg-blue-100 p-2.5 rounded-xl mr-4", children: /* @__PURE__ */ jsx(MdOutlineBusinessCenter, { className: "text-blue-600 text-2xl" }) }),
          /* @__PURE__ */ jsx("h2", { className: "text-xl font-bold text-blue-600", children: "Appels d'Offres" })
        ] }),
        /* @__PURE__ */ jsx("div", { className: "flex space-x-3", children: /* @__PURE__ */ jsxs(
          Link,
          {
            href: route("admin.appel-offres.create"),
            className: "bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg text-sm font-medium transition-colors duration-200 flex items-center shadow-sm",
            children: [
              /* @__PURE__ */ jsx(PlusIcon, { className: "mr-2 h-4 w-4" }),
              "Publier un appel"
            ]
          }
        ) })
      ] }),
      children: [
        /* @__PURE__ */ jsxs("div", { className: "w-full p-4 sm:p-6", children: [
          /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 md:grid-cols-4 gap-6 mb-8", children: [
            /* @__PURE__ */ jsxs(
              motion.div,
              {
                whileHover: { y: -5, boxShadow: "0 10px 25px -5px rgba(0, 0, 0, 0.1)" },
                className: "bg-white rounded-2xl shadow-sm border border-gray-200 p-6 transition-all duration-300",
                children: [
                  /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between mb-4", children: [
                    /* @__PURE__ */ jsx("div", { className: "bg-blue-100 p-4 rounded-xl", children: /* @__PURE__ */ jsx(MdOutlineBusinessCenter, { className: "text-blue-600 text-xl" }) }),
                    /* @__PURE__ */ jsxs("span", { className: "text-xs font-medium px-3 py-1.5 rounded-full bg-green-50 text-green-700", children: [
                      "↑ ",
                      (totalAppelsOffres == null ? void 0 : totalAppelsOffres.percentage) || 0,
                      "%"
                    ] })
                  ] }),
                  /* @__PURE__ */ jsx("h3", { className: "text-sm font-medium text-gray-500 mb-1", children: "Total" }),
                  /* @__PURE__ */ jsx("p", { className: "text-3xl font-bold text-blue-600", children: pendingAppelsOffres.length })
                ]
              }
            ),
            /* @__PURE__ */ jsxs(
              motion.div,
              {
                whileHover: { y: -5, boxShadow: "0 10px 25px -5px rgba(0, 0, 0, 0.1)" },
                className: "bg-white rounded-2xl shadow-sm border border-gray-200 p-6 transition-all duration-300",
                children: [
                  /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between mb-4", children: [
                    /* @__PURE__ */ jsx("div", { className: "bg-green-100 p-4 rounded-xl", children: /* @__PURE__ */ jsx(CheckCircleIcon, { className: "text-green-600 text-xl" }) }),
                    /* @__PURE__ */ jsxs("span", { className: "text-xs font-medium px-3 py-1.5 rounded-full bg-green-50 text-green-700", children: [
                      "↑ ",
                      (appAppelsOffres == null ? void 0 : appAppelsOffres.percentage) || 0,
                      "%"
                    ] })
                  ] }),
                  /* @__PURE__ */ jsx("h3", { className: "text-sm font-medium text-gray-500 mb-1", children: "Approuvés" }),
                  /* @__PURE__ */ jsx("p", { className: "text-3xl font-bold text-green-600", children: statusCounts.APPROVED })
                ]
              }
            ),
            /* @__PURE__ */ jsxs(
              motion.div,
              {
                whileHover: { y: -5, boxShadow: "0 10px 25px -5px rgba(0, 0, 0, 0.1)" },
                className: "bg-white rounded-2xl shadow-sm border border-gray-200 p-6 transition-all duration-300",
                children: [
                  /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between mb-4", children: [
                    /* @__PURE__ */ jsx("div", { className: "bg-amber-100 p-4 rounded-xl", children: /* @__PURE__ */ jsx(XCircleIcon, { className: "text-amber-600 text-xl" }) }),
                    /* @__PURE__ */ jsx("span", { className: "text-xs font-medium px-3 py-1.5 rounded-full bg-amber-50 text-amber-700", children: "→ 0%" })
                  ] }),
                  /* @__PURE__ */ jsx("h3", { className: "text-sm font-medium text-gray-500 mb-1", children: "En Attente" }),
                  /* @__PURE__ */ jsx("p", { className: "text-3xl font-bold text-amber-600", children: statusCounts.PENDING })
                ]
              }
            ),
            /* @__PURE__ */ jsxs(
              motion.div,
              {
                whileHover: { y: -5, boxShadow: "0 10px 25px -5px rgba(0, 0, 0, 0.1)" },
                className: "bg-white rounded-2xl shadow-sm border border-gray-200 p-6 transition-all duration-300",
                children: [
                  /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between mb-4", children: [
                    /* @__PURE__ */ jsx("div", { className: "bg-red-100 p-4 rounded-xl", children: /* @__PURE__ */ jsx(XMarkIcon$1, { className: "text-red-600 text-xl" }) }),
                    /* @__PURE__ */ jsx("span", { className: "text-xs font-medium px-3 py-1.5 rounded-full bg-red-50 text-red-700", children: "↓ 3%" })
                  ] }),
                  /* @__PURE__ */ jsx("h3", { className: "text-sm font-medium text-gray-500 mb-1", children: "Rejetés" }),
                  /* @__PURE__ */ jsx("p", { className: "text-3xl font-bold text-red-600", children: statusCounts.REJECTED })
                ]
              }
            )
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "space-y-6", children: [
            /* @__PURE__ */ jsxs("div", { className: "bg-white rounded-xl shadow-sm border border-gray-200 p-6", children: [
              /* @__PURE__ */ jsxs("div", { className: "flex flex-col sm:flex-row gap-4", children: [
                /* @__PURE__ */ jsxs("div", { className: "relative flex-1", children: [
                  /* @__PURE__ */ jsx(MagnifyingGlassIcon, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400" }),
                  /* @__PURE__ */ jsx(
                    "input",
                    {
                      type: "text",
                      placeholder: "Rechercher par titre, objet, ICE, ville, utilisateur...",
                      value: searchTerm,
                      onChange: (e2) => setSearchTerm(e2.target.value),
                      className: "w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                    }
                  )
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "relative", children: [
                  /* @__PURE__ */ jsx(FunnelIcon, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400" }),
                  /* @__PURE__ */ jsxs(
                    "select",
                    {
                      value: statusFilter,
                      onChange: (e2) => setStatusFilter(e2.target.value),
                      className: "pl-10 pr-8 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none bg-white min-w-[200px]",
                      children: [
                        /* @__PURE__ */ jsx("option", { value: "", children: "Tous les statuts" }),
                        /* @__PURE__ */ jsx("option", { value: "PENDING", children: "En Attente" }),
                        /* @__PURE__ */ jsx("option", { value: "APPROVED", children: "Approuvé" }),
                        /* @__PURE__ */ jsx("option", { value: "REJECTED", children: "Rejeté" })
                      ]
                    }
                  )
                ] }),
                /* @__PURE__ */ jsx("div", { className: "flex gap-2", children: /* @__PURE__ */ jsx(
                  "button",
                  {
                    onClick: handleRefresh,
                    className: `p-3 rounded-lg bg-gray-100 text-gray-600 transition-all duration-300 ${isRefreshing ? "animate-spin" : ""}`,
                    children: /* @__PURE__ */ jsx(MdRefresh, { className: "text-xl" })
                  }
                ) })
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "mt-4 flex items-center justify-between", children: [
                /* @__PURE__ */ jsxs("div", { className: "text-sm text-gray-600", children: [
                  filteredData.length,
                  " appel",
                  filteredData.length !== 1 ? "s" : "",
                  " d'offre trouvé",
                  filteredData.length !== 1 ? "s" : "",
                  selectedItems.length > 0 && /* @__PURE__ */ jsxs("span", { className: "ml-2 text-blue-600 font-medium", children: [
                    "(",
                    selectedItems.length,
                    " sélectionné",
                    selectedItems.length !== 1 ? "s" : "",
                    ")"
                  ] })
                ] }),
                selectedItems.length > 0 && /* @__PURE__ */ jsxs("div", { className: "flex gap-2", children: [
                  /* @__PURE__ */ jsx(
                    "button",
                    {
                      onClick: () => setSelectedItems([]),
                      className: "text-sm text-white bg-gray-600 hover:text-gray-800 px-3 py-1 rounded-lg hover:bg-gray-100 transition-colors",
                      children: "Désélectionner tout"
                    }
                  ),
                  /* @__PURE__ */ jsx(
                    "button",
                    {
                      className: "text-sm text-white bg-red-400 hover:text-white px-3 py-1 rounded-lg hover:bg-red-600 transition-colors",
                      onClick: () => {
                        if (selectedItems.length === 0) return;
                        if (confirm(`Supprimer ${selectedItems.length} appel(s) d'offre sélectionné(s) ?`)) {
                          Inertia$1.delete("/admin/appel-offres/mass-delete", {
                            data: { ids: selectedItems },
                            onSuccess: () => setSelectedItems([])
                          });
                        }
                      },
                      children: "Supprimer la sélection"
                    }
                  )
                ] })
              ] })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden", children: [
              /* @__PURE__ */ jsx("div", { className: "hidden lg:block", children: /* @__PURE__ */ jsxs("table", { className: "w-full table-fixed", children: [
                /* @__PURE__ */ jsx("thead", { className: "bg-gray-50 border-b border-gray-200", children: /* @__PURE__ */ jsxs("tr", { children: [
                  /* @__PURE__ */ jsx("th", { className: "w-12 px-3 py-4 text-center", children: /* @__PURE__ */ jsx(
                    "input",
                    {
                      type: "checkbox",
                      checked: selectedItems.length === filteredData.length && filteredData.length > 0,
                      onChange: handleSelectAll,
                      className: "rounded border-gray-300 text-blue-600 focus:ring-blue-500 mx-auto"
                    }
                  ) }),
                  /* @__PURE__ */ jsx("th", { className: "w-20 px-3 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Référence" }),
                  /* @__PURE__ */ jsx("th", { className: "w-48 px-3 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: /* @__PURE__ */ jsxs("button", { onClick: () => handleSort("titre"), className: "flex items-center hover:text-gray-700", children: [
                    "Titre",
                    sortField === "titre" && /* @__PURE__ */ jsx("span", { className: "ml-1", children: sortDirection === "asc" ? "↑" : "↓" })
                  ] }) }),
                  /* @__PURE__ */ jsx("th", { className: "w-40 px-3 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Utilisateur" }),
                  /* @__PURE__ */ jsx("th", { className: "w-28 px-3 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Type" }),
                  /* @__PURE__ */ jsx("th", { className: "w-28 px-3 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: /* @__PURE__ */ jsxs(
                    "button",
                    {
                      onClick: () => handleSort("created_at"),
                      className: "flex items-center hover:text-gray-700",
                      children: [
                        "Date",
                        sortField === "created_at" && /* @__PURE__ */ jsx("span", { className: "ml-1", children: sortDirection === "asc" ? "↑" : "↓" })
                      ]
                    }
                  ) }),
                  /* @__PURE__ */ jsx("th", { className: "w-32 px-3 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: /* @__PURE__ */ jsxs("button", { onClick: () => handleSort("status"), className: "flex items-center hover:text-gray-700", children: [
                    "Statut",
                    sortField === "status" && /* @__PURE__ */ jsx("span", { className: "ml-1", children: sortDirection === "asc" ? "↑" : "↓" })
                  ] }) }),
                  /* @__PURE__ */ jsx("th", { className: "w-32 px-3 py-4 text-right text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Actions" })
                ] }) }),
                /* @__PURE__ */ jsx("tbody", { className: "bg-white divide-y divide-gray-200", children: paginatedData.length > 0 ? paginatedData.map((item) => {
                  var _a3, _b2, _c2, _d2;
                  return /* @__PURE__ */ jsxs("tr", { className: "hover:bg-gray-50 transition-colors", children: [
                    /* @__PURE__ */ jsx("td", { className: "w-12 px-3 py-4 text-center", children: /* @__PURE__ */ jsx(
                      "input",
                      {
                        type: "checkbox",
                        checked: selectedItems.includes(item.id),
                        onChange: () => handleSelectOne(item.id),
                        className: "rounded border-gray-300 text-blue-600 focus:ring-blue-500 mx-auto"
                      }
                    ) }),
                    /* @__PURE__ */ jsx("td", { className: "w-20 px-3 py-4", children: /* @__PURE__ */ jsx("div", { className: "font-medium text-blue-600 text-sm", children: item.payment_reference }) }),
                    /* @__PURE__ */ jsx("td", { className: "w-48 px-3 py-4", children: /* @__PURE__ */ jsx("div", { className: "min-w-0", children: /* @__PURE__ */ jsx("div", { className: "font-medium text-gray-900 truncate text-sm", title: item.titre, children: truncateText(item.titre, 40) }) }) }),
                    /* @__PURE__ */ jsx("td", { className: "w-40 px-3 py-4", children: /* @__PURE__ */ jsxs("div", { className: "min-w-0", children: [
                      /* @__PURE__ */ jsx(
                        "div",
                        {
                          className: "font-medium text-gray-900 truncate text-sm",
                          title: ((_a3 = item.user) == null ? void 0 : _a3.name) ?? "N/A",
                          children: ((_b2 = item.user) == null ? void 0 : _b2.name) ?? "N/A"
                        }
                      ),
                      /* @__PURE__ */ jsxs("div", { className: "text-xs text-gray-500 truncate", title: ((_c2 = item.user) == null ? void 0 : _c2.email) ?? "N/A", children: [
                        ((_d2 = item.user) == null ? void 0 : _d2.email) ?? "N/A",
                        "  ",
                        item.user_is_favorite && /* @__PURE__ */ jsx("span", { className: "ml-2 text-yellow-500", children: "⭐ Favori" })
                      ] })
                    ] }) }),
                    /* @__PURE__ */ jsx("td", { className: "w-28 px-3 py-4", children: /* @__PURE__ */ jsx(
                      "span",
                      {
                        className: `inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${getTypeBadge(
                          item.type
                        )}`,
                        children: item.type
                      }
                    ) }),
                    /* @__PURE__ */ jsx("td", { className: "w-28 px-3 py-4", children: /* @__PURE__ */ jsx("div", { className: "text-xs text-gray-500", children: formatDate2(item.created_at) }) }),
                    /* @__PURE__ */ jsx("td", { className: "w-24 px-3 py-4", children: getStatusBadge2(item.status) }),
                    /* @__PURE__ */ jsx("td", { className: "w-32 px-3 py-4 text-right", children: /* @__PURE__ */ jsx(ActionButtons, { item }) })
                  ] }, item.id);
                }) : /* @__PURE__ */ jsx("tr", { children: /* @__PURE__ */ jsx("td", { colSpan: 10, className: "px-6 py-20 text-center", children: /* @__PURE__ */ jsx("div", { className: "text-gray-500", children: /* @__PURE__ */ jsxs("div", { className: "flex flex-col items-center", children: [
                  /* @__PURE__ */ jsx("div", { className: "bg-gray-100 p-6 rounded-full mb-4", children: /* @__PURE__ */ jsx(MdOutlineInbox, { className: "h-16 w-16 text-gray-400" }) }),
                  /* @__PURE__ */ jsx("div", { className: "text-lg font-medium mb-2", children: "Aucun appel d'offre trouvé" }),
                  /* @__PURE__ */ jsx("div", { className: "text-sm", children: "Essayez de modifier vos critères de recherche ou de filtrage." })
                ] }) }) }) }) })
              ] }) }),
              /* @__PURE__ */ jsx("div", { className: "lg:hidden", children: paginatedData.length > 0 ? /* @__PURE__ */ jsx("div", { className: "divide-y divide-gray-200", children: paginatedData.map((item) => {
                var _a3, _b2;
                return /* @__PURE__ */ jsxs("div", { className: "p-6 hover:bg-gray-50 transition-colors", children: [
                  /* @__PURE__ */ jsxs("div", { className: "flex items-start justify-between mb-4", children: [
                    /* @__PURE__ */ jsxs("div", { className: "flex items-start gap-3 flex-1", children: [
                      /* @__PURE__ */ jsx(
                        "input",
                        {
                          type: "checkbox",
                          checked: selectedItems.includes(item.id),
                          onChange: () => handleSelectOne(item.id),
                          className: "mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"
                        }
                      ),
                      /* @__PURE__ */ jsxs("div", { className: "flex-1", children: [
                        /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2 mb-2", children: [
                          /* @__PURE__ */ jsxs("span", { className: "bg-blue-100 text-blue-800 font-medium px-2.5 py-1 rounded-lg text-sm", children: [
                            "#",
                            item.id
                          ] }),
                          getStatusBadge2(item.status)
                        ] }),
                        /* @__PURE__ */ jsx("h3", { className: "font-medium text-gray-900 text-lg leading-tight mb-1", children: item.titre }),
                        /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 font-mono", children: item.ICE })
                      ] })
                    ] }),
                    /* @__PURE__ */ jsx(ActionButtons, { item })
                  ] }),
                  /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 gap-4 ml-8", children: [
                    /* @__PURE__ */ jsxs("div", { className: "bg-gray-50 p-3 rounded-lg", children: [
                      /* @__PURE__ */ jsx("div", { className: "text-xs font-medium text-gray-500 uppercase tracking-wider mb-1", children: "Utilisateur" }),
                      /* @__PURE__ */ jsx("div", { className: "font-medium text-gray-900", children: ((_a3 = item.user) == null ? void 0 : _a3.name) ?? "N/A" }),
                      /* @__PURE__ */ jsx("div", { className: "text-sm text-gray-500", children: ((_b2 = item.user) == null ? void 0 : _b2.email) ?? "N/A" })
                    ] }),
                    /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-2 gap-4", children: [
                      /* @__PURE__ */ jsxs("div", { children: [
                        /* @__PURE__ */ jsx("div", { className: "text-xs font-medium text-gray-500 uppercase tracking-wider mb-1", children: "Type" }),
                        /* @__PURE__ */ jsx(
                          "span",
                          {
                            className: `inline-flex items-center px-3 py-1 rounded-full text-sm font-medium border ${getTypeBadge(
                              item.type
                            )}`,
                            children: item.type
                          }
                        )
                      ] }),
                      /* @__PURE__ */ jsxs("div", { children: [
                        /* @__PURE__ */ jsx("div", { className: "text-xs font-medium text-gray-500 uppercase tracking-wider mb-1", children: "Ville" }),
                        /* @__PURE__ */ jsx("div", { className: "text-sm text-gray-900", children: item.ville })
                      ] })
                    ] }),
                    /* @__PURE__ */ jsxs("div", { children: [
                      /* @__PURE__ */ jsx("div", { className: "text-xs font-medium text-gray-500 uppercase tracking-wider mb-1", children: "Objet" }),
                      /* @__PURE__ */ jsx("div", { className: "text-sm text-gray-700 line-clamp-2", children: truncateText(item.objet, 100) })
                    ] }),
                    /* @__PURE__ */ jsxs("div", { children: [
                      /* @__PURE__ */ jsx("div", { className: "text-xs font-medium text-gray-500 uppercase tracking-wider mb-1", children: "Date" }),
                      /* @__PURE__ */ jsx("div", { className: "text-sm text-gray-500", children: formatDate2(item.created_at) })
                    ] })
                  ] })
                ] }, item.id);
              }) }) : /* @__PURE__ */ jsx("div", { className: "px-6 py-20 text-center", children: /* @__PURE__ */ jsx("div", { className: "text-gray-500", children: /* @__PURE__ */ jsxs("div", { className: "flex flex-col items-center", children: [
                /* @__PURE__ */ jsx("div", { className: "bg-gray-100 p-6 rounded-full mb-4", children: /* @__PURE__ */ jsx(MdOutlineInbox, { className: "h-16 w-16 text-gray-400" }) }),
                /* @__PURE__ */ jsx("div", { className: "text-lg font-medium mb-2", children: "Aucun appel d'offre trouvé" }),
                /* @__PURE__ */ jsx("div", { className: "text-sm", children: "Essayez de modifier vos critères de recherche ou de filtrage." })
              ] }) }) }) }),
              filteredData.length > 0 && /* @__PURE__ */ jsxs("div", { className: "px-6 py-4 border-t border-gray-200 flex flex-col sm:flex-row items-center justify-between", children: [
                /* @__PURE__ */ jsxs("div", { className: "text-sm text-gray-600 mb-4 sm:mb-0", children: [
                  "Affichage de",
                  " ",
                  /* @__PURE__ */ jsxs("span", { className: "font-medium", children: [
                    startIndex + 1,
                    " à ",
                    Math.min(startIndex + itemsPerPage, filteredData.length)
                  ] }),
                  " ",
                  "sur ",
                  /* @__PURE__ */ jsx("span", { className: "font-medium", children: filteredData.length }),
                  " résultats"
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "flex items-center space-x-1", children: [
                  /* @__PURE__ */ jsxs(
                    "select",
                    {
                      value: itemsPerPage,
                      onChange: (e2) => {
                        setItemsPerPage(Number(e2.target.value));
                        setCurrentPage(1);
                      },
                      className: "mr-4 p-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",
                      children: [
                        /* @__PURE__ */ jsx("option", { value: 5, children: "5" }),
                        /* @__PURE__ */ jsx("option", { value: 10, children: "10" }),
                        /* @__PURE__ */ jsx("option", { value: 25, children: "25" }),
                        /* @__PURE__ */ jsx("option", { value: 50, children: "50" })
                      ]
                    }
                  ),
                  /* @__PURE__ */ jsx(
                    "button",
                    {
                      onClick: () => setCurrentPage(Math.max(1, currentPage - 1)),
                      disabled: currentPage === 1,
                      className: `p-2 rounded-lg transition-colors ${currentPage === 1 ? "text-gray-300 cursor-not-allowed" : "text-gray-600 hover:bg-gray-100"}`,
                      children: /* @__PURE__ */ jsx(ChevronLeftIcon, { className: "h-5 w-5" })
                    }
                  ),
                  Array.from({ length: Math.min(5, totalPages) }, (_, i2) => {
                    let pageNum;
                    if (totalPages <= 5) {
                      pageNum = i2 + 1;
                    } else if (currentPage <= 3) {
                      pageNum = i2 + 1;
                    } else if (currentPage >= totalPages - 2) {
                      pageNum = totalPages - 4 + i2;
                    } else {
                      pageNum = currentPage - 2 + i2;
                    }
                    return /* @__PURE__ */ jsx(
                      "button",
                      {
                        onClick: () => setCurrentPage(pageNum),
                        className: `w-10 h-10 rounded-lg transition-colors ${currentPage === pageNum ? "bg-blue-600 text-white" : "text-gray-600 hover:bg-gray-100"}`,
                        children: pageNum
                      },
                      pageNum
                    );
                  }),
                  /* @__PURE__ */ jsx(
                    "button",
                    {
                      onClick: () => setCurrentPage(Math.min(totalPages, currentPage + 1)),
                      disabled: currentPage === totalPages,
                      className: `p-2 rounded-lg transition-colors ${currentPage === totalPages ? "text-gray-300 cursor-not-allowed" : "text-gray-600 hover:bg-gray-100"}`,
                      children: /* @__PURE__ */ jsx(ChevronRightIcon, { className: "h-5 w-5" })
                    }
                  )
                ] })
              ] })
            ] })
          ] })
        ] }),
        /* @__PURE__ */ jsx(Transition, { appear: true, show: isConfirmDeleteOpen, as: Fragment$1, children: /* @__PURE__ */ jsxs(Dialog, { as: "div", className: "relative z-50", onClose: cancelDelete, children: [
          /* @__PURE__ */ jsx(
            Transition.Child,
            {
              as: Fragment$1,
              enter: "ease-out duration-300",
              enterFrom: "opacity-0",
              enterTo: "opacity-100",
              leave: "ease-in duration-200",
              leaveFrom: "opacity-100",
              leaveTo: "opacity-0",
              children: /* @__PURE__ */ jsx("div", { className: "fixed inset-0 bg-black/25" })
            }
          ),
          /* @__PURE__ */ jsx("div", { className: "fixed inset-0 overflow-y-auto", children: /* @__PURE__ */ jsx("div", { className: "flex min-h-full items-center justify-center p-4 text-center", children: /* @__PURE__ */ jsx(
            Transition.Child,
            {
              as: Fragment$1,
              enter: "ease-out duration-300",
              enterFrom: "opacity-0 scale-95",
              enterTo: "opacity-100 scale-100",
              leave: "ease-in duration-200",
              leaveFrom: "opacity-100 scale-100",
              leaveTo: "opacity-0 scale-95",
              children: /* @__PURE__ */ jsxs(Dialog.Panel, { className: "w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all", children: [
                /* @__PURE__ */ jsxs("div", { className: "text-center mb-6", children: [
                  /* @__PURE__ */ jsx("div", { className: "bg-red-100 p-3 rounded-full inline-flex items-center justify-center mb-4", children: /* @__PURE__ */ jsx(TrashIcon, { className: "text-red-600 text-2xl h-6 w-6" }) }),
                  /* @__PURE__ */ jsx(Dialog.Title, { as: "h3", className: "text-xl font-bold text-gray-800", children: "Confirmer la suppression" }),
                  /* @__PURE__ */ jsx("p", { className: "text-gray-600 mt-2", children: "Êtes-vous sûr de vouloir supprimer cet appel d'offre ? Cette action est irréversible." })
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "flex justify-center space-x-4", children: [
                  /* @__PURE__ */ jsx(
                    "button",
                    {
                      onClick: cancelDelete,
                      className: "px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",
                      children: "Annuler"
                    }
                  ),
                  /* @__PURE__ */ jsx(
                    "button",
                    {
                      onClick: confirmDelete,
                      className: "px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",
                      children: "Supprimer"
                    }
                  )
                ] })
              ] })
            }
          ) }) })
        ] }) }),
        /* @__PURE__ */ jsx(Transition, { appear: true, show: isDetailModalOpen, as: Fragment$1, children: /* @__PURE__ */ jsxs(Dialog, { as: "div", className: "relative z-50", onClose: () => setIsDetailModalOpen(false), children: [
          /* @__PURE__ */ jsx(
            Transition.Child,
            {
              as: Fragment$1,
              enter: "ease-out duration-300",
              enterFrom: "opacity-0",
              enterTo: "opacity-100",
              leave: "ease-in duration-200",
              leaveFrom: "opacity-100",
              leaveTo: "opacity-0",
              children: /* @__PURE__ */ jsx("div", { className: "fixed inset-0 bg-black/25" })
            }
          ),
          /* @__PURE__ */ jsx("div", { className: "fixed inset-0 overflow-y-auto", children: /* @__PURE__ */ jsx("div", { className: "flex min-h-full items-center justify-center p-4 text-center", children: /* @__PURE__ */ jsx(
            Transition.Child,
            {
              as: Fragment$1,
              enter: "ease-out duration-300",
              enterFrom: "opacity-0 scale-95",
              enterTo: "opacity-100 scale-100",
              leave: "ease-in duration-200",
              leaveFrom: "opacity-100 scale-100",
              leaveTo: "opacity-0 scale-95",
              children: /* @__PURE__ */ jsx(Dialog.Panel, { className: "w-full max-w-4xl transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all", children: selectedAppel && /* @__PURE__ */ jsxs(Fragment, { children: [
                /* @__PURE__ */ jsxs("div", { className: "flex justify-between items-start mb-6", children: [
                  /* @__PURE__ */ jsxs(Dialog.Title, { as: "h3", className: "text-lg font-bold text-gray-900", children: [
                    "Détails de l'appel d'offre #",
                    selectedAppel.id
                  ] }),
                  /* @__PURE__ */ jsx(
                    "button",
                    {
                      onClick: () => setIsDetailModalOpen(false),
                      className: "p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",
                      children: /* @__PURE__ */ jsx(XMarkIcon$1, { className: "h-5 w-5" })
                    }
                  )
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "space-y-6", children: [
                  /* @__PURE__ */ jsx("div", { className: "flex flex-wrap gap-4", children: getStatusBadge2(selectedAppel.status) }),
                  /* @__PURE__ */ jsx("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-3", children: /* @__PURE__ */ jsxs("div", { className: "bg-gray-50 p-4 rounded-lg", children: [
                    /* @__PURE__ */ jsx("h4", { className: "text-sm font-medium text-gray-500 mb-1", children: "Utilisateur" }),
                    /* @__PURE__ */ jsxs("p", { className: "text-[#00377f] font-medium", children: [
                      (_a2 = selectedAppel.user) == null ? void 0 : _a2.name,
                      " (",
                      (_b = selectedAppel.user) == null ? void 0 : _b.email,
                      ")"
                    ] }),
                    "Telephone: ",
                    /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500", children: (_c = selectedAppel.user) == null ? void 0 : _c.phone }),
                    "Addresse: ",
                    /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500", children: ((_d = selectedAppel.user) == null ? void 0 : _d.address) || "N.A" })
                  ] }) }),
                  /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-6", children: [
                    /* @__PURE__ */ jsxs("div", { children: [
                      /* @__PURE__ */ jsx("h4", { className: "text-sm font-medium text-gray-500 mb-1", children: "Titre" }),
                      /* @__PURE__ */ jsx("p", { className: "text-lg font-semibold text-gray-900", children: selectedAppel.titre })
                    ] }),
                    /* @__PURE__ */ jsxs("div", { children: [
                      /* @__PURE__ */ jsx("h4", { className: "text-sm font-medium text-gray-500 mb-1", children: "ICE" }),
                      /* @__PURE__ */ jsx("p", { className: "text-gray-900 font-mono", children: selectedAppel.ICE })
                    ] }),
                    /* @__PURE__ */ jsxs("div", { children: [
                      /* @__PURE__ */ jsx("h4", { className: "text-sm font-medium text-gray-500 mb-1", children: "Type" }),
                      /* @__PURE__ */ jsx(
                        "span",
                        {
                          className: `inline-flex items-center px-3 py-1 rounded-full text-sm font-medium border ${getTypeBadge(
                            selectedAppel.type
                          )}`,
                          children: selectedAppel.type
                        }
                      )
                    ] }),
                    /* @__PURE__ */ jsxs("div", { children: [
                      /* @__PURE__ */ jsx("h4", { className: "text-sm font-medium text-gray-500 mb-1", children: "Ville" }),
                      /* @__PURE__ */ jsx("p", { className: "text-gray-900", children: selectedAppel.ville })
                    ] }),
                    /* @__PURE__ */ jsxs("div", { children: [
                      /* @__PURE__ */ jsx("h4", { className: "text-sm font-medium text-gray-500 mb-1", children: "Secteur" }),
                      /* @__PURE__ */ jsx("p", { className: "text-gray-900", children: selectedAppel.secteur })
                    ] }),
                    /* @__PURE__ */ jsxs("div", { children: [
                      /* @__PURE__ */ jsx("h4", { className: "text-sm font-medium text-gray-500 mb-1", children: "Date de création" }),
                      /* @__PURE__ */ jsx("p", { className: "text-gray-900", children: formatDate2(selectedAppel.created_at) })
                    ] })
                  ] }),
                  selectedAppel.objet && /* @__PURE__ */ jsxs("div", { children: [
                    /* @__PURE__ */ jsx("h4", { className: "text-sm font-medium text-gray-500 mb-2", children: "Objet" }),
                    /* @__PURE__ */ jsx("div", { className: "bg-gray-50 p-4 rounded-lg", children: /* @__PURE__ */ jsx("p", { className: "text-gray-700 whitespace-pre-line", children: selectedAppel.objet }) })
                  ] })
                ] }),
                /* @__PURE__ */ jsx("div", { className: "mt-8 border-t pt-6", children: /* @__PURE__ */ jsx("div", { className: "flex flex-col sm:flex-row justify-end gap-3", children: /* @__PURE__ */ jsx(
                  "button",
                  {
                    onClick: () => setIsDetailModalOpen(false),
                    className: "inline-flex justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors",
                    children: "Fermer"
                  }
                ) }) })
              ] }) })
            }
          ) }) })
        ] }) })
      ]
    }
  );
}
const __vite_glob_0_13 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: AppelsOffresIndex
}, Symbol.toStringTag, { value: "Module" }));
function CreateAppelOffre({
  cities,
  users,
  secteurs,
  auth
}) {
  const citiesArray = cities || [];
  const usersArray = users || [];
  const secteursArray = secteurs || [];
  const { data, setData, errors, processing, post } = useForm({
    titre: "",
    nameSociete: "",
    ICE: "",
    type: "",
    objet: "",
    date_limite: "",
    content: "",
    file: null,
    ville: citiesArray.length > 0 ? citiesArray[0] : "",
    secteur: secteursArray.length > 0 ? secteursArray[0] : "",
    user_id: usersArray.length > 0 ? usersArray[0].id : "",
    is_anonyme: false
  });
  const [isHoveringSubmit, setIsHoveringSubmit] = useState(false);
  const [selectedFileName, setSelectedFileName] = useState(null);
  const [villeSearch, setVilleSearch] = useState("");
  const [showVilleDropdown, setShowVilleDropdown] = useState(false);
  const [userSearch, setUserSearch] = useState("");
  const [showUserDropdown, setShowUserDropdown] = useState(false);
  const selectedUser = usersArray.find((u2) => String(u2.id) === String(data.user_id));
  const filteredUsers = usersArray.filter(
    (user) => user.name.toLowerCase().includes(userSearch.toLowerCase()) || user.email.toLowerCase().includes(userSearch.toLowerCase())
  );
  const filteredCities = citiesArray.filter(
    (city) => city.toLowerCase().includes(villeSearch.toLowerCase())
  );
  const createAppelOffre = (ev) => {
    ev.preventDefault();
    console.log("Submitting form data:", data);
    post(route("admin.appel-offres.store"), {
      preserveScroll: true,
      forceFormData: true,
      onSuccess: () => console.log("Appel d'offre created successfully"),
      onError: (errors2) => console.log("Error creating appel d'offre:", errors2)
    });
  };
  const handleFileChange = (e2) => {
    var _a2;
    const file = ((_a2 = e2.target.files) == null ? void 0 : _a2[0]) || null;
    setData("file", file);
    setSelectedFileName((file == null ? void 0 : file.name) || null);
  };
  return /* @__PURE__ */ jsx(
    AuthenticatedLayout,
    {
      header: /* @__PURE__ */ jsxs("div", { className: "flex items-center", children: [
        /* @__PURE__ */ jsx("div", { className: "bg-[#00377f]/10 p-3 rounded-xl mr-4 shadow-sm border border-[#00377f]/20", children: /* @__PURE__ */ jsx(HiOutlineDocument, { className: "text-[#00377f] text-2xl" }) }),
        /* @__PURE__ */ jsxs("div", { children: [
          /* @__PURE__ */ jsx("h2", { className: "text-2xl font-bold text-gray-800", children: "Créer un nouvel appel d'offre" }),
          /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 mt-1", children: "Remplissez le formulaire pour publier votre appel d'offre" })
        ] })
      ] }),
      children: /* @__PURE__ */ jsx("div", { className: "py-6", children: /* @__PURE__ */ jsx("div", { className: "max-w-7xl mx-auto px-4 sm:px-6 lg:px-8", children: /* @__PURE__ */ jsxs(
        motion.div,
        {
          initial: { opacity: 0, y: 20 },
          animate: { opacity: 1, y: 0 },
          transition: { duration: 0.5 },
          className: "bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm",
          children: [
            /* @__PURE__ */ jsx("div", { className: "bg-gradient-to-r from-[#00377f]/5 to-gray-50 border-b border-gray-200 p-6", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center", children: [
              /* @__PURE__ */ jsx("div", { className: "bg-white p-3 rounded-xl shadow-sm mr-4", children: /* @__PURE__ */ jsx(HiOutlineSparkles, { className: "text-[#00377f] text-xl" }) }),
              /* @__PURE__ */ jsxs("div", { children: [
                /* @__PURE__ */ jsx("h3", { className: "text-lg font-semibold text-gray-800", children: "Informations de l'appel d'offre" }),
                /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500", children: "Tous les champs marqués sont obligatoires" })
              ] })
            ] }) }),
            /* @__PURE__ */ jsx("div", { className: "p-6 md:p-8 relative z-10", children: /* @__PURE__ */ jsxs("form", { onSubmit: createAppelOffre, encType: "multipart/form-data", className: "space-y-8", children: [
              /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8", children: [
                /* @__PURE__ */ jsxs("div", { className: "space-y-6", children: [
                  /* @__PURE__ */ jsxs("div", { className: "group", children: [
                    /* @__PURE__ */ jsxs(
                      "label",
                      {
                        htmlFor: "titre",
                        className: "block text-gray-700 font-medium mb-2 transition-all duration-300 group-focus-within:text-[#00377f] flex items-center",
                        children: [
                          /* @__PURE__ */ jsx(HiOutlineDocumentText$1, { className: "mr-2 h-5 w-5 text-gray-500 group-focus-within:text-[#00377f]" }),
                          "Titre de l'appel d'offre ",
                          /* @__PURE__ */ jsx("span", { className: "text-red-500 ml-1", children: "*" })
                        ]
                      }
                    ),
                    /* @__PURE__ */ jsx("div", { className: "relative", children: /* @__PURE__ */ jsx(
                      "input",
                      {
                        id: "titre",
                        type: "text",
                        value: data.titre,
                        onChange: (e2) => setData("titre", e2.target.value),
                        className: "w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00377f]/20 focus:border-[#00377f] transition-all shadow-sm",
                        placeholder: "Entrez le titre de l'appel d'offre",
                        required: true
                      }
                    ) }),
                    errors.titre && /* @__PURE__ */ jsx(
                      motion.p,
                      {
                        initial: { opacity: 0, y: -10 },
                        animate: { opacity: 1, y: 0 },
                        className: "text-red-500 text-sm mt-2 flex items-center",
                        children: errors.titre
                      }
                    )
                  ] }),
                  /* @__PURE__ */ jsxs("div", { className: "group flex items-center space-x-3", children: [
                    /* @__PURE__ */ jsx(
                      "input",
                      {
                        type: "checkbox",
                        id: "is_anonyme",
                        checked: data.is_anonyme,
                        onChange: (e2) => setData("is_anonyme", e2.target.checked),
                        className: "h-4 w-4 text-[#00377f] border-gray-300 rounded"
                      }
                    ),
                    /* @__PURE__ */ jsx("label", { htmlFor: "is_anonyme", className: "text-sm text-gray-700", children: "Publier comme anonyme" })
                  ] }),
                  /* @__PURE__ */ jsxs("div", { className: "group", children: [
                    /* @__PURE__ */ jsxs(
                      "label",
                      {
                        htmlFor: "nameSociete",
                        className: "block text-gray-700 font-medium mb-2 transition-all duration-300 group-focus-within:text-[#00377f] flex items-center",
                        children: [
                          /* @__PURE__ */ jsx(HiOutlineOfficeBuilding, { className: "mr-2 h-5 w-5 text-gray-500 group-focus-within:text-[#00377f]" }),
                          "Nom de la société ",
                          /* @__PURE__ */ jsx("span", { className: "text-red-500 ml-1", children: "*" })
                        ]
                      }
                    ),
                    /* @__PURE__ */ jsx("div", { className: "relative", children: /* @__PURE__ */ jsx(
                      "input",
                      {
                        id: "nameSociete",
                        type: "text",
                        value: data.nameSociete,
                        onChange: (e2) => setData("nameSociete", e2.target.value),
                        className: "w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00377f]/20 focus:border-[#00377f] transition-all shadow-sm",
                        placeholder: "Entrez le nom de la société",
                        required: true
                      }
                    ) }),
                    errors.nameSociete && /* @__PURE__ */ jsx(
                      motion.p,
                      {
                        initial: { opacity: 0, y: -10 },
                        animate: { opacity: 1, y: 0 },
                        className: "text-red-500 text-sm mt-2",
                        children: errors.nameSociete
                      }
                    )
                  ] }),
                  /* @__PURE__ */ jsxs("div", { className: "group", children: [
                    /* @__PURE__ */ jsxs(
                      "label",
                      {
                        htmlFor: "ICE",
                        className: "block text-gray-700 font-medium mb-2 transition-all duration-300 group-focus-within:text-[#00377f] flex items-center",
                        children: [
                          /* @__PURE__ */ jsx(HiOutlineIdentification, { className: "mr-2 h-5 w-5 text-gray-500 group-focus-within:text-[#00377f]" }),
                          "ICE ",
                          /* @__PURE__ */ jsx("span", { className: "text-red-500 ml-1", children: "*" })
                        ]
                      }
                    ),
                    /* @__PURE__ */ jsx("div", { className: "relative", children: /* @__PURE__ */ jsx(
                      "input",
                      {
                        id: "ICE",
                        type: "text",
                        value: data.ICE,
                        onChange: (e2) => setData("ICE", e2.target.value),
                        className: "w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00377f]/20 focus:border-[#00377f] transition-all shadow-sm",
                        placeholder: "Entrez le numéro ICE"
                      }
                    ) }),
                    errors.ICE && /* @__PURE__ */ jsx(
                      motion.p,
                      {
                        initial: { opacity: 0, y: -10 },
                        animate: { opacity: 1, y: 0 },
                        className: "text-red-500 text-sm mt-2",
                        children: errors.ICE
                      }
                    )
                  ] }),
                  /* @__PURE__ */ jsxs("div", { className: "group", children: [
                    /* @__PURE__ */ jsxs(
                      "label",
                      {
                        htmlFor: "type",
                        className: "block text-gray-700 font-medium mb-2 transition-all duration-300 group-focus-within:text-[#00377f] flex items-center",
                        children: [
                          /* @__PURE__ */ jsx(HiOutlineTag, { className: "mr-2 h-5 w-5 text-gray-500 group-focus-within:text-[#00377f]" }),
                          "Type ",
                          /* @__PURE__ */ jsx("span", { className: "text-red-500 ml-1", children: "*" })
                        ]
                      }
                    ),
                    /* @__PURE__ */ jsxs("div", { className: "relative", children: [
                      /* @__PURE__ */ jsxs(
                        "select",
                        {
                          id: "type",
                          value: data.type,
                          onChange: (e2) => setData("type", e2.target.value),
                          className: "w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00377f]/20 focus:border-[#00377f] transition-all shadow-sm appearance-none bg-white",
                          required: true,
                          children: [
                            /* @__PURE__ */ jsx("option", { value: "", disabled: true, children: "Sélectionnez un type" }),
                            /* @__PURE__ */ jsx("option", { value: "TRAVAUX", children: "Travaux" }),
                            /* @__PURE__ */ jsx("option", { value: "FOURNITURES", children: "Fournitures" }),
                            /* @__PURE__ */ jsx("option", { value: "SERVICES", children: "Services" }),
                            /* @__PURE__ */ jsx("option", { value: "Autres", children: "Autre" })
                          ]
                        }
                      ),
                      /* @__PURE__ */ jsx("div", { className: "absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none", children: /* @__PURE__ */ jsx("svg", { className: "h-5 w-5 text-gray-500", fill: "none", viewBox: "0 0 24 24", stroke: "currentColor", children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M19 9l-7 7-7-7" }) }) })
                    ] }),
                    errors.type && /* @__PURE__ */ jsx(
                      motion.p,
                      {
                        initial: { opacity: 0, y: -10 },
                        animate: { opacity: 1, y: 0 },
                        className: "text-red-500 text-sm mt-2",
                        children: errors.type
                      }
                    )
                  ] })
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "space-y-6", children: [
                  /* @__PURE__ */ jsxs("div", { className: "group", children: [
                    /* @__PURE__ */ jsxs(
                      "label",
                      {
                        htmlFor: "user_id_search",
                        className: "block text-gray-700 font-medium mb-2 transition-all duration-300 group-focus-within:text-[#00377f] flex items-center",
                        children: [
                          /* @__PURE__ */ jsx(HiOutlineUser$1, { className: "mr-2 h-5 w-5 text-gray-500 group-focus-within:text-[#00377f]" }),
                          "Assigner à un utilisateur ",
                          /* @__PURE__ */ jsx("span", { className: "text-red-500 ml-1", children: "*" })
                        ]
                      }
                    ),
                    /* @__PURE__ */ jsxs("div", { className: "relative", children: [
                      /* @__PURE__ */ jsx(
                        "input",
                        {
                          id: "user_id_search",
                          type: "text",
                          value: userSearch || (selectedUser ? `${selectedUser.name} (${selectedUser.email})` : ""),
                          onFocus: () => setShowUserDropdown(true),
                          onChange: (e2) => {
                            setUserSearch(e2.target.value);
                            setData("user_id", "");
                          },
                          placeholder: "Rechercher par nom ou email",
                          className: "w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00377f]/20 focus:border-[#00377f] transition-all shadow-sm",
                          required: true,
                          autoComplete: "off"
                        }
                      ),
                      showUserDropdown && filteredUsers.length > 0 && /* @__PURE__ */ jsx("ul", { className: "absolute z-10 mt-1 w-full bg-white border border-gray-200 rounded-md max-h-48 overflow-auto shadow-lg", children: filteredUsers.map((user) => /* @__PURE__ */ jsxs(
                        "li",
                        {
                          onClick: () => {
                            setData("user_id", user.id);
                            setUserSearch("");
                            setShowUserDropdown(false);
                          },
                          className: "px-4 py-2 text-sm cursor-pointer hover:bg-gray-100",
                          children: [
                            user.name,
                            " (",
                            user.email,
                            ")"
                          ]
                        },
                        user.id
                      )) })
                    ] }),
                    errors.user_id && /* @__PURE__ */ jsx(
                      motion.p,
                      {
                        initial: { opacity: 0, y: -10 },
                        animate: { opacity: 1, y: 0 },
                        className: "text-red-500 text-sm mt-2",
                        children: errors.user_id
                      }
                    )
                  ] }),
                  /* @__PURE__ */ jsxs("div", { className: "group", children: [
                    /* @__PURE__ */ jsxs(
                      "label",
                      {
                        htmlFor: "ville",
                        className: "block text-gray-700 font-medium mb-2 transition-all duration-300 group-focus-within:text-[#00377f] flex items-center",
                        children: [
                          /* @__PURE__ */ jsx(HiOutlineLocationMarker, { className: "mr-2 h-5 w-5 text-gray-500 group-focus-within:text-[#00377f]" }),
                          "Ville ",
                          /* @__PURE__ */ jsx("span", { className: "text-red-500 ml-1", children: "*" })
                        ]
                      }
                    ),
                    /* @__PURE__ */ jsxs("div", { className: "relative", children: [
                      /* @__PURE__ */ jsx(
                        "input",
                        {
                          type: "text",
                          placeholder: "Rechercher une ville",
                          className: "w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00377f]/20 focus:border-[#00377f] transition-all shadow-sm",
                          value: villeSearch || data.ville,
                          onFocus: () => setShowVilleDropdown(true),
                          onChange: (e2) => {
                            setVilleSearch(e2.target.value);
                            setData("ville", "");
                          }
                        }
                      ),
                      showVilleDropdown && filteredCities.length > 0 && /* @__PURE__ */ jsx("ul", { className: "absolute z-10 mt-1 w-full bg-white border border-gray-200 rounded-md max-h-48 overflow-auto shadow-lg", children: filteredCities.map((city, index2) => /* @__PURE__ */ jsx(
                        "li",
                        {
                          onClick: () => {
                            setData("ville", city);
                            setVilleSearch("");
                            setShowVilleDropdown(false);
                          },
                          className: "px-4 py-2 text-sm cursor-pointer hover:bg-gray-100",
                          children: city
                        },
                        index2
                      )) })
                    ] }),
                    errors.ville && /* @__PURE__ */ jsx(
                      motion.p,
                      {
                        initial: { opacity: 0, y: -10 },
                        animate: { opacity: 1, y: 0 },
                        className: "text-red-500 text-sm mt-2",
                        children: errors.ville
                      }
                    )
                  ] }),
                  /* @__PURE__ */ jsxs("div", { className: "group", children: [
                    /* @__PURE__ */ jsxs(
                      "label",
                      {
                        htmlFor: "secteur",
                        className: "block text-gray-700 font-medium mb-2 transition-all duration-300 group-focus-within:text-[#00377f] flex items-center",
                        children: [
                          /* @__PURE__ */ jsx(HiOutlineGlobe, { className: "mr-2 h-5 w-5 text-gray-500 group-focus-within:text-[#00377f]" }),
                          "Secteur ",
                          /* @__PURE__ */ jsx("span", { className: "text-red-500 ml-1", children: "*" })
                        ]
                      }
                    ),
                    /* @__PURE__ */ jsxs("div", { className: "relative", children: [
                      /* @__PURE__ */ jsx(
                        "select",
                        {
                          id: "secteur",
                          value: data.secteur,
                          onChange: (e2) => setData("secteur", e2.target.value),
                          className: "w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00377f]/20 focus:border-[#00377f] transition-all shadow-sm appearance-none bg-white",
                          required: true,
                          children: secteursArray.length > 0 ? secteursArray.map((secteur, index2) => /* @__PURE__ */ jsx("option", { value: secteur, children: secteur }, index2)) : /* @__PURE__ */ jsx("option", { value: "", children: "Aucun secteur disponible" })
                        }
                      ),
                      /* @__PURE__ */ jsx("div", { className: "absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none", children: /* @__PURE__ */ jsx("svg", { className: "h-5 w-5 text-gray-500", fill: "none", viewBox: "0 0 24 24", stroke: "currentColor", children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M19 9l-7 7-7-7" }) }) })
                    ] }),
                    errors.secteur && /* @__PURE__ */ jsx(
                      motion.p,
                      {
                        initial: { opacity: 0, y: -10 },
                        animate: { opacity: 1, y: 0 },
                        className: "text-red-500 text-sm mt-2",
                        children: errors.secteur
                      }
                    )
                  ] }),
                  /* @__PURE__ */ jsxs("div", { className: "group", children: [
                    /* @__PURE__ */ jsxs(
                      "label",
                      {
                        htmlFor: "date_limite",
                        className: "block text-gray-700 font-medium mb-2 transition-all duration-300 group-focus-within:text-[#00377f] flex items-center",
                        children: [
                          /* @__PURE__ */ jsx(HiOutlineClock, { className: "mr-2 h-5 w-5 text-gray-500 group-focus-within:text-[#00377f]" }),
                          "Date limite ",
                          /* @__PURE__ */ jsx("span", { className: "text-red-500 ml-1", children: "*" })
                        ]
                      }
                    ),
                    /* @__PURE__ */ jsx("div", { className: "relative", children: /* @__PURE__ */ jsx(
                      "input",
                      {
                        id: "date_limite",
                        type: "date",
                        value: data.date_limite,
                        onChange: (e2) => setData("date_limite", e2.target.value),
                        className: "w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00377f]/20 focus:border-[#00377f] transition-all shadow-sm",
                        required: true
                      }
                    ) }),
                    errors.date_limite && /* @__PURE__ */ jsx(
                      motion.p,
                      {
                        initial: { opacity: 0, y: -10 },
                        animate: { opacity: 1, y: 0 },
                        className: "text-red-500 text-sm mt-2",
                        children: errors.date_limite
                      }
                    )
                  ] }),
                  /* @__PURE__ */ jsxs("div", { className: "group", children: [
                    /* @__PURE__ */ jsxs(
                      "label",
                      {
                        htmlFor: "file",
                        className: "block text-gray-700 font-medium mb-2 transition-all duration-300 group-focus-within:text-[#00377f] flex items-center",
                        children: [
                          /* @__PURE__ */ jsx(HiOutlinePaperClip, { className: "mr-2 h-5 w-5 text-gray-500 group-focus-within:text-[#00377f]" }),
                          "Télécharger un fichier"
                        ]
                      }
                    ),
                    /* @__PURE__ */ jsx("div", { className: "mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-200 border-dashed rounded-lg hover:border-[#00377f]/30 transition-colors duration-300 group-focus-within:border-[#00377f]/40 bg-gray-50", children: /* @__PURE__ */ jsxs("div", { className: "space-y-1 text-center", children: [
                      /* @__PURE__ */ jsx(
                        "svg",
                        {
                          className: "mx-auto h-12 w-12 text-gray-400 group-focus-within:text-[#00377f] transition-colors duration-300",
                          stroke: "currentColor",
                          fill: "none",
                          viewBox: "0 0 48 48",
                          "aria-hidden": "true",
                          children: /* @__PURE__ */ jsx(
                            "path",
                            {
                              d: "M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",
                              strokeWidth: 2,
                              strokeLinecap: "round",
                              strokeLinejoin: "round"
                            }
                          )
                        }
                      ),
                      /* @__PURE__ */ jsxs("div", { className: "flex text-sm text-gray-600 justify-center", children: [
                        /* @__PURE__ */ jsxs(
                          "label",
                          {
                            htmlFor: "file",
                            className: "relative cursor-pointer bg-white rounded-md font-medium text-[#00377f] hover:text-[#00377f]/80 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-[#00377f] transition-colors duration-300 px-3 py-1 shadow-sm",
                            children: [
                              /* @__PURE__ */ jsx("span", { children: "Télécharger un fichier" }),
                              /* @__PURE__ */ jsx(
                                "input",
                                {
                                  id: "file",
                                  type: "file",
                                  className: "sr-only",
                                  accept: ".pdf,.doc,.docx",
                                  onChange: handleFileChange
                                }
                              )
                            ]
                          }
                        ),
                        /* @__PURE__ */ jsx("p", { className: "pl-1 pt-1", children: "ou glisser-déposer" })
                      ] }),
                      /* @__PURE__ */ jsx("p", { className: "text-xs text-gray-500", children: "PDF, DOC, DOCX jusqu'à 10MB" })
                    ] }) }),
                    selectedFileName && /* @__PURE__ */ jsxs(
                      motion.div,
                      {
                        initial: { opacity: 0, y: 10 },
                        animate: { opacity: 1, y: 0 },
                        className: "mt-3 flex items-center text-sm text-gray-700 bg-[#00377f]/5 p-2 rounded-lg border border-[#00377f]/10",
                        children: [
                          /* @__PURE__ */ jsx(HiOutlineDocumentText$1, { className: "h-4 w-4 mr-2 text-[#00377f]" }),
                          /* @__PURE__ */ jsxs("span", { children: [
                            "Fichier sélectionné: ",
                            /* @__PURE__ */ jsx("span", { className: "font-medium", children: selectedFileName })
                          ] })
                        ]
                      }
                    ),
                    errors.file && /* @__PURE__ */ jsx(
                      motion.p,
                      {
                        initial: { opacity: 0, y: -10 },
                        animate: { opacity: 1, y: 0 },
                        className: "text-red-500 text-sm mt-2",
                        children: errors.file
                      }
                    )
                  ] })
                ] })
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "group", children: [
                /* @__PURE__ */ jsxs(
                  "label",
                  {
                    htmlFor: "objet",
                    className: "block text-gray-700 font-medium mb-2 transition-all duration-300 group-focus-within:text-[#00377f] flex items-center",
                    children: [
                      /* @__PURE__ */ jsx(HiOutlineDocumentText$1, { className: "mr-2 h-5 w-5 text-gray-500 group-focus-within:text-[#00377f]" }),
                      "Objet ",
                      /* @__PURE__ */ jsx("span", { className: "text-red-500 ml-1", children: "*" })
                    ]
                  }
                ),
                /* @__PURE__ */ jsx("div", { className: "relative", children: /* @__PURE__ */ jsx(
                  "input",
                  {
                    id: "objet",
                    type: "text",
                    value: data.objet,
                    onChange: (e2) => setData("objet", e2.target.value),
                    className: "w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00377f]/20 focus:border-[#00377f] transition-all shadow-sm",
                    placeholder: "Entrez l'objet de l'appel d'offre",
                    required: true
                  }
                ) }),
                errors.objet && /* @__PURE__ */ jsx(
                  motion.p,
                  {
                    initial: { opacity: 0, y: -10 },
                    animate: { opacity: 1, y: 0 },
                    className: "text-red-500 text-sm mt-2",
                    children: errors.objet
                  }
                )
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "group", children: [
                /* @__PURE__ */ jsxs(
                  "label",
                  {
                    htmlFor: "content",
                    className: "block text-gray-700 font-medium mb-2 transition-all duration-300 group-focus-within:text-[#00377f] flex items-center",
                    children: [
                      /* @__PURE__ */ jsx(HiOutlineDocumentText$1, { className: "mr-2 h-5 w-5 text-gray-500 group-focus-within:text-[#00377f]" }),
                      "Description détaillée ",
                      /* @__PURE__ */ jsx("span", { className: "text-red-500 ml-1", children: "*" })
                    ]
                  }
                ),
                /* @__PURE__ */ jsx("div", { className: "relative", children: /* @__PURE__ */ jsx(
                  "textarea",
                  {
                    id: "content",
                    rows: 6,
                    value: data.content,
                    onChange: (e2) => setData("content", e2.target.value),
                    className: "w-full p-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00377f]/20 focus:border-[#00377f] transition-all shadow-sm resize-none",
                    placeholder: "Entrez une description détaillée de l'appel d'offre...",
                    required: true
                  }
                ) }),
                errors.content && /* @__PURE__ */ jsx(
                  motion.p,
                  {
                    initial: { opacity: 0, y: -10 },
                    animate: { opacity: 1, y: 0 },
                    className: "text-red-500 text-sm mt-2",
                    children: errors.content
                  }
                )
              ] }),
              /* @__PURE__ */ jsx("div", { className: "flex justify-end pt-4", children: /* @__PURE__ */ jsxs(
                motion.button,
                {
                  type: "submit",
                  className: "bg-[#00377f] hover:bg-[#00377f]/90 text-white px-8 py-3 rounded-lg flex items-center justify-center transition-all duration-300 shadow-sm",
                  disabled: processing,
                  onMouseEnter: () => setIsHoveringSubmit(true),
                  onMouseLeave: () => setIsHoveringSubmit(false),
                  whileHover: { scale: 1.02 },
                  whileTap: { scale: 0.98 },
                  children: [
                    /* @__PURE__ */ jsx(
                      HiOutlineSave,
                      {
                        className: `mr-2 h-5 w-5 transition-transform duration-300 ${isHoveringSubmit ? "translate-x-1" : ""}`
                      }
                    ),
                    processing ? "Publication en cours..." : "Publier l'appel d'offre"
                  ]
                }
              ) })
            ] }) })
          ]
        }
      ) }) })
    }
  );
}
const __vite_glob_0_14 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: CreateAppelOffre
}, Symbol.toStringTag, { value: "Module" }));
function EditAppelOffre({
  auth,
  appelOffre,
  cities = [],
  sectors = [],
  users = []
}) {
  var _a2;
  const citiesArray = cities || [];
  const sectorsArray = sectors || [];
  const usersArray = users || [];
  const { data, setData, errors, processing, put, reset } = useForm({
    titre: appelOffre.titre || "",
    ICE: appelOffre.ICE || "",
    type: appelOffre.type || "",
    custom_type: "",
    objet: appelOffre.objet || "",
    ville: appelOffre.ville || "",
    secteur: appelOffre.secteur || "",
    user_id: appelOffre.user_id || (usersArray.length > 0 ? usersArray[0].id : "")
  });
  const [isHoveringSubmit, setIsHoveringSubmit] = useState(false);
  const [showCustomType, setShowCustomType] = useState(false);
  const [isFormChanged, setIsFormChanged] = useState(false);
  const [availableCities, setAvailableCities] = useState(citiesArray);
  useEffect(() => {
    if (citiesArray.length === 0) {
      axios.get("/api/cities").then((response) => {
        if (response.data && Array.isArray(response.data)) {
          setAvailableCities(response.data);
          if (!data.ville && response.data.length > 0) {
            setData("ville", response.data[0]);
          }
        }
      }).catch((error) => {
        console.error("Error fetching cities:", error);
        const defaultCities = ["Casablanca", "Rabat", "Marrakech", "Fès", "Tanger", "Agadir", "Meknès", "Oujda", "Kenitra", "Tétouan"];
        setAvailableCities(defaultCities);
        if (!data.ville) {
          setData("ville", defaultCities[0]);
        }
      });
    } else {
      setAvailableCities(citiesArray);
    }
  }, [citiesArray]);
  useEffect(() => {
    const standardTypes = ["TRAVAUX", "FOURNITURES", "SERVICES"];
    if (!standardTypes.includes(appelOffre.type)) {
      setShowCustomType(true);
      setData("type", "Autres");
      setData("custom_type", appelOffre.type);
    }
  }, [appelOffre]);
  useEffect(() => {
    const hasChanged = data.titre !== appelOffre.titre || data.ICE !== appelOffre.ICE || data.type !== appelOffre.type || data.type === "Autres" && data.custom_type !== appelOffre.type || data.objet !== appelOffre.objet || data.ville !== appelOffre.ville || data.secteur !== appelOffre.secteur || data.user_id !== appelOffre.user_id;
    setIsFormChanged(hasChanged);
  }, [data, appelOffre]);
  const handleSubmit = (e2) => {
    e2.preventDefault();
    put(route("admin.appel-offres.update", appelOffre.id), {
      preserveScroll: true,
      onSuccess: () => console.log("Appel d'offre updated successfully"),
      onError: (errors2) => console.error("Error updating appel d'offre:", errors2)
    });
  };
  const handleTypeChange = (e2) => {
    const value = e2.target.value;
    setData("type", value);
    setShowCustomType(value === "Autres");
  };
  const defaultSectors = ["INFORMATIQUE", "CONSTRUCTION", "AGRICULTURE", "SANTÉ", "ÉDUCATION", "TRANSPORT", "AUTRE"];
  const sectorOptions = sectorsArray.length > 0 ? sectorsArray : defaultSectors;
  const getStatusBadge2 = (status) => {
    switch (status) {
      case "APPROVED":
        return {
          bg: "bg-green-50",
          text: "text-green-700",
          border: "border-green-200"
        };
      case "PENDING":
        return {
          bg: "bg-amber-50",
          text: "text-amber-700",
          border: "border-amber-200"
        };
      case "REJECTED":
        return {
          bg: "bg-[#e63946]/10",
          text: "text-[#e63946]",
          border: "border-[#e63946]/20"
        };
      default:
        return {
          bg: "bg-gray-50",
          text: "text-gray-700",
          border: "border-gray-200"
        };
    }
  };
  const statusStyle = getStatusBadge2(appelOffre.status);
  return /* @__PURE__ */ jsx(
    AuthenticatedLayout,
    {
      header: /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between w-full", children: [
        /* @__PURE__ */ jsxs("div", { className: "flex items-center", children: [
          /* @__PURE__ */ jsx("div", { className: "bg-[#00377f]/10 p-2.5 rounded-lg mr-4", children: /* @__PURE__ */ jsx(HiOutlineDocument, { className: "text-[#00377f] text-3xl" }) }),
          /* @__PURE__ */ jsx("div", { children: /* @__PURE__ */ jsx("h1", { className: "text-2xl font-bold text-[#00377f]", children: "Modifier l'Appel d'Offre" }) })
        ] }),
        /* @__PURE__ */ jsx("div", { className: "flex space-x-3", children: /* @__PURE__ */ jsx(
          Link,
          {
            href: route("admin.appel-offres.create"),
            className: "bg-[#00377f] hover:bg-[#00377f]/90 text-white px-5 py-2.5 rounded-lg text-sm font-medium transition-colors duration-200 flex items-center shadow-sm",
            children: "Publier un appel"
          }
        ) })
      ] }),
      children: /* @__PURE__ */ jsx("div", { className: "py-6", children: /* @__PURE__ */ jsxs("div", { className: "max-w-7xl mx-auto px-4 sm:px-6 lg:px-8", children: [
        /* @__PURE__ */ jsx("div", { className: "mb-6", children: /* @__PURE__ */ jsxs(
          Link,
          {
            href: route("admin.appel-offres.index"),
            className: "inline-flex items-center text-[#00377f] hover:text-[#00377f]/80 transition-colors",
            children: [
              /* @__PURE__ */ jsx(HiOutlineArrowLeft$1, { className: "mr-2" }),
              "Retour à la liste des appels d'offres"
            ]
          }
        ) }),
        /* @__PURE__ */ jsxs(
          motion.div,
          {
            initial: { opacity: 0, y: 20 },
            animate: { opacity: 1, y: 0 },
            transition: { duration: 0.5 },
            className: "bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm",
            children: [
              /* @__PURE__ */ jsx("div", { className: "bg-gradient-to-r from-[#00377f]/5 to-gray-50 border-b border-gray-200 p-6", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
                /* @__PURE__ */ jsxs("div", { className: "flex items-center", children: [
                  /* @__PURE__ */ jsx("div", { className: "bg-white p-3 rounded-xl shadow-sm mr-4", children: /* @__PURE__ */ jsx(HiOutlineSparkles, { className: "text-[#00377f] text-xl" }) }),
                  /* @__PURE__ */ jsxs("div", { children: [
                    /* @__PURE__ */ jsx("h3", { className: "text-lg font-semibold text-gray-800", children: "Informations de l'appel d'offre" }),
                    /* @__PURE__ */ jsxs("div", { className: "flex items-center mt-1", children: [
                      /* @__PURE__ */ jsx("span", { className: "text-sm text-gray-500 mr-2", children: "Statut:" }),
                      /* @__PURE__ */ jsx(
                        "span",
                        {
                          className: `inline-flex items-center px-3 py-1 text-xs font-medium rounded-full ${statusStyle.bg} ${statusStyle.text} ${statusStyle.border}`,
                          children: appelOffre.status
                        }
                      )
                    ] })
                  ] })
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "text-sm text-gray-500", children: [
                  "Créé le:",
                  " ",
                  new Date(appelOffre.created_at).toLocaleDateString("fr-FR", {
                    year: "numeric",
                    month: "long",
                    day: "numeric"
                  })
                ] })
              ] }) }),
              /* @__PURE__ */ jsx("div", { className: "p-6 md:p-8 relative z-10", children: /* @__PURE__ */ jsxs("form", { onSubmit: handleSubmit, className: "space-y-8", children: [
                /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8", children: [
                  /* @__PURE__ */ jsxs("div", { className: "space-y-6", children: [
                    /* @__PURE__ */ jsxs("div", { className: "group", children: [
                      /* @__PURE__ */ jsxs(
                        "label",
                        {
                          htmlFor: "titre",
                          className: "block text-gray-700 font-medium mb-2 transition-all duration-300 group-focus-within:text-[#00377f] flex items-center",
                          children: [
                            /* @__PURE__ */ jsx(HiOutlineDocumentText$1, { className: "mr-2 h-5 w-5 text-gray-500 group-focus-within:text-[#00377f]" }),
                            "Titre ",
                            /* @__PURE__ */ jsx("span", { className: "text-red-500 ml-1", children: "*" })
                          ]
                        }
                      ),
                      /* @__PURE__ */ jsx("div", { className: "relative", children: /* @__PURE__ */ jsx(
                        "input",
                        {
                          id: "titre",
                          type: "text",
                          value: data.titre,
                          onChange: (e2) => setData("titre", e2.target.value),
                          className: "w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00377f]/20 focus:border-[#00377f] transition-all shadow-sm",
                          placeholder: "Entrez le titre de l'appel d'offre",
                          required: true
                        }
                      ) }),
                      errors.titre && /* @__PURE__ */ jsx(
                        motion.p,
                        {
                          initial: { opacity: 0, y: -10 },
                          animate: { opacity: 1, y: 0 },
                          className: "text-red-500 text-sm mt-2 flex items-center",
                          children: errors.titre
                        }
                      )
                    ] }),
                    /* @__PURE__ */ jsxs("div", { className: "group", children: [
                      /* @__PURE__ */ jsxs(
                        "label",
                        {
                          htmlFor: "ICE",
                          className: "block text-gray-700 font-medium mb-2 transition-all duration-300 group-focus-within:text-[#00377f] flex items-center",
                          children: [
                            /* @__PURE__ */ jsx(HiOutlineIdentification, { className: "mr-2 h-5 w-5 text-gray-500 group-focus-within:text-[#00377f]" }),
                            "ICE ",
                            /* @__PURE__ */ jsx("span", { className: "text-gray-400 ml-1 text-sm", children: "(optionnel)" })
                          ]
                        }
                      ),
                      /* @__PURE__ */ jsx("div", { className: "relative", children: /* @__PURE__ */ jsx(
                        "input",
                        {
                          id: "ICE",
                          type: "text",
                          value: data.ICE,
                          onChange: (e2) => setData("ICE", e2.target.value),
                          className: "w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00377f]/20 focus:border-[#00377f] transition-all shadow-sm",
                          placeholder: "Entrez le numéro ICE (15 caractères)",
                          maxLength: 15
                        }
                      ) }),
                      errors.ICE && /* @__PURE__ */ jsx(
                        motion.p,
                        {
                          initial: { opacity: 0, y: -10 },
                          animate: { opacity: 1, y: 0 },
                          className: "text-red-500 text-sm mt-2",
                          children: errors.ICE
                        }
                      )
                    ] }),
                    /* @__PURE__ */ jsxs("div", { className: "group", children: [
                      /* @__PURE__ */ jsxs(
                        "label",
                        {
                          htmlFor: "type",
                          className: "block text-gray-700 font-medium mb-2 transition-all duration-300 group-focus-within:text-[#00377f] flex items-center",
                          children: [
                            /* @__PURE__ */ jsx(HiOutlineTag, { className: "mr-2 h-5 w-5 text-gray-500 group-focus-within:text-[#00377f]" }),
                            "Type ",
                            /* @__PURE__ */ jsx("span", { className: "text-red-500 ml-1", children: "*" })
                          ]
                        }
                      ),
                      /* @__PURE__ */ jsxs("div", { className: "relative", children: [
                        /* @__PURE__ */ jsxs(
                          "select",
                          {
                            id: "type",
                            value: data.type,
                            onChange: handleTypeChange,
                            className: "w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00377f]/20 focus:border-[#00377f] transition-all shadow-sm appearance-none bg-white",
                            required: true,
                            children: [
                              /* @__PURE__ */ jsx("option", { value: "", disabled: true, children: "Sélectionnez un type" }),
                              /* @__PURE__ */ jsx("option", { value: "TRAVAUX", children: "Travaux" }),
                              /* @__PURE__ */ jsx("option", { value: "FOURNITURES", children: "Fournitures" }),
                              /* @__PURE__ */ jsx("option", { value: "SERVICES", children: "Services" }),
                              /* @__PURE__ */ jsx("option", { value: "Autres", children: "Autre" })
                            ]
                          }
                        ),
                        /* @__PURE__ */ jsx("div", { className: "absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none", children: /* @__PURE__ */ jsx("svg", { className: "h-5 w-5 text-gray-500", fill: "none", viewBox: "0 0 24 24", stroke: "currentColor", children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M19 9l-7 7-7-7" }) }) })
                      ] }),
                      errors.type && /* @__PURE__ */ jsx(
                        motion.p,
                        {
                          initial: { opacity: 0, y: -10 },
                          animate: { opacity: 1, y: 0 },
                          className: "text-red-500 text-sm mt-2",
                          children: errors.type
                        }
                      )
                    ] }),
                    showCustomType && /* @__PURE__ */ jsxs(
                      motion.div,
                      {
                        initial: { opacity: 0, height: 0 },
                        animate: { opacity: 1, height: "auto" },
                        exit: { opacity: 0, height: 0 },
                        className: "group",
                        children: [
                          /* @__PURE__ */ jsxs(
                            "label",
                            {
                              htmlFor: "custom_type",
                              className: "block text-gray-700 font-medium mb-2 transition-all duration-300 group-focus-within:text-[#00377f] flex items-center",
                              children: [
                                /* @__PURE__ */ jsx(HiOutlineTag, { className: "mr-2 h-5 w-5 text-gray-500 group-focus-within:text-[#00377f]" }),
                                "Précisez le type ",
                                /* @__PURE__ */ jsx("span", { className: "text-red-500 ml-1", children: "*" })
                              ]
                            }
                          ),
                          /* @__PURE__ */ jsx("div", { className: "relative", children: /* @__PURE__ */ jsx(
                            "input",
                            {
                              id: "custom_type",
                              type: "text",
                              value: data.custom_type,
                              onChange: (e2) => setData("custom_type", e2.target.value),
                              className: "w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00377f]/20 focus:border-[#00377f] transition-all shadow-sm",
                              placeholder: "Précisez le type d'appel d'offre",
                              required: showCustomType
                            }
                          ) }),
                          errors.custom_type && /* @__PURE__ */ jsx(
                            motion.p,
                            {
                              initial: { opacity: 0, y: -10 },
                              animate: { opacity: 1, y: 0 },
                              className: "text-red-500 text-sm mt-2",
                              children: errors.custom_type
                            }
                          )
                        ]
                      }
                    )
                  ] }),
                  /* @__PURE__ */ jsxs("div", { className: "space-y-6", children: [
                    /* @__PURE__ */ jsxs("div", { className: "group", children: [
                      /* @__PURE__ */ jsxs(
                        "label",
                        {
                          htmlFor: "ville",
                          className: "block text-gray-700 font-medium mb-2 transition-all duration-300 group-focus-within:text-[#00377f] flex items-center",
                          children: [
                            /* @__PURE__ */ jsx(HiOutlineLocationMarker, { className: "mr-2 h-5 w-5 text-gray-500 group-focus-within:text-[#00377f]" }),
                            "Ville ",
                            /* @__PURE__ */ jsx("span", { className: "text-red-500 ml-1", children: "*" })
                          ]
                        }
                      ),
                      /* @__PURE__ */ jsxs("div", { className: "relative", children: [
                        /* @__PURE__ */ jsx(
                          "select",
                          {
                            id: "ville",
                            value: data.ville,
                            onChange: (e2) => setData("ville", e2.target.value),
                            className: "w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00377f]/20 focus:border-[#00377f] transition-all shadow-sm appearance-none bg-white",
                            required: true,
                            children: availableCities.length > 0 ? availableCities.map((city, index2) => /* @__PURE__ */ jsx("option", { value: city, children: city }, index2)) : /* @__PURE__ */ jsx("option", { value: "", children: "Chargement des villes..." })
                          }
                        ),
                        /* @__PURE__ */ jsx("div", { className: "absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none", children: /* @__PURE__ */ jsx("svg", { className: "h-5 w-5 text-gray-500", fill: "none", viewBox: "0 0 24 24", stroke: "currentColor", children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M19 9l-7 7-7-7" }) }) })
                      ] }),
                      errors.ville && /* @__PURE__ */ jsx(
                        motion.p,
                        {
                          initial: { opacity: 0, y: -10 },
                          animate: { opacity: 1, y: 0 },
                          className: "text-red-500 text-sm mt-2",
                          children: errors.ville
                        }
                      )
                    ] }),
                    /* @__PURE__ */ jsxs("div", { className: "group", children: [
                      /* @__PURE__ */ jsxs(
                        "label",
                        {
                          htmlFor: "secteur",
                          className: "block text-gray-700 font-medium mb-2 transition-all duration-300 group-focus-within:text-[#00377f] flex items-center",
                          children: [
                            /* @__PURE__ */ jsx(HiOutlineGlobe, { className: "mr-2 h-5 w-5 text-gray-500 group-focus-within:text-[#00377f]" }),
                            "Secteur ",
                            /* @__PURE__ */ jsx("span", { className: "text-red-500 ml-1", children: "*" })
                          ]
                        }
                      ),
                      /* @__PURE__ */ jsxs("div", { className: "relative", children: [
                        /* @__PURE__ */ jsx(
                          "select",
                          {
                            id: "secteur",
                            value: data.secteur,
                            onChange: (e2) => setData("secteur", e2.target.value),
                            className: "w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00377f]/20 focus:border-[#00377f] transition-all shadow-sm appearance-none bg-white",
                            required: true,
                            children: sectorOptions.map((sector, index2) => /* @__PURE__ */ jsx("option", { value: sector, children: sector }, index2))
                          }
                        ),
                        /* @__PURE__ */ jsx("div", { className: "absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none", children: /* @__PURE__ */ jsx("svg", { className: "h-5 w-5 text-gray-500", fill: "none", viewBox: "0 0 24 24", stroke: "currentColor", children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M19 9l-7 7-7-7" }) }) })
                      ] }),
                      errors.secteur && /* @__PURE__ */ jsx(
                        motion.p,
                        {
                          initial: { opacity: 0, y: -10 },
                          animate: { opacity: 1, y: 0 },
                          className: "text-red-500 text-sm mt-2",
                          children: errors.secteur
                        }
                      )
                    ] })
                  ] })
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "group", children: [
                  /* @__PURE__ */ jsxs(
                    "label",
                    {
                      htmlFor: "objet",
                      className: "block text-gray-700 font-medium mb-2 transition-all duration-300 group-focus-within:text-[#00377f] flex items-center",
                      children: [
                        /* @__PURE__ */ jsx(HiOutlineDocumentText$1, { className: "mr-2 h-5 w-5 text-gray-500 group-focus-within:text-[#00377f]" }),
                        "Objet ",
                        /* @__PURE__ */ jsx("span", { className: "text-red-500 ml-1", children: "*" })
                      ]
                    }
                  ),
                  /* @__PURE__ */ jsx("div", { className: "relative", children: /* @__PURE__ */ jsx(
                    "textarea",
                    {
                      id: "objet",
                      rows: 6,
                      value: data.objet,
                      onChange: (e2) => setData("objet", e2.target.value),
                      className: "w-full p-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00377f]/20 focus:border-[#00377f] transition-all shadow-sm resize-none",
                      placeholder: "Décrivez l'objet de l'appel d'offre en détail...",
                      required: true
                    }
                  ) }),
                  errors.objet && /* @__PURE__ */ jsx(
                    motion.p,
                    {
                      initial: { opacity: 0, y: -10 },
                      animate: { opacity: 1, y: 0 },
                      className: "text-red-500 text-sm mt-2",
                      children: errors.objet
                    }
                  )
                ] }),
                /* @__PURE__ */ jsx("div", { className: "flex justify-end pt-4 space-x-4", children: /* @__PURE__ */ jsxs(
                  motion.button,
                  {
                    type: "submit",
                    className: `bg-[#00377f] hover:bg-[#00377f]/90 text-white px-8 py-3 rounded-lg flex items-center justify-center transition-all duration-300 shadow-sm ${!isFormChanged ? "opacity-50 cursor-not-allowed" : ""}`,
                    disabled: processing || !isFormChanged,
                    onMouseEnter: () => setIsHoveringSubmit(true),
                    onMouseLeave: () => setIsHoveringSubmit(false),
                    whileHover: { scale: isFormChanged ? 1.02 : 1 },
                    whileTap: { scale: isFormChanged ? 0.98 : 1 },
                    children: [
                      /* @__PURE__ */ jsx(
                        HiOutlineSave,
                        {
                          className: `mr-2 h-5 w-5 transition-transform duration-300 ${isHoveringSubmit && isFormChanged ? "translate-x-1" : ""}`
                        }
                      ),
                      processing ? "Mise à jour en cours..." : "Mettre à jour"
                    ]
                  }
                ) })
              ] }) })
            ]
          }
        ),
        /* @__PURE__ */ jsxs(
          motion.div,
          {
            initial: { opacity: 0, y: 20 },
            animate: { opacity: 1, y: 0 },
            transition: { duration: 0.5, delay: 0.2 },
            className: "bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm mt-6",
            children: [
              /* @__PURE__ */ jsx("div", { className: "bg-gradient-to-r from-[#00377f]/5 to-gray-50 border-b border-gray-200 p-6", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center", children: [
                /* @__PURE__ */ jsx("div", { className: "bg-white p-3 rounded-xl shadow-sm mr-4", children: /* @__PURE__ */ jsx(HiOutlineDocumentText$1, { className: "text-[#00377f] text-xl" }) }),
                /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsx("h3", { className: "text-lg font-semibold text-gray-800", children: "Informations supplémentaires" }),
                  /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 mt-1", children: "Détails et historique de l'appel d'offre" })
                ] })
              ] }) }),
              /* @__PURE__ */ jsxs("div", { className: "p-6", children: [
                /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-6", children: [
                  /* @__PURE__ */ jsxs("div", { children: [
                    /* @__PURE__ */ jsx("h4", { className: "text-sm font-medium text-gray-500 mb-2", children: "ID de l'appel d'offre" }),
                    /* @__PURE__ */ jsxs("p", { className: "text-[#00377f] font-medium", children: [
                      "#",
                      appelOffre.id
                    ] })
                  ] }),
                  /* @__PURE__ */ jsxs("div", { children: [
                    /* @__PURE__ */ jsx("h4", { className: "text-sm font-medium text-gray-500 mb-2", children: "Date de création" }),
                    /* @__PURE__ */ jsx("p", { className: "text-gray-800", children: new Date(appelOffre.created_at).toLocaleDateString("fr-FR", {
                      year: "numeric",
                      month: "long",
                      day: "numeric",
                      hour: "2-digit",
                      minute: "2-digit"
                    }) })
                  ] }),
                  /* @__PURE__ */ jsxs("div", { children: [
                    /* @__PURE__ */ jsx("h4", { className: "text-sm font-medium text-gray-500 mb-2", children: "Statut actuel" }),
                    /* @__PURE__ */ jsx(
                      "span",
                      {
                        className: `inline-flex items-center px-3 py-1 text-sm font-medium rounded-full ${statusStyle.bg} ${statusStyle.text} ${statusStyle.border}`,
                        children: appelOffre.status
                      }
                    )
                  ] }),
                  /* @__PURE__ */ jsxs("div", { children: [
                    /* @__PURE__ */ jsx("h4", { className: "text-sm font-medium text-gray-500 mb-2", children: "Utilisateur assigné" }),
                    /* @__PURE__ */ jsx("p", { className: "text-gray-800", children: ((_a2 = users.find((user) => user.id === appelOffre.user_id)) == null ? void 0 : _a2.name) || "Non assigné" })
                  ] })
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "mt-8", children: [
                  /* @__PURE__ */ jsx("h4", { className: "text-sm font-medium text-gray-500 mb-2", children: "Actions disponibles" }),
                  /* @__PURE__ */ jsxs("div", { className: "flex flex-wrap gap-3 mt-2", children: [
                    /* @__PURE__ */ jsxs(
                      Link,
                      {
                        href: route("admin.appel-offres.index"),
                        className: "inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",
                        children: [
                          /* @__PURE__ */ jsx(HiOutlineArrowLeft$1, { className: "mr-2 h-5 w-5" }),
                          "Retour à la liste"
                        ]
                      }
                    ),
                    /* @__PURE__ */ jsxs(
                      Link,
                      {
                        href: `/admin/appel-offres/${appelOffre.id}`,
                        className: "inline-flex items-center px-4 py-2 border border-[#00377f] rounded-lg text-sm font-medium text-[#00377f] hover:bg-[#00377f]/10 transition-colors",
                        children: [
                          /* @__PURE__ */ jsx(HiOutlineEye$1, { className: "mr-2 h-5 w-5" }),
                          "Voir les détails"
                        ]
                      }
                    ),
                    appelOffre.status === "PENDING" && /* @__PURE__ */ jsxs(Fragment, { children: [
                      /* @__PURE__ */ jsxs(
                        "button",
                        {
                          type: "button",
                          onClick: () => {
                            if (confirm("Êtes-vous sûr de vouloir approuver cet appel d'offre?")) {
                              Inertia$1.put(`/admin/appel-offres/${appelOffre.id}/update-status`, { status: "APPROVED" });
                            }
                          },
                          className: "inline-flex items-center px-4 py-2 border border-green-500 rounded-lg text-sm font-medium text-green-600 hover:bg-green-50 transition-colors",
                          children: [
                            /* @__PURE__ */ jsx(HiOutlineCheck, { className: "mr-2 h-5 w-5" }),
                            "Approuver"
                          ]
                        }
                      ),
                      /* @__PURE__ */ jsxs(
                        "button",
                        {
                          type: "button",
                          onClick: () => {
                            if (confirm("Êtes-vous sûr de vouloir rejeter cet appel d'offre?")) {
                              Inertia$1.put(`/admin/appel-offres/${appelOffre.id}/update-status`, { status: "REJECTED" });
                            }
                          },
                          className: "inline-flex items-center px-4 py-2 border border-[#e63946] rounded-lg text-sm font-medium text-[#e63946] hover:bg-[#e63946]/10 transition-colors",
                          children: [
                            /* @__PURE__ */ jsx(HiOutlineX, { className: "mr-2 h-5 w-5" }),
                            "Rejeter"
                          ]
                        }
                      )
                    ] })
                  ] })
                ] })
              ] })
            ]
          }
        )
      ] }) })
    }
  );
}
const __vite_glob_0_15 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: EditAppelOffre
}, Symbol.toStringTag, { value: "Module" }));
function Show$2({ appelOffre, auth }) {
  const formattedDate = appelOffre.created_at ? new Date(appelOffre.created_at).toLocaleDateString("fr-FR", {
    day: "numeric",
    month: "long",
    year: "numeric"
  }) : null;
  const getStatusStyle = (status) => {
    switch (status.toUpperCase()) {
      case "APPROVED":
        return "bg-emerald-50 text-emerald-700 border-emerald-200";
      case "PENDING":
        return "bg-amber-50 text-amber-700 border-amber-200";
      case "REJECTED":
        return "bg-red-50 text-red-700 border-red-200";
      default:
        return "bg-blue-50 text-blue-700 border-blue-200";
    }
  };
  const getTypeBadge = (type) => {
    const colors = {
      TRAVAUX: "bg-blue-50 text-blue-700 border-blue-200",
      FOURNITURES: "bg-purple-50 text-purple-700 border-purple-200",
      SERVICES: "bg-orange-50 text-orange-700 border-orange-200",
      AUTRE: "bg-gray-50 text-gray-700 border-gray-200"
    };
    return colors[type] || "bg-[#00377f]/10 text-[#00377f] border-[#00377f]/20";
  };
  return /* @__PURE__ */ jsx(
    AuthenticatedLayout,
    {
      header: /* @__PURE__ */ jsxs("div", { className: "flex items-center space-x-3", children: [
        /* @__PURE__ */ jsx("div", { className: "p-2 bg-blue-50 rounded-lg", children: /* @__PURE__ */ jsx(FileText, { className: "w-6 h-6 text-blue-600" }) }),
        /* @__PURE__ */ jsx("h2", { className: "text-2xl font-bold leading-tight text-gray-800 dark:text-gray-200", children: "Détails de l'appel d'offre" })
      ] }),
      children: /* @__PURE__ */ jsxs("div", { className: "max-w-5xl mx-auto px-4 py-8 sm:px-6 lg:px-8", children: [
        /* @__PURE__ */ jsxs(
          Link$1,
          {
            href: route("admin.appel-offres.index"),
            className: "inline-flex items-center mb-6 text-sm font-medium text-blue-600 hover:text-blue-500 transition-colors",
            children: [
              /* @__PURE__ */ jsx(ArrowLeft, { className: "w-4 h-4 mr-1" }),
              "Retour aux appels d'offres"
            ]
          }
        ),
        /* @__PURE__ */ jsxs("div", { className: "bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden", children: [
          /* @__PURE__ */ jsx("div", { className: "border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50 px-6 py-4", children: /* @__PURE__ */ jsxs("div", { className: "flex flex-wrap items-center justify-between gap-4", children: [
            /* @__PURE__ */ jsx("h1", { className: "text-xl font-bold text-gray-900 dark:text-white", children: appelOffre.titre }),
            /* @__PURE__ */ jsx("div", { className: `px-3 py-1 rounded-full text-sm font-medium border ${getStatusStyle(appelOffre.status)}`, children: appelOffre.status })
          ] }) }),
          /* @__PURE__ */ jsx("div", { className: "p-6", children: /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 md:grid-cols-3 gap-8", children: [
            /* @__PURE__ */ jsxs("div", { className: "md:col-span-1 space-y-6", children: [
              /* @__PURE__ */ jsxs("div", { className: "bg-gray-50 dark:bg-gray-900/30 rounded-lg p-5 border border-gray-100 dark:border-gray-800", children: [
                /* @__PURE__ */ jsxs("div", { className: "flex items-center mb-4", children: [
                  /* @__PURE__ */ jsx(Building, { className: "w-5 h-5 text-blue-600 dark:text-blue-400 mr-2" }),
                  /* @__PURE__ */ jsx("h3", { className: "font-semibold text-gray-900 dark:text-gray-100", children: "Informations générales" })
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "space-y-3", children: [
                  /* @__PURE__ */ jsxs("div", { children: [
                    /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 dark:text-gray-400", children: "ICE" }),
                    /* @__PURE__ */ jsx("p", { className: "font-mono font-medium text-gray-900 dark:text-white", children: appelOffre.ICE })
                  ] }),
                  /* @__PURE__ */ jsxs("div", { children: [
                    /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 dark:text-gray-400", children: "Type" }),
                    /* @__PURE__ */ jsx("div", { className: "mt-1", children: /* @__PURE__ */ jsx(
                      "span",
                      {
                        className: `inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${getTypeBadge(appelOffre.type)}`,
                        children: appelOffre.type
                      }
                    ) })
                  ] }),
                  appelOffre.ville && /* @__PURE__ */ jsxs("div", { children: [
                    /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 dark:text-gray-400", children: "Ville" }),
                    /* @__PURE__ */ jsxs("div", { className: "flex items-center", children: [
                      /* @__PURE__ */ jsx(MapPin, { className: "w-3.5 h-3.5 text-blue-600 dark:text-blue-400 mr-1.5" }),
                      /* @__PURE__ */ jsx("p", { className: "font-medium text-gray-900 dark:text-white", children: appelOffre.ville })
                    ] })
                  ] }),
                  appelOffre.secteur && /* @__PURE__ */ jsxs("div", { children: [
                    /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 dark:text-gray-400", children: "Secteur" }),
                    /* @__PURE__ */ jsxs("div", { className: "flex items-center", children: [
                      /* @__PURE__ */ jsx(Briefcase, { className: "w-3.5 h-3.5 text-blue-600 dark:text-blue-400 mr-1.5" }),
                      /* @__PURE__ */ jsx("p", { className: "font-medium text-gray-900 dark:text-white", children: appelOffre.secteur })
                    ] })
                  ] })
                ] })
              ] }),
              appelOffre.user && /* @__PURE__ */ jsxs("div", { className: "bg-gray-50 dark:bg-gray-900/30 rounded-lg p-5 border border-gray-100 dark:border-gray-800", children: [
                /* @__PURE__ */ jsxs("div", { className: "flex items-center mb-4", children: [
                  /* @__PURE__ */ jsx(UserIcon, { className: "w-5 h-5 text-blue-600 dark:text-blue-400 mr-2" }),
                  /* @__PURE__ */ jsx("h3", { className: "font-semibold text-gray-900 dark:text-gray-100", children: "Créé par" })
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "flex items-center", children: [
                  /* @__PURE__ */ jsx("div", { className: "w-10 h-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center mr-3", children: /* @__PURE__ */ jsx("span", { className: "text-blue-600 dark:text-blue-400 font-medium", children: appelOffre.user.name.charAt(0).toUpperCase() }) }),
                  /* @__PURE__ */ jsxs("div", { children: [
                    /* @__PURE__ */ jsx("p", { className: "font-medium text-gray-900 dark:text-white", children: appelOffre.user.name }),
                    /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 dark:text-gray-400", children: appelOffre.user.email })
                  ] })
                ] }),
                formattedDate && /* @__PURE__ */ jsxs("div", { className: "mt-4 flex items-center text-sm text-gray-500 dark:text-gray-400", children: [
                  /* @__PURE__ */ jsx(Calendar$2, { className: "w-3.5 h-3.5 mr-1.5" }),
                  /* @__PURE__ */ jsxs("span", { children: [
                    "Publié le ",
                    formattedDate
                  ] })
                ] })
              ] }),
              appelOffre.document && /* @__PURE__ */ jsx("div", { className: "bg-blue-50 dark:bg-blue-900/20 rounded-lg p-5 border border-blue-100 dark:border-blue-800/30", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
                /* @__PURE__ */ jsxs("div", { className: "flex items-center", children: [
                  /* @__PURE__ */ jsx(FileText, { className: "w-5 h-5 text-blue-600 dark:text-blue-400 mr-2" }),
                  /* @__PURE__ */ jsx("h3", { className: "font-semibold text-gray-900 dark:text-gray-100", children: "Document" })
                ] }),
                /* @__PURE__ */ jsx(
                  "a",
                  {
                    href: `/storage/${appelOffre.document}`,
                    target: "_blank",
                    rel: "noopener noreferrer",
                    className: "text-sm font-medium text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300",
                    children: "Télécharger"
                  }
                )
              ] }) })
            ] }),
            /* @__PURE__ */ jsx("div", { className: "md:col-span-2", children: /* @__PURE__ */ jsxs("div", { className: "bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-5 mb-6", children: [
              /* @__PURE__ */ jsx("h3", { className: "font-semibold text-gray-900 dark:text-gray-100 mb-4", children: "Objet de l'appel d'offre" }),
              /* @__PURE__ */ jsx("div", { className: "prose dark:prose-invert max-w-none", children: /* @__PURE__ */ jsx("p", { className: "text-gray-700 dark:text-gray-300 whitespace-pre-line", children: appelOffre.object }) })
            ] }) })
          ] }) })
        ] })
      ] })
    }
  );
}
const __vite_glob_0_16 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: Show$2
}, Symbol.toStringTag, { value: "Module" }));
function PaymentIndex({
  annonces,
  auth
}) {
  const [selectedItem, setSelectedItem] = useState(null);
  const [isModalOpen, setIsModalOpen] = useState(false);
  const [deletedItems, setDeletedItems] = useState([]);
  const truncateText = (text, limit) => {
    return text.length > limit ? text.substring(0, limit) + "..." : text;
  };
  const getApprovalStatusBadge = (status) => {
    switch (status == null ? void 0 : status.toLowerCase()) {
      case "approved":
        return /* @__PURE__ */ jsxs("span", { className: "inline-flex items-center px-3 py-1 text-sm font-medium rounded-full border bg-blue-50 text-blue-700 border-blue-200", children: [
          /* @__PURE__ */ jsx("div", { className: "w-2 h-2 rounded-full mr-1.5 bg-blue-500" }),
          "Approuvé"
        ] });
      case "rejected":
        return /* @__PURE__ */ jsxs("span", { className: "inline-flex items-center px-3 py-1 text-sm font-medium rounded-full border bg-red-50 text-red-700 border-red-200", children: [
          /* @__PURE__ */ jsx("div", { className: "w-2 h-2 rounded-full mr-1.5 bg-red-500" }),
          "Rejeté"
        ] });
      case "pending":
      default:
        return /* @__PURE__ */ jsxs("span", { className: "inline-flex items-center px-3 py-1 text-sm font-medium rounded-full border bg-yellow-50 text-yellow-700 border-yellow-200", children: [
          /* @__PURE__ */ jsx("div", { className: "w-2 h-2 rounded-full mr-1.5 bg-yellow-500" }),
          "En attente"
        ] });
    }
  };
  const handleDelete = (itemId) => {
    if (confirm("Êtes-vous sûr de vouloir supprimer cet élément ?")) {
      setDeletedItems((prev) => [...prev, itemId]);
      if (selectedItem && selectedItem.id === itemId) {
        setIsModalOpen(false);
        setSelectedItem(null);
      }
    }
  };
  const annonceColumns = [
    {
      field: "title",
      headerName: "Annonce",
      minWidth: 200,
      flex: 1,
      renderCell: (params) => /* @__PURE__ */ jsxs("div", { children: [
        /* @__PURE__ */ jsx("div", { className: "font-medium text-[#00377f]", children: truncateText(params.row.title ?? "—", 30) }),
        /* @__PURE__ */ jsx("div", { className: "text-xs text-[#00377f]/60", children: params.row.nameSociete ?? "—" })
      ] })
    },
    {
      field: "user_name",
      headerName: "Utilisateur",
      minWidth: 180,
      flex: 1,
      renderCell: (params) => {
        var _a2, _b;
        return /* @__PURE__ */ jsxs("div", { children: [
          /* @__PURE__ */ jsx("div", { className: "font-medium text-[#00377f]", children: ((_a2 = params.row.user) == null ? void 0 : _a2.name) ?? "—" }),
          /* @__PURE__ */ jsx("div", { className: "text-xs text-[#00377f]/60", children: ((_b = params.row.user) == null ? void 0 : _b.email) ?? "—" })
        ] });
      }
    },
    {
      field: "reference",
      headerName: "Référence",
      minWidth: 140,
      renderCell: (params) => /* @__PURE__ */ jsx("div", { className: "font-semibold text-[#00377f]", children: params.row.payment_reference || `AN-${params.row.id}` })
    },
    {
      field: "approval_status",
      headerName: "Approbation",
      minWidth: 120,
      renderCell: (params) => getApprovalStatusBadge(params.row.status || params.row.approval_status)
    },
    {
      field: "actions",
      headerName: "Actions",
      width: 180,
      renderCell: (params) => /* @__PURE__ */ jsxs("div", { className: "flex gap-1", children: [
        /* @__PURE__ */ jsxs(
          "button",
          {
            onClick: (e2) => {
              e2.stopPropagation();
              Inertia$1.post(`/admin/annonce/${params.row.id}/mark-paid`);
            },
            className: "group relative inline-flex items-center gap-1.5 px-3 py-2 text-sm font-medium text-emerald-700 bg-emerald-50 border border-emerald-200 rounded-lg hover:bg-emerald-100 hover:border-emerald-300 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-1 transition-all duration-200 transform hover:scale-105",
            title: "Marquer comme payé",
            children: [
              /* @__PURE__ */ jsx(HiCheckCircle, { className: "w-4 h-4 transition-transform duration-200 group-hover:scale-110" }),
              /* @__PURE__ */ jsx("span", { className: "hidden sm:inline", children: "Approuver" })
            ]
          }
        ),
        /* @__PURE__ */ jsx(
          "button",
          {
            onClick: (e2) => {
              e2.stopPropagation();
              handleDelete(params.row.id);
            },
            className: "bg-red-50 hover:bg-red-100 text-red-700 p-1.5 rounded-md transition-colors duration-200",
            title: "Supprimer",
            children: /* @__PURE__ */ jsx(HiOutlineTrash, { className: "w-4 h-4" })
          }
        )
      ] })
    }
  ];
  const filteredAnnonces = annonces.filter((item) => !deletedItems.includes(item.id));
  const paidCount = (filteredAnnonces == null ? void 0 : filteredAnnonces.filter((item) => item.is_paid).length) || 0;
  const pendingCount = (filteredAnnonces == null ? void 0 : filteredAnnonces.filter((item) => !item.is_paid).length) || 0;
  const totalCount = (filteredAnnonces == null ? void 0 : filteredAnnonces.length) || 0;
  return /* @__PURE__ */ jsx(
    AuthenticatedLayout,
    {
      header: /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between w-full", children: [
        /* @__PURE__ */ jsxs("div", { className: "flex items-center", children: [
          /* @__PURE__ */ jsx("div", { className: "bg-blue-700/10 p-2.5 rounded-lg mr-4", children: /* @__PURE__ */ jsx(MdPayment, { className: "text-blue-800 text-3xl" }) }),
          /* @__PURE__ */ jsxs("div", { children: [
            /* @__PURE__ */ jsx("h2", { className: "text-2xl font-bold text-[#00377f]", children: "Gestion des Paiements - Annonces" }),
            /* @__PURE__ */ jsx("p", { className: "text-sm text-[#00377f]/60 mt-1", children: "Gérez les paiements des annonces publiées" })
          ] })
        ] }),
        /* @__PURE__ */ jsx("div", { className: "flex items-center space-x-3", children: /* @__PURE__ */ jsxs("div", { className: "text-right", children: [
          /* @__PURE__ */ jsx("div", { className: "text-sm text-[#00377f]/60", children: "Total des annonces" }),
          /* @__PURE__ */ jsxs("div", { className: "text-lg font-bold text-[#00377f]", children: [
            totalCount,
            " annonces"
          ] })
        ] }) })
      ] }),
      children: /* @__PURE__ */ jsxs("div", { className: "p-4", children: [
        /* @__PURE__ */ jsx("div", { className: "bg-white rounded-xl border border-[#00377f]/10 overflow-hidden shadow-sm", children: /* @__PURE__ */ jsx(
          DataTable,
          {
            slug: "payments",
            columns: annonceColumns,
            rows: filteredAnnonces,
            includeActionColumn: false,
            viewRoute: "/admin/paiement/show"
          }
        ) }),
        /* @__PURE__ */ jsxs("div", { className: "bg-white shadow-sm rounded-xl border border-[#00377f]/10 p-4 mt-6 relative overflow-hidden", children: [
          /* @__PURE__ */ jsxs("div", { className: "relative z-10 flex items-center mb-4", children: [
            /* @__PURE__ */ jsx("div", { className: "bg-[#00377f]/10 p-2.5 rounded-lg mr-4", children: /* @__PURE__ */ jsx(MdFilterList, { className: "text-[#00377f] text-3xl" }) }),
            /* @__PURE__ */ jsxs("div", { children: [
              /* @__PURE__ */ jsx("h2", { className: "text-2xl font-bold text-[#00377f]", children: "Statistiques des Paiements" }),
              /* @__PURE__ */ jsx("p", { className: "text-sm text-[#00377f]/60 mt-1", children: "Résumé des paiements" })
            ] })
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-2 gap-4", children: [
            /* @__PURE__ */ jsxs("div", { className: "bg-green-50 rounded-lg p-4", children: [
              /* @__PURE__ */ jsx("h3", { className: "text-lg font-bold text-green-700", children: "Annonces Payées" }),
              /* @__PURE__ */ jsx("p", { className: "text-2xl font-bold text-green-800", children: paidCount })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "bg-yellow-50 rounded-lg p-4", children: [
              /* @__PURE__ */ jsx("h3", { className: "text-lg font-bold text-yellow-700", children: "Annonces En Attente" }),
              /* @__PURE__ */ jsx("p", { className: "text-2xl font-bold text-yellow-800", children: pendingCount })
            ] })
          ] })
        ] })
      ] })
    }
  );
}
const __vite_glob_0_17 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: PaymentIndex
}, Symbol.toStringTag, { value: "Module" }));
function InputError({
  message,
  className = "",
  ...props
}) {
  return message ? /* @__PURE__ */ jsx(
    "p",
    {
      ...props,
      className: "text-sm text-red-600 dark:text-red-400 " + className,
      children: message
    }
  ) : null;
}
function InputLabel({
  value,
  className = "",
  children,
  ...props
}) {
  return /* @__PURE__ */ jsx(
    "label",
    {
      ...props,
      className: `block text-sm font-medium text-gray-700 dark:text-gray-300 ` + className,
      children: value ? value : children
    }
  );
}
function PrimaryButton({
  className = "",
  disabled,
  children,
  ...props
}) {
  return /* @__PURE__ */ jsx(
    "button",
    {
      ...props,
      className: `inline-flex items-center rounded-md border border-transparent bg-gray-800 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition duration-150 ease-in-out hover:bg-gray-700 focus:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 active:bg-gray-900 dark:bg-gray-200 dark:text-gray-800 dark:hover:bg-white dark:focus:bg-white dark:focus:ring-offset-gray-800 dark:active:bg-gray-300 ${disabled && "opacity-25"} ` + className,
      disabled,
      children
    }
  );
}
const TextInput = forwardRef(function TextInput2({
  type = "text",
  className = "",
  isFocused = false,
  ...props
}, ref) {
  const localRef = useRef(null);
  useImperativeHandle(ref, () => ({
    focus: () => {
      var _a2;
      return (_a2 = localRef.current) == null ? void 0 : _a2.focus();
    }
  }));
  useEffect(() => {
    var _a2;
    if (isFocused) {
      (_a2 = localRef.current) == null ? void 0 : _a2.focus();
    }
  }, [isFocused]);
  return /* @__PURE__ */ jsx(
    "input",
    {
      ...props,
      type,
      className: "w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 dark:focus:border-indigo-600 dark:focus:ring-indigo-600 " + +className,
      ref: localRef
    }
  );
});
function GuestLayout({ children }) {
  return /* @__PURE__ */ jsx("div", { children });
}
function ConfirmPassword() {
  const { data, setData, post, processing, errors, reset } = useForm({
    password: ""
  });
  const submit = (e2) => {
    e2.preventDefault();
    post(route("password.confirm"), {
      onFinish: () => reset("password")
    });
  };
  return /* @__PURE__ */ jsxs(GuestLayout, { children: [
    /* @__PURE__ */ jsx("div", { className: "mb-4 text-sm text-gray-600 dark:text-gray-400", children: "This is a secure area of the application. Please confirm your password before continuing." }),
    /* @__PURE__ */ jsxs("form", { onSubmit: submit, children: [
      /* @__PURE__ */ jsxs("div", { className: "mt-4", children: [
        /* @__PURE__ */ jsx(InputLabel, { htmlFor: "password", value: "Password" }),
        /* @__PURE__ */ jsx(
          TextInput,
          {
            id: "password",
            type: "password",
            name: "password",
            value: data.password,
            className: "mt-1 block w-full",
            isFocused: true,
            onChange: (e2) => setData("password", e2.target.value)
          }
        ),
        /* @__PURE__ */ jsx(InputError, { message: errors.password, className: "mt-2" })
      ] }),
      /* @__PURE__ */ jsx("div", { className: "mt-4 flex items-center justify-end", children: /* @__PURE__ */ jsx(PrimaryButton, { className: "ms-4", disabled: processing, children: "Confirm" }) })
    ] })
  ] });
}
const __vite_glob_0_18 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: ConfirmPassword
}, Symbol.toStringTag, { value: "Module" }));
function e() {
  return e = Object.assign ? Object.assign.bind() : function(t) {
    for (var r = 1; r < arguments.length; r++) {
      var e2 = arguments[r];
      for (var i2 in e2) ({}).hasOwnProperty.call(e2, i2) && (t[i2] = e2[i2]);
    }
    return t;
  }, e.apply(null, arguments);
}
class i {
  constructor(t, r, e2) {
    var i2, n2;
    this.name = t, this.definition = r, this.bindings = null != (i2 = r.bindings) ? i2 : {}, this.wheres = null != (n2 = r.wheres) ? n2 : {}, this.config = e2;
  }
  get template() {
    const t = `${this.origin}/${this.definition.uri}`.replace(/\/+$/, "");
    return "" === t ? "/" : t;
  }
  get origin() {
    return this.config.absolute ? this.definition.domain ? `${this.config.url.match(/^\w+:\/\//)[0]}${this.definition.domain}${this.config.port ? `:${this.config.port}` : ""}` : this.config.url : "";
  }
  get parameterSegments() {
    var t, r;
    return null != (t = null == (r = this.template.match(/{[^}?]+\??}/g)) ? void 0 : r.map((t2) => ({ name: t2.replace(/{|\??}/g, ""), required: !/\?}$/.test(t2) }))) ? t : [];
  }
  matchesUrl(r) {
    var e2;
    if (!this.definition.methods.includes("GET")) return false;
    const i2 = this.template.replace(/[.*+$()[\]]/g, "\\$&").replace(/(\/?){([^}?]*)(\??)}/g, (t, r2, e3, i3) => {
      var n3;
      const s3 = `(?<${e3}>${(null == (n3 = this.wheres[e3]) ? void 0 : n3.replace(/(^\^)|(\$$)/g, "")) || "[^/?]+"})`;
      return i3 ? `(${r2}${s3})?` : `${r2}${s3}`;
    }).replace(/^\w+:\/\//, ""), [n2, s2] = r.replace(/^\w+:\/\//, "").split("?"), o2 = null != (e2 = new RegExp(`^${i2}/?$`).exec(n2)) ? e2 : new RegExp(`^${i2}/?$`).exec(decodeURI(n2));
    if (o2) {
      for (const t in o2.groups) o2.groups[t] = "string" == typeof o2.groups[t] ? decodeURIComponent(o2.groups[t]) : o2.groups[t];
      return { params: o2.groups, query: parse$1(s2) };
    }
    return false;
  }
  compile(t) {
    return this.parameterSegments.length ? this.template.replace(/{([^}?]+)(\??)}/g, (r, e2, i2) => {
      var n2, s2;
      if (!i2 && [null, void 0].includes(t[e2])) throw new Error(`Ziggy error: '${e2}' parameter is required for route '${this.name}'.`);
      if (this.wheres[e2] && !new RegExp(`^${i2 ? `(${this.wheres[e2]})?` : this.wheres[e2]}$`).test(null != (s2 = t[e2]) ? s2 : "")) throw new Error(`Ziggy error: '${e2}' parameter '${t[e2]}' does not match required format '${this.wheres[e2]}' for route '${this.name}'.`);
      return encodeURI(null != (n2 = t[e2]) ? n2 : "").replace(/%7C/g, "|").replace(/%25/g, "%").replace(/\$/g, "%24");
    }).replace(this.config.absolute ? /(\.[^/]+?)(\/\/)/ : /(^)(\/\/)/, "$1/").replace(/\/+$/, "") : this.template;
  }
}
class n extends String {
  constructor(t, r, n2 = true, s2) {
    if (super(), this.t = null != s2 ? s2 : "undefined" != typeof Ziggy ? Ziggy : null == globalThis ? void 0 : globalThis.Ziggy, this.t = e({}, this.t, { absolute: n2 }), t) {
      if (!this.t.routes[t]) throw new Error(`Ziggy error: route '${t}' is not in the route list.`);
      this.i = new i(t, this.t.routes[t], this.t), this.o = this.u(r);
    }
  }
  toString() {
    const t = Object.keys(this.o).filter((t2) => !this.i.parameterSegments.some(({ name: r }) => r === t2)).filter((t2) => "_query" !== t2).reduce((t2, r) => e({}, t2, { [r]: this.o[r] }), {});
    return this.i.compile(this.o) + stringify(e({}, t, this.o._query), { addQueryPrefix: true, arrayFormat: "indices", encodeValuesOnly: true, skipNulls: true, encoder: (t2, r) => "boolean" == typeof t2 ? Number(t2) : r(t2) });
  }
  h(t) {
    t ? this.t.absolute && t.startsWith("/") && (t = this.l().host + t) : t = this.m();
    let r = {};
    const [n2, s2] = Object.entries(this.t.routes).find(([e2, n3]) => r = new i(e2, n3, this.t).matchesUrl(t)) || [void 0, void 0];
    return e({ name: n2 }, r, { route: s2 });
  }
  m() {
    const { host: t, pathname: r, search: e2 } = this.l();
    return (this.t.absolute ? t + r : r.replace(this.t.url.replace(/^\w*:\/\/[^/]+/, ""), "").replace(/^\/+/, "/")) + e2;
  }
  current(t, r) {
    const { name: n2, params: s2, query: o2, route: u2 } = this.h();
    if (!t) return n2;
    const h = new RegExp(`^${t.replace(/\./g, "\\.").replace(/\*/g, ".*")}$`).test(n2);
    if ([null, void 0].includes(r) || !h) return h;
    const a = new i(n2, u2, this.t);
    r = this.u(r, a);
    const l = e({}, s2, o2);
    if (Object.values(r).every((t2) => !t2) && !Object.values(l).some((t2) => void 0 !== t2)) return true;
    const c = (t2, r2) => Object.entries(t2).every(([t3, e2]) => Array.isArray(e2) && Array.isArray(r2[t3]) ? e2.every((e3) => r2[t3].includes(e3)) : "object" == typeof e2 && "object" == typeof r2[t3] && null !== e2 && null !== r2[t3] ? c(e2, r2[t3]) : r2[t3] == e2);
    return c(r, l);
  }
  l() {
    var t, r, e2, i2, n2, s2;
    const { host: o2 = "", pathname: u2 = "", search: h = "" } = "undefined" != typeof window ? window.location : {};
    return { host: null != (t = null == (r = this.t.location) ? void 0 : r.host) ? t : o2, pathname: null != (e2 = null == (i2 = this.t.location) ? void 0 : i2.pathname) ? e2 : u2, search: null != (n2 = null == (s2 = this.t.location) ? void 0 : s2.search) ? n2 : h };
  }
  get params() {
    const { params: t, query: r } = this.h();
    return e({}, t, r);
  }
  get routeParams() {
    return this.h().params;
  }
  get queryParams() {
    return this.h().query;
  }
  has(t) {
    return this.t.routes.hasOwnProperty(t);
  }
  u(t = {}, r = this.i) {
    null != t || (t = {}), t = ["string", "number"].includes(typeof t) ? [t] : t;
    const i2 = r.parameterSegments.filter(({ name: t2 }) => !this.t.defaults[t2]);
    return Array.isArray(t) ? t = t.reduce((t2, r2, n2) => e({}, t2, i2[n2] ? { [i2[n2].name]: r2 } : "object" == typeof r2 ? r2 : { [r2]: "" }), {}) : 1 !== i2.length || t[i2[0].name] || !t.hasOwnProperty(Object.values(r.bindings)[0]) && !t.hasOwnProperty("id") || (t = { [i2[0].name]: t }), e({}, this.$(r), this.p(t, r));
  }
  $(t) {
    return t.parameterSegments.filter(({ name: t2 }) => this.t.defaults[t2]).reduce((t2, { name: r }, i2) => e({}, t2, { [r]: this.t.defaults[r] }), {});
  }
  p(t, { bindings: r, parameterSegments: i2 }) {
    return Object.entries(t).reduce((t2, [n2, s2]) => {
      if (!s2 || "object" != typeof s2 || Array.isArray(s2) || !i2.some(({ name: t3 }) => t3 === n2)) return e({}, t2, { [n2]: s2 });
      if (!s2.hasOwnProperty(r[n2])) {
        if (!s2.hasOwnProperty("id")) throw new Error(`Ziggy error: object passed as '${n2}' parameter is missing route model binding key '${r[n2]}'.`);
        r[n2] = "id";
      }
      return e({}, t2, { [n2]: s2[r[n2]] });
    }, {});
  }
  valueOf() {
    return this.toString();
  }
}
function s(t, r, e2, i2) {
  const s2 = new n(t, r, e2, i2);
  return t ? s2.toString() : s2;
}
const o = { install(t, r) {
  const e2 = (t2, e3, i2, n2 = r) => s(t2, e3, i2, n2);
  parseInt(t.version) > 2 ? (t.config.globalProperties.route = e2, t.provide("route", e2)) : t.mixin({ methods: { route: e2 } });
} };
function u(t) {
  if (!t && !globalThis.Ziggy && "undefined" == typeof Ziggy) throw new Error("Ziggy error: missing configuration. Ensure that a `Ziggy` variable is defined globally or pass a config object into the useRoute hook.");
  return (r, e2, i2, n2 = t) => s(r, e2, i2, n2);
}
const ZiggyImport = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  ZiggyVue: o,
  route: s,
  useRoute: u
}, Symbol.toStringTag, { value: "Module" }));
const Ziggy$2 = { "url": "https://test.wepresseco.com", "port": null, "defaults": {}, "routes": { "sanctum.csrf-cookie": { "uri": "sanctum/csrf-cookie", "methods": ["GET", "HEAD"] }, "sitemap.index": { "uri": "sitemap", "methods": ["GET", "HEAD"] }, "sitemap.xml": { "uri": "sitemap.xml", "methods": ["GET", "HEAD"] }, "client.info.bank": { "uri": "info", "methods": ["GET", "HEAD"] }, "client.apropos": { "uri": "a-propos", "methods": ["GET", "HEAD"] }, "client.condition-de-vente": { "uri": "condition-de-vente", "methods": ["GET", "HEAD"] }, "client.contact": { "uri": "contact", "methods": ["GET", "HEAD"] }, "client.contact.send": { "uri": "contact", "methods": ["POST"] }, "client.privacy-policy": { "uri": "politique-confidentialite", "methods": ["GET", "HEAD"] }, "client.mentions-legales": { "uri": "mentions-legales", "methods": ["GET", "HEAD"] }, "client.conditions-utilisation": { "uri": "conditions-utilisation", "methods": ["GET", "HEAD"] }, "email.confirmed": { "uri": "email-confirmed", "methods": ["GET", "HEAD"] }, "verification.show": { "uri": "verification", "methods": ["GET", "HEAD"] }, "verification.process": { "uri": "verification", "methods": ["POST"] }, "verification.notice": { "uri": "verify-email", "methods": ["GET", "HEAD"] }, "paiement.confirmation": { "uri": "paiement/confirmation/{order_id}", "methods": ["GET", "HEAD"], "parameters": ["order_id"] }, "verification.verify": { "uri": "email/verify/{id}/{hash}", "methods": ["GET", "HEAD"], "parameters": ["id", "hash"] }, "verification.send": { "uri": "email/verification-notification", "methods": ["POST"] }, "home": { "uri": "/", "methods": ["GET", "HEAD"] }, "annonces.export": { "uri": "admin/annonces/export", "methods": ["GET", "HEAD"] }, "client.annonces.index": { "uri": "annonces-legales", "methods": ["GET", "HEAD"] }, "annonces.single": { "uri": "annonces-legales/{slug}", "methods": ["GET", "HEAD"], "parameters": ["slug"] }, "client.annonce.redirect-to-payzone": { "uri": "annonce/{id}/payzone", "methods": ["GET", "HEAD"], "parameters": ["id"] }, "client.appel-offres.index": { "uri": "appels-offres", "methods": ["GET", "HEAD"] }, "client.appel-offre.paiement-confirmation": { "uri": "appel-offre/{id}/paiement/confirmation", "methods": ["GET", "HEAD"], "parameters": ["id"] }, "client.appel-offre.redirect-to-payzone": { "uri": "appel-offre/{id}/payzone", "methods": ["GET", "HEAD"], "parameters": ["id"] }, "client.appel-offre.store.draft": { "uri": "appel-offres/brouillon", "methods": ["POST"] }, "client.appel-offre.show": { "uri": "appels-offres/{appelOffre}", "methods": ["GET", "HEAD"], "parameters": ["appelOffre"], "bindings": { "appelOffre": "slug" } }, "journaux.client": { "uri": "consulter-le-journal", "methods": ["GET", "HEAD"] }, "client.journaux.download": { "uri": "consulter-le-journal/{journal}", "methods": ["GET", "HEAD"], "parameters": ["journal"] }, "client.annonces.my-annonces": { "uri": "mes-annonces-legales", "methods": ["GET", "HEAD"] }, "client.annonces.edit": { "uri": "annonces-legales/modifier/{slug}", "methods": ["GET", "HEAD"], "parameters": ["slug"] }, "client.annonces.store.draft": { "uri": "annonces/brouillon", "methods": ["POST"] }, "client.annonces.paiement": { "uri": "paiement/{id}/{order_id}", "methods": ["GET", "HEAD"], "parameters": ["id", "order_id"] }, "client.annonces.create": { "uri": "annonce-legale/publier", "methods": ["GET", "HEAD"] }, "client.annonces.paiement.confirm": { "uri": "annonce-legale/paiement/{id}/confirmer", "methods": ["POST"], "parameters": ["id"] }, "client.annonces.store": { "uri": "client/annonces/store", "methods": ["POST"] }, "client.annonces.update": { "uri": "client/annonces/update/{slug}", "methods": ["PUT"], "parameters": ["slug"] }, "annonces.download": { "uri": "client/annonces/download/{id}", "methods": ["GET", "HEAD"], "parameters": ["id"] }, "client.index": { "uri": "espace-client", "methods": ["GET", "HEAD"] }, "client.payment-historique": { "uri": "client/payment-historique", "methods": ["GET", "HEAD"] }, "client.annonces.publier": { "uri": "publier/{slug}", "methods": ["GET", "HEAD"], "parameters": ["slug"] }, "client.appel-offre.create": { "uri": "appel-offre/publier", "methods": ["GET", "HEAD"] }, "client.appel-offre.store": { "uri": "client/appel-offres", "methods": ["POST"] }, "client.appel-offre.edit": { "uri": "client/appel-offres/edit/{appelOffre}", "methods": ["GET", "HEAD"], "parameters": ["appelOffre"], "bindings": { "appelOffre": "slug" } }, "client.appel-offre.update": { "uri": "client/appel-offres/update/{id}", "methods": ["PUT"], "parameters": ["id"] }, "client.appel-offre.destroy": { "uri": "client/appel-offres/{appelOffre}", "methods": ["DELETE"], "parameters": ["appelOffre"] }, "client.annonce.confirmation": { "uri": "paiement/confirmation-annonce/{id}", "methods": ["GET", "HEAD"], "parameters": ["id"] }, "client.appel-offre.confirmation": { "uri": "paiement/confirmation-appel-offre/{id}", "methods": ["GET", "HEAD"], "parameters": ["id"] }, "client.appel-offre.mes-appels-offres": { "uri": "mes-appels-offres", "methods": ["GET", "HEAD"] }, "client.appel-offre.paiement.confirm": { "uri": "appel-offre/paiement/{id}/confirmer", "methods": ["POST"], "parameters": ["id"] }, "client.ticket.index": { "uri": "mes-tickets", "methods": ["GET", "HEAD"] }, "client.ticket.create": { "uri": "client/ticket/create", "methods": ["GET", "HEAD"] }, "client.ticket.store": { "uri": "client/ticket/store", "methods": ["POST"] }, "admin.tickets.store": { "uri": "tickets", "methods": ["POST"] }, "client.ticket.show": { "uri": "mes-tickets/{ticket}", "methods": ["GET", "HEAD"], "parameters": ["ticket"], "bindings": { "ticket": "slug" } }, "dashboard": { "uri": "dashboard", "methods": ["GET", "HEAD"] }, "profile.edit": { "uri": "profile", "methods": ["GET", "HEAD"] }, "profile.update": { "uri": "profile", "methods": ["PATCH"] }, "profile.destroy": { "uri": "profile", "methods": ["DELETE"] }, "annonces.updateStatus": { "uri": "annonces/update-status/{id}", "methods": ["PUT"], "parameters": ["id"] }, "admin.annonces.show": { "uri": "annonce/show/{slug}", "methods": ["GET", "HEAD"], "parameters": ["slug"] }, "annonces.edit": { "uri": "annonces/edit/{id}", "methods": ["GET", "HEAD"], "parameters": ["id"] }, "annonces.update": { "uri": "annonces/update/{slug}", "methods": ["PUT"], "parameters": ["slug"] }, "annonces.approved": { "uri": "annonces/approved", "methods": ["GET", "HEAD"] }, "annonce.create": { "uri": "annonce/create", "methods": ["GET", "HEAD"] }, "annonces.massDelete": { "uri": "annonce/mass-delete", "methods": ["DELETE"] }, "annonce.index": { "uri": "annonce", "methods": ["GET", "HEAD"] }, "annonce.store": { "uri": "annonce", "methods": ["POST"] }, "annonce.show": { "uri": "annonce/{annonce}", "methods": ["GET", "HEAD"], "parameters": ["annonce"] }, "annonce.edit": { "uri": "annonce/{annonce}/edit", "methods": ["GET", "HEAD"], "parameters": ["annonce"] }, "annonce.update": { "uri": "annonce/{annonce}", "methods": ["PUT", "PATCH"], "parameters": ["annonce"] }, "annonce.destroy": { "uri": "annonce/{annonce}", "methods": ["DELETE"], "parameters": ["annonce"] }, "user.favorites": { "uri": "user/favorites", "methods": ["GET", "HEAD"] }, "admin.annonce.markPaid": { "uri": "admin/annonce/{id}/mark-paid", "methods": ["POST"], "parameters": ["id"] }, "user.index": { "uri": "user", "methods": ["GET", "HEAD"] }, "user.create": { "uri": "user/create", "methods": ["GET", "HEAD"] }, "user.store": { "uri": "user", "methods": ["POST"] }, "user.show": { "uri": "user/{user}", "methods": ["GET", "HEAD"], "parameters": ["user"], "bindings": { "user": "id" } }, "user.edit": { "uri": "user/{user}/edit", "methods": ["GET", "HEAD"], "parameters": ["user"], "bindings": { "user": "id" } }, "user.update": { "uri": "user/{user}", "methods": ["PUT", "PATCH"], "parameters": ["user"], "bindings": { "user": "id" } }, "user.destroy": { "uri": "user/{user}", "methods": ["DELETE"], "parameters": ["user"], "bindings": { "user": "id" } }, "admin.dashboard": { "uri": "total-annonces", "methods": ["GET", "HEAD"] }, "user.toggleFavorite": { "uri": "user/{user}/toggle-favorite", "methods": ["POST"], "parameters": ["user"], "bindings": { "user": "id" } }, "admin.tickets.index": { "uri": "tickets", "methods": ["GET", "HEAD"] }, "admin.tickets.create": { "uri": "tickets/create", "methods": ["GET", "HEAD"] }, "admin.tickets.show": { "uri": "tickets/{ticket}", "methods": ["GET", "HEAD"], "parameters": ["ticket"] }, "admin.tickets.edit": { "uri": "tickets/{ticket}/edit", "methods": ["GET", "HEAD"], "parameters": ["ticket"], "bindings": { "ticket": "slug" } }, "journaux.index": { "uri": "journaux", "methods": ["GET", "HEAD"] }, "journaux.store": { "uri": "journaux", "methods": ["POST"] }, "journaux.destroy": { "uri": "journaux/{journal}", "methods": ["DELETE"], "parameters": ["journal"] }, "journaux.download": { "uri": "journaux/{journal}/download", "methods": ["GET", "HEAD"], "parameters": ["journal"] }, "journaux.edit": { "uri": "journaux/{journal}/edit", "methods": ["GET", "HEAD"], "parameters": ["journal"] }, "journaux.update": { "uri": "journaux/{journal}", "methods": ["PUT"], "parameters": ["journal"] }, "admin.appel-offres.index": { "uri": "admin/appel-offres", "methods": ["GET", "HEAD"] }, "admin.annonces.approve": { "uri": "admin/annonces/{id}/approve", "methods": ["PUT"], "parameters": ["id"] }, "admin.appel-offres.massDestroy": { "uri": "admin/appel-offres/mass-delete", "methods": ["DELETE"] }, "admin.appel-offres.create": { "uri": "admin/appel-offres/create", "methods": ["GET", "HEAD"] }, "admin.appel-offres.store": { "uri": "admin/appel-offres/store", "methods": ["POST"] }, "admin.appel-offres.show": { "uri": "admin/appel-offres/{id}", "methods": ["GET", "HEAD"], "parameters": ["id"] }, "admin.appel-offres.edit": { "uri": "admin/appel-offres/edit/{id}", "methods": ["GET", "HEAD"], "parameters": ["id"] }, "admin.appel-offres.update": { "uri": "admin/appel-offres/{id}", "methods": ["PUT"], "parameters": ["id"] }, "admin.appel-offres.destroy": { "uri": "admin/appel-offres/{id}", "methods": ["DELETE"], "parameters": ["id"] }, "admin.appel-offres.update-status": { "uri": "admin/appel-offres/{id}/update-status", "methods": ["PUT"], "parameters": ["id"] }, "admin.appel-offres.all": { "uri": "appel-offres/all", "methods": ["GET", "HEAD"] }, "admin.paiement": { "uri": "admin/paiement", "methods": ["GET", "HEAD"] }, "admin.paiement.markPaid": { "uri": "admin/paiement/{id}/mark-paid", "methods": ["POST"], "parameters": ["id"] }, "admin.paiement.delete": { "uri": "admin/paiement/{id}/delete", "methods": ["DELETE"], "parameters": ["id"] }, "admin.appelOffres.markPaid": { "uri": "admin/appel-offres/{id}/mark-paid", "methods": ["POST"], "parameters": ["id"] }, "admin.annoncesALivrer": { "uri": "admin/annonce-a-livrer", "methods": ["GET", "HEAD"] }, "admin.annonce.markAsSent": { "uri": "admin/annonce-a-livrer/{id}/mark-as-sent", "methods": ["POST"], "parameters": ["id"] }, "user.massDelete": { "uri": "users/mass-delete", "methods": ["DELETE"] }, "admin.tickets.update": { "uri": "tickets/{ticket}", "methods": ["POST"], "parameters": ["ticket"], "bindings": { "ticket": "slug" } }, "admin.tickets.destroy": { "uri": "admin/tickets/{id}", "methods": ["DELETE"], "wheres": { "id": "[0-9]+" }, "parameters": ["id"] }, "admin.tickets.reply": { "uri": "tickets/{ticket}/reply", "methods": ["POST"], "parameters": ["ticket"] }, "admin.tickets.update-status": { "uri": "tickets/{ticket}/status", "methods": ["PUT"], "parameters": ["ticket"], "bindings": { "ticket": "id" } }, "client.appel-offre.paiement": { "uri": "client/appel-offre/{id}/paiement", "methods": ["GET", "HEAD"], "parameters": ["id"] }, "client.appel-offre.confirm-payment": { "uri": "client/appel-offre/{id}/confirm-payment", "methods": ["POST"], "parameters": ["id"] }, "client.appel-offre.handle-payment-confirmation": { "uri": "client/appel-offre/{id}/handle-payment-confirmation", "methods": ["POST"], "parameters": ["id"] }, "client.appel-offre.payment": { "uri": "client/appel-offres/payment/{appelOffre}", "methods": ["GET", "HEAD"], "parameters": ["appelOffre"] }, "client.appel-offre.publish": { "uri": "client/appel-offres/publier/{appelOffre}", "methods": ["GET", "HEAD"], "parameters": ["appelOffre"] }, "paiement.failure": { "uri": "paiement/failure", "methods": ["GET", "HEAD"] }, "register": { "uri": "inscription", "methods": ["GET", "HEAD"] }, "register.post": { "uri": "inscription", "methods": ["POST"] }, "login": { "uri": "connexion", "methods": ["GET", "HEAD"] }, "login.post": { "uri": "connexion", "methods": ["POST"] }, "password.request": { "uri": "forgot-password", "methods": ["GET", "HEAD"] }, "password.email": { "uri": "forgot-password", "methods": ["POST"] }, "password.reset": { "uri": "reset-password/{token}", "methods": ["GET", "HEAD"], "parameters": ["token"] }, "password.store": { "uri": "reset-password", "methods": ["POST"] }, "password.confirm": { "uri": "confirm-password", "methods": ["GET", "HEAD"] }, "password.update": { "uri": "password", "methods": ["PUT"] }, "logout": { "uri": "logout", "methods": ["POST"] }, "storage.local": { "uri": "storage/{path}", "methods": ["GET", "HEAD"], "wheres": { "path": ".*" }, "parameters": ["path"] } } };
if (typeof window !== "undefined" && typeof window.Ziggy !== "undefined") {
  Object.assign(Ziggy$2.routes, window.Ziggy.routes);
}
const isBrowser = typeof window !== "undefined";
const Ziggy$1 = isBrowser && window.Ziggy ? window.Ziggy : { ...Ziggy$2 };
const fn = s || void 0 || void 0 || ZiggyImport;
const route$3 = (name, params, absolute = true, config = Ziggy$1) => {
  try {
    return fn(name, params, absolute, config);
  } catch (e2) {
    console.warn("⚠️ Ziggy route() failed:", e2);
    return "#";
  }
};
const safeRoute$2 = (name, params) => {
  if (typeof name !== "string") return "#";
  try {
    const url = route$3(name, params);
    return typeof url === "string" ? url : "#";
  } catch {
    return "#";
  }
};
function Header({ auth }) {
  var _a2, _b, _c, _d;
  const [menuOpen, setMenuOpen] = useState(false);
  const [scrolled, setScrolled] = useState(false);
  const [profileMenuOpen, setProfileMenuOpen] = useState(false);
  const [mobileProfileMenuOpen, setMobileProfileMenuOpen] = useState(false);
  const { url } = usePage();
  const profileMenuRef = useRef(null);
  const mobileProfileMenuRef = useRef(null);
  const isAuthenticated = Boolean(auth == null ? void 0 : auth.user);
  useEffect(() => {
    const handleScroll = () => {
      if (typeof window !== "undefined") {
        setScrolled(window.scrollY > 20);
      }
    };
    if (typeof window !== "undefined") {
      window.addEventListener("scroll", handleScroll);
      return () => window.removeEventListener("scroll", handleScroll);
    }
  }, []);
  useEffect(() => {
    setMenuOpen(false);
    setProfileMenuOpen(false);
    setMobileProfileMenuOpen(false);
  }, [url]);
  useEffect(() => {
    if (typeof window !== "undefined" && typeof document !== "undefined") {
      if (menuOpen) {
        document.body.style.overflow = "hidden";
        document.documentElement.classList.add("backdrop-blur-sm");
      } else {
        document.body.style.overflow = "auto";
        document.documentElement.classList.remove("backdrop-blur-sm");
      }
      return () => {
        document.body.style.overflow = "auto";
        document.documentElement.classList.remove("backdrop-blur-sm");
      };
    }
  }, [menuOpen]);
  useEffect(() => {
    if (typeof document !== "undefined") {
      const handleClickOutside = (event) => {
        if (profileMenuRef.current && !profileMenuRef.current.contains(event.target)) {
          setProfileMenuOpen(false);
        }
        if (mobileProfileMenuRef.current && !mobileProfileMenuRef.current.contains(event.target)) {
          setMobileProfileMenuOpen(false);
        }
      };
      document.addEventListener("mousedown", handleClickOutside);
      return () => {
        document.removeEventListener("mousedown", handleClickOutside);
      };
    }
  }, []);
  const navLinks = [
    { href: isAuthenticated ? safeRoute$2("client.index") : "/", text: isAuthenticated ? "Espace client" : "Accueil" },
    ...!isAuthenticated ? [
      { href: safeRoute$2("client.apropos"), text: "A propos" }
    ] : [],
    ...isAuthenticated ? [
      {
        text: "Publier une annonce",
        dropdown: true,
        items: [
          { href: safeRoute$2("client.annonces.create"), text: "Publier une annonce légale" },
          { href: safeRoute$2("client.appel-offre.create"), text: "Publier un appel d'offre" }
        ]
      }
    ] : [],
    { href: safeRoute$2("client.annonces.index"), text: "Annonces légales" },
    { href: safeRoute$2("client.appel-offres.index"), text: "Appel d'offres" },
    { href: "/consulter-le-journal", text: "Journaux" },
    ...!isAuthenticated ? [{ href: safeRoute$2("client.contact"), text: "Contact" }] : [],
    ...isAuthenticated ? [
      {
        text: "Mes services",
        dropdown: true,
        items: [
          { href: safeRoute$2("client.annonces.my-annonces"), text: "Mes annonces" },
          { href: safeRoute$2("client.appel-offre.mes-appels-offres"), text: "Mes appels d'offre" },
          { href: safeRoute$2("client.ticket.index"), text: "Mes tickets" },
          { href: safeRoute$2("client.payment-historique"), text: "Historique de mes paiements" }
        ]
      }
    ] : []
  ];
  return /* @__PURE__ */ jsxs(
    "header",
    {
      className: `fixed top-4 left-0 right-0 z-50 px-4 sm:px-6 py-3 bg-white/90 backdrop-blur-md rounded-2xl 
            w-[calc(100%-2rem)] max-w-[76rem] h-[5rem] mx-auto flex items-center justify-between
            transition-all duration-300 border border-gray-200 text-base
            ${scrolled ? "shadow-md" : "shadow-sm"}`,
      children: [
        /* @__PURE__ */ jsx(Link, { href: safeRoute$2("home"), className: "flex items-center", children: /* @__PURE__ */ jsx("img", { src: "/Logo.webp", alt: "Logo", width: 160, height: 100, className: "w-28 sm:w-36 object-contain rounded-full" }) }),
        /* @__PURE__ */ jsx("nav", { className: "hidden lg:flex", children: /* @__PURE__ */ jsx("ul", { className: "flex items-center gap-3 xl:gap-6 text-sm font-medium", children: navLinks.map((link, index2) => {
          var _a3;
          return /* @__PURE__ */ jsx("li", { children: link.dropdown ? /* @__PURE__ */ jsxs("div", { className: "relative group", children: [
            /* @__PURE__ */ jsxs(
              "button",
              {
                "aria-label": "Notifications",
                className: "flex items-center gap-1 font-bold text-gray-700 transition duration-300 whitespace-nowrap hover:text-red-600",
                children: [
                  link.text,
                  /* @__PURE__ */ jsx(ChevronDown, { size: 14 })
                ]
              }
            ),
            /* @__PURE__ */ jsx("div", { className: "absolute left-0 mt-2 w-40 bg-white rounded-lg shadow-lg py-1 z-50 border border-gray-200 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200", children: (_a3 = link.items) == null ? void 0 : _a3.map((item, idx) => /* @__PURE__ */ jsx(
              Link,
              {
                href: item.href,
                className: "block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",
                children: item.text
              },
              idx
            )) })
          ] }) : link.href && link.href.startsWith("/") && !link.href.startsWith("/consulter-le-journal") ? /* @__PURE__ */ jsx(
            Link,
            {
              href: link.href ?? "",
              className: `relative font-bold text-gray-700 transition duration-300 whitespace-nowrap
                    ${url === link.href ? "text-red-600" : "hover:text-red-600"}
                    after:content-[''] after:absolute after:left-0 after:bottom-[-3px] after:w-0 after:h-[2px] after:bg-red-600 
                    after:transition-all after:duration-300 hover:after:w-full`,
              children: link.text
            }
          ) : link.href && link.href.startsWith("/consulter-le-journal") ? /* @__PURE__ */ jsx(
            "a",
            {
              href: link.href ?? "",
              className: `relative font-bold text-gray-700 transition duration-300 whitespace-nowrap
                    hover:text-red-600 after:content-[''] after:absolute after:left-0 after:bottom-[-3px] after:w-0 after:h-[2px] after:bg-red-600 
                    after:transition-all after:duration-300 hover:after:w-full`,
              children: link.text
            }
          ) : /* @__PURE__ */ jsx(
            Link,
            {
              href: link.href ?? "",
              className: `relative font-bold text-gray-700 transition duration-300 whitespace-nowrap
                    ${url === link.href ? "text-red-600" : "hover:text-red-600"}
                    after:content-[''] after:absolute after:left-0 after:bottom-[-3px] after:w-0 after:h-[2px] after:bg-red-600 
                    after:transition-all after:duration-300 hover:after:w-full`,
              children: link.text
            }
          ) }, index2);
        }) }) }),
        /* @__PURE__ */ jsx("div", { className: "hidden md:block ml-3", ref: profileMenuRef, children: isAuthenticated ? /* @__PURE__ */ jsxs("div", { className: "relative", children: [
          /* @__PURE__ */ jsxs(
            "button",
            {
              "aria-label": "Notifications",
              onClick: () => setProfileMenuOpen(!profileMenuOpen),
              className: "flex items-center gap-2 bg-gray-100 hover:bg-gray-200 text-gray-800 rounded-full p-1 pr-3 transition-colors",
              children: [
                /* @__PURE__ */ jsx("div", { className: "bg-red-600 text-white rounded-full p-1.5", children: /* @__PURE__ */ jsx(User$1, { size: 16 }) }),
                /* @__PURE__ */ jsxs("span", { className: "text-sm font-medium", children: [
                  "Bonjour, ",
                  (_b = (_a2 = auth.user) == null ? void 0 : _a2.name) == null ? void 0 : _b.split(" ")[0]
                ] }),
                /* @__PURE__ */ jsx(
                  ChevronDown,
                  {
                    size: 16,
                    className: `transition-transform duration-200 ${profileMenuOpen ? "rotate-180" : ""}`
                  }
                )
              ]
            }
          ),
          /* @__PURE__ */ jsxs(
            "div",
            {
              className: `absolute right-0 mt-2 w-64 bg-white rounded-lg shadow-lg py-1 z-50 border border-gray-200 transition-all duration-200 ${profileMenuOpen ? "opacity-100 translate-y-0" : "opacity-0 translate-y-2 pointer-events-none"}`,
              children: [
                /* @__PURE__ */ jsxs(
                  Link,
                  {
                    href: safeRoute$2("profile.edit"),
                    className: "flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",
                    children: [
                      /* @__PURE__ */ jsx(Settings, { size: 16, className: "mr-2 text-gray-500" }),
                      "Changer les informations"
                    ]
                  }
                ),
                /* @__PURE__ */ jsxs(
                  Link,
                  {
                    href: safeRoute$2("logout"),
                    method: "post",
                    as: "button",
                    className: "flex items-center w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",
                    children: [
                      /* @__PURE__ */ jsx(LogOut, { size: 16, className: "mr-2 text-gray-500" }),
                      "Déconnexion"
                    ]
                  }
                )
              ]
            }
          )
        ] }) : /* @__PURE__ */ jsxs(
          Link,
          {
            href: safeRoute$2("login"),
            className: "flex items-center gap-2 bg-red-600 hover:bg-red-700 text-white rounded-lg px-3 py-2 transition-colors",
            children: [
              /* @__PURE__ */ jsx(User$1, { size: 16 }),
              /* @__PURE__ */ jsx("span", { className: "text-sm font-medium", children: "Se connecter" })
            ]
          }
        ) }),
        /* @__PURE__ */ jsx(
          "button",
          {
            className: "lg:hidden text-gray-700 ml-auto md:ml-3 p-2 rounded-full hover:bg-gray-100 transition-colors duration-300",
            onClick: () => setMenuOpen(!menuOpen),
            "aria-label": menuOpen ? "Close menu" : "Open menu",
            children: menuOpen ? /* @__PURE__ */ jsx(X, { size: 22, className: "stroke-[1.5px]" }) : /* @__PURE__ */ jsx(Menu, { size: 22, className: "stroke-[1.5px]" })
          }
        ),
        /* @__PURE__ */ jsx(
          "div",
          {
            className: `fixed top-0 left-0 w-full h-screen bg-black/40 backdrop-blur-sm z-50 
        transition-opacity duration-300 ${menuOpen ? "opacity-100" : "opacity-0 pointer-events-none"}`,
            onClick: () => setMenuOpen(false),
            children: /* @__PURE__ */ jsxs(
              "div",
              {
                className: `absolute top-0 left-0 h-full w-[80%] max-w-sm bg-gradient-to-br from-white to-gray-50 shadow-[0_0_25px_rgba(0,0,0,0.1)]
          flex flex-col p-8 transition-all duration-500 ease-[cubic-bezier(0.25,1,0.5,1)]
          rounded-r-2xl border-r border-gray-100
          ${menuOpen ? "translate-x-0" : "-translate-x-full"}`,
                onClick: (e2) => e2.stopPropagation(),
                children: [
                  /* @__PURE__ */ jsx(
                    "button",
                    {
                      className: "absolute top-6 right-6 text-gray-700 hover:text-red-600 transition-colors duration-300",
                      onClick: () => setMenuOpen(false),
                      "aria-label": "Close menu",
                      children: /* @__PURE__ */ jsx(X, { size: 24, className: "stroke-[1.5px]" })
                    }
                  ),
                  /* @__PURE__ */ jsx("div", { className: "mt-14 mb-8", children: /* @__PURE__ */ jsx("img", { src: "/Logo.webp", alt: "Logo", className: "w-32 mx-auto object-contain" }) }),
                  isAuthenticated && /* @__PURE__ */ jsxs("div", { className: "mb-8", ref: mobileProfileMenuRef, children: [
                    /* @__PURE__ */ jsxs(
                      "button",
                      {
                        "aria-label": "Notifications",
                        onClick: () => setMobileProfileMenuOpen(!mobileProfileMenuOpen),
                        className: "flex items-center justify-between w-full bg-white hover:bg-gray-50 rounded-xl p-3.5 transition-colors duration-300 shadow-sm border border-gray-100",
                        children: [
                          /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-3", children: [
                            /* @__PURE__ */ jsx("div", { className: "bg-red-600 text-white rounded-full p-2 shadow-sm", children: /* @__PURE__ */ jsx(User$1, { size: 18 }) }),
                            /* @__PURE__ */ jsx("div", { className: "text-left", children: /* @__PURE__ */ jsx("p", { className: "font-medium text-gray-900 text-sm", children: (_d = (_c = auth.user) == null ? void 0 : _c.name) == null ? void 0 : _d.split(" ")[0] }) })
                          ] }),
                          /* @__PURE__ */ jsx(
                            ChevronDown,
                            {
                              size: 18,
                              className: `text-gray-500 transition-transform duration-300 ${mobileProfileMenuOpen ? "rotate-180" : ""}`
                            }
                          )
                        ]
                      }
                    ),
                    /* @__PURE__ */ jsx(
                      "div",
                      {
                        className: `bg-white rounded-xl shadow-md border border-gray-100 overflow-hidden transition-all duration-300 mt-2 ${mobileProfileMenuOpen ? "max-h-40 opacity-100" : "max-h-0 opacity-0 invisible border-transparent"}`,
                        children: /* @__PURE__ */ jsxs("div", { className: "p-2", children: [
                          /* @__PURE__ */ jsxs(
                            Link,
                            {
                              href: safeRoute$2("profile.edit"),
                              className: "flex items-center px-3 py-2.5 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors duration-300",
                              onClick: () => setMenuOpen(false),
                              children: [
                                /* @__PURE__ */ jsx(Settings, { size: 16, className: "mr-2 text-gray-500" }),
                                "Changer les informations"
                              ]
                            }
                          ),
                          /* @__PURE__ */ jsxs(
                            Link,
                            {
                              href: safeRoute$2("logout"),
                              method: "post",
                              as: "button",
                              className: "flex items-center w-full text-left px-3 py-2.5 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors duration-300",
                              onClick: () => setMenuOpen(false),
                              children: [
                                /* @__PURE__ */ jsx(LogOut, { size: 16, className: "mr-2 text-gray-500" }),
                                "Déconnexion"
                              ]
                            }
                          )
                        ] })
                      }
                    )
                  ] }),
                  /* @__PURE__ */ jsx("nav", { className: "flex-1", children: /* @__PURE__ */ jsx("ul", { className: "flex flex-col gap-5 text-base font-medium", children: navLinks.map((link, index2) => {
                    var _a3;
                    return /* @__PURE__ */ jsx("li", { children: link.dropdown ? /* @__PURE__ */ jsxs("div", { className: "mb-2", children: [
                      /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between py-2.5 text-gray-700 border-b border-gray-100", children: [
                        /* @__PURE__ */ jsx("span", { className: "font-medium", children: link.text }),
                        /* @__PURE__ */ jsx(ChevronDown, { size: 16, className: "text-gray-400" })
                      ] }),
                      /* @__PURE__ */ jsx("ul", { className: "pl-4 mt-2", children: (_a3 = link.items) == null ? void 0 : _a3.map((item, idx) => /* @__PURE__ */ jsx("li", { children: /* @__PURE__ */ jsx(
                        Link,
                        {
                          href: item.href,
                          className: "block py-2.5 text-gray-600 hover:text-red-600 transition-colors duration-300",
                          onClick: () => setMenuOpen(false),
                          children: item.text
                        }
                      ) }, idx)) })
                    ] }) : link.href && link.href.startsWith("/") && !link.href.startsWith("/consulter-le-journal") ? /* @__PURE__ */ jsx(
                      Link,
                      {
                        href: link.href ?? "",
                        className: `block py-2.5 text-gray-700 hover:text-red-600 transition-colors duration-300 border-b border-gray-100
                        ${url === link.href ? "text-red-600 font-bold" : ""}`,
                        onClick: () => setMenuOpen(false),
                        children: link.text
                      }
                    ) : link.href && link.href.startsWith("/consulter-le-journal") ? /* @__PURE__ */ jsx(
                      "a",
                      {
                        href: link.href ?? "",
                        className: `block py-2.5 text-gray-700 hover:text-red-600 transition-colors duration-300 border-b border-gray-100`,
                        target: "_blank",
                        rel: "noopener noreferrer",
                        onClick: () => setMenuOpen(false),
                        children: link.text
                      }
                    ) : /* @__PURE__ */ jsx(
                      Link,
                      {
                        href: link.href ?? "",
                        className: `block py-2.5 text-gray-700 hover:text-red-600 transition-colors duration-300 border-b border-gray-100
                        ${url === link.href ? "text-red-600 font-bold" : ""}`,
                        onClick: () => setMenuOpen(false),
                        children: link.text
                      }
                    ) }, index2);
                  }) }) }),
                  /* @__PURE__ */ jsxs("div", { className: "flex gap-6 mt-auto mb-8 justify-center", children: [
                    /* @__PURE__ */ jsx("div", { className: "p-2.5 rounded-full bg-white shadow-sm border border-gray-100 hover:border-red-100 hover:bg-red-50 transition-colors duration-300", children: /* @__PURE__ */ jsx("button", { "aria-label": "Rechercher", children: /* @__PURE__ */ jsx(
                      Search,
                      {
                        size: 20,
                        className: "cursor-pointer text-gray-700 hover:text-red-600 transition-colors duration-300"
                      }
                    ) }) }),
                    /* @__PURE__ */ jsx("div", { className: "p-2.5 rounded-full bg-white shadow-sm border border-gray-100 hover:border-red-100 hover:bg-red-50 transition-colors duration-300", children: /* @__PURE__ */ jsx(
                      "svg",
                      {
                        xmlns: "http://www.w3.org/2000/svg",
                        fill: "none",
                        viewBox: "0 0 24 24",
                        strokeWidth: "1.5",
                        stroke: "currentColor",
                        className: "size-5",
                        children: /* @__PURE__ */ jsx(
                          "path",
                          {
                            strokeLinecap: "round",
                            strokeLinejoin: "round",
                            d: "M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"
                          }
                        )
                      }
                    ) })
                  ] }),
                  !isAuthenticated && /* @__PURE__ */ jsx("div", { className: "mt-4", children: /* @__PURE__ */ jsxs(
                    Link,
                    {
                      href: safeRoute$2("login"),
                      className: "flex items-center justify-center w-full text-white font-semibold bg-red-600 hover:bg-red-700 px-5 py-3.5 rounded-xl transition-colors duration-300 shadow-sm",
                      onClick: () => setMenuOpen(false),
                      children: [
                        /* @__PURE__ */ jsx(User$1, { size: 18, className: "mr-2" }),
                        "Se connecter"
                      ]
                    }
                  ) })
                ]
              }
            )
          }
        )
      ]
    }
  );
}
function FaEnvelope(props) {
  return GenIcon({ "attr": { "viewBox": "0 0 512 512" }, "child": [{ "tag": "path", "attr": { "d": "M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z" }, "child": [] }] })(props);
}
function FaMapMarkerAlt(props) {
  return GenIcon({ "attr": { "viewBox": "0 0 384 512" }, "child": [{ "tag": "path", "attr": { "d": "M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z" }, "child": [] }] })(props);
}
function FaPhone(props) {
  return GenIcon({ "attr": { "viewBox": "0 0 512 512" }, "child": [{ "tag": "path", "attr": { "d": "M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z" }, "child": [] }] })(props);
}
function FiChevronUp(props) {
  return GenIcon({ "attr": { "viewBox": "0 0 24 24", "fill": "none", "stroke": "currentColor", "strokeWidth": "2", "strokeLinecap": "round", "strokeLinejoin": "round" }, "child": [{ "tag": "polyline", "attr": { "points": "18 15 12 9 6 15" }, "child": [] }] })(props);
}
const safeRoute$1 = (name, params) => {
  try {
    const url = name ? route$3(name, params) : "#";
    return typeof url === "string" ? url : "#";
  } catch {
    return "#";
  }
};
const Footer$1 = () => {
  const handleScrollTop = () => {
    if (typeof window !== "undefined") {
      window.scrollTo({ top: 0, behavior: "smooth" });
    }
  };
  return /* @__PURE__ */ jsxs("footer", { className: "bg-gray-50 text-gray-800 py-10 relative w-full px-4 sm:px-6 lg:px-8", children: [
    /* @__PURE__ */ jsxs("div", { className: "max-w-7xl mx-auto", children: [
      /* @__PURE__ */ jsxs("div", { className: "w-[calc(100%-0.25rem)] sm:w-[calc(100%-2rem)] max-w-[76rem] mx-auto bg-[#0f172a] text-white mb-8 sm:mb-16 rounded-xl sm:rounded-3xl overflow-hidden relative flex items-center justify-center py-12 sm:py-16", children: [
        /* @__PURE__ */ jsx("div", { className: "absolute inset-0 bg-gradient-to-tr from-[#0f172a] to-[#1e293b] opacity-80" }),
        /* @__PURE__ */ jsxs("div", { className: "relative px-6 sm:px-10 md:px-16 flex flex-col md:flex-row items-center justify-between gap-8 w-full", children: [
          /* @__PURE__ */ jsxs("div", { className: "w-full md:w-1/2 text-center md:text-left", children: [
            /* @__PURE__ */ jsx("h2", { className: "text-2xl sm:text-3xl md:text-4xl font-extrabold mb-4", children: "Une annonce légale à publier ?" }),
            /* @__PURE__ */ jsx("p", { className: "text-sm sm:text-base max-w-lg mx-auto md:mx-0", children: "Ne perdez plus de temps, faites confiance à WePress pour la publication de vos annonces légales dès aujourd'hui!" })
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "flex flex-wrap gap-4 justify-center md:justify-end", children: [
            /* @__PURE__ */ jsx(
              Link,
              {
                href: safeRoute$1("client.annonces.create"),
                className: "bg-red-600 hover:bg-red-700 text-white px-4 sm:px-6 py-2.5 sm:py-3 rounded-md transition-colors font-extrabold whitespace-nowrap text-sm sm:text-base",
                children: "Publier une annonce"
              }
            ),
            /* @__PURE__ */ jsx(
              "a",
              {
                href: "/contact",
                className: "bg-white hover:bg-gray-100 text-gray-800 px-4 sm:px-6 py-2.5 sm:py-3 rounded-md transition-colors font-extrabold whitespace-nowrap text-sm sm:text-base",
                children: "Contact"
              }
            )
          ] })
        ] })
      ] }),
      /* @__PURE__ */ jsxs("div", { className: "max-w-6xl mx-auto", children: [
        /* @__PURE__ */ jsxs("div", { className: "flex flex-col items-center mb-12", children: [
          /* @__PURE__ */ jsx(
            "img",
            {
              src: "/Logo.webp",
              alt: "Wepress Eco Logo",
              width: 340,
              height: 240,
              className: "mb-4 max-w-full h-auto",
              loading: "lazy"
            }
          ),
          /* @__PURE__ */ jsx("p", { className: "text-center max-w-lg px-4", children: "Wepress Eco est un journal spécialisé dans la publication d'annonces légales au Maroc." })
        ] }),
        /* @__PURE__ */ jsx("div", { className: "mb-12", children: /* @__PURE__ */ jsxs("div", { className: "grid md:grid-cols-2 gap-8 px-4", children: [
          /* @__PURE__ */ jsxs("div", { children: [
            /* @__PURE__ */ jsx("h3", { className: "font-bold mb-4", children: "Informations générales" }),
            /* @__PURE__ */ jsxs("ul", { className: "space-y-4", children: [
              /* @__PURE__ */ jsxs("li", { className: "flex items-center gap-3", children: [
                /* @__PURE__ */ jsx(FaPhone, { className: "text-red-600 text-lg flex-shrink-0" }),
                /* @__PURE__ */ jsx("span", { children: "+212 669 66 88 00" })
              ] }),
              /* @__PURE__ */ jsxs("li", { className: "flex items-center gap-3", children: [
                /* @__PURE__ */ jsx(FaEnvelope, { className: "text-red-600 text-lg flex-shrink-0" }),
                /* @__PURE__ */ jsx("a", { href: "mailto:Info@wepresseco.com", className: "hover:text-gray-600", children: "Info@wepresseco.com" })
              ] }),
              /* @__PURE__ */ jsxs("li", { className: "flex items-start gap-3", children: [
                /* @__PURE__ */ jsx(FaMapMarkerAlt, { className: "text-red-600 text-lg mt-1 flex-shrink-0" }),
                /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsx("div", { children: "Av. Moulay Ismail Res." }),
                  /* @__PURE__ */ jsx("div", { children: "Moulay Ismeil 4éme étage n 16" }),
                  /* @__PURE__ */ jsx("div", { children: "Tanger, Maroc" })
                ] })
              ] })
            ] })
          ] }),
          /* @__PURE__ */ jsxs("div", { children: [
            /* @__PURE__ */ jsx("h3", { className: "font-bold mb-4", children: "Horaires" }),
            /* @__PURE__ */ jsxs("ul", { className: "space-y-2", children: [
              /* @__PURE__ */ jsxs("li", { className: "flex items-center gap-2", children: [
                /* @__PURE__ */ jsx("span", { className: "font-medium", children: "Lundi – Vendredi:" }),
                " 09h00 – 17h00"
              ] }),
              /* @__PURE__ */ jsxs("li", { className: "flex items-center gap-2", children: [
                /* @__PURE__ */ jsx("span", { className: "font-medium", children: "Samedi:" }),
                " 09h00 - 13h00"
              ] }),
              /* @__PURE__ */ jsxs("li", { className: "flex items-center gap-2", children: [
                /* @__PURE__ */ jsx("span", { className: "font-medium", children: "Dimanche:" }),
                " Fermé"
              ] })
            ] })
          ] })
        ] }) }),
        /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-2 md:grid-cols-4 gap-8 mb-12 px-4", children: [
          /* @__PURE__ */ jsxs("div", { children: [
            /* @__PURE__ */ jsx("h3", { className: "font-bold mb-4", children: "Menu" }),
            /* @__PURE__ */ jsxs("ul", { className: "space-y-2", children: [
              /* @__PURE__ */ jsx("li", { children: /* @__PURE__ */ jsx(Link, { href: safeRoute$1("home") ?? "#", className: "hover:text-gray-600", children: "Accueil" }) }),
              /* @__PURE__ */ jsx("li", { children: /* @__PURE__ */ jsx(Link, { href: safeRoute$1("client.annonces.index") ?? "#", className: "hover:text-gray-600", children: "Annonces légales" }) }),
              /* @__PURE__ */ jsx("li", { children: /* @__PURE__ */ jsx(Link, { href: safeRoute$1("client.appel-offres.index") ?? "#", className: "hover:text-gray-600", children: "Appels d’offres" }) }),
              /* @__PURE__ */ jsx("li", { children: /* @__PURE__ */ jsx(Link, { href: safeRoute$1("client.contact") ?? "#", className: "hover:text-gray-600", children: "Contact" }) })
            ] })
          ] }),
          /* @__PURE__ */ jsxs("div", { children: [
            /* @__PURE__ */ jsx("h3", { className: "font-bold mb-4", children: "À propos de Wepress" }),
            /* @__PURE__ */ jsxs("ul", { className: "space-y-2", children: [
              /* @__PURE__ */ jsx("li", { children: /* @__PURE__ */ jsx(Link, { href: safeRoute$1("client.apropos") ?? "#", className: "hover:text-gray-600 flex items-center gap-1", children: "À propos" }) }),
              /* @__PURE__ */ jsx("li", { children: /* @__PURE__ */ jsx(Link, { href: safeRoute$1("client.contact") ?? "#", className: "hover:text-gray-600 flex items-center gap-1", children: "Contactez-nous" }) })
            ] })
          ] }),
          /* @__PURE__ */ jsxs("div", { children: [
            /* @__PURE__ */ jsx("h3", { className: "font-bold mb-4", children: "Compte" }),
            /* @__PURE__ */ jsxs("ul", { className: "space-y-2", children: [
              /* @__PURE__ */ jsx("li", { children: /* @__PURE__ */ jsx(Link, { href: safeRoute$1("connexion") ?? "#", className: "hover:text-gray-600", children: "Se connecter" }) }),
              /* @__PURE__ */ jsx("li", { children: /* @__PURE__ */ jsx(Link, { href: safeRoute$1("inscription") ?? "#", className: "hover:text-gray-600", children: "Créer un compte" }) })
            ] })
          ] }),
          /* @__PURE__ */ jsxs("div", { children: [
            /* @__PURE__ */ jsx("h3", { className: "font-bold mb-4", children: "Support" }),
            /* @__PURE__ */ jsxs("ul", { className: "space-y-2", children: [
              /* @__PURE__ */ jsx("li", { children: /* @__PURE__ */ jsx(Link, { href: safeRoute$1("client.ticket.index") ?? "#", className: "hover:text-gray-600", children: "Tickets" }) }),
              /* @__PURE__ */ jsx("li", { children: /* @__PURE__ */ jsx("a", { href: "/sitemap", className: "hover:text-gray-600", children: "Sitemap" }) })
            ] })
          ] })
        ] })
      ] })
    ] }),
    /* @__PURE__ */ jsx("div", { className: "relative w-full mt-8 pb-4", children: /* @__PURE__ */ jsxs("div", { className: "w-[calc(100%-1rem)] sm:w-[calc(100%-2rem)] max-w-[76rem] h-auto min-h-[5rem] py-3 mx-auto bg-white/90 backdrop-blur-md rounded-2xl border border-gray-200 shadow-sm px-2 sm:px-6 flex flex-col items-center justify-center gap-4 sm:flex-row sm:justify-between", children: [
      /* @__PURE__ */ jsxs("p", { className: "text-sm text-center", children: [
        "© 2025 ",
        /* @__PURE__ */ jsx("span", { className: "text-red-600 font-bold", children: "Wepress Eco" })
      ] }),
      /* @__PURE__ */ jsxs("div", { className: "flex flex-col items-center gap-2 sm:flex-row sm:gap-6", children: [
        /* @__PURE__ */ jsx(Link, { href: safeRoute$1("client.mentions-legales"), className: "text-sm hover:text-gray-600 text-center", children: "Mentions légales" }),
        /* @__PURE__ */ jsx("span", { className: "hidden sm:inline", children: "|" }),
        /* @__PURE__ */ jsx(Link, { href: safeRoute$1("client.privacy-policy"), className: "text-sm hover:text-gray-600 text-center", children: "Politique de Confidentialité" }),
        /* @__PURE__ */ jsx("span", { className: "hidden sm:inline", children: "|" }),
        /* @__PURE__ */ jsx(Link, { href: safeRoute$1("client.condition-de-vente"), className: "text-sm hover:text-gray-600 text-center", children: "Conditions générales" }),
        /* @__PURE__ */ jsx("span", { className: "hidden sm:inline", children: "|" }),
        /* @__PURE__ */ jsx(Link, { href: safeRoute$1("client.conditions-utilisation"), className: "text-sm hover:text-gray-600 text-center", children: "CGU" })
      ] })
    ] }) }),
    /* @__PURE__ */ jsx("div", { className: "flex justify-center mt-8 pb-4", children: /* @__PURE__ */ jsx(
      "img",
      {
        src: "/payzone-2.webp",
        alt: "Payment methods",
        className: "h-12 w-auto object-contain opacity-80 hover:opacity-100 transition-opacity",
        loading: "lazy"
      }
    ) }),
    /* @__PURE__ */ jsx(
      "button",
      {
        className: "fixed right-6 bottom-6 bg-white p-2 rounded shadow-md hover:scale-105 transition-transform",
        onClick: handleScrollTop,
        "aria-label": "Scroll to top",
        children: /* @__PURE__ */ jsx(FiChevronUp, { size: 20 })
      }
    )
  ] });
};
function EmailConfirmed() {
  useEffect(() => {
    const timer = setTimeout(() => {
      window.location.href = s("client.index", void 0, false, Ziggy$2).toString();
    }, 2e3);
    return () => clearTimeout(timer);
  }, []);
  return /* @__PURE__ */ jsxs(Fragment, { children: [
    /* @__PURE__ */ jsx("style", { jsx: true, global: true, children: `
        @keyframes gentle-float {
          0%, 100% {
            transform: translateY(0px);
          }
          50% {
            transform: translateY(-8px);
          }
        }
        
        @keyframes fade-in-up {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        @keyframes pulse-glow {
          0%, 100% {
            box-shadow: 0 0 20px rgba(34, 197, 94, 0.3);
          }
          50% {
            box-shadow: 0 0 30px rgba(34, 197, 94, 0.5);
          }
        }
        
        @keyframes success-bounce {
          0% {
            transform: scale(0) rotate(-180deg);
            opacity: 0;
          }
          50% {
            transform: scale(1.1) rotate(-90deg);
            opacity: 0.8;
          }
          100% {
            transform: scale(1) rotate(0deg);
            opacity: 1;
          }
        }
        
        .animate-gentle-float {
          animation: gentle-float 4s ease-in-out infinite;
        }
        
        .animate-fade-in-up {
          animation: fade-in-up 0.6s ease-out forwards;
        }
        
        .animate-pulse-glow {
          animation: pulse-glow 2s ease-in-out infinite;
        }
        
        .animate-success-bounce {
          animation: success-bounce 0.8s ease-out;
        }
        
        .glass-card {
          background: rgba(255, 255, 255, 0.9);
          backdrop-filter: blur(10px);
          border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .hover-lift {
          transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .hover-lift:hover {
          transform: translateY(-4px);
          box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
      ` }),
    /* @__PURE__ */ jsxs("div", { className: "min-h-screen flex flex-col bg-gray-50", children: [
      /* @__PURE__ */ jsx(Header, { auth: { user: null } }),
      /* @__PURE__ */ jsxs("section", { className: "relative bg-gradient-to-br from-gray-50 to-gray-100 py-20 pt-32 overflow-hidden flex-1", children: [
        /* @__PURE__ */ jsx("div", { className: "absolute inset-0 opacity-[0.02]", children: /* @__PURE__ */ jsx(
          "div",
          {
            className: "absolute inset-0",
            style: {
              backgroundImage: `url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fillRule='evenodd'%3E%3Cg fill='%23000000' fillOpacity='1'%3E%3Ccircle cx='30' cy='30' r='1'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`
            }
          }
        ) }),
        /* @__PURE__ */ jsx("div", { className: "absolute top-20 left-[10%] w-20 h-20 bg-green-100 rounded-full opacity-60 animate-gentle-float" }),
        /* @__PURE__ */ jsx(
          "div",
          {
            className: "absolute bottom-32 right-[15%] w-16 h-16 bg-blue-100 rounded-full opacity-60 animate-gentle-float",
            style: { animationDelay: "1s" }
          }
        ),
        /* @__PURE__ */ jsx(
          "div",
          {
            className: "absolute top-1/2 right-[25%] w-12 h-12 bg-purple-100 rounded-full opacity-60 animate-gentle-float",
            style: { animationDelay: "2s" }
          }
        ),
        /* @__PURE__ */ jsxs("div", { className: "max-w-6xl mx-auto px-4 relative z-10", children: [
          /* @__PURE__ */ jsxs("div", { className: "grid lg:grid-cols-2 gap-16 items-center min-h-[70vh]", children: [
            /* @__PURE__ */ jsx("div", { className: "flex flex-col gap-8 animate-fade-in-up", children: /* @__PURE__ */ jsxs("div", { className: "glass-card p-8 rounded-3xl shadow-xl hover-lift", children: [
              /* @__PURE__ */ jsx("div", { className: "flex items-center justify-center mb-8", children: /* @__PURE__ */ jsx("div", { className: "bg-gradient-to-br from-green-500 to-green-600 p-6 rounded-2xl shadow-lg animate-pulse-glow", children: /* @__PURE__ */ jsx(CheckCircle, { className: "h-12 w-12 text-white animate-success-bounce" }) }) }),
              /* @__PURE__ */ jsxs("h1", { className: "text-4xl lg:text-5xl leading-tight font-bold tracking-tight text-center mb-6 text-gray-900", children: [
                "Email confirmé avec",
                /* @__PURE__ */ jsxs("span", { className: "relative block mt-2", children: [
                  /* @__PURE__ */ jsx("span", { className: "text-transparent bg-gradient-to-r from-green-500 to-green-700 bg-clip-text", children: "succès !" }),
                  /* @__PURE__ */ jsx("div", { className: "absolute -bottom-2 left-0 w-full h-1 bg-gradient-to-r from-green-500 to-green-700 rounded-full" })
                ] })
              ] }),
              /* @__PURE__ */ jsx("div", { className: "text-lg text-gray-600 text-center mb-8 leading-relaxed max-w-md mx-auto", children: "Félicitations ! Votre adresse e-mail a été vérifiée avec succès. Vous pouvez maintenant accéder à toutes les fonctionnalités de notre plateforme." }),
              /* @__PURE__ */ jsxs("div", { className: "space-y-4", children: [
                /* @__PURE__ */ jsx(
                  Button,
                  {
                    asChild: true,
                    className: "w-full bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white py-4 px-8 rounded-xl text-lg font-semibold shadow-lg transition-all duration-300 transform hover:scale-[1.02] hover:shadow-xl flex items-center justify-center gap-3",
                    children: /* @__PURE__ */ jsxs(Link, { href: s("client.index"), children: [
                      /* @__PURE__ */ jsx(User$1, { className: "h-5 w-5" }),
                      "Accéder à l'espace client",
                      /* @__PURE__ */ jsx(ArrowRight, { className: "h-5 w-5" })
                    ] })
                  }
                ),
                /* @__PURE__ */ jsx(
                  Button,
                  {
                    asChild: true,
                    variant: "outline",
                    className: "w-full bg-white/80 hover:bg-white text-gray-700 py-4 px-8 rounded-xl text-lg font-medium shadow-sm transition-all duration-300 transform hover:scale-[1.02] hover:shadow-md flex items-center justify-center gap-3 border-gray-200",
                    children: /* @__PURE__ */ jsxs(Link, { href: "/", children: [
                      /* @__PURE__ */ jsx(Home$1, { className: "h-5 w-5" }),
                      "Retour à l'accueil"
                    ] })
                  }
                )
              ] })
            ] }) }),
            /* @__PURE__ */ jsx("div", { className: "relative hidden lg:block animate-fade-in-up", style: { animationDelay: "0.2s" }, children: /* @__PURE__ */ jsxs("div", { className: "relative", children: [
              /* @__PURE__ */ jsx("div", { className: "absolute inset-0 bg-gradient-to-br from-green-100 to-blue-100 rounded-3xl blur-3xl opacity-30" }),
              /* @__PURE__ */ jsxs("div", { className: "relative glass-card p-8 rounded-3xl shadow-2xl hover-lift", children: [
                /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between mb-6", children: [
                  /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-3", children: [
                    /* @__PURE__ */ jsx("div", { className: "w-10 h-10 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center", children: /* @__PURE__ */ jsx(CheckCircle, { className: "h-5 w-5 text-white" }) }),
                    /* @__PURE__ */ jsxs("div", { children: [
                      /* @__PURE__ */ jsx("div", { className: "h-3 w-24 bg-gray-200 rounded-md mb-2" }),
                      /* @__PURE__ */ jsx("div", { className: "h-2 w-16 bg-gray-100 rounded-md" })
                    ] })
                  ] }),
                  /* @__PURE__ */ jsx("div", { className: "w-8 h-8 bg-green-100 rounded-full flex items-center justify-center", children: /* @__PURE__ */ jsx(CheckCircle, { className: "h-5 w-5 text-green-600" }) })
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "space-y-3 mb-6", children: [
                  /* @__PURE__ */ jsx("div", { className: "h-3 w-full bg-green-100 rounded-md" }),
                  /* @__PURE__ */ jsx("div", { className: "h-3 w-4/5 bg-green-100 rounded-md" }),
                  /* @__PURE__ */ jsx("div", { className: "h-3 w-3/5 bg-green-100 rounded-md" })
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "p-4 bg-gradient-to-r from-green-50 to-green-100 rounded-xl border border-green-200", children: [
                  /* @__PURE__ */ jsx("div", { className: "h-4 w-full bg-green-200 rounded-md mb-2" }),
                  /* @__PURE__ */ jsx("div", { className: "h-4 w-2/3 bg-green-200 rounded-md" })
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-2 gap-4 mt-6", children: [
                  /* @__PURE__ */ jsxs("div", { className: "bg-gray-50 rounded-lg p-4 text-center", children: [
                    /* @__PURE__ */ jsx(Shield, { className: "h-6 w-6 text-blue-600 mx-auto mb-2" }),
                    /* @__PURE__ */ jsx("div", { className: "h-2 w-full bg-gray-200 rounded-md mb-1" }),
                    /* @__PURE__ */ jsx("div", { className: "h-2 w-3/4 bg-gray-200 rounded-md mx-auto" })
                  ] }),
                  /* @__PURE__ */ jsxs("div", { className: "bg-gray-50 rounded-lg p-4 text-center", children: [
                    /* @__PURE__ */ jsx(Zap, { className: "h-6 w-6 text-yellow-600 mx-auto mb-2" }),
                    /* @__PURE__ */ jsx("div", { className: "h-2 w-full bg-gray-200 rounded-md mb-1" }),
                    /* @__PURE__ */ jsx("div", { className: "h-2 w-2/3 bg-gray-200 rounded-md mx-auto" })
                  ] })
                ] })
              ] }),
              /* @__PURE__ */ jsx("div", { className: "absolute -top-4 -left-4 bg-gradient-to-br from-green-500 to-green-600 text-white py-2 px-4 rounded-lg shadow-lg text-sm font-medium animate-gentle-float", children: "✓ Vérifié" }),
              /* @__PURE__ */ jsx(
                "div",
                {
                  className: "absolute -bottom-4 -right-4 bg-gradient-to-br from-blue-500 to-blue-600 text-white py-2 px-6 rounded-lg shadow-lg text-sm font-medium animate-gentle-float",
                  style: { animationDelay: "1s" },
                  children: "🎉 Actif"
                }
              )
            ] }) })
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 md:grid-cols-3 gap-8 mt-20 pt-12 border-t border-gray-200", children: [
            /* @__PURE__ */ jsxs(
              "div",
              {
                className: "text-center p-6 glass-card rounded-2xl hover-lift animate-fade-in-up",
                style: { animationDelay: "0.3s" },
                children: [
                  /* @__PURE__ */ jsx("div", { className: "w-16 h-16 bg-gradient-to-br from-green-500 to-green-600 rounded-2xl flex items-center justify-center mx-auto mb-4", children: /* @__PURE__ */ jsx(CheckCircle, { className: "h-8 w-8 text-white" }) }),
                  /* @__PURE__ */ jsx("div", { className: "text-xl font-semibold text-gray-900 mb-2", children: "Compte Vérifié" }),
                  /* @__PURE__ */ jsx("div", { className: "text-gray-600", children: "Votre identité est confirmée et sécurisée" })
                ]
              }
            ),
            /* @__PURE__ */ jsxs(
              "div",
              {
                className: "text-center p-6 glass-card rounded-2xl hover-lift animate-fade-in-up",
                style: { animationDelay: "0.4s" },
                children: [
                  /* @__PURE__ */ jsx("div", { className: "w-16 h-16 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-2xl flex items-center justify-center mx-auto mb-4", children: /* @__PURE__ */ jsx(Zap, { className: "h-8 w-8 text-white" }) }),
                  /* @__PURE__ */ jsx("div", { className: "text-xl font-semibold text-gray-900 mb-2", children: "Accès Complet" }),
                  /* @__PURE__ */ jsx("div", { className: "text-gray-600", children: "Toutes les fonctionnalités sont maintenant disponibles" })
                ]
              }
            ),
            /* @__PURE__ */ jsxs(
              "div",
              {
                className: "text-center p-6 glass-card rounded-2xl hover-lift animate-fade-in-up",
                style: { animationDelay: "0.5s" },
                children: [
                  /* @__PURE__ */ jsx("div", { className: "w-16 h-16 bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-4", children: /* @__PURE__ */ jsx(Star, { className: "h-8 w-8 text-white" }) }),
                  /* @__PURE__ */ jsx("div", { className: "text-xl font-semibold text-gray-900 mb-2", children: "Prêt à Commencer" }),
                  /* @__PURE__ */ jsx("div", { className: "text-gray-600", children: "Commencez à publier vos annonces légales dès maintenant" })
                ]
              }
            )
          ] })
        ] })
      ] }),
      /* @__PURE__ */ jsx(Footer$1, {})
    ] })
  ] });
}
const __vite_glob_0_19 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: EmailConfirmed
}, Symbol.toStringTag, { value: "Module" }));
function ForgotPassword({ status }) {
  const [data, setData] = useState({ email: "" });
  const [processing, setProcessing] = useState(false);
  const [errors, setErrors] = useState({});
  const [isEmailValid, setIsEmailValid] = useState(false);
  const validateEmail = (email) => {
    const re = /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
    return re.test(String(email).toLowerCase());
  };
  const handleEmailChange = (e2) => {
    const email = e2.target.value;
    setData({ email });
    setIsEmailValid(validateEmail(email));
    if (errors.email) {
      setErrors({});
    }
  };
  const submit = (e2) => {
    e2.preventDefault();
    if (!isEmailValid) {
      setErrors({ email: "Veuillez saisir une adresse e-mail valide." });
      return;
    }
    setProcessing(true);
    router.post(route("password.email"), data, {
      onError: (errors2) => {
        setErrors(errors2);
      },
      onFinish: () => setProcessing(false)
    });
  };
  return /* @__PURE__ */ jsx(GuestLayout, { children: /* @__PURE__ */ jsx("div", { className: "min-h-screen flex items-center justify-center px-4 py-8", children: /* @__PURE__ */ jsxs("div", { className: "w-full max-w-md relative", children: [
    /* @__PURE__ */ jsx("div", { className: "absolute -top-12 -right-12 w-24 h-24 bg-gradient-to-br from-red-100/60 to-red-50/40 rounded-full opacity-50 blur-xl" }),
    /* @__PURE__ */ jsx("div", { className: "absolute -bottom-12 -left-12 w-24 h-24 bg-gradient-to-tr from-blue-100/40 to-blue-50/30 rounded-full opacity-40 blur-xl" }),
    /* @__PURE__ */ jsxs("div", { className: "relative z-10", children: [
      /* @__PURE__ */ jsx(
        motion.div,
        {
          initial: { opacity: 0, y: -20 },
          animate: { opacity: 1, y: 0 },
          transition: { duration: 0.5 },
          className: "flex justify-center mb-8",
          children: /* @__PURE__ */ jsx("div", { className: "w-18 h-18 rounded-2xl bg-gradient-to-br from-red-50 to-red-100 flex items-center justify-center shadow-lg border border-red-100/50", children: /* @__PURE__ */ jsx(LockKeyhole, { className: "h-9 w-9 text-red-500" }) })
        }
      ),
      /* @__PURE__ */ jsx(
        motion.h1,
        {
          initial: { opacity: 0, y: -10 },
          animate: { opacity: 1, y: 0 },
          transition: { duration: 0.5, delay: 0.1 },
          className: "text-3xl font-bold text-center text-gray-900 dark:text-white mb-4 text-balance",
          children: "Vous avez oublié votre mot de passe?"
        }
      ),
      /* @__PURE__ */ jsx(
        motion.div,
        {
          initial: { opacity: 0, y: -10 },
          animate: { opacity: 1, y: 0 },
          transition: { duration: 0.5, delay: 0.2 },
          className: "mb-8 text-center text-gray-600 dark:text-gray-300 text-base leading-relaxed text-pretty",
          children: "Pas de souci ! Saisissez votre adresse e-mail et nous vous enverrons un lien sécurisé pour réinitialiser votre mot de passe."
        }
      ),
      status && /* @__PURE__ */ jsx(
        motion.div,
        {
          initial: { opacity: 0, scale: 0.9 },
          animate: { opacity: 1, scale: 1 },
          className: "mb-6 p-4 rounded-xl bg-green-50 dark:bg-green-900/30 border border-green-200 dark:border-green-800",
          children: /* @__PURE__ */ jsxs("div", { className: "flex items-center", children: [
            /* @__PURE__ */ jsx(CheckCircle2, { className: "h-5 w-5 text-green-500 dark:text-green-400 mr-3 flex-shrink-0" }),
            /* @__PURE__ */ jsx("p", { className: "text-sm font-medium text-green-700 dark:text-green-300", children: status })
          ] })
        }
      ),
      /* @__PURE__ */ jsx(
        motion.div,
        {
          initial: { opacity: 0, y: 20 },
          animate: { opacity: 1, y: 0 },
          transition: { duration: 0.5, delay: 0.3 },
          className: "bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-2xl p-8 shadow-xl border border-gray-200/50 dark:border-gray-700/50",
          children: /* @__PURE__ */ jsxs("form", { onSubmit: submit, className: "space-y-6", children: [
            /* @__PURE__ */ jsxs("div", { children: [
              /* @__PURE__ */ jsx("label", { htmlFor: "email", className: "block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3", children: "Adresse e-mail" }),
              /* @__PURE__ */ jsxs("div", { className: "relative", children: [
                /* @__PURE__ */ jsx(
                  TextInput,
                  {
                    id: "email",
                    type: "email",
                    name: "email",
                    value: data.email,
                    className: `px-4 py-4 block w-full rounded-xl shadow-sm border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-red-500 focus:border-red-500 dark:bg-gray-700/50 dark:text-white transition-all duration-200 text-base ${errors.email ? "border-red-500 dark:border-red-500" : ""}`,
                    isFocused: true,
                    onChange: handleEmailChange,
                    placeholder: "votre.email@exemple.com"
                  }
                ),
                isEmailValid && !errors.email && data.email && /* @__PURE__ */ jsx("div", { className: "absolute inset-y-0 right-0 pr-4 flex items-center pointer-events-none", children: /* @__PURE__ */ jsx(CheckCircle2, { className: "h-5 w-5 text-green-500" }) })
              ] }),
              /* @__PURE__ */ jsx(InputError, { message: errors.email, className: "mt-2" })
            ] }),
            /* @__PURE__ */ jsx(motion.div, { whileHover: { scale: 1.01 }, whileTap: { scale: 0.99 }, className: "pt-4", children: /* @__PURE__ */ jsx(
              PrimaryButton,
              {
                className: `w-full justify-center py-4 px-6 bg-red-600 hover:bg-red-700 focus:bg-red-700 active:bg-red-800 transition-all duration-200 rounded-xl font-semibold text-base shadow-lg ${!isEmailValid ? "opacity-70 cursor-not-allowed" : ""}`,
                disabled: processing || !isEmailValid,
                children: processing ? /* @__PURE__ */ jsxs(Fragment, { children: [
                  /* @__PURE__ */ jsx(Loader2, { className: "h-5 w-5 mr-2 animate-spin" }),
                  "Envoi en cours..."
                ] }) : /* @__PURE__ */ jsxs(Fragment, { children: [
                  "Envoyer le lien de réinitialisation",
                  /* @__PURE__ */ jsx(ArrowRight, { className: "ml-2 h-5 w-5" })
                ] })
              }
            ) })
          ] })
        }
      )
    ] })
  ] }) }) });
}
const __vite_glob_0_20 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: ForgotPassword
}, Symbol.toStringTag, { value: "Module" }));
function Checkbox$1({
  className = "",
  ...props
}) {
  return /* @__PURE__ */ jsx(
    "input",
    {
      ...props,
      type: "checkbox",
      className: "rounded border-gray-300 text-indigo-600 shadow-sm focus:ring-indigo-500 dark:border-gray-700 dark:bg-gray-900 dark:focus:ring-indigo-600 dark:focus:ring-offset-gray-800 " + className
    }
  );
}
function TurnstileWidget({ siteKey, onVerify }) {
  const ref = useRef(null);
  useEffect(() => {
    if (!window.turnstile || !ref.current) return;
    const id = window.turnstile.render(ref.current, {
      sitekey: siteKey,
      callback: onVerify,
      size: "flexible"
      // ← teste d'abord
    });
    return () => {
      if (window.turnstile && id) window.turnstile.remove(id);
    };
  }, [siteKey]);
  return /* @__PURE__ */ jsx(
    "div",
    {
      ref,
      className: "cf-turnstile w-full",
      style: { minHeight: "65px" }
    }
  );
}
const loginUrl = route$3("login");
console.log(loginUrl);
function Login$1({
  status,
  canResetPassword = true,
  csrf_token,
  seo
}) {
  const [showPassword, setShowPassword] = useState(false);
  const [isLoading, setIsLoading] = useState(false);
  const [focusedField, setFocusedField] = useState(null);
  const [turnstileKeyRefresh, setTurnstileKeyRefresh] = useState(0);
  const { data, setData, post, processing, errors, reset } = useForm({
    email: "",
    password: "",
    remember: false,
    cf_turnstile_response: ""
  });
  const { turnstileKey = "" } = usePage().props;
  const { redirectBack } = usePage().props;
  const submit = (e2) => {
    e2.preventDefault();
    setIsLoading(true);
    post(s("login", {}, void 0, Ziggy$2).toString(), {
      preserveState: true,
      onSuccess: () => {
        setIsLoading(false);
        reset("password");
        if (redirectBack) {
          router.visit(redirectBack);
        }
      },
      onError: () => {
        setIsLoading(false);
        setTurnstileKeyRefresh((prev) => prev + 1);
      },
      onFinish: () => {
        setIsLoading(false);
        setTurnstileKeyRefresh((prev) => prev + 1);
      }
    });
  };
  const togglePasswordVisibility = () => {
    setShowPassword(!showPassword);
  };
  const getFieldValidation = (fieldName) => {
    if (!data[fieldName]) return null;
    if (errors[fieldName]) return "error";
    return "success";
  };
  return /* @__PURE__ */ jsxs(Fragment, { children: [
    /* @__PURE__ */ jsxs(Head, { children: [
      /* @__PURE__ */ jsx("title", { children: "Journal d’annonces légales 100% en ligne au Maroc" }),
      /* @__PURE__ */ jsx("meta", { name: "description", content: "Wepress Eco est le journal d’annonces légales en ligne au Maroc. Publiez vos annonces légales rapidement et facilement, conformément à la législation marocaine.\n" }),
      typeof window !== "undefined" && /* @__PURE__ */ jsx("script", { src: "https://challenges.cloudflare.com/turnstile/v0/api.js", async: true, defer: true })
    ] }),
    /* @__PURE__ */ jsx("div", { className: "min-h-screen relative overflow-hidden", children: /* @__PURE__ */ jsxs("div", { className: "relative z-10 min-h-screen flex flex-col items-center justify-center px-4 sm:px-6 py-12", children: [
      /* @__PURE__ */ jsx("div", { className: "mb-8 animate-slide-up", children: /* @__PURE__ */ jsx(Link, { href: s("home", {}, true, Ziggy$2), className: "group", children: /* @__PURE__ */ jsxs("div", { className: "relative", children: [
        /* @__PURE__ */ jsx(
          "img",
          {
            src: "/Logo.webp",
            alt: "Logo",
            className: "w-48 h-auto object-contain transition-transform duration-300 group-hover:scale-105"
          }
        ),
        /* @__PURE__ */ jsx("div", { className: "absolute inset-0 bg-gradient-to-r from-red-500/20 to-transparent rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 blur-xl" })
      ] }) }) }),
      /* @__PURE__ */ jsxs("div", { className: "w-full max-w-lg glass-effect rounded-3xl shadow-2xl p-8 sm:p-10 animate-slide-up border border-white/20", children: [
        /* @__PURE__ */ jsxs("div", { className: "text-center mb-8", children: [
          /* @__PURE__ */ jsx("div", { className: "inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-red-500 to-red-600 rounded-2xl mb-4 shadow-lg", children: /* @__PURE__ */ jsx(LogIn, { className: "w-8 h-8 text-white" }) }),
          /* @__PURE__ */ jsx("h1", { className: "text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent", children: "Connexion" }),
          /* @__PURE__ */ jsx("p", { className: "mt-3 text-gray-600 text-lg", children: "Accédez à votre espace client sécurisé pour gérer vos annonces légales" })
        ] }),
        status && /* @__PURE__ */ jsx("div", { className: "mb-6 p-4 bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl text-sm text-green-700 animate-slide-up", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2", children: [
          /* @__PURE__ */ jsx(CheckCircle, { size: 16, className: "text-green-500" }),
          status
        ] }) }),
        /* @__PURE__ */ jsxs("form", { onSubmit: submit, className: "space-y-6", children: [
          /* @__PURE__ */ jsx("input", { type: "hidden", name: "_token", value: csrf_token }),
          /* @__PURE__ */ jsxs("div", { className: "space-y-2", children: [
            /* @__PURE__ */ jsx("label", { htmlFor: "email", className: "block text-sm font-semibold text-gray-700", children: "Adresse email" }),
            /* @__PURE__ */ jsxs("div", { className: "relative group", children: [
              /* @__PURE__ */ jsx(
                "div",
                {
                  className: `absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none transition-colors duration-200 ${focusedField === "email" ? "text-red-500" : "text-gray-400"}`,
                  children: /* @__PURE__ */ jsx(Mail, { size: 20 })
                }
              ),
              /* @__PURE__ */ jsx(
                "input",
                {
                  id: "email",
                  type: "email",
                  name: "email",
                  value: data.email,
                  className: `block w-full pl-12 pr-12 py-4 border-2 rounded-xl shadow-sm transition-all duration-200 input-focus-glow ${errors.email ? "border-red-300 bg-red-50/50" : getFieldValidation("email") === "success" ? "border-green-300 bg-green-50/50" : focusedField === "email" ? "border-red-300 bg-red-50/30" : "border-gray-200 bg-white/50"} focus:ring-0 focus:border-red-400 placeholder-gray-400`,
                  placeholder: "votre@email.com",
                  onChange: (e2) => setData("email", e2.target.value),
                  onFocus: () => setFocusedField("email"),
                  onBlur: () => setFocusedField(null),
                  required: true,
                  autoFocus: true
                }
              ),
              getFieldValidation("email") === "success" && /* @__PURE__ */ jsx("div", { className: "absolute inset-y-0 right-0 pr-4 flex items-center", children: /* @__PURE__ */ jsx(CheckCircle, { size: 20, className: "text-green-500" }) })
            ] }),
            errors.email && /* @__PURE__ */ jsx(InputError, { message: errors.email, className: "mt-2 text-sm" })
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "space-y-2", children: [
            /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
              /* @__PURE__ */ jsx("label", { htmlFor: "password", className: "block text-sm font-semibold text-gray-700", children: "Mot de passe" }),
              canResetPassword && /* @__PURE__ */ jsx(
                Link,
                {
                  href: s("password.request", void 0, void 0, Ziggy$2),
                  className: "text-sm font-medium text-red-600 hover:text-red-700 transition-colors duration-200 underline decoration-red-200 hover:decoration-red-400",
                  children: "Mot de passe oublié?"
                }
              )
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "relative group", children: [
              /* @__PURE__ */ jsx(
                "div",
                {
                  className: `absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none transition-colors duration-200 ${focusedField === "password" ? "text-red-500" : "text-gray-400"}`,
                  children: /* @__PURE__ */ jsx(Lock, { size: 20 })
                }
              ),
              /* @__PURE__ */ jsx(
                "input",
                {
                  id: "password",
                  type: showPassword ? "text" : "password",
                  name: "password",
                  value: data.password,
                  className: `block w-full pl-12 pr-12 py-4 border-2 rounded-xl shadow-sm transition-all duration-200 input-focus-glow ${errors.password ? "border-red-300 bg-red-50/50" : getFieldValidation("password") === "success" ? "border-green-300 bg-green-50/50" : focusedField === "password" ? "border-red-300 bg-red-50/30" : "border-gray-200 bg-white/50"} focus:ring-0 focus:border-red-400 placeholder-gray-400`,
                  placeholder: "••••••••••••",
                  onChange: (e2) => setData("password", e2.target.value),
                  onFocus: () => setFocusedField("password"),
                  onBlur: () => setFocusedField(null),
                  required: true
                }
              ),
              /* @__PURE__ */ jsx(
                "button",
                {
                  type: "button",
                  onClick: togglePasswordVisibility,
                  className: "absolute inset-y-0 right-0 pr-4 flex items-center text-gray-400 hover:text-gray-600 transition-colors duration-200",
                  children: showPassword ? /* @__PURE__ */ jsx(EyeOff, { size: 20 }) : /* @__PURE__ */ jsx(Eye, { size: 20 })
                }
              ),
              getFieldValidation("password") === "success" && /* @__PURE__ */ jsx("div", { className: "absolute inset-y-0 right-12 pr-4 flex items-center", children: /* @__PURE__ */ jsx(CheckCircle, { size: 20, className: "text-green-500" }) })
            ] }),
            errors.password && /* @__PURE__ */ jsx(InputError, { message: errors.password, className: "mt-2 text-sm" })
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between bg-gray-50/50 rounded-xl p-4 border border-gray-200", children: [
            /* @__PURE__ */ jsxs("div", { className: "flex items-center", children: [
              /* @__PURE__ */ jsx(
                Checkbox$1,
                {
                  name: "remember",
                  checked: data.remember,
                  onChange: (e2) => setData("remember", e2.target.checked),
                  className: "h-5 w-5 text-red-600 border-gray-300 rounded focus:ring-red-500 transition-colors duration-200"
                }
              ),
              /* @__PURE__ */ jsx("label", { htmlFor: "remember", className: "ml-3 block text-sm font-medium text-gray-700", children: "Se souvenir de moi" })
            ] }),
            /* @__PURE__ */ jsx("div", { className: "flex items-center text-gray-400", children: /* @__PURE__ */ jsx(Shield, { size: 16 }) })
          ] }),
          /* @__PURE__ */ jsx("div", { className: "w-full rounded-xl shadow-sm overflow-hidden flex justify-center", children: /* @__PURE__ */ jsx("div", { className: "w-[340px] sm:w-[400px] md:w-[440px] lg:w-[480px] xl:w-[520px]", children: /* @__PURE__ */ jsx(
            TurnstileWidget,
            {
              siteKey: turnstileKey,
              onVerify: (token) => setData("cf_turnstile_response", token)
            },
            turnstileKeyRefresh
          ) }) }),
          /* @__PURE__ */ jsxs(
            "button",
            {
              type: "submit",
              disabled: processing || isLoading,
              className: `w-full relative overflow-hidden bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white font-semibold py-4 px-6 rounded-xl shadow-lg transition-all duration-300 transform hover:scale-[1.02] hover:shadow-xl flex items-center justify-center gap-3 group ${processing || isLoading ? "opacity-80 cursor-not-allowed scale-100" : "animate-pulse-glow"}`,
              children: [
                processing || isLoading ? /* @__PURE__ */ jsxs(Fragment, { children: [
                  /* @__PURE__ */ jsxs(
                    "svg",
                    {
                      className: "animate-spin h-5 w-5 text-white",
                      xmlns: "http://www.w3.org/2000/svg",
                      fill: "none",
                      viewBox: "0 0 24 24",
                      children: [
                        /* @__PURE__ */ jsx(
                          "circle",
                          {
                            className: "opacity-25",
                            cx: "12",
                            cy: "12",
                            r: "10",
                            stroke: "currentColor",
                            strokeWidth: "4"
                          }
                        ),
                        /* @__PURE__ */ jsx(
                          "path",
                          {
                            className: "opacity-75",
                            fill: "currentColor",
                            d: "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
                          }
                        )
                      ]
                    }
                  ),
                  /* @__PURE__ */ jsx("span", { className: "text-lg", children: "Connexion en cours..." })
                ] }) : /* @__PURE__ */ jsxs(Fragment, { children: [
                  /* @__PURE__ */ jsx(LogIn, { size: 20 }),
                  /* @__PURE__ */ jsx("span", { className: "text-lg", children: "Se connecter" })
                ] }),
                /* @__PURE__ */ jsx("div", { className: "absolute inset-0 -top-2 -bottom-2 bg-gradient-to-r from-transparent via-white/20 to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-1000" })
              ]
            }
          )
        ] }),
        /* @__PURE__ */ jsx("div", { className: "mt-8 text-center", children: /* @__PURE__ */ jsxs("p", { className: "text-gray-600", children: [
          "Vous n'avez pas de compte?",
          " ",
          /* @__PURE__ */ jsx(
            Link,
            {
              href: s("register", void 0, void 0, Ziggy$2),
              className: "font-semibold text-red-600 hover:text-red-700 transition-colors duration-200 underline decoration-red-200 hover:decoration-red-400",
              children: "S'inscrire gratuitement"
            }
          )
        ] }) }),
        /* @__PURE__ */ jsx("div", { className: "mt-6 p-4 bg-green-50/50 rounded-xl border border-green-200", children: /* @__PURE__ */ jsxs("div", { className: "flex items-start gap-3", children: [
          /* @__PURE__ */ jsx(Shield, { size: 16, className: "text-gree-500 mt-0.5 flex-shrink-0" }),
          /* @__PURE__ */ jsxs("div", { className: "text-sm text-green-700", children: [
            /* @__PURE__ */ jsx("p", { className: "font-medium mb-1", children: "Connexion sécurisée" }),
            /* @__PURE__ */ jsx("p", { className: "text-green-600", children: "Vos données sont protégées par un chiffrement SSL de niveau bancaire." })
          ] })
        ] }) })
      ] }),
      /* @__PURE__ */ jsxs("div", { className: "mt-12 text-center text-sm text-gray-400 animate-slide-up", children: [
        /* @__PURE__ */ jsx("p", { children: "© 2025 Wepress Eco - Tous droits réservés" }),
        /* @__PURE__ */ jsxs("div", { className: "mt-3 flex justify-center space-x-6", children: [
          /* @__PURE__ */ jsx(
            Link,
            {
              href: s("client.privacy-policy", void 0, void 0, Ziggy$2),
              className: "hover:text-gray-300 transition-colors duration-200",
              children: "Mentions légales"
            }
          ),
          /* @__PURE__ */ jsx(
            Link,
            {
              href: s("client.conditions-utilisation", void 0, void 0, Ziggy$2),
              className: "hover:text-gray-300 transition-colors duration-200",
              children: "Conditions générales"
            }
          )
        ] })
      ] })
    ] }) })
  ] });
}
const __vite_glob_0_21 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: Login$1
}, Symbol.toStringTag, { value: "Module" }));
function generateStrongPassword(length = 14) {
  const charset = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*()_+[]{}";
  let password = "";
  for (let i2 = 0; i2 < length; i2++) {
    password += charset[Math.floor(Math.random() * charset.length)];
  }
  return password;
}
function Register({ seo }) {
  const [showPassword, setShowPassword] = useState(false);
  const [showPasswordConfirmation, setShowPasswordConfirmation] = useState(false);
  const [isLoading, setIsLoading] = useState(false);
  const [cities, setCities] = useState([]);
  const [professions] = useState(["comptable agréé", "expert comptable", "avocat", "notaire", "autre"]);
  const [citiesLoading, setCitiesLoading] = useState(true);
  const [passwordStrength, setPasswordStrength] = useState(0);
  const [focusedField, setFocusedField] = useState(null);
  useEffect(() => {
    const fetchCities = async () => {
      setCitiesLoading(true);
      try {
        const response = await fetch("/api/cities");
        if (!response.ok) throw new Error(`API responded with status: ${response.status}`);
        const contentType = response.headers.get("content-type");
        if (!contentType || !contentType.includes("application/json")) {
          throw new Error("API did not return JSON");
        }
        const data2 = await response.json();
        setCities(data2);
      } catch (error) {
        console.error("Error fetching cities:", error);
        setCities(["Casablanca", "Rabat", "Marrakech", "Fes", "Tangier", "Agadir", "Oujda", "Kenitra", "Tetouan"]);
      } finally {
        setCitiesLoading(false);
      }
    };
    fetchCities();
  }, []);
  const regeneratePassword = () => {
    const newPassword = generateStrongPassword();
    setData("password", newPassword);
    setData("password_confirmation", newPassword);
    setPasswordStrength(calculatePasswordStrength(newPassword));
  };
  const [villeSearch, setVilleSearch] = useState("");
  const [showVilleDropdown, setShowVilleDropdown] = useState(false);
  const { data, setData, post, processing, errors, reset } = useForm({
    name: "",
    email: "",
    password: "",
    password_confirmation: "",
    phone: "",
    // Ajout ici
    city: "",
    profession: "",
    nom_societe: "",
    // ⬅️ Default value
    cf_turnstile_response: "",
    address: ""
    // ➕ Default value
  });
  const submit = (e2) => {
    e2.preventDefault();
    setIsLoading(true);
    post(
      s("register", void 0, void 0, Ziggy$2),
      {
        onFinish: () => {
          reset("password", "password_confirmation");
          setIsLoading(false);
        }
      }
    );
  };
  function calculatePasswordStrength(password) {
    let strength = 0;
    if (password.length >= 8) strength += 1;
    if (/[A-Z]/.test(password)) strength += 1;
    if (/[0-9]/.test(password)) strength += 1;
    if (/[^A-Za-z0-9]/.test(password)) strength += 1;
    return strength;
  }
  const togglePasswordVisibility = () => {
    setShowPassword(!showPassword);
  };
  const togglePasswordConfirmationVisibility = () => {
    setShowPasswordConfirmation(!showPasswordConfirmation);
  };
  const getFieldValidation = (fieldName) => {
    if (!data[fieldName]) return null;
    if (errors[fieldName]) return "error";
    return "success";
  };
  const getPasswordStrengthText = () => {
    const texts = ["Très faible", "Faible", "Moyen", "Bon", "Excellent"];
    return texts[passwordStrength] || "Aucun";
  };
  const getPasswordStrengthColor = () => {
    const colors = ["bg-red-500", "bg-orange-500", "bg-yellow-500", "bg-blue-500", "bg-green-500"];
    return colors[passwordStrength - 1] || "bg-gray-300";
  };
  const { turnstileKey } = usePage().props;
  return /* @__PURE__ */ jsx(Fragment, { children: /* @__PURE__ */ jsx("div", { className: "min-h-screen relative overflow-hidden", children: /* @__PURE__ */ jsxs("div", { className: "relative z-10 min-h-screen flex flex-col items-center justify-center px-4 sm:px-6 py-12", children: [
    /* @__PURE__ */ jsxs(Head, { children: [
      /* @__PURE__ */ jsx("title", { children: "Inscription Gratuite | Publiez vos Annonces Légales sur Wepress Eco" }),
      /* @__PURE__ */ jsx("meta", { name: "description", content: "Inscrivez-vous gratuitement sur Wepress Eco pour publier et gérer vos annonces légales en ligne en toute simplicité." })
    ] }),
    /* @__PURE__ */ jsx("div", { className: "mb-8 animate-slide-up", children: /* @__PURE__ */ jsx(Link, { href: s("home", void 0, void 0, Ziggy$2), className: "group", children: /* @__PURE__ */ jsxs("div", { className: "relative", children: [
      /* @__PURE__ */ jsx(
        "img",
        {
          src: "/Logo.webp",
          alt: "Logo",
          className: "w-48 h-auto object-contain transition-transform duration-300 group-hover:scale-105"
        }
      ),
      /* @__PURE__ */ jsx("div", { className: "absolute inset-0 bg-gradient-to-r from-red-500/20 to-transparent rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 blur-xl" })
    ] }) }) }),
    /* @__PURE__ */ jsxs("div", { className: "w-full max-w-lg glass-effect rounded-3xl shadow-2xl p-8 sm:p-10 animate-slide-up border border-white/20", children: [
      /* @__PURE__ */ jsxs("div", { className: "text-center mb-8", children: [
        /* @__PURE__ */ jsx("div", { className: "inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-red-500 to-red-600 rounded-2xl mb-4 shadow-lg", children: /* @__PURE__ */ jsx(User$1, { className: "w-8 h-8 text-white" }) }),
        /* @__PURE__ */ jsx("h1", { className: "text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent", children: "Créer un compte" }),
        /* @__PURE__ */ jsx("p", { className: "mt-3 text-gray-600 text-lg", children: "Rejoignez notre plateforme et publiez vos annonces légales en toute simplicité" })
      ] }),
      /* @__PURE__ */ jsxs("form", { onSubmit: submit, className: "space-y-6", children: [
        /* @__PURE__ */ jsxs("div", { className: "space-y-2", children: [
          /* @__PURE__ */ jsx("label", { htmlFor: "name", className: "block text-sm font-semibold text-gray-700", children: "Nom complet" }),
          /* @__PURE__ */ jsxs("div", { className: "relative group", children: [
            /* @__PURE__ */ jsx(
              "div",
              {
                className: `absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none transition-colors duration-200 ${focusedField === "name" ? "text-red-500" : "text-gray-400"}`,
                children: /* @__PURE__ */ jsx(User$1, { size: 20 })
              }
            ),
            /* @__PURE__ */ jsx(
              "input",
              {
                id: "name",
                type: "text",
                name: "name",
                value: data.name,
                className: `block w-full pl-12 pr-12 py-4 border-2 rounded-xl shadow-sm transition-all duration-200 input-focus-glow ${errors.name ? "border-red-300 bg-red-50/50" : getFieldValidation("name") === "success" ? "border-green-300 bg-green-50/50" : focusedField === "name" ? "border-red-300 bg-red-50/30" : "border-gray-200 bg-white/50"} focus:ring-0 focus:border-red-400 placeholder-gray-400`,
                placeholder: "Entrez votre nom complet",
                onChange: (e2) => setData("name", e2.target.value),
                onFocus: () => setFocusedField("name"),
                onBlur: () => setFocusedField(null),
                required: true,
                autoFocus: true
              }
            ),
            getFieldValidation("name") === "success" && /* @__PURE__ */ jsx("div", { className: "absolute inset-y-0 right-0 pr-4 flex items-center", children: /* @__PURE__ */ jsx(CheckCircle, { size: 20, className: "text-green-500" }) })
          ] }),
          errors.name && /* @__PURE__ */ jsx(InputError, { message: errors.name, className: "mt-2 text-sm" })
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "space-y-2", children: [
          /* @__PURE__ */ jsxs("label", { htmlFor: "nom_societe", className: "block text-sm font-semibold text-gray-700", children: [
            "Nom de la société ",
            /* @__PURE__ */ jsx("span", { className: "text-gray-400", children: "(facultatif)" })
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "relative group", children: [
            /* @__PURE__ */ jsx("div", { className: "absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-gray-400", children: /* @__PURE__ */ jsx(Briefcase, { size: 20 }) }),
            /* @__PURE__ */ jsx(
              "input",
              {
                id: "nom_societe",
                type: "text",
                name: "nom_societe",
                value: data.nom_societe,
                onChange: (e2) => setData("nom_societe", e2.target.value),
                className: `block w-full pl-12 pr-4 py-4 border-2 rounded-xl shadow-sm transition-all duration-200 input-focus-glow ${errors.nom_societe ? "border-red-300 bg-red-50/50" : "border-gray-200 bg-white/50"} focus:ring-0 focus:border-red-400 placeholder-gray-400`,
                placeholder: "Ex: SARL Projuris"
              }
            )
          ] }),
          errors.nom_societe && /* @__PURE__ */ jsx(InputError, { message: errors.nom_societe, className: "mt-2 text-sm" })
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "space-y-2", children: [
          /* @__PURE__ */ jsx("label", { htmlFor: "email", className: "block text-sm font-semibold text-gray-700", children: "Adresse email" }),
          /* @__PURE__ */ jsxs("div", { className: "relative group", children: [
            /* @__PURE__ */ jsx(
              "div",
              {
                className: `absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none transition-colors duration-200 ${focusedField === "email" ? "text-red-500" : "text-gray-400"}`,
                children: /* @__PURE__ */ jsx(Mail, { size: 20 })
              }
            ),
            /* @__PURE__ */ jsx(
              "input",
              {
                id: "email",
                type: "email",
                name: "email",
                value: data.email,
                className: `block w-full pl-12 pr-12 py-4 border-2 rounded-xl shadow-sm transition-all duration-200 input-focus-glow ${errors.email ? "border-red-300 bg-red-50/50" : getFieldValidation("email") === "success" ? "border-green-300 bg-green-50/50" : focusedField === "email" ? "border-red-300 bg-red-50/30" : "border-gray-200 bg-white/50"} focus:ring-0 focus:border-red-400 placeholder-gray-400`,
                placeholder: "votre@email.com",
                onChange: (e2) => setData("email", e2.target.value),
                onFocus: () => setFocusedField("email"),
                onBlur: () => setFocusedField(null),
                required: true
              }
            ),
            getFieldValidation("email") === "success" && /* @__PURE__ */ jsx("div", { className: "absolute inset-y-0 right-0 pr-4 flex items-center", children: /* @__PURE__ */ jsx(CheckCircle, { size: 20, className: "text-green-500" }) })
          ] }),
          errors.email && /* @__PURE__ */ jsx(InputError, { message: errors.email, className: "mt-2 text-sm" })
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "space-y-2", children: [
          /* @__PURE__ */ jsx("label", { htmlFor: "city", className: "block text-sm font-semibold text-gray-700", children: "Ville" }),
          /* @__PURE__ */ jsxs("div", { className: "relative group", children: [
            /* @__PURE__ */ jsx(
              "div",
              {
                className: `absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none transition-colors duration-200 ${focusedField === "city" ? "text-red-500" : "text-gray-400"}`,
                children: /* @__PURE__ */ jsx(MapPin, { size: 20 })
              }
            ),
            /* @__PURE__ */ jsx(
              "input",
              {
                id: "city",
                type: "text",
                name: "city",
                value: villeSearch || data.city,
                placeholder: "Rechercher votre ville",
                onChange: (e2) => {
                  setVilleSearch(e2.target.value);
                  setData("city", "");
                  setShowVilleDropdown(true);
                },
                onFocus: () => {
                  setFocusedField("city");
                  setShowVilleDropdown(true);
                },
                onBlur: () => {
                  setFocusedField(null);
                  setTimeout(() => setShowVilleDropdown(false), 200);
                },
                className: `block w-full pl-12 pr-4 py-4 border-2 rounded-xl shadow-sm transition-all duration-200 input-focus-glow ${errors.city ? "border-red-300 bg-red-50/50" : getFieldValidation("city") === "success" ? "border-green-300 bg-green-50/50" : focusedField === "city" ? "border-red-300 bg-red-50/30" : "border-gray-200 bg-white/50"} focus:ring-0 focus:border-red-400 placeholder-gray-400`,
                autoComplete: "off"
              }
            ),
            showVilleDropdown && cities.length > 0 && /* @__PURE__ */ jsx("ul", { className: "absolute z-20 mt-2 w-full bg-white/95 backdrop-blur-md border border-gray-200 rounded-xl max-h-48 overflow-auto shadow-xl", children: cities.filter((city) => city.toLowerCase().includes(villeSearch.toLowerCase())).map((city, index2) => /* @__PURE__ */ jsx(
              "li",
              {
                onClick: () => {
                  setData("city", city);
                  setVilleSearch("");
                  setShowVilleDropdown(false);
                },
                className: "px-4 py-3 text-sm cursor-pointer hover:bg-red-50 transition-colors duration-150 first:rounded-t-xl last:rounded-b-xl",
                children: city
              },
              index2
            )) })
          ] }),
          errors.city && /* @__PURE__ */ jsx(InputError, { message: errors.city, className: "mt-2 text-sm" })
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "space-y-2", children: [
          /* @__PURE__ */ jsx("label", { htmlFor: "phone", className: "block text-sm font-semibold text-gray-700", children: "Téléphone" }),
          /* @__PURE__ */ jsxs("div", { className: "relative group", children: [
            /* @__PURE__ */ jsx("div", { className: `absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-gray-400`, children: /* @__PURE__ */ jsx("svg", { className: "h-5 w-5", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M3 5h2l.4 2M7 8h10M5 21h14M16 3h5a2 2 0 012 2v14a2 2 0 01-2 2h-5M8 3H3a2 2 0 00-2 2v14a2 2 0 002 2h5" }) }) }),
            /* @__PURE__ */ jsx(
              "input",
              {
                id: "phone",
                type: "tel",
                name: "phone",
                value: data.phone,
                className: "block w-full pl-12 pr-4 py-4 border-2 rounded-xl shadow-sm bg-white/50 border-gray-200 focus:ring-0 focus:border-red-400 placeholder-gray-400",
                placeholder: "+212 6 00 00 00 00",
                onChange: (e2) => setData("phone", e2.target.value),
                required: true
              }
            )
          ] }),
          errors.phone && /* @__PURE__ */ jsx(InputError, { message: errors.phone, className: "mt-2 text-sm" })
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "space-y-2", children: [
          /* @__PURE__ */ jsx("label", { htmlFor: "address", className: "block text-sm font-semibold text-gray-700", children: "Adresse de livraison" }),
          /* @__PURE__ */ jsxs("div", { className: "relative group", children: [
            /* @__PURE__ */ jsx("div", { className: "absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-gray-400", children: /* @__PURE__ */ jsx(MapPin, { size: 20 }) }),
            /* @__PURE__ */ jsx(
              "input",
              {
                id: "address",
                type: "text",
                name: "address",
                value: data.address,
                onChange: (e2) => setData("address", e2.target.value),
                className: `block w-full pl-12 pr-4 py-4 border-2 rounded-xl shadow-sm transition-all duration-200 input-focus-glow ${errors.address ? "border-red-300 bg-red-50/50" : "border-gray-200 bg-white/50"} focus:ring-0 focus:border-red-400 placeholder-gray-400`,
                placeholder: "Adresse (ex: 10 rue El Fassi, Tanger)"
              }
            )
          ] }),
          errors.address && /* @__PURE__ */ jsx(InputError, { message: errors.address, className: "mt-2 text-sm" })
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "space-y-2", children: [
          /* @__PURE__ */ jsx("label", { htmlFor: "profession", className: "block text-sm font-semibold text-gray-700", children: "Profession" }),
          /* @__PURE__ */ jsxs("div", { className: "relative group", children: [
            /* @__PURE__ */ jsx(
              "div",
              {
                className: `absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none transition-colors duration-200 ${focusedField === "profession" ? "text-red-500" : "text-gray-400"}`,
                children: /* @__PURE__ */ jsx(Briefcase, { size: 20 })
              }
            ),
            /* @__PURE__ */ jsxs(
              "select",
              {
                id: "profession",
                name: "profession",
                value: data.profession,
                className: `block w-full pl-12 pr-4 py-4 border-2 rounded-xl shadow-sm transition-all duration-200 input-focus-glow appearance-none ${errors.profession ? "border-red-300 bg-red-50/50" : getFieldValidation("profession") === "success" ? "border-green-300 bg-green-50/50" : focusedField === "profession" ? "border-red-300 bg-red-50/30" : "border-gray-200 bg-white/50"} focus:ring-0 focus:border-red-400`,
                onChange: (e2) => setData("profession", e2.target.value),
                onFocus: () => setFocusedField("profession"),
                onBlur: () => setFocusedField(null),
                required: true,
                children: [
                  /* @__PURE__ */ jsx("option", { value: "", disabled: true, children: "Sélectionnez votre profession" }),
                  professions.map((profession) => /* @__PURE__ */ jsx("option", { value: profession, children: profession.charAt(0).toUpperCase() + profession.slice(1) }, profession))
                ]
              }
            ),
            /* @__PURE__ */ jsx("div", { className: "absolute inset-y-0 right-0 flex items-center pr-4 pointer-events-none", children: /* @__PURE__ */ jsx(
              "svg",
              {
                className: "h-5 w-5 text-gray-400",
                xmlns: "http://www.w3.org/2000/svg",
                viewBox: "0 0 20 20",
                fill: "currentColor",
                children: /* @__PURE__ */ jsx(
                  "path",
                  {
                    fillRule: "evenodd",
                    d: "M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",
                    clipRule: "evenodd"
                  }
                )
              }
            ) })
          ] }),
          errors.profession && /* @__PURE__ */ jsx(InputError, { message: errors.profession, className: "mt-2 text-sm" })
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "space-y-2", children: [
          /* @__PURE__ */ jsx("label", { htmlFor: "password", className: "block text-sm font-semibold text-gray-700", children: "Mot de passe" }),
          /* @__PURE__ */ jsxs("div", { className: "relative group", children: [
            /* @__PURE__ */ jsx(
              "div",
              {
                className: `absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none transition-colors duration-200 ${focusedField === "password" ? "text-red-500" : "text-gray-400"}`,
                children: /* @__PURE__ */ jsx(Lock, { size: 20 })
              }
            ),
            /* @__PURE__ */ jsx(
              "input",
              {
                id: "password",
                type: showPassword ? "text" : "password",
                name: "password",
                value: data.password,
                className: `block w-full pl-12 pr-12 py-4 border-2 rounded-xl shadow-sm transition-all duration-200 input-focus-glow ${errors.password ? "border-red-300 bg-red-50/50" : passwordStrength >= 3 && data.password ? "border-green-300 bg-green-50/50" : focusedField === "password" ? "border-red-300 bg-red-50/30" : "border-gray-200 bg-white/50"} focus:ring-0 focus:border-red-400 placeholder-gray-400`,
                placeholder: "••••••••••••",
                onChange: (e2) => {
                  const pwd = e2.target.value;
                  setData("password", pwd);
                  setPasswordStrength(calculatePasswordStrength(pwd));
                },
                onFocus: () => setFocusedField("password"),
                onBlur: () => setFocusedField(null),
                required: true
              }
            ),
            /* @__PURE__ */ jsx(
              "button",
              {
                type: "button",
                onClick: togglePasswordVisibility,
                className: "absolute inset-y-0 right-0 pr-4 flex items-center text-gray-400 hover:text-gray-600 transition-colors duration-200",
                children: showPassword ? /* @__PURE__ */ jsx(EyeOff, { size: 20 }) : /* @__PURE__ */ jsx(Eye, { size: 20 })
              }
            )
          ] }),
          data.password && /* @__PURE__ */ jsxs("div", { className: "mt-3 space-y-2 animate-slide-up", children: [
            /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
              /* @__PURE__ */ jsx("span", { className: "text-xs font-medium text-gray-600", children: "Force du mot de passe" }),
              /* @__PURE__ */ jsx(
                "span",
                {
                  className: `text-xs font-semibold ${passwordStrength >= 3 ? "text-green-600" : passwordStrength >= 2 ? "text-yellow-600" : "text-red-600"}`,
                  children: getPasswordStrengthText()
                }
              )
            ] }),
            /* @__PURE__ */ jsx("div", { className: "w-full bg-gray-200 rounded-full h-2 overflow-hidden", children: /* @__PURE__ */ jsx(
              "div",
              {
                className: `h-2 rounded-full transition-all duration-500 ${getPasswordStrengthColor()}`,
                style: { width: `${passwordStrength / 4 * 100}%` }
              }
            ) }),
            /* @__PURE__ */ jsxs("div", { className: "flex justify-between text-xs text-gray-500", children: [
              /* @__PURE__ */ jsx("span", { className: passwordStrength >= 1 ? "text-green-600" : "", children: "8+ caractères" }),
              /* @__PURE__ */ jsx("span", { className: passwordStrength >= 2 ? "text-green-600" : "", children: "Majuscule" }),
              /* @__PURE__ */ jsx("span", { className: passwordStrength >= 3 ? "text-green-600" : "", children: "Chiffre" }),
              /* @__PURE__ */ jsx("span", { className: passwordStrength >= 4 ? "text-green-600" : "", children: "Symbole" })
            ] })
          ] }),
          errors.password && /* @__PURE__ */ jsx(InputError, { message: errors.password, className: "mt-2 text-sm" }),
          /* @__PURE__ */ jsxs(
            "button",
            {
              type: "button",
              onClick: regeneratePassword,
              className: "inline-flex items-center gap-2 text-sm text-red-600 hover:text-red-700 font-medium transition-colors duration-200 group",
              children: [
                /* @__PURE__ */ jsx(Sparkles, { size: 16, className: "group-hover:animate-spin" }),
                "Générer un mot de passe sécurisé"
              ]
            }
          )
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "space-y-2", children: [
          /* @__PURE__ */ jsx("label", { htmlFor: "password_confirmation", className: "block text-sm font-semibold text-gray-700", children: "Confirmer le mot de passe" }),
          /* @__PURE__ */ jsxs("div", { className: "relative group", children: [
            /* @__PURE__ */ jsx(
              "div",
              {
                className: `absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none transition-colors duration-200 ${focusedField === "password_confirmation" ? "text-red-500" : "text-gray-400"}`,
                children: /* @__PURE__ */ jsx(Lock, { size: 20 })
              }
            ),
            /* @__PURE__ */ jsx(
              "input",
              {
                id: "password_confirmation",
                type: showPasswordConfirmation ? "text" : "password",
                name: "new-password-confirmation",
                value: data.password_confirmation,
                className: `block w-full pl-12 pr-12 py-4 border-2 rounded-xl shadow-sm transition-all duration-200 input-focus-glow ${errors.password_confirmation ? "border-red-300 bg-red-50/50" : data.password_confirmation && data.password === data.password_confirmation ? "border-green-300 bg-green-50/50" : focusedField === "password_confirmation" ? "border-red-300 bg-red-50/30" : "border-gray-200 bg-white/50"} focus:ring-0 focus:border-red-400 placeholder-gray-400`,
                placeholder: "••••••••••••",
                onChange: (e2) => setData("password_confirmation", e2.target.value),
                onFocus: () => setFocusedField("password_confirmation"),
                onBlur: () => setFocusedField(null),
                required: true
              }
            ),
            /* @__PURE__ */ jsx(
              "button",
              {
                type: "button",
                onClick: togglePasswordConfirmationVisibility,
                className: "absolute inset-y-0 right-0 pr-4 flex items-center text-gray-400 hover:text-gray-600 transition-colors duration-200",
                children: showPasswordConfirmation ? /* @__PURE__ */ jsx(EyeOff, { size: 20 }) : /* @__PURE__ */ jsx(Eye, { size: 20 })
              }
            ),
            data.password_confirmation && data.password === data.password_confirmation && /* @__PURE__ */ jsx("div", { className: "absolute inset-y-0 right-12 pr-4 flex items-center", children: /* @__PURE__ */ jsx(CheckCircle, { size: 20, className: "text-green-500" }) })
          ] }),
          errors.password_confirmation && /* @__PURE__ */ jsx(InputError, { message: errors.password_confirmation, className: "mt-2 text-sm" })
        ] }),
        /* @__PURE__ */ jsx("div", { className: "bg-gray-50/50 rounded-xl p-4 border border-gray-200", children: /* @__PURE__ */ jsxs("div", { className: "text-sm text-gray-600 leading-relaxed", children: [
          "En vous inscrivant, vous acceptez notre",
          " ",
          /* @__PURE__ */ jsx(
            "a",
            {
              href: s("client.privacy-policy", void 0, void 0, Ziggy$2),
              className: "text-red-600 hover:text-red-700 font-semibold underline decoration-red-200 hover:decoration-red-400 transition-colors",
              children: "Politique de la confidentialité"
            }
          ),
          "."
        ] }) }),
        /* @__PURE__ */ jsx(
          TurnstileWidget,
          {
            siteKey: turnstileKey,
            onVerify: (token) => setData("cf_turnstile_response", token)
          }
        ),
        /* @__PURE__ */ jsxs(
          "button",
          {
            type: "submit",
            disabled: processing || isLoading,
            className: `w-full relative overflow-hidden bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white font-semibold py-4 px-6 rounded-xl shadow-lg transition-all duration-300 transform hover:scale-[1.02] hover:shadow-xl flex items-center justify-center gap-3 ${processing || isLoading ? "opacity-80 cursor-not-allowed scale-100" : "animate-pulse-glow"}`,
            children: [
              processing || isLoading ? /* @__PURE__ */ jsxs(Fragment, { children: [
                /* @__PURE__ */ jsxs(
                  "svg",
                  {
                    className: "animate-spin h-5 w-5 text-white",
                    xmlns: "http://www.w3.org/2000/svg",
                    fill: "none",
                    viewBox: "0 0 24 24",
                    children: [
                      /* @__PURE__ */ jsx(
                        "circle",
                        {
                          className: "opacity-25",
                          cx: "12",
                          cy: "12",
                          r: "10",
                          stroke: "currentColor",
                          strokeWidth: "4"
                        }
                      ),
                      /* @__PURE__ */ jsx(
                        "path",
                        {
                          className: "opacity-75",
                          fill: "currentColor",
                          d: "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
                        }
                      )
                    ]
                  }
                ),
                /* @__PURE__ */ jsx("span", { className: "text-lg", children: "Création en cours..." })
              ] }) : /* @__PURE__ */ jsxs(Fragment, { children: [
                /* @__PURE__ */ jsx("span", { className: "text-lg", children: "Créer mon compte" }),
                /* @__PURE__ */ jsx(ArrowRight, { size: 20, className: "transition-transform duration-200 group-hover:translate-x-1" })
              ] }),
              /* @__PURE__ */ jsx("div", { className: "absolute inset-0 -top-2 -bottom-2 bg-gradient-to-r from-transparent via-white/20 to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-1000" })
            ]
          }
        )
      ] }),
      /* @__PURE__ */ jsx("div", { className: "mt-8 text-center", children: /* @__PURE__ */ jsxs("p", { className: "text-gray-600", children: [
        "Vous avez déjà un compte?",
        " ",
        /* @__PURE__ */ jsx(
          Link,
          {
            href: s("login", void 0, void 0, Ziggy$2),
            className: "font-semibold text-red-600 hover:text-red-700 transition-colors duration-200 underline decoration-red-200 hover:decoration-red-400",
            children: "Se connecter"
          }
        )
      ] }) })
    ] }),
    /* @__PURE__ */ jsxs("div", { className: "mt-12 text-center text-sm text-gray-400 animate-slide-up", children: [
      /* @__PURE__ */ jsx("p", { children: "© 2025 Wepress Eco - Tous droits réservés" }),
      /* @__PURE__ */ jsxs("div", { className: "mt-3 flex justify-center space-x-6", children: [
        /* @__PURE__ */ jsx("a", { href: s("client.mentions-legales", void 0, void 0, Ziggy$2), className: "hover:text-gray-300 transition-colors duration-200", children: "Mentions légales" }),
        /* @__PURE__ */ jsx("a", { href: s("client.conditions-utilisation", void 0, void 0, Ziggy$2), className: "hover:text-gray-300 transition-colors duration-200", children: "Conditions générales d'utilisation" }),
        /* @__PURE__ */ jsx("a", { href: s("client.condition-de-vente", void 0, void 0, Ziggy$2), children: "Conditions générales de vente" })
      ] })
    ] })
  ] }) }) });
}
const __vite_glob_0_22 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: Register
}, Symbol.toStringTag, { value: "Module" }));
const Input = React.forwardRef(
  ({ className, type, ...props }, ref) => {
    return /* @__PURE__ */ jsx(
      "input",
      {
        type,
        className: cn(
          "flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",
          className
        ),
        ref,
        ...props
      }
    );
  }
);
Input.displayName = "Input";
const labelVariants = cva(
  "text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"
);
const Label = React.forwardRef(({ className, ...props }, ref) => /* @__PURE__ */ jsx(
  LabelPrimitive.Root,
  {
    ref,
    className: cn(labelVariants(), className),
    ...props
  }
));
Label.displayName = LabelPrimitive.Root.displayName;
function ResetPassword({
  token,
  email
}) {
  const [data, setData] = useState({
    token,
    email,
    password: "",
    password_confirmation: ""
  });
  const [processing, setProcessing] = useState(false);
  const [errors, setErrors] = useState({});
  const [showPassword, setShowPassword] = useState(false);
  const [showConfirmPassword, setShowConfirmPassword] = useState(false);
  const [passwordStrength, setPasswordStrength] = useState(0);
  const validatePassword = (password) => {
    let strength = 0;
    if (password.length >= 8) strength++;
    if (/[A-Z]/.test(password)) strength++;
    if (/[a-z]/.test(password)) strength++;
    if (/[0-9]/.test(password)) strength++;
    if (/[^A-Za-z0-9]/.test(password)) strength++;
    return strength;
  };
  const handlePasswordChange = (e2) => {
    const password = e2.target.value;
    setData((prev) => ({ ...prev, password }));
    setPasswordStrength(validatePassword(password));
  };
  const handleConfirmPasswordChange = (e2) => {
    const password_confirmation = e2.target.value;
    setData((prev) => ({ ...prev, password_confirmation }));
  };
  const getPasswordStrengthColor = () => {
    if (passwordStrength <= 2) return "bg-red-500";
    if (passwordStrength <= 3) return "bg-yellow-500";
    return "bg-green-500";
  };
  const getPasswordStrengthText = () => {
    if (passwordStrength <= 2) return "Faible";
    if (passwordStrength <= 3) return "Moyen";
    return "Fort";
  };
  const submit = async (e2) => {
    var _a2;
    e2.preventDefault();
    setProcessing(true);
    setErrors({});
    try {
      const response = await fetch("/reset-password", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
          "X-CSRF-TOKEN": ((_a2 = document.querySelector('meta[name="csrf-token"]')) == null ? void 0 : _a2.content) || ""
        },
        body: JSON.stringify(data)
      });
      if (!response.ok) {
        const errorData = await response.json();
        setErrors(errorData.errors || { general: "Une erreur est survenue" });
      } else {
        window.location.href = "/connexion?reset=success";
      }
    } catch (error) {
      setErrors({ general: "Une erreur de connexion est survenue" });
    } finally {
      setProcessing(false);
    }
  };
  return /* @__PURE__ */ jsx("div", { className: "min-h-screen flex items-center justify-center px-4 py-8 bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800", children: /* @__PURE__ */ jsxs("div", { className: "w-full max-w-md relative", children: [
    /* @__PURE__ */ jsx("div", { className: "absolute -top-12 -right-12 w-24 h-24 bg-gradient-to-br from-rose-100/60 to-rose-50/40 rounded-full opacity-50 blur-xl" }),
    /* @__PURE__ */ jsx("div", { className: "absolute -bottom-12 -left-12 w-24 h-24 bg-gradient-to-tr from-purple-100/40 to-purple-50/30 rounded-full opacity-40 blur-xl" }),
    /* @__PURE__ */ jsxs("div", { className: "relative z-10", children: [
      /* @__PURE__ */ jsx(
        motion.div,
        {
          initial: { opacity: 0, y: -20 },
          animate: { opacity: 1, y: 0 },
          transition: { duration: 0.5 },
          className: "flex justify-center mb-8",
          children: /* @__PURE__ */ jsx("div", { className: "w-18 h-18 rounded-2xl bg-gradient-to-br from-rose-50 to-rose-100 dark:from-rose-900/50 dark:to-rose-800/50 flex items-center justify-center shadow-lg border border-rose-100/50 dark:border-rose-800/50", children: /* @__PURE__ */ jsx(Shield, { className: "h-9 w-9 text-rose-500" }) })
        }
      ),
      /* @__PURE__ */ jsx(
        motion.h1,
        {
          initial: { opacity: 0, y: -10 },
          animate: { opacity: 1, y: 0 },
          transition: { duration: 0.5, delay: 0.1 },
          className: "text-3xl font-bold text-center text-gray-900 dark:text-white mb-4 text-balance",
          children: "Réinitialiser votre mot de passe"
        }
      ),
      /* @__PURE__ */ jsx(
        motion.div,
        {
          initial: { opacity: 0, y: -10 },
          animate: { opacity: 1, y: 0 },
          transition: { duration: 0.5, delay: 0.2 },
          className: "mb-8 text-center text-gray-600 dark:text-gray-300 text-base leading-relaxed text-pretty",
          children: "Choisissez un nouveau mot de passe sécurisé pour votre compte."
        }
      ),
      /* @__PURE__ */ jsx(
        motion.div,
        {
          initial: { opacity: 0, y: 20 },
          animate: { opacity: 1, y: 0 },
          transition: { duration: 0.5, delay: 0.3 },
          className: "bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-2xl p-8 shadow-xl border border-gray-200/50 dark:border-gray-700/50",
          children: /* @__PURE__ */ jsxs("form", { onSubmit: submit, className: "space-y-6", children: [
            errors.general && /* @__PURE__ */ jsx("div", { className: "p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl", children: /* @__PURE__ */ jsx("p", { className: "text-sm text-red-600 dark:text-red-400", children: errors.general }) }),
            /* @__PURE__ */ jsxs("div", { children: [
              /* @__PURE__ */ jsx(Label, { htmlFor: "email", className: "block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3", children: "Adresse e-mail" }),
              /* @__PURE__ */ jsx(
                Input,
                {
                  id: "email",
                  type: "email",
                  name: "email",
                  value: data.email,
                  className: "px-4 py-4 block w-full rounded-xl shadow-sm border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-rose-500 focus:border-rose-500 dark:bg-gray-700/50 dark:text-white transition-all duration-200 text-base bg-gray-50 dark:bg-gray-700/30",
                  readOnly: true
                }
              )
            ] }),
            /* @__PURE__ */ jsxs("div", { children: [
              /* @__PURE__ */ jsx(Label, { htmlFor: "password", className: "block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3", children: "Nouveau mot de passe" }),
              /* @__PURE__ */ jsxs("div", { className: "relative", children: [
                /* @__PURE__ */ jsx(
                  Input,
                  {
                    id: "password",
                    type: showPassword ? "text" : "password",
                    name: "password",
                    value: data.password,
                    className: `px-4 py-4 pr-12 block w-full rounded-xl shadow-sm border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-rose-500 focus:border-rose-500 dark:bg-gray-700/50 dark:text-white transition-all duration-200 text-base ${errors.password ? "border-red-500 dark:border-red-500" : ""}`,
                    onChange: handlePasswordChange,
                    placeholder: "Saisissez votre nouveau mot de passe",
                    autoFocus: true
                  }
                ),
                /* @__PURE__ */ jsx(
                  "button",
                  {
                    type: "button",
                    className: "absolute inset-y-0 right-0 pr-4 flex items-center",
                    onClick: () => setShowPassword(!showPassword),
                    children: showPassword ? /* @__PURE__ */ jsx(EyeOff, { className: "h-5 w-5 text-gray-400 hover:text-gray-600" }) : /* @__PURE__ */ jsx(Eye, { className: "h-5 w-5 text-gray-400 hover:text-gray-600" })
                  }
                )
              ] }),
              data.password && /* @__PURE__ */ jsxs("div", { className: "mt-2", children: [
                /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between text-xs text-gray-600 dark:text-gray-400 mb-1", children: [
                  /* @__PURE__ */ jsx("span", { children: "Force du mot de passe" }),
                  /* @__PURE__ */ jsx(
                    "span",
                    {
                      className: `font-medium ${passwordStrength <= 2 ? "text-red-500" : passwordStrength <= 3 ? "text-yellow-500" : "text-green-500"}`,
                      children: getPasswordStrengthText()
                    }
                  )
                ] }),
                /* @__PURE__ */ jsx("div", { className: "w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2", children: /* @__PURE__ */ jsx(
                  "div",
                  {
                    className: `h-2 rounded-full transition-all duration-300 ${getPasswordStrengthColor()}`,
                    style: { width: `${passwordStrength / 5 * 100}%` }
                  }
                ) })
              ] }),
              errors.password && /* @__PURE__ */ jsx("p", { className: "mt-2 text-sm text-red-600 dark:text-red-400", children: errors.password })
            ] }),
            /* @__PURE__ */ jsxs("div", { children: [
              /* @__PURE__ */ jsx(
                Label,
                {
                  htmlFor: "password_confirmation",
                  className: "block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",
                  children: "Confirmer le mot de passe"
                }
              ),
              /* @__PURE__ */ jsxs("div", { className: "relative", children: [
                /* @__PURE__ */ jsx(
                  Input,
                  {
                    id: "password_confirmation",
                    type: showConfirmPassword ? "text" : "password",
                    name: "password_confirmation",
                    value: data.password_confirmation,
                    className: `px-4 py-4 pr-12 block w-full rounded-xl shadow-sm border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-rose-500 focus:border-rose-500 dark:bg-gray-700/50 dark:text-white transition-all duration-200 text-base ${errors.password_confirmation ? "border-red-500 dark:border-red-500" : ""}`,
                    onChange: handleConfirmPasswordChange,
                    placeholder: "Confirmez votre nouveau mot de passe"
                  }
                ),
                /* @__PURE__ */ jsx(
                  "button",
                  {
                    type: "button",
                    className: "absolute inset-y-0 right-0 pr-4 flex items-center",
                    onClick: () => setShowConfirmPassword(!showConfirmPassword),
                    children: showConfirmPassword ? /* @__PURE__ */ jsx(EyeOff, { className: "h-5 w-5 text-gray-400 hover:text-gray-600" }) : /* @__PURE__ */ jsx(Eye, { className: "h-5 w-5 text-gray-400 hover:text-gray-600" })
                  }
                ),
                data.password_confirmation && data.password === data.password_confirmation && /* @__PURE__ */ jsx("div", { className: "absolute inset-y-0 right-12 flex items-center pointer-events-none", children: /* @__PURE__ */ jsx(CheckCircle2, { className: "h-5 w-5 text-green-500" }) })
              ] }),
              errors.password_confirmation && /* @__PURE__ */ jsx("p", { className: "mt-2 text-sm text-red-600 dark:text-red-400", children: errors.password_confirmation })
            ] }),
            /* @__PURE__ */ jsx(motion.div, { whileHover: { scale: 1.01 }, whileTap: { scale: 0.99 }, className: "pt-4", children: /* @__PURE__ */ jsx(
              Button,
              {
                type: "submit",
                className: `w-full justify-center py-4 px-6 bg-rose-600 hover:bg-rose-700 focus:bg-rose-700 active:bg-rose-800 transition-all duration-200 rounded-xl font-semibold text-base shadow-lg ${processing || !data.password || !data.password_confirmation ? "opacity-70 cursor-not-allowed" : ""}`,
                disabled: processing || !data.password || !data.password_confirmation,
                children: processing ? /* @__PURE__ */ jsxs(Fragment, { children: [
                  /* @__PURE__ */ jsx(Loader2, { className: "h-5 w-5 mr-2 animate-spin" }),
                  "Réinitialisation en cours..."
                ] }) : /* @__PURE__ */ jsxs(Fragment, { children: [
                  "Réinitialiser le mot de passe",
                  /* @__PURE__ */ jsx(ArrowRight, { className: "ml-2 h-5 w-5" })
                ] })
              }
            ) })
          ] })
        }
      )
    ] })
  ] }) });
}
const __vite_glob_0_23 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: ResetPassword
}, Symbol.toStringTag, { value: "Module" }));
function VerifyEmail({ status }) {
  const { post, processing } = useForm({});
  const submit = (e2) => {
    e2.preventDefault();
    post(route("verification.send"));
  };
  return /* @__PURE__ */ jsxs(Fragment, { children: [
    /* @__PURE__ */ jsx("style", { jsx: true, global: true, children: `
        @keyframes gentle-float {
          0%, 100% {
            transform: translateY(0px);
          }
          50% {
            transform: translateY(-8px);
          }
        }
        
        @keyframes fade-in-up {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        @keyframes pulse-glow {
          0%, 100% {
            box-shadow: 0 0 20px rgba(239, 68, 68, 0.3);
          }
          50% {
            box-shadow: 0 0 30px rgba(239, 68, 68, 0.5);
          }
        }
        
        .animate-gentle-float {
          animation: gentle-float 4s ease-in-out infinite;
        }
        
        .animate-fade-in-up {
          animation: fade-in-up 0.6s ease-out forwards;
        }
        
        .animate-pulse-glow {
          animation: pulse-glow 2s ease-in-out infinite;
        }
        
        .glass-card {
          background: rgba(255, 255, 255, 0.9);
          backdrop-filter: blur(10px);
          border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .hover-lift {
          transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .hover-lift:hover {
          transform: translateY(-4px);
          box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
      ` }),
    /* @__PURE__ */ jsxs("div", { className: "min-h-screen flex flex-col bg-gray-50", children: [
      /* @__PURE__ */ jsx(Header, { auth: { user: null } }),
      /* @__PURE__ */ jsxs("section", { className: "relative bg-gradient-to-br from-gray-50 to-gray-100 py-20 pt-32 overflow-hidden flex-1", children: [
        /* @__PURE__ */ jsx("div", { className: "absolute inset-0 opacity-[0.02]", children: /* @__PURE__ */ jsx(
          "div",
          {
            className: "absolute inset-0",
            style: {
              backgroundImage: `url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fillRule='evenodd'%3E%3Cg fill='%23000000' fillOpacity='1'%3E%3Ccircle cx='30' cy='30' r='1'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`
            }
          }
        ) }),
        /* @__PURE__ */ jsx("div", { className: "absolute top-20 left-[10%] w-20 h-20 bg-red-100 rounded-full opacity-60 animate-gentle-float" }),
        /* @__PURE__ */ jsx(
          "div",
          {
            className: "absolute bottom-32 right-[15%] w-16 h-16 bg-blue-100 rounded-full opacity-60 animate-gentle-float",
            style: { animationDelay: "1s" }
          }
        ),
        /* @__PURE__ */ jsx(
          "div",
          {
            className: "absolute top-1/2 right-[25%] w-12 h-12 bg-purple-100 rounded-full opacity-60 animate-gentle-float",
            style: { animationDelay: "2s" }
          }
        ),
        /* @__PURE__ */ jsxs("div", { className: "max-w-6xl mx-auto px-4 relative z-10", children: [
          /* @__PURE__ */ jsxs("div", { className: "grid lg:grid-cols-2 gap-16 items-center min-h-[70vh]", children: [
            /* @__PURE__ */ jsx("div", { className: "flex flex-col gap-8 animate-fade-in-up", children: /* @__PURE__ */ jsxs("div", { className: "glass-card p-8 rounded-3xl shadow-xl hover-lift", children: [
              /* @__PURE__ */ jsx("div", { className: "flex items-center justify-center mb-8", children: /* @__PURE__ */ jsx("div", { className: "bg-gradient-to-br from-red-500 to-red-600 p-6 rounded-2xl shadow-lg animate-pulse-glow", children: /* @__PURE__ */ jsx(Mail, { className: "h-12 w-12 text-white" }) }) }),
              /* @__PURE__ */ jsxs("h1", { className: "text-4xl lg:text-5xl leading-tight font-bold tracking-tight text-center mb-6 text-gray-900", children: [
                "Vérification d'",
                /* @__PURE__ */ jsxs("span", { className: "relative", children: [
                  /* @__PURE__ */ jsx("span", { className: "text-transparent bg-gradient-to-r from-red-500 to-red-700 bg-clip-text", children: "Email" }),
                  /* @__PURE__ */ jsx("div", { className: "absolute -bottom-2 left-0 w-full h-1 bg-gradient-to-r from-red-500 to-red-700 rounded-full" })
                ] })
              ] }),
              /* @__PURE__ */ jsx("div", { className: "text-lg text-gray-600 text-center mb-8 leading-relaxed max-w-md mx-auto", children: "Merci pour votre inscription ! Avant de commencer, veuillez vérifier votre adresse e-mail en cliquant sur le lien envoyé." }),
              status === "verification-link-sent" && /* @__PURE__ */ jsxs("div", { className: "mb-8 p-4 bg-green-50 rounded-xl flex items-start border border-green-200 animate-fade-in-up", children: [
                /* @__PURE__ */ jsx(CheckCircle, { className: "h-6 w-6 text-green-600 mr-3 flex-shrink-0 mt-0.5" }),
                /* @__PURE__ */ jsx("p", { className: "text-green-800 font-medium", children: "Un nouveau lien de vérification a été envoyé à votre adresse e-mail." })
              ] }),
              /* @__PURE__ */ jsx("form", { onSubmit: submit, className: "space-y-6", children: /* @__PURE__ */ jsxs(
                Button,
                {
                  type: "submit",
                  disabled: processing,
                  className: "w-full bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white py-4 px-8 rounded-xl text-lg font-semibold shadow-lg transition-all duration-300 transform hover:scale-[1.02] hover:shadow-xl flex items-center justify-center gap-3 disabled:opacity-70 disabled:cursor-not-allowed",
                  children: [
                    /* @__PURE__ */ jsx(Mail, { className: "h-5 w-5" }),
                    processing ? "Envoi en cours..." : "Renvoyer l'e-mail de vérification"
                  ]
                }
              ) }),
              /* @__PURE__ */ jsxs(
                Link,
                {
                  href: route("logout"),
                  method: "post",
                  as: "button",
                  className: "w-full bg-gray-100 hover:bg-gray-200 text-gray-700 py-3 px-8 rounded-xl text-base font-medium shadow-sm transition-all duration-300 transform hover:scale-[1.02] hover:shadow-md flex items-center justify-center gap-3 mt-4",
                  children: [
                    /* @__PURE__ */ jsx(LogOut, { className: "h-5 w-5" }),
                    "Se déconnecter"
                  ]
                }
              )
            ] }) }),
            /* @__PURE__ */ jsx("div", { className: "relative hidden lg:block animate-fade-in-up", style: { animationDelay: "0.2s" }, children: /* @__PURE__ */ jsxs("div", { className: "relative", children: [
              /* @__PURE__ */ jsx("div", { className: "absolute inset-0 bg-gradient-to-br from-red-100 to-blue-100 rounded-3xl blur-3xl opacity-30" }),
              /* @__PURE__ */ jsxs("div", { className: "relative glass-card p-8 rounded-3xl shadow-2xl hover-lift", children: [
                /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between mb-6", children: [
                  /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-3", children: [
                    /* @__PURE__ */ jsx("div", { className: "w-10 h-10 bg-gradient-to-br from-red-500 to-red-600 rounded-xl flex items-center justify-center", children: /* @__PURE__ */ jsx(Mail, { className: "h-5 w-5 text-white" }) }),
                    /* @__PURE__ */ jsxs("div", { children: [
                      /* @__PURE__ */ jsx("div", { className: "h-3 w-24 bg-gray-200 rounded-md mb-2" }),
                      /* @__PURE__ */ jsx("div", { className: "h-2 w-16 bg-gray-100 rounded-md" })
                    ] })
                  ] }),
                  /* @__PURE__ */ jsx("div", { className: "w-8 h-8 bg-green-100 rounded-full flex items-center justify-center", children: /* @__PURE__ */ jsx(CheckCircle, { className: "h-5 w-5 text-green-600" }) })
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "space-y-3 mb-6", children: [
                  /* @__PURE__ */ jsx("div", { className: "h-3 w-full bg-gray-100 rounded-md" }),
                  /* @__PURE__ */ jsx("div", { className: "h-3 w-4/5 bg-gray-100 rounded-md" }),
                  /* @__PURE__ */ jsx("div", { className: "h-3 w-3/5 bg-gray-100 rounded-md" })
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "p-4 bg-gradient-to-r from-red-50 to-red-100 rounded-xl border border-red-200", children: [
                  /* @__PURE__ */ jsx("div", { className: "h-4 w-full bg-red-200 rounded-md mb-2" }),
                  /* @__PURE__ */ jsx("div", { className: "h-4 w-2/3 bg-red-200 rounded-md" })
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-2 gap-4 mt-6", children: [
                  /* @__PURE__ */ jsxs("div", { className: "bg-gray-50 rounded-lg p-4 text-center", children: [
                    /* @__PURE__ */ jsx(Shield, { className: "h-6 w-6 text-blue-600 mx-auto mb-2" }),
                    /* @__PURE__ */ jsx("div", { className: "h-2 w-full bg-gray-200 rounded-md mb-1" }),
                    /* @__PURE__ */ jsx("div", { className: "h-2 w-3/4 bg-gray-200 rounded-md mx-auto" })
                  ] }),
                  /* @__PURE__ */ jsxs("div", { className: "bg-gray-50 rounded-lg p-4 text-center", children: [
                    /* @__PURE__ */ jsx(Clock, { className: "h-6 w-6 text-purple-600 mx-auto mb-2" }),
                    /* @__PURE__ */ jsx("div", { className: "h-2 w-full bg-gray-200 rounded-md mb-1" }),
                    /* @__PURE__ */ jsx("div", { className: "h-2 w-2/3 bg-gray-200 rounded-md mx-auto" })
                  ] })
                ] })
              ] }),
              /* @__PURE__ */ jsx("div", { className: "absolute -top-4 -left-4 bg-gradient-to-br from-green-500 to-green-600 text-white py-2 px-4 rounded-lg shadow-lg text-sm font-medium animate-gentle-float", children: "✓ Sécurisé" }),
              /* @__PURE__ */ jsx(
                "div",
                {
                  className: "absolute -bottom-4 -right-4 bg-gradient-to-br from-blue-500 to-blue-600 text-white py-2 px-6 rounded-lg shadow-lg text-sm font-medium animate-gentle-float",
                  style: { animationDelay: "1s" },
                  children: "🚀 Rapide"
                }
              )
            ] }) })
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 md:grid-cols-3 gap-8 mt-20 pt-12 border-t border-gray-200", children: [
            /* @__PURE__ */ jsxs(
              "div",
              {
                className: "text-center p-6 glass-card rounded-2xl hover-lift animate-fade-in-up",
                style: { animationDelay: "0.3s" },
                children: [
                  /* @__PURE__ */ jsx("div", { className: "w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-4", children: /* @__PURE__ */ jsx(Shield, { className: "h-8 w-8 text-white" }) }),
                  /* @__PURE__ */ jsx("div", { className: "text-xl font-semibold text-gray-900 mb-2", children: "Sécurisé" }),
                  /* @__PURE__ */ jsx("div", { className: "text-gray-600", children: "Vos données sont protégées par un chiffrement de niveau bancaire" })
                ]
              }
            ),
            /* @__PURE__ */ jsxs(
              "div",
              {
                className: "text-center p-6 glass-card rounded-2xl hover-lift animate-fade-in-up",
                style: { animationDelay: "0.4s" },
                children: [
                  /* @__PURE__ */ jsx("div", { className: "w-16 h-16 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-2xl flex items-center justify-center mx-auto mb-4", children: /* @__PURE__ */ jsx(Zap, { className: "h-8 w-8 text-white" }) }),
                  /* @__PURE__ */ jsx("div", { className: "text-xl font-semibold text-gray-900 mb-2", children: "Instantané" }),
                  /* @__PURE__ */ jsx("div", { className: "text-gray-600", children: "Vérification immédiate dès que vous cliquez sur le lien" })
                ]
              }
            ),
            /* @__PURE__ */ jsxs(
              "div",
              {
                className: "text-center p-6 glass-card rounded-2xl hover-lift animate-fade-in-up",
                style: { animationDelay: "0.5s" },
                children: [
                  /* @__PURE__ */ jsx("div", { className: "w-16 h-16 bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-4", children: /* @__PURE__ */ jsx(Star, { className: "h-8 w-8 text-white" }) }),
                  /* @__PURE__ */ jsx("div", { className: "text-xl font-semibold text-gray-900 mb-2", children: "Fiable" }),
                  /* @__PURE__ */ jsx("div", { className: "text-gray-600", children: "Service de confiance utilisé par des milliers d'utilisateurs" })
                ]
              }
            )
          ] })
        ] })
      ] }),
      /* @__PURE__ */ jsx(Footer$1, {})
    ] })
  ] });
}
const __vite_glob_0_24 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: VerifyEmail
}, Symbol.toStringTag, { value: "Module" }));
const styleTexts = [];
const styleEls = /* @__PURE__ */ new Map();
function injectStyles(styleText) {
  styleTexts.push(styleText);
  styleEls.forEach((styleEl) => {
    appendStylesTo(styleEl, styleText);
  });
}
function ensureElHasStyles(el) {
  if (el.isConnected && // sometimes true if SSR system simulates DOM
  el.getRootNode) {
    registerStylesRoot(el.getRootNode());
  }
}
function registerStylesRoot(rootNode) {
  let styleEl = styleEls.get(rootNode);
  if (!styleEl || !styleEl.isConnected) {
    styleEl = rootNode.querySelector("style[data-fullcalendar]");
    if (!styleEl) {
      styleEl = document.createElement("style");
      styleEl.setAttribute("data-fullcalendar", "");
      const nonce = getNonceValue();
      if (nonce) {
        styleEl.nonce = nonce;
      }
      const parentEl = rootNode === document ? document.head : rootNode;
      const insertBefore = rootNode === document ? parentEl.querySelector("script,link[rel=stylesheet],link[as=style],style") : parentEl.firstChild;
      parentEl.insertBefore(styleEl, insertBefore);
    }
    styleEls.set(rootNode, styleEl);
    hydrateStylesRoot(styleEl);
  }
}
function hydrateStylesRoot(styleEl) {
  for (const styleText of styleTexts) {
    appendStylesTo(styleEl, styleText);
  }
}
function appendStylesTo(styleEl, styleText) {
  const { sheet } = styleEl;
  const ruleCnt = sheet.cssRules.length;
  styleText.split("}").forEach((styleStr, i2) => {
    styleStr = styleStr.trim();
    if (styleStr) {
      sheet.insertRule(styleStr + "}", ruleCnt + i2);
    }
  });
}
let queriedNonceValue;
function getNonceValue() {
  if (queriedNonceValue === void 0) {
    queriedNonceValue = queryNonceValue();
  }
  return queriedNonceValue;
}
function queryNonceValue() {
  const metaWithNonce = document.querySelector('meta[name="csp-nonce"]');
  if (metaWithNonce && metaWithNonce.hasAttribute("content")) {
    return metaWithNonce.getAttribute("content");
  }
  const elWithNonce = document.querySelector("script[nonce]");
  if (elWithNonce) {
    return elWithNonce.nonce || "";
  }
  return "";
}
if (typeof document !== "undefined") {
  registerStylesRoot(document);
}
var css_248z$2 = ':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';
injectStyles(css_248z$2);
class DelayedRunner {
  constructor(drainedOption) {
    this.drainedOption = drainedOption;
    this.isRunning = false;
    this.isDirty = false;
    this.pauseDepths = {};
    this.timeoutId = 0;
  }
  request(delay) {
    this.isDirty = true;
    if (!this.isPaused()) {
      this.clearTimeout();
      if (delay == null) {
        this.tryDrain();
      } else {
        this.timeoutId = setTimeout(
          // NOT OPTIMAL! TODO: look at debounce
          this.tryDrain.bind(this),
          delay
        );
      }
    }
  }
  pause(scope = "") {
    let { pauseDepths } = this;
    pauseDepths[scope] = (pauseDepths[scope] || 0) + 1;
    this.clearTimeout();
  }
  resume(scope = "", force) {
    let { pauseDepths } = this;
    if (scope in pauseDepths) {
      if (force) {
        delete pauseDepths[scope];
      } else {
        pauseDepths[scope] -= 1;
        let depth = pauseDepths[scope];
        if (depth <= 0) {
          delete pauseDepths[scope];
        }
      }
      this.tryDrain();
    }
  }
  isPaused() {
    return Object.keys(this.pauseDepths).length;
  }
  tryDrain() {
    if (!this.isRunning && !this.isPaused()) {
      this.isRunning = true;
      while (this.isDirty) {
        this.isDirty = false;
        this.drained();
      }
      this.isRunning = false;
    }
  }
  clear() {
    this.clearTimeout();
    this.isDirty = false;
    this.pauseDepths = {};
  }
  clearTimeout() {
    if (this.timeoutId) {
      clearTimeout(this.timeoutId);
      this.timeoutId = 0;
    }
  }
  drained() {
    if (this.drainedOption) {
      this.drainedOption();
    }
  }
}
function removeElement(el) {
  if (el.parentNode) {
    el.parentNode.removeChild(el);
  }
}
function elementClosest(el, selector) {
  if (el.closest) {
    return el.closest(selector);
  }
  if (!document.documentElement.contains(el)) {
    return null;
  }
  do {
    if (elementMatches(el, selector)) {
      return el;
    }
    el = el.parentElement || el.parentNode;
  } while (el !== null && el.nodeType === 1);
  return null;
}
function elementMatches(el, selector) {
  let method = el.matches || el.matchesSelector || el.msMatchesSelector;
  return method.call(el, selector);
}
function findElements(container, selector) {
  let containers = container instanceof HTMLElement ? [container] : container;
  let allMatches = [];
  for (let i2 = 0; i2 < containers.length; i2 += 1) {
    let matches = containers[i2].querySelectorAll(selector);
    for (let j = 0; j < matches.length; j += 1) {
      allMatches.push(matches[j]);
    }
  }
  return allMatches;
}
const PIXEL_PROP_RE = /(top|left|right|bottom|width|height)$/i;
function applyStyle(el, props) {
  for (let propName in props) {
    applyStyleProp(el, propName, props[propName]);
  }
}
function applyStyleProp(el, name, val) {
  if (val == null) {
    el.style[name] = "";
  } else if (typeof val === "number" && PIXEL_PROP_RE.test(name)) {
    el.style[name] = `${val}px`;
  } else {
    el.style[name] = val;
  }
}
function getEventTargetViaRoot(ev) {
  var _a2, _b;
  return (_b = (_a2 = ev.composedPath) === null || _a2 === void 0 ? void 0 : _a2.call(ev)[0]) !== null && _b !== void 0 ? _b : ev.target;
}
let guid$1 = 0;
function getUniqueDomId() {
  guid$1 += 1;
  return "fc-dom-" + guid$1;
}
function buildDelegationHandler(selector, handler) {
  return (ev) => {
    let matchedChild = elementClosest(ev.target, selector);
    if (matchedChild) {
      handler.call(matchedChild, ev, matchedChild);
    }
  };
}
function listenBySelector(container, eventType, selector, handler) {
  let attachedHandler = buildDelegationHandler(selector, handler);
  container.addEventListener(eventType, attachedHandler);
  return () => {
    container.removeEventListener(eventType, attachedHandler);
  };
}
function listenToHoverBySelector(container, selector, onMouseEnter, onMouseLeave) {
  let currentMatchedChild;
  return listenBySelector(container, "mouseover", selector, (mouseOverEv, matchedChild) => {
    if (matchedChild !== currentMatchedChild) {
      currentMatchedChild = matchedChild;
      onMouseEnter(mouseOverEv, matchedChild);
      let realOnMouseLeave = (mouseLeaveEv) => {
        currentMatchedChild = null;
        onMouseLeave(mouseLeaveEv, matchedChild);
        matchedChild.removeEventListener("mouseleave", realOnMouseLeave);
      };
      matchedChild.addEventListener("mouseleave", realOnMouseLeave);
    }
  });
}
function createAriaClickAttrs(handler) {
  return Object.assign({ onClick: handler }, createAriaKeyboardAttrs(handler));
}
function createAriaKeyboardAttrs(handler) {
  return {
    tabIndex: 0,
    onKeyDown(ev) {
      if (ev.key === "Enter" || ev.key === " ") {
        handler(ev);
        ev.preventDefault();
      }
    }
  };
}
let guidNumber = 0;
function guid() {
  guidNumber += 1;
  return String(guidNumber);
}
function parseFieldSpecs(input) {
  let specs = [];
  let tokens = [];
  let i2;
  let token;
  if (typeof input === "string") {
    tokens = input.split(/\s*,\s*/);
  } else if (typeof input === "function") {
    tokens = [input];
  } else if (Array.isArray(input)) {
    tokens = input;
  }
  for (i2 = 0; i2 < tokens.length; i2 += 1) {
    token = tokens[i2];
    if (typeof token === "string") {
      specs.push(token.charAt(0) === "-" ? { field: token.substring(1), order: -1 } : { field: token, order: 1 });
    } else if (typeof token === "function") {
      specs.push({ func: token });
    }
  }
  return specs;
}
function compareByFieldSpecs(obj0, obj1, fieldSpecs) {
  let i2;
  let cmp;
  for (i2 = 0; i2 < fieldSpecs.length; i2 += 1) {
    cmp = compareByFieldSpec(obj0, obj1, fieldSpecs[i2]);
    if (cmp) {
      return cmp;
    }
  }
  return 0;
}
function compareByFieldSpec(obj0, obj1, fieldSpec) {
  if (fieldSpec.func) {
    return fieldSpec.func(obj0, obj1);
  }
  return flexibleCompare(obj0[fieldSpec.field], obj1[fieldSpec.field]) * (fieldSpec.order || 1);
}
function flexibleCompare(a, b) {
  if (!a && !b) {
    return 0;
  }
  if (b == null) {
    return -1;
  }
  if (a == null) {
    return 1;
  }
  if (typeof a === "string" || typeof b === "string") {
    return String(a).localeCompare(String(b));
  }
  return a - b;
}
function padStart(val, len) {
  let s2 = String(val);
  return "000".substr(0, len - s2.length) + s2;
}
function formatWithOrdinals(formatter, args, fallbackText) {
  if (typeof formatter === "function") {
    return formatter(...args);
  }
  if (typeof formatter === "string") {
    return args.reduce((str, arg, index2) => str.replace("$" + index2, arg || ""), formatter);
  }
  return fallbackText;
}
function isInt(n2) {
  return n2 % 1 === 0;
}
function computeSmallestCellWidth(cellEl) {
  let allWidthEl = cellEl.querySelector(".fc-scrollgrid-shrink-frame");
  let contentWidthEl = cellEl.querySelector(".fc-scrollgrid-shrink-cushion");
  if (!allWidthEl) {
    throw new Error("needs fc-scrollgrid-shrink-frame className");
  }
  if (!contentWidthEl) {
    throw new Error("needs fc-scrollgrid-shrink-cushion className");
  }
  return cellEl.getBoundingClientRect().width - allWidthEl.getBoundingClientRect().width + // the cell padding+border
  contentWidthEl.getBoundingClientRect().width;
}
const INTERNAL_UNITS = ["years", "months", "days", "milliseconds"];
const PARSE_RE = /^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;
function createDuration(input, unit) {
  if (typeof input === "string") {
    return parseString(input);
  }
  if (typeof input === "object" && input) {
    return parseObject(input);
  }
  if (typeof input === "number") {
    return parseObject({ [unit || "milliseconds"]: input });
  }
  return null;
}
function parseString(s2) {
  let m = PARSE_RE.exec(s2);
  if (m) {
    let sign = m[1] ? -1 : 1;
    return {
      years: 0,
      months: 0,
      days: sign * (m[2] ? parseInt(m[2], 10) : 0),
      milliseconds: sign * ((m[3] ? parseInt(m[3], 10) : 0) * 60 * 60 * 1e3 + // hours
      (m[4] ? parseInt(m[4], 10) : 0) * 60 * 1e3 + // minutes
      (m[5] ? parseInt(m[5], 10) : 0) * 1e3 + // seconds
      (m[6] ? parseInt(m[6], 10) : 0))
    };
  }
  return null;
}
function parseObject(obj) {
  let duration = {
    years: obj.years || obj.year || 0,
    months: obj.months || obj.month || 0,
    days: obj.days || obj.day || 0,
    milliseconds: (obj.hours || obj.hour || 0) * 60 * 60 * 1e3 + // hours
    (obj.minutes || obj.minute || 0) * 60 * 1e3 + // minutes
    (obj.seconds || obj.second || 0) * 1e3 + // seconds
    (obj.milliseconds || obj.millisecond || obj.ms || 0)
    // ms
  };
  let weeks = obj.weeks || obj.week;
  if (weeks) {
    duration.days += weeks * 7;
    duration.specifiedWeeks = true;
  }
  return duration;
}
function durationsEqual(d0, d1) {
  return d0.years === d1.years && d0.months === d1.months && d0.days === d1.days && d0.milliseconds === d1.milliseconds;
}
function addDurations(d0, d1) {
  return {
    years: d0.years + d1.years,
    months: d0.months + d1.months,
    days: d0.days + d1.days,
    milliseconds: d0.milliseconds + d1.milliseconds
  };
}
function subtractDurations(d1, d0) {
  return {
    years: d1.years - d0.years,
    months: d1.months - d0.months,
    days: d1.days - d0.days,
    milliseconds: d1.milliseconds - d0.milliseconds
  };
}
function multiplyDuration(d, n2) {
  return {
    years: d.years * n2,
    months: d.months * n2,
    days: d.days * n2,
    milliseconds: d.milliseconds * n2
  };
}
function asRoughYears(dur) {
  return asRoughDays(dur) / 365;
}
function asRoughMonths(dur) {
  return asRoughDays(dur) / 30;
}
function asRoughDays(dur) {
  return asRoughMs(dur) / 864e5;
}
function asRoughMs(dur) {
  return dur.years * (365 * 864e5) + dur.months * (30 * 864e5) + dur.days * 864e5 + dur.milliseconds;
}
function wholeDivideDurations(numerator, denominator) {
  let res = null;
  for (let i2 = 0; i2 < INTERNAL_UNITS.length; i2 += 1) {
    let unit = INTERNAL_UNITS[i2];
    if (denominator[unit]) {
      let localRes = numerator[unit] / denominator[unit];
      if (!isInt(localRes) || res !== null && res !== localRes) {
        return null;
      }
      res = localRes;
    } else if (numerator[unit]) {
      return null;
    }
  }
  return res;
}
function greatestDurationDenominator(dur) {
  let ms = dur.milliseconds;
  if (ms) {
    if (ms % 1e3 !== 0) {
      return { unit: "millisecond", value: ms };
    }
    if (ms % (1e3 * 60) !== 0) {
      return { unit: "second", value: ms / 1e3 };
    }
    if (ms % (1e3 * 60 * 60) !== 0) {
      return { unit: "minute", value: ms / (1e3 * 60) };
    }
    if (ms) {
      return { unit: "hour", value: ms / (1e3 * 60 * 60) };
    }
  }
  if (dur.days) {
    if (dur.specifiedWeeks && dur.days % 7 === 0) {
      return { unit: "week", value: dur.days / 7 };
    }
    return { unit: "day", value: dur.days };
  }
  if (dur.months) {
    return { unit: "month", value: dur.months };
  }
  if (dur.years) {
    return { unit: "year", value: dur.years };
  }
  return { unit: "millisecond", value: 0 };
}
function isArraysEqual(a0, a1, equalityFunc) {
  if (a0 === a1) {
    return true;
  }
  let len = a0.length;
  let i2;
  if (len !== a1.length) {
    return false;
  }
  for (i2 = 0; i2 < len; i2 += 1) {
    if (!(equalityFunc ? equalityFunc(a0[i2], a1[i2]) : a0[i2] === a1[i2])) {
      return false;
    }
  }
  return true;
}
const DAY_IDS = ["sun", "mon", "tue", "wed", "thu", "fri", "sat"];
function addWeeks(m, n2) {
  let a = dateToUtcArray(m);
  a[2] += n2 * 7;
  return arrayToUtcDate(a);
}
function addDays(m, n2) {
  let a = dateToUtcArray(m);
  a[2] += n2;
  return arrayToUtcDate(a);
}
function addMs(m, n2) {
  let a = dateToUtcArray(m);
  a[6] += n2;
  return arrayToUtcDate(a);
}
function diffWeeks(m0, m1) {
  return diffDays(m0, m1) / 7;
}
function diffDays(m0, m1) {
  return (m1.valueOf() - m0.valueOf()) / (1e3 * 60 * 60 * 24);
}
function diffHours(m0, m1) {
  return (m1.valueOf() - m0.valueOf()) / (1e3 * 60 * 60);
}
function diffMinutes(m0, m1) {
  return (m1.valueOf() - m0.valueOf()) / (1e3 * 60);
}
function diffSeconds(m0, m1) {
  return (m1.valueOf() - m0.valueOf()) / 1e3;
}
function diffDayAndTime(m0, m1) {
  let m0day = startOfDay(m0);
  let m1day = startOfDay(m1);
  return {
    years: 0,
    months: 0,
    days: Math.round(diffDays(m0day, m1day)),
    milliseconds: m1.valueOf() - m1day.valueOf() - (m0.valueOf() - m0day.valueOf())
  };
}
function diffWholeWeeks(m0, m1) {
  let d = diffWholeDays(m0, m1);
  if (d !== null && d % 7 === 0) {
    return d / 7;
  }
  return null;
}
function diffWholeDays(m0, m1) {
  if (timeAsMs(m0) === timeAsMs(m1)) {
    return Math.round(diffDays(m0, m1));
  }
  return null;
}
function startOfDay(m) {
  return arrayToUtcDate([
    m.getUTCFullYear(),
    m.getUTCMonth(),
    m.getUTCDate()
  ]);
}
function startOfHour(m) {
  return arrayToUtcDate([
    m.getUTCFullYear(),
    m.getUTCMonth(),
    m.getUTCDate(),
    m.getUTCHours()
  ]);
}
function startOfMinute(m) {
  return arrayToUtcDate([
    m.getUTCFullYear(),
    m.getUTCMonth(),
    m.getUTCDate(),
    m.getUTCHours(),
    m.getUTCMinutes()
  ]);
}
function startOfSecond(m) {
  return arrayToUtcDate([
    m.getUTCFullYear(),
    m.getUTCMonth(),
    m.getUTCDate(),
    m.getUTCHours(),
    m.getUTCMinutes(),
    m.getUTCSeconds()
  ]);
}
function weekOfYear(marker, dow, doy) {
  let y = marker.getUTCFullYear();
  let w = weekOfGivenYear(marker, y, dow, doy);
  if (w < 1) {
    return weekOfGivenYear(marker, y - 1, dow, doy);
  }
  let nextW = weekOfGivenYear(marker, y + 1, dow, doy);
  if (nextW >= 1) {
    return Math.min(w, nextW);
  }
  return w;
}
function weekOfGivenYear(marker, year, dow, doy) {
  let firstWeekStart = arrayToUtcDate([year, 0, 1 + firstWeekOffset(year, dow, doy)]);
  let dayStart = startOfDay(marker);
  let days = Math.round(diffDays(firstWeekStart, dayStart));
  return Math.floor(days / 7) + 1;
}
function firstWeekOffset(year, dow, doy) {
  let fwd = 7 + dow - doy;
  let fwdlw = (7 + arrayToUtcDate([year, 0, fwd]).getUTCDay() - dow) % 7;
  return -fwdlw + fwd - 1;
}
function dateToLocalArray(date) {
  return [
    date.getFullYear(),
    date.getMonth(),
    date.getDate(),
    date.getHours(),
    date.getMinutes(),
    date.getSeconds(),
    date.getMilliseconds()
  ];
}
function arrayToLocalDate(a) {
  return new Date(
    a[0],
    a[1] || 0,
    a[2] == null ? 1 : a[2],
    // day of month
    a[3] || 0,
    a[4] || 0,
    a[5] || 0
  );
}
function dateToUtcArray(date) {
  return [
    date.getUTCFullYear(),
    date.getUTCMonth(),
    date.getUTCDate(),
    date.getUTCHours(),
    date.getUTCMinutes(),
    date.getUTCSeconds(),
    date.getUTCMilliseconds()
  ];
}
function arrayToUtcDate(a) {
  if (a.length === 1) {
    a = a.concat([0]);
  }
  return new Date(Date.UTC(...a));
}
function isValidDate(m) {
  return !isNaN(m.valueOf());
}
function timeAsMs(m) {
  return m.getUTCHours() * 1e3 * 60 * 60 + m.getUTCMinutes() * 1e3 * 60 + m.getUTCSeconds() * 1e3 + m.getUTCMilliseconds();
}
function buildIsoString(marker, timeZoneOffset, stripZeroTime = false) {
  let s2 = marker.toISOString();
  s2 = s2.replace(".000", "");
  if (stripZeroTime) {
    s2 = s2.replace("T00:00:00Z", "");
  }
  if (s2.length > 10) {
    if (timeZoneOffset == null) {
      s2 = s2.replace("Z", "");
    } else if (timeZoneOffset !== 0) {
      s2 = s2.replace("Z", formatTimeZoneOffset(timeZoneOffset, true));
    }
  }
  return s2;
}
function formatDayString(marker) {
  return marker.toISOString().replace(/T.*$/, "");
}
function formatIsoMonthStr(marker) {
  return marker.toISOString().match(/^\d{4}-\d{2}/)[0];
}
function formatIsoTimeString(marker) {
  return padStart(marker.getUTCHours(), 2) + ":" + padStart(marker.getUTCMinutes(), 2) + ":" + padStart(marker.getUTCSeconds(), 2);
}
function formatTimeZoneOffset(minutes, doIso = false) {
  let sign = minutes < 0 ? "-" : "+";
  let abs = Math.abs(minutes);
  let hours = Math.floor(abs / 60);
  let mins = Math.round(abs % 60);
  if (doIso) {
    return `${sign + padStart(hours, 2)}:${padStart(mins, 2)}`;
  }
  return `GMT${sign}${hours}${mins ? `:${padStart(mins, 2)}` : ""}`;
}
function memoize(workerFunc, resEquality, teardownFunc) {
  let currentArgs;
  let currentRes;
  return function(...newArgs) {
    if (!currentArgs) {
      currentRes = workerFunc.apply(this, newArgs);
    } else if (!isArraysEqual(currentArgs, newArgs)) {
      let res = workerFunc.apply(this, newArgs);
      if (!resEquality || !resEquality(res, currentRes)) {
        currentRes = res;
      }
    }
    currentArgs = newArgs;
    return currentRes;
  };
}
function memoizeObjArg(workerFunc, resEquality, teardownFunc) {
  let currentArg;
  let currentRes;
  return (newArg) => {
    if (!currentArg) {
      currentRes = workerFunc.call(this, newArg);
    } else if (!isPropsEqual(currentArg, newArg)) {
      let res = workerFunc.call(this, newArg);
      {
        currentRes = res;
      }
    }
    currentArg = newArg;
    return currentRes;
  };
}
const EXTENDED_SETTINGS_AND_SEVERITIES = {
  week: 3,
  separator: 0,
  omitZeroMinute: 0,
  meridiem: 0,
  omitCommas: 0
};
const STANDARD_DATE_PROP_SEVERITIES = {
  timeZoneName: 7,
  era: 6,
  year: 5,
  month: 4,
  day: 2,
  weekday: 2,
  hour: 1,
  minute: 1,
  second: 1
};
const MERIDIEM_RE = /\s*([ap])\.?m\.?/i;
const COMMA_RE = /,/g;
const MULTI_SPACE_RE = /\s+/g;
const LTR_RE = /\u200e/g;
const UTC_RE = /UTC|GMT/;
class NativeFormatter {
  constructor(formatSettings) {
    let standardDateProps = {};
    let extendedSettings = {};
    let severity = 0;
    for (let name in formatSettings) {
      if (name in EXTENDED_SETTINGS_AND_SEVERITIES) {
        extendedSettings[name] = formatSettings[name];
        severity = Math.max(EXTENDED_SETTINGS_AND_SEVERITIES[name], severity);
      } else {
        standardDateProps[name] = formatSettings[name];
        if (name in STANDARD_DATE_PROP_SEVERITIES) {
          severity = Math.max(STANDARD_DATE_PROP_SEVERITIES[name], severity);
        }
      }
    }
    this.standardDateProps = standardDateProps;
    this.extendedSettings = extendedSettings;
    this.severity = severity;
    this.buildFormattingFunc = memoize(buildFormattingFunc);
  }
  format(date, context) {
    return this.buildFormattingFunc(this.standardDateProps, this.extendedSettings, context)(date);
  }
  formatRange(start, end, context, betterDefaultSeparator) {
    let { standardDateProps, extendedSettings } = this;
    let diffSeverity = computeMarkerDiffSeverity(start.marker, end.marker, context.calendarSystem);
    if (!diffSeverity) {
      return this.format(start, context);
    }
    let biggestUnitForPartial = diffSeverity;
    if (biggestUnitForPartial > 1 && // the two dates are different in a way that's larger scale than time
    (standardDateProps.year === "numeric" || standardDateProps.year === "2-digit") && (standardDateProps.month === "numeric" || standardDateProps.month === "2-digit") && (standardDateProps.day === "numeric" || standardDateProps.day === "2-digit")) {
      biggestUnitForPartial = 1;
    }
    let full0 = this.format(start, context);
    let full1 = this.format(end, context);
    if (full0 === full1) {
      return full0;
    }
    let partialDateProps = computePartialFormattingOptions(standardDateProps, biggestUnitForPartial);
    let partialFormattingFunc = buildFormattingFunc(partialDateProps, extendedSettings, context);
    let partial0 = partialFormattingFunc(start);
    let partial1 = partialFormattingFunc(end);
    let insertion = findCommonInsertion(full0, partial0, full1, partial1);
    let separator = extendedSettings.separator || betterDefaultSeparator || context.defaultSeparator || "";
    if (insertion) {
      return insertion.before + partial0 + separator + partial1 + insertion.after;
    }
    return full0 + separator + full1;
  }
  getLargestUnit() {
    switch (this.severity) {
      case 7:
      case 6:
      case 5:
        return "year";
      case 4:
        return "month";
      case 3:
        return "week";
      case 2:
        return "day";
      default:
        return "time";
    }
  }
}
function buildFormattingFunc(standardDateProps, extendedSettings, context) {
  let standardDatePropCnt = Object.keys(standardDateProps).length;
  if (standardDatePropCnt === 1 && standardDateProps.timeZoneName === "short") {
    return (date) => formatTimeZoneOffset(date.timeZoneOffset);
  }
  if (standardDatePropCnt === 0 && extendedSettings.week) {
    return (date) => formatWeekNumber(context.computeWeekNumber(date.marker), context.weekText, context.weekTextLong, context.locale, extendedSettings.week);
  }
  return buildNativeFormattingFunc(standardDateProps, extendedSettings, context);
}
function buildNativeFormattingFunc(standardDateProps, extendedSettings, context) {
  standardDateProps = Object.assign({}, standardDateProps);
  extendedSettings = Object.assign({}, extendedSettings);
  sanitizeSettings(standardDateProps, extendedSettings);
  standardDateProps.timeZone = "UTC";
  let normalFormat = new Intl.DateTimeFormat(context.locale.codes, standardDateProps);
  let zeroFormat;
  if (extendedSettings.omitZeroMinute) {
    let zeroProps = Object.assign({}, standardDateProps);
    delete zeroProps.minute;
    zeroFormat = new Intl.DateTimeFormat(context.locale.codes, zeroProps);
  }
  return (date) => {
    let { marker } = date;
    let format;
    if (zeroFormat && !marker.getUTCMinutes()) {
      format = zeroFormat;
    } else {
      format = normalFormat;
    }
    let s2 = format.format(marker);
    return postProcess(s2, date, standardDateProps, extendedSettings, context);
  };
}
function sanitizeSettings(standardDateProps, extendedSettings) {
  if (standardDateProps.timeZoneName) {
    if (!standardDateProps.hour) {
      standardDateProps.hour = "2-digit";
    }
    if (!standardDateProps.minute) {
      standardDateProps.minute = "2-digit";
    }
  }
  if (standardDateProps.timeZoneName === "long") {
    standardDateProps.timeZoneName = "short";
  }
  if (extendedSettings.omitZeroMinute && (standardDateProps.second || standardDateProps.millisecond)) {
    delete extendedSettings.omitZeroMinute;
  }
}
function postProcess(s2, date, standardDateProps, extendedSettings, context) {
  s2 = s2.replace(LTR_RE, "");
  if (standardDateProps.timeZoneName === "short") {
    s2 = injectTzoStr(s2, context.timeZone === "UTC" || date.timeZoneOffset == null ? "UTC" : (
      // important to normalize for IE, which does "GMT"
      formatTimeZoneOffset(date.timeZoneOffset)
    ));
  }
  if (extendedSettings.omitCommas) {
    s2 = s2.replace(COMMA_RE, "").trim();
  }
  if (extendedSettings.omitZeroMinute) {
    s2 = s2.replace(":00", "");
  }
  if (extendedSettings.meridiem === false) {
    s2 = s2.replace(MERIDIEM_RE, "").trim();
  } else if (extendedSettings.meridiem === "narrow") {
    s2 = s2.replace(MERIDIEM_RE, (m0, m1) => m1.toLocaleLowerCase());
  } else if (extendedSettings.meridiem === "short") {
    s2 = s2.replace(MERIDIEM_RE, (m0, m1) => `${m1.toLocaleLowerCase()}m`);
  } else if (extendedSettings.meridiem === "lowercase") {
    s2 = s2.replace(MERIDIEM_RE, (m0) => m0.toLocaleLowerCase());
  }
  s2 = s2.replace(MULTI_SPACE_RE, " ");
  s2 = s2.trim();
  return s2;
}
function injectTzoStr(s2, tzoStr) {
  let replaced = false;
  s2 = s2.replace(UTC_RE, () => {
    replaced = true;
    return tzoStr;
  });
  if (!replaced) {
    s2 += ` ${tzoStr}`;
  }
  return s2;
}
function formatWeekNumber(num, weekText, weekTextLong, locale, display) {
  let parts = [];
  if (display === "long") {
    parts.push(weekTextLong);
  } else if (display === "short" || display === "narrow") {
    parts.push(weekText);
  }
  if (display === "long" || display === "short") {
    parts.push(" ");
  }
  parts.push(locale.simpleNumberFormat.format(num));
  if (locale.options.direction === "rtl") {
    parts.reverse();
  }
  return parts.join("");
}
function computeMarkerDiffSeverity(d0, d1, ca) {
  if (ca.getMarkerYear(d0) !== ca.getMarkerYear(d1)) {
    return 5;
  }
  if (ca.getMarkerMonth(d0) !== ca.getMarkerMonth(d1)) {
    return 4;
  }
  if (ca.getMarkerDay(d0) !== ca.getMarkerDay(d1)) {
    return 2;
  }
  if (timeAsMs(d0) !== timeAsMs(d1)) {
    return 1;
  }
  return 0;
}
function computePartialFormattingOptions(options, biggestUnit) {
  let partialOptions = {};
  for (let name in options) {
    if (!(name in STANDARD_DATE_PROP_SEVERITIES) || // not a date part prop (like timeZone)
    STANDARD_DATE_PROP_SEVERITIES[name] <= biggestUnit) {
      partialOptions[name] = options[name];
    }
  }
  return partialOptions;
}
function findCommonInsertion(full0, partial0, full1, partial1) {
  let i0 = 0;
  while (i0 < full0.length) {
    let found0 = full0.indexOf(partial0, i0);
    if (found0 === -1) {
      break;
    }
    let before0 = full0.substr(0, found0);
    i0 = found0 + partial0.length;
    let after0 = full0.substr(i0);
    let i1 = 0;
    while (i1 < full1.length) {
      let found1 = full1.indexOf(partial1, i1);
      if (found1 === -1) {
        break;
      }
      let before1 = full1.substr(0, found1);
      i1 = found1 + partial1.length;
      let after1 = full1.substr(i1);
      if (before0 === before1 && after0 === after1) {
        return {
          before: before0,
          after: after0
        };
      }
    }
  }
  return null;
}
function expandZonedMarker(dateInfo, calendarSystem) {
  let a = calendarSystem.markerToArray(dateInfo.marker);
  return {
    marker: dateInfo.marker,
    timeZoneOffset: dateInfo.timeZoneOffset,
    array: a,
    year: a[0],
    month: a[1],
    day: a[2],
    hour: a[3],
    minute: a[4],
    second: a[5],
    millisecond: a[6]
  };
}
function createVerboseFormattingArg(start, end, context, betterDefaultSeparator) {
  let startInfo = expandZonedMarker(start, context.calendarSystem);
  let endInfo = end ? expandZonedMarker(end, context.calendarSystem) : null;
  return {
    date: startInfo,
    start: startInfo,
    end: endInfo,
    timeZone: context.timeZone,
    localeCodes: context.locale.codes,
    defaultSeparator: betterDefaultSeparator || context.defaultSeparator
  };
}
class CmdFormatter {
  constructor(cmdStr) {
    this.cmdStr = cmdStr;
  }
  format(date, context, betterDefaultSeparator) {
    return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(date, null, context, betterDefaultSeparator));
  }
  formatRange(start, end, context, betterDefaultSeparator) {
    return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(start, end, context, betterDefaultSeparator));
  }
}
class FuncFormatter {
  constructor(func) {
    this.func = func;
  }
  format(date, context, betterDefaultSeparator) {
    return this.func(createVerboseFormattingArg(date, null, context, betterDefaultSeparator));
  }
  formatRange(start, end, context, betterDefaultSeparator) {
    return this.func(createVerboseFormattingArg(start, end, context, betterDefaultSeparator));
  }
}
function createFormatter(input) {
  if (typeof input === "object" && input) {
    return new NativeFormatter(input);
  }
  if (typeof input === "string") {
    return new CmdFormatter(input);
  }
  if (typeof input === "function") {
    return new FuncFormatter(input);
  }
  return null;
}
const BASE_OPTION_REFINERS = {
  navLinkDayClick: identity,
  navLinkWeekClick: identity,
  duration: createDuration,
  bootstrapFontAwesome: identity,
  buttonIcons: identity,
  customButtons: identity,
  defaultAllDayEventDuration: createDuration,
  defaultTimedEventDuration: createDuration,
  nextDayThreshold: createDuration,
  scrollTime: createDuration,
  scrollTimeReset: Boolean,
  slotMinTime: createDuration,
  slotMaxTime: createDuration,
  dayPopoverFormat: createFormatter,
  slotDuration: createDuration,
  snapDuration: createDuration,
  headerToolbar: identity,
  footerToolbar: identity,
  defaultRangeSeparator: String,
  titleRangeSeparator: String,
  forceEventDuration: Boolean,
  dayHeaders: Boolean,
  dayHeaderFormat: createFormatter,
  dayHeaderClassNames: identity,
  dayHeaderContent: identity,
  dayHeaderDidMount: identity,
  dayHeaderWillUnmount: identity,
  dayCellClassNames: identity,
  dayCellContent: identity,
  dayCellDidMount: identity,
  dayCellWillUnmount: identity,
  initialView: String,
  aspectRatio: Number,
  weekends: Boolean,
  weekNumberCalculation: identity,
  weekNumbers: Boolean,
  weekNumberClassNames: identity,
  weekNumberContent: identity,
  weekNumberDidMount: identity,
  weekNumberWillUnmount: identity,
  editable: Boolean,
  viewClassNames: identity,
  viewDidMount: identity,
  viewWillUnmount: identity,
  nowIndicator: Boolean,
  nowIndicatorClassNames: identity,
  nowIndicatorContent: identity,
  nowIndicatorDidMount: identity,
  nowIndicatorWillUnmount: identity,
  showNonCurrentDates: Boolean,
  lazyFetching: Boolean,
  startParam: String,
  endParam: String,
  timeZoneParam: String,
  timeZone: String,
  locales: identity,
  locale: identity,
  themeSystem: String,
  dragRevertDuration: Number,
  dragScroll: Boolean,
  allDayMaintainDuration: Boolean,
  unselectAuto: Boolean,
  dropAccept: identity,
  eventOrder: parseFieldSpecs,
  eventOrderStrict: Boolean,
  handleWindowResize: Boolean,
  windowResizeDelay: Number,
  longPressDelay: Number,
  eventDragMinDistance: Number,
  expandRows: Boolean,
  height: identity,
  contentHeight: identity,
  direction: String,
  weekNumberFormat: createFormatter,
  eventResizableFromStart: Boolean,
  displayEventTime: Boolean,
  displayEventEnd: Boolean,
  weekText: String,
  weekTextLong: String,
  progressiveEventRendering: Boolean,
  businessHours: identity,
  initialDate: identity,
  now: identity,
  eventDataTransform: identity,
  stickyHeaderDates: identity,
  stickyFooterScrollbar: identity,
  viewHeight: identity,
  defaultAllDay: Boolean,
  eventSourceFailure: identity,
  eventSourceSuccess: identity,
  eventDisplay: String,
  eventStartEditable: Boolean,
  eventDurationEditable: Boolean,
  eventOverlap: identity,
  eventConstraint: identity,
  eventAllow: identity,
  eventBackgroundColor: String,
  eventBorderColor: String,
  eventTextColor: String,
  eventColor: String,
  eventClassNames: identity,
  eventContent: identity,
  eventDidMount: identity,
  eventWillUnmount: identity,
  selectConstraint: identity,
  selectOverlap: identity,
  selectAllow: identity,
  droppable: Boolean,
  unselectCancel: String,
  slotLabelFormat: identity,
  slotLaneClassNames: identity,
  slotLaneContent: identity,
  slotLaneDidMount: identity,
  slotLaneWillUnmount: identity,
  slotLabelClassNames: identity,
  slotLabelContent: identity,
  slotLabelDidMount: identity,
  slotLabelWillUnmount: identity,
  dayMaxEvents: identity,
  dayMaxEventRows: identity,
  dayMinWidth: Number,
  slotLabelInterval: createDuration,
  allDayText: String,
  allDayClassNames: identity,
  allDayContent: identity,
  allDayDidMount: identity,
  allDayWillUnmount: identity,
  slotMinWidth: Number,
  navLinks: Boolean,
  eventTimeFormat: createFormatter,
  rerenderDelay: Number,
  moreLinkText: identity,
  moreLinkHint: identity,
  selectMinDistance: Number,
  selectable: Boolean,
  selectLongPressDelay: Number,
  eventLongPressDelay: Number,
  selectMirror: Boolean,
  eventMaxStack: Number,
  eventMinHeight: Number,
  eventMinWidth: Number,
  eventShortHeight: Number,
  slotEventOverlap: Boolean,
  plugins: identity,
  firstDay: Number,
  dayCount: Number,
  dateAlignment: String,
  dateIncrement: createDuration,
  hiddenDays: identity,
  fixedWeekCount: Boolean,
  validRange: identity,
  visibleRange: identity,
  titleFormat: identity,
  eventInteractive: Boolean,
  // only used by list-view, but languages define the value, so we need it in base options
  noEventsText: String,
  viewHint: identity,
  navLinkHint: identity,
  closeHint: String,
  timeHint: String,
  eventHint: String,
  moreLinkClick: identity,
  moreLinkClassNames: identity,
  moreLinkContent: identity,
  moreLinkDidMount: identity,
  moreLinkWillUnmount: identity,
  monthStartFormat: createFormatter,
  // for connectors
  // (can't be part of plugin system b/c must be provided at runtime)
  handleCustomRendering: identity,
  customRenderingMetaMap: identity,
  customRenderingReplaces: Boolean
};
const BASE_OPTION_DEFAULTS = {
  eventDisplay: "auto",
  defaultRangeSeparator: " - ",
  titleRangeSeparator: " – ",
  defaultTimedEventDuration: "01:00:00",
  defaultAllDayEventDuration: { day: 1 },
  forceEventDuration: false,
  nextDayThreshold: "00:00:00",
  dayHeaders: true,
  initialView: "",
  aspectRatio: 1.35,
  headerToolbar: {
    start: "title",
    center: "",
    end: "today prev,next"
  },
  weekends: true,
  weekNumbers: false,
  weekNumberCalculation: "local",
  editable: false,
  nowIndicator: false,
  scrollTime: "06:00:00",
  scrollTimeReset: true,
  slotMinTime: "00:00:00",
  slotMaxTime: "24:00:00",
  showNonCurrentDates: true,
  lazyFetching: true,
  startParam: "start",
  endParam: "end",
  timeZoneParam: "timeZone",
  timeZone: "local",
  locales: [],
  locale: "",
  themeSystem: "standard",
  dragRevertDuration: 500,
  dragScroll: true,
  allDayMaintainDuration: false,
  unselectAuto: true,
  dropAccept: "*",
  eventOrder: "start,-duration,allDay,title",
  dayPopoverFormat: { month: "long", day: "numeric", year: "numeric" },
  handleWindowResize: true,
  windowResizeDelay: 100,
  longPressDelay: 1e3,
  eventDragMinDistance: 5,
  expandRows: false,
  navLinks: false,
  selectable: false,
  eventMinHeight: 15,
  eventMinWidth: 30,
  eventShortHeight: 30,
  monthStartFormat: { month: "long", day: "numeric" }
};
const CALENDAR_LISTENER_REFINERS = {
  datesSet: identity,
  eventsSet: identity,
  eventAdd: identity,
  eventChange: identity,
  eventRemove: identity,
  windowResize: identity,
  eventClick: identity,
  eventMouseEnter: identity,
  eventMouseLeave: identity,
  select: identity,
  unselect: identity,
  loading: identity,
  // internal
  _unmount: identity,
  _beforeprint: identity,
  _afterprint: identity,
  _noEventDrop: identity,
  _noEventResize: identity,
  _resize: identity,
  _scrollRequest: identity
};
const CALENDAR_OPTION_REFINERS = {
  buttonText: identity,
  buttonHints: identity,
  views: identity,
  plugins: identity,
  initialEvents: identity,
  events: identity,
  eventSources: identity
};
const COMPLEX_OPTION_COMPARATORS = {
  headerToolbar: isMaybeObjectsEqual,
  footerToolbar: isMaybeObjectsEqual,
  buttonText: isMaybeObjectsEqual,
  buttonHints: isMaybeObjectsEqual,
  buttonIcons: isMaybeObjectsEqual,
  dateIncrement: isMaybeObjectsEqual,
  plugins: isMaybeArraysEqual,
  events: isMaybeArraysEqual,
  eventSources: isMaybeArraysEqual,
  ["resources"]: isMaybeArraysEqual
};
function isMaybeObjectsEqual(a, b) {
  if (typeof a === "object" && typeof b === "object" && a && b) {
    return isPropsEqual(a, b);
  }
  return a === b;
}
function isMaybeArraysEqual(a, b) {
  if (Array.isArray(a) && Array.isArray(b)) {
    return isArraysEqual(a, b);
  }
  return a === b;
}
const VIEW_OPTION_REFINERS = {
  type: String,
  component: identity,
  buttonText: String,
  buttonTextKey: String,
  dateProfileGeneratorClass: identity,
  usesMinMaxTime: Boolean,
  classNames: identity,
  content: identity,
  didMount: identity,
  willUnmount: identity
};
function mergeRawOptions(optionSets) {
  return mergeProps(optionSets, COMPLEX_OPTION_COMPARATORS);
}
function refineProps(input, refiners) {
  let refined = {};
  let extra = {};
  for (let propName in refiners) {
    if (propName in input) {
      refined[propName] = refiners[propName](input[propName]);
    }
  }
  for (let propName in input) {
    if (!(propName in refiners)) {
      extra[propName] = input[propName];
    }
  }
  return { refined, extra };
}
function identity(raw) {
  return raw;
}
const { hasOwnProperty } = Object.prototype;
function mergeProps(propObjs, complexPropsMap) {
  let dest = {};
  if (complexPropsMap) {
    for (let name in complexPropsMap) {
      if (complexPropsMap[name] === isMaybeObjectsEqual) {
        let complexObjs = [];
        for (let i2 = propObjs.length - 1; i2 >= 0; i2 -= 1) {
          let val = propObjs[i2][name];
          if (typeof val === "object" && val) {
            complexObjs.unshift(val);
          } else if (val !== void 0) {
            dest[name] = val;
            break;
          }
        }
        if (complexObjs.length) {
          dest[name] = mergeProps(complexObjs);
        }
      }
    }
  }
  for (let i2 = propObjs.length - 1; i2 >= 0; i2 -= 1) {
    let props = propObjs[i2];
    for (let name in props) {
      if (!(name in dest)) {
        dest[name] = props[name];
      }
    }
  }
  return dest;
}
function filterHash(hash, func) {
  let filtered = {};
  for (let key in hash) {
    if (func(hash[key], key)) {
      filtered[key] = hash[key];
    }
  }
  return filtered;
}
function mapHash(hash, func) {
  let newHash = {};
  for (let key in hash) {
    newHash[key] = func(hash[key], key);
  }
  return newHash;
}
function arrayToHash(a) {
  let hash = {};
  for (let item of a) {
    hash[item] = true;
  }
  return hash;
}
function hashValuesToArray(obj) {
  let a = [];
  for (let key in obj) {
    a.push(obj[key]);
  }
  return a;
}
function isPropsEqual(obj0, obj1) {
  if (obj0 === obj1) {
    return true;
  }
  for (let key in obj0) {
    if (hasOwnProperty.call(obj0, key)) {
      if (!(key in obj1)) {
        return false;
      }
    }
  }
  for (let key in obj1) {
    if (hasOwnProperty.call(obj1, key)) {
      if (obj0[key] !== obj1[key]) {
        return false;
      }
    }
  }
  return true;
}
const HANDLER_RE = /^on[A-Z]/;
function isNonHandlerPropsEqual(obj0, obj1) {
  const keys = getUnequalProps(obj0, obj1);
  for (let key of keys) {
    if (!HANDLER_RE.test(key)) {
      return false;
    }
  }
  return true;
}
function getUnequalProps(obj0, obj1) {
  let keys = [];
  for (let key in obj0) {
    if (hasOwnProperty.call(obj0, key)) {
      if (!(key in obj1)) {
        keys.push(key);
      }
    }
  }
  for (let key in obj1) {
    if (hasOwnProperty.call(obj1, key)) {
      if (obj0[key] !== obj1[key]) {
        keys.push(key);
      }
    }
  }
  return keys;
}
function compareObjs(oldProps, newProps, equalityFuncs = {}) {
  if (oldProps === newProps) {
    return true;
  }
  for (let key in newProps) {
    if (key in oldProps && isObjValsEqual(oldProps[key], newProps[key], equalityFuncs[key])) ;
    else {
      return false;
    }
  }
  for (let key in oldProps) {
    if (!(key in newProps)) {
      return false;
    }
  }
  return true;
}
function isObjValsEqual(val0, val1, comparator) {
  if (val0 === val1 || comparator === true) {
    return true;
  }
  if (comparator) {
    return comparator(val0, val1);
  }
  return false;
}
function collectFromHash(hash, startIndex = 0, endIndex, step = 1) {
  let res = [];
  if (endIndex == null) {
    endIndex = Object.keys(hash).length;
  }
  for (let i2 = startIndex; i2 < endIndex; i2 += step) {
    let val = hash[i2];
    if (val !== void 0) {
      res.push(val);
    }
  }
  return res;
}
let calendarSystemClassMap = {};
function registerCalendarSystem(name, theClass) {
  calendarSystemClassMap[name] = theClass;
}
function createCalendarSystem(name) {
  return new calendarSystemClassMap[name]();
}
class GregorianCalendarSystem {
  getMarkerYear(d) {
    return d.getUTCFullYear();
  }
  getMarkerMonth(d) {
    return d.getUTCMonth();
  }
  getMarkerDay(d) {
    return d.getUTCDate();
  }
  arrayToMarker(arr) {
    return arrayToUtcDate(arr);
  }
  markerToArray(marker) {
    return dateToUtcArray(marker);
  }
}
registerCalendarSystem("gregory", GregorianCalendarSystem);
const ISO_RE = /^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;
function parse(str) {
  let m = ISO_RE.exec(str);
  if (m) {
    let marker = new Date(Date.UTC(Number(m[1]), m[3] ? Number(m[3]) - 1 : 0, Number(m[5] || 1), Number(m[7] || 0), Number(m[8] || 0), Number(m[10] || 0), m[12] ? Number(`0.${m[12]}`) * 1e3 : 0));
    if (isValidDate(marker)) {
      let timeZoneOffset = null;
      if (m[13]) {
        timeZoneOffset = (m[15] === "-" ? -1 : 1) * (Number(m[16] || 0) * 60 + Number(m[18] || 0));
      }
      return {
        marker,
        isTimeUnspecified: !m[6],
        timeZoneOffset
      };
    }
  }
  return null;
}
class DateEnv {
  constructor(settings) {
    let timeZone = this.timeZone = settings.timeZone;
    let isNamedTimeZone = timeZone !== "local" && timeZone !== "UTC";
    if (settings.namedTimeZoneImpl && isNamedTimeZone) {
      this.namedTimeZoneImpl = new settings.namedTimeZoneImpl(timeZone);
    }
    this.canComputeOffset = Boolean(!isNamedTimeZone || this.namedTimeZoneImpl);
    this.calendarSystem = createCalendarSystem(settings.calendarSystem);
    this.locale = settings.locale;
    this.weekDow = settings.locale.week.dow;
    this.weekDoy = settings.locale.week.doy;
    if (settings.weekNumberCalculation === "ISO") {
      this.weekDow = 1;
      this.weekDoy = 4;
    }
    if (typeof settings.firstDay === "number") {
      this.weekDow = settings.firstDay;
    }
    if (typeof settings.weekNumberCalculation === "function") {
      this.weekNumberFunc = settings.weekNumberCalculation;
    }
    this.weekText = settings.weekText != null ? settings.weekText : settings.locale.options.weekText;
    this.weekTextLong = (settings.weekTextLong != null ? settings.weekTextLong : settings.locale.options.weekTextLong) || this.weekText;
    this.cmdFormatter = settings.cmdFormatter;
    this.defaultSeparator = settings.defaultSeparator;
  }
  // Creating / Parsing
  createMarker(input) {
    let meta = this.createMarkerMeta(input);
    if (meta === null) {
      return null;
    }
    return meta.marker;
  }
  createNowMarker() {
    if (this.canComputeOffset) {
      return this.timestampToMarker((/* @__PURE__ */ new Date()).valueOf());
    }
    return arrayToUtcDate(dateToLocalArray(/* @__PURE__ */ new Date()));
  }
  createMarkerMeta(input) {
    if (typeof input === "string") {
      return this.parse(input);
    }
    let marker = null;
    if (typeof input === "number") {
      marker = this.timestampToMarker(input);
    } else if (input instanceof Date) {
      input = input.valueOf();
      if (!isNaN(input)) {
        marker = this.timestampToMarker(input);
      }
    } else if (Array.isArray(input)) {
      marker = arrayToUtcDate(input);
    }
    if (marker === null || !isValidDate(marker)) {
      return null;
    }
    return { marker, isTimeUnspecified: false, forcedTzo: null };
  }
  parse(s2) {
    let parts = parse(s2);
    if (parts === null) {
      return null;
    }
    let { marker } = parts;
    let forcedTzo = null;
    if (parts.timeZoneOffset !== null) {
      if (this.canComputeOffset) {
        marker = this.timestampToMarker(marker.valueOf() - parts.timeZoneOffset * 60 * 1e3);
      } else {
        forcedTzo = parts.timeZoneOffset;
      }
    }
    return { marker, isTimeUnspecified: parts.isTimeUnspecified, forcedTzo };
  }
  // Accessors
  getYear(marker) {
    return this.calendarSystem.getMarkerYear(marker);
  }
  getMonth(marker) {
    return this.calendarSystem.getMarkerMonth(marker);
  }
  getDay(marker) {
    return this.calendarSystem.getMarkerDay(marker);
  }
  // Adding / Subtracting
  add(marker, dur) {
    let a = this.calendarSystem.markerToArray(marker);
    a[0] += dur.years;
    a[1] += dur.months;
    a[2] += dur.days;
    a[6] += dur.milliseconds;
    return this.calendarSystem.arrayToMarker(a);
  }
  subtract(marker, dur) {
    let a = this.calendarSystem.markerToArray(marker);
    a[0] -= dur.years;
    a[1] -= dur.months;
    a[2] -= dur.days;
    a[6] -= dur.milliseconds;
    return this.calendarSystem.arrayToMarker(a);
  }
  addYears(marker, n2) {
    let a = this.calendarSystem.markerToArray(marker);
    a[0] += n2;
    return this.calendarSystem.arrayToMarker(a);
  }
  addMonths(marker, n2) {
    let a = this.calendarSystem.markerToArray(marker);
    a[1] += n2;
    return this.calendarSystem.arrayToMarker(a);
  }
  // Diffing Whole Units
  diffWholeYears(m0, m1) {
    let { calendarSystem } = this;
    if (timeAsMs(m0) === timeAsMs(m1) && calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1) && calendarSystem.getMarkerMonth(m0) === calendarSystem.getMarkerMonth(m1)) {
      return calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0);
    }
    return null;
  }
  diffWholeMonths(m0, m1) {
    let { calendarSystem } = this;
    if (timeAsMs(m0) === timeAsMs(m1) && calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1)) {
      return calendarSystem.getMarkerMonth(m1) - calendarSystem.getMarkerMonth(m0) + (calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0)) * 12;
    }
    return null;
  }
  // Range / Duration
  greatestWholeUnit(m0, m1) {
    let n2 = this.diffWholeYears(m0, m1);
    if (n2 !== null) {
      return { unit: "year", value: n2 };
    }
    n2 = this.diffWholeMonths(m0, m1);
    if (n2 !== null) {
      return { unit: "month", value: n2 };
    }
    n2 = diffWholeWeeks(m0, m1);
    if (n2 !== null) {
      return { unit: "week", value: n2 };
    }
    n2 = diffWholeDays(m0, m1);
    if (n2 !== null) {
      return { unit: "day", value: n2 };
    }
    n2 = diffHours(m0, m1);
    if (isInt(n2)) {
      return { unit: "hour", value: n2 };
    }
    n2 = diffMinutes(m0, m1);
    if (isInt(n2)) {
      return { unit: "minute", value: n2 };
    }
    n2 = diffSeconds(m0, m1);
    if (isInt(n2)) {
      return { unit: "second", value: n2 };
    }
    return { unit: "millisecond", value: m1.valueOf() - m0.valueOf() };
  }
  countDurationsBetween(m0, m1, d) {
    let diff;
    if (d.years) {
      diff = this.diffWholeYears(m0, m1);
      if (diff !== null) {
        return diff / asRoughYears(d);
      }
    }
    if (d.months) {
      diff = this.diffWholeMonths(m0, m1);
      if (diff !== null) {
        return diff / asRoughMonths(d);
      }
    }
    if (d.days) {
      diff = diffWholeDays(m0, m1);
      if (diff !== null) {
        return diff / asRoughDays(d);
      }
    }
    return (m1.valueOf() - m0.valueOf()) / asRoughMs(d);
  }
  // Start-Of
  // these DON'T return zoned-dates. only UTC start-of dates
  startOf(m, unit) {
    if (unit === "year") {
      return this.startOfYear(m);
    }
    if (unit === "month") {
      return this.startOfMonth(m);
    }
    if (unit === "week") {
      return this.startOfWeek(m);
    }
    if (unit === "day") {
      return startOfDay(m);
    }
    if (unit === "hour") {
      return startOfHour(m);
    }
    if (unit === "minute") {
      return startOfMinute(m);
    }
    if (unit === "second") {
      return startOfSecond(m);
    }
    return null;
  }
  startOfYear(m) {
    return this.calendarSystem.arrayToMarker([
      this.calendarSystem.getMarkerYear(m)
    ]);
  }
  startOfMonth(m) {
    return this.calendarSystem.arrayToMarker([
      this.calendarSystem.getMarkerYear(m),
      this.calendarSystem.getMarkerMonth(m)
    ]);
  }
  startOfWeek(m) {
    return this.calendarSystem.arrayToMarker([
      this.calendarSystem.getMarkerYear(m),
      this.calendarSystem.getMarkerMonth(m),
      m.getUTCDate() - (m.getUTCDay() - this.weekDow + 7) % 7
    ]);
  }
  // Week Number
  computeWeekNumber(marker) {
    if (this.weekNumberFunc) {
      return this.weekNumberFunc(this.toDate(marker));
    }
    return weekOfYear(marker, this.weekDow, this.weekDoy);
  }
  // TODO: choke on timeZoneName: long
  format(marker, formatter, dateOptions = {}) {
    return formatter.format({
      marker,
      timeZoneOffset: dateOptions.forcedTzo != null ? dateOptions.forcedTzo : this.offsetForMarker(marker)
    }, this);
  }
  formatRange(start, end, formatter, dateOptions = {}) {
    if (dateOptions.isEndExclusive) {
      end = addMs(end, -1);
    }
    return formatter.formatRange({
      marker: start,
      timeZoneOffset: dateOptions.forcedStartTzo != null ? dateOptions.forcedStartTzo : this.offsetForMarker(start)
    }, {
      marker: end,
      timeZoneOffset: dateOptions.forcedEndTzo != null ? dateOptions.forcedEndTzo : this.offsetForMarker(end)
    }, this, dateOptions.defaultSeparator);
  }
  /*
  DUMB: the omitTime arg is dumb. if we omit the time, we want to omit the timezone offset. and if we do that,
  might as well use buildIsoString or some other util directly
  */
  formatIso(marker, extraOptions = {}) {
    let timeZoneOffset = null;
    if (!extraOptions.omitTimeZoneOffset) {
      if (extraOptions.forcedTzo != null) {
        timeZoneOffset = extraOptions.forcedTzo;
      } else {
        timeZoneOffset = this.offsetForMarker(marker);
      }
    }
    return buildIsoString(marker, timeZoneOffset, extraOptions.omitTime);
  }
  // TimeZone
  timestampToMarker(ms) {
    if (this.timeZone === "local") {
      return arrayToUtcDate(dateToLocalArray(new Date(ms)));
    }
    if (this.timeZone === "UTC" || !this.namedTimeZoneImpl) {
      return new Date(ms);
    }
    return arrayToUtcDate(this.namedTimeZoneImpl.timestampToArray(ms));
  }
  offsetForMarker(m) {
    if (this.timeZone === "local") {
      return -arrayToLocalDate(dateToUtcArray(m)).getTimezoneOffset();
    }
    if (this.timeZone === "UTC") {
      return 0;
    }
    if (this.namedTimeZoneImpl) {
      return this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m));
    }
    return null;
  }
  // Conversion
  toDate(m, forcedTzo) {
    if (this.timeZone === "local") {
      return arrayToLocalDate(dateToUtcArray(m));
    }
    if (this.timeZone === "UTC") {
      return new Date(m.valueOf());
    }
    if (!this.namedTimeZoneImpl) {
      return new Date(m.valueOf() - (forcedTzo || 0));
    }
    return new Date(m.valueOf() - this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m)) * 1e3 * 60);
  }
}
class Theme {
  constructor(calendarOptions) {
    if (this.iconOverrideOption) {
      this.setIconOverride(calendarOptions[this.iconOverrideOption]);
    }
  }
  setIconOverride(iconOverrideHash) {
    let iconClassesCopy;
    let buttonName;
    if (typeof iconOverrideHash === "object" && iconOverrideHash) {
      iconClassesCopy = Object.assign({}, this.iconClasses);
      for (buttonName in iconOverrideHash) {
        iconClassesCopy[buttonName] = this.applyIconOverridePrefix(iconOverrideHash[buttonName]);
      }
      this.iconClasses = iconClassesCopy;
    } else if (iconOverrideHash === false) {
      this.iconClasses = {};
    }
  }
  applyIconOverridePrefix(className) {
    let prefix = this.iconOverridePrefix;
    if (prefix && className.indexOf(prefix) !== 0) {
      className = prefix + className;
    }
    return className;
  }
  getClass(key) {
    return this.classes[key] || "";
  }
  getIconClass(buttonName, isRtl) {
    let className;
    if (isRtl && this.rtlIconClasses) {
      className = this.rtlIconClasses[buttonName] || this.iconClasses[buttonName];
    } else {
      className = this.iconClasses[buttonName];
    }
    if (className) {
      return `${this.baseIconClass} ${className}`;
    }
    return "";
  }
  getCustomButtonIconClass(customButtonProps) {
    let className;
    if (this.iconOverrideCustomButtonOption) {
      className = customButtonProps[this.iconOverrideCustomButtonOption];
      if (className) {
        return `${this.baseIconClass} ${this.applyIconOverridePrefix(className)}`;
      }
    }
    return "";
  }
}
Theme.prototype.classes = {};
Theme.prototype.iconClasses = {};
Theme.prototype.baseIconClass = "";
Theme.prototype.iconOverridePrefix = "";
function flushSync(runBeforeFlush) {
  runBeforeFlush();
  let oldDebounceRendering = preact.options.debounceRendering;
  let callbackQ = [];
  function execCallbackSync(callback) {
    callbackQ.push(callback);
  }
  preact.options.debounceRendering = execCallbackSync;
  preact.render(preact.createElement(FakeComponent, {}), document.createElement("div"));
  while (callbackQ.length) {
    callbackQ.shift()();
  }
  preact.options.debounceRendering = oldDebounceRendering;
}
class FakeComponent extends preact.Component {
  render() {
    return preact.createElement("div", {});
  }
  componentDidMount() {
    this.setState({});
  }
}
function createContext(defaultValue) {
  let ContextType = preact.createContext(defaultValue);
  let origProvider = ContextType.Provider;
  ContextType.Provider = function() {
    let isNew = !this.getChildContext;
    let children = origProvider.apply(this, arguments);
    if (isNew) {
      let subs = [];
      this.shouldComponentUpdate = (_props) => {
        if (this.props.value !== _props.value) {
          subs.forEach((c) => {
            c.context = _props.value;
            c.forceUpdate();
          });
        }
      };
      this.sub = (c) => {
        subs.push(c);
        let old = c.componentWillUnmount;
        c.componentWillUnmount = () => {
          subs.splice(subs.indexOf(c), 1);
          old && old.call(c);
        };
      };
    }
    return children;
  };
  return ContextType;
}
class ScrollResponder {
  constructor(execFunc, emitter, scrollTime, scrollTimeReset) {
    this.execFunc = execFunc;
    this.emitter = emitter;
    this.scrollTime = scrollTime;
    this.scrollTimeReset = scrollTimeReset;
    this.handleScrollRequest = (request) => {
      this.queuedRequest = Object.assign({}, this.queuedRequest || {}, request);
      this.drain();
    };
    emitter.on("_scrollRequest", this.handleScrollRequest);
    this.fireInitialScroll();
  }
  detach() {
    this.emitter.off("_scrollRequest", this.handleScrollRequest);
  }
  update(isDatesNew) {
    if (isDatesNew && this.scrollTimeReset) {
      this.fireInitialScroll();
    } else {
      this.drain();
    }
  }
  fireInitialScroll() {
    this.handleScrollRequest({
      time: this.scrollTime
    });
  }
  drain() {
    if (this.queuedRequest && this.execFunc(this.queuedRequest)) {
      this.queuedRequest = null;
    }
  }
}
const ViewContextType = createContext({});
function buildViewContext(viewSpec, viewApi, viewOptions, dateProfileGenerator, dateEnv, theme, pluginHooks, dispatch, getCurrentData, emitter, calendarApi, registerInteractiveComponent, unregisterInteractiveComponent) {
  return {
    dateEnv,
    options: viewOptions,
    pluginHooks,
    emitter,
    dispatch,
    getCurrentData,
    calendarApi,
    viewSpec,
    viewApi,
    dateProfileGenerator,
    theme,
    isRtl: viewOptions.direction === "rtl",
    addResizeHandler(handler) {
      emitter.on("_resize", handler);
    },
    removeResizeHandler(handler) {
      emitter.off("_resize", handler);
    },
    createScrollResponder(execFunc) {
      return new ScrollResponder(execFunc, emitter, createDuration(viewOptions.scrollTime), viewOptions.scrollTimeReset);
    },
    registerInteractiveComponent,
    unregisterInteractiveComponent
  };
}
class PureComponent extends Component {
  shouldComponentUpdate(nextProps, nextState) {
    if (this.debug) {
      console.log(getUnequalProps(nextProps, this.props), getUnequalProps(nextState, this.state));
    }
    return !compareObjs(this.props, nextProps, this.propEquality) || !compareObjs(this.state, nextState, this.stateEquality);
  }
  // HACK for freakin' React StrictMode
  safeSetState(newState) {
    if (!compareObjs(this.state, Object.assign(Object.assign({}, this.state), newState), this.stateEquality)) {
      this.setState(newState);
    }
  }
}
PureComponent.addPropsEquality = addPropsEquality;
PureComponent.addStateEquality = addStateEquality;
PureComponent.contextType = ViewContextType;
PureComponent.prototype.propEquality = {};
PureComponent.prototype.stateEquality = {};
class BaseComponent extends PureComponent {
}
BaseComponent.contextType = ViewContextType;
function addPropsEquality(propEquality) {
  let hash = Object.create(this.prototype.propEquality);
  Object.assign(hash, propEquality);
  this.prototype.propEquality = hash;
}
function addStateEquality(stateEquality) {
  let hash = Object.create(this.prototype.stateEquality);
  Object.assign(hash, stateEquality);
  this.prototype.stateEquality = hash;
}
function setRef(ref, current) {
  if (typeof ref === "function") {
    ref(current);
  } else if (ref) {
    ref.current = current;
  }
}
class ContentInjector extends BaseComponent {
  constructor() {
    super(...arguments);
    this.id = guid();
    this.queuedDomNodes = [];
    this.currentDomNodes = [];
    this.handleEl = (el) => {
      const { options } = this.context;
      const { generatorName } = this.props;
      if (!options.customRenderingReplaces || !hasCustomRenderingHandler(generatorName, options)) {
        this.updateElRef(el);
      }
    };
    this.updateElRef = (el) => {
      if (this.props.elRef) {
        setRef(this.props.elRef, el);
      }
    };
  }
  render() {
    const { props, context } = this;
    const { options } = context;
    const { customGenerator, defaultGenerator, renderProps } = props;
    const attrs = buildElAttrs(props, [], this.handleEl);
    let useDefault = false;
    let innerContent;
    let queuedDomNodes = [];
    let currentGeneratorMeta;
    if (customGenerator != null) {
      const customGeneratorRes = typeof customGenerator === "function" ? customGenerator(renderProps, createElement$1) : customGenerator;
      if (customGeneratorRes === true) {
        useDefault = true;
      } else {
        const isObject2 = customGeneratorRes && typeof customGeneratorRes === "object";
        if (isObject2 && "html" in customGeneratorRes) {
          attrs.dangerouslySetInnerHTML = { __html: customGeneratorRes.html };
        } else if (isObject2 && "domNodes" in customGeneratorRes) {
          queuedDomNodes = Array.prototype.slice.call(customGeneratorRes.domNodes);
        } else if (isObject2 ? isValidElement(customGeneratorRes) : typeof customGeneratorRes !== "function") {
          innerContent = customGeneratorRes;
        } else {
          currentGeneratorMeta = customGeneratorRes;
        }
      }
    } else {
      useDefault = !hasCustomRenderingHandler(props.generatorName, options);
    }
    if (useDefault && defaultGenerator) {
      innerContent = defaultGenerator(renderProps);
    }
    this.queuedDomNodes = queuedDomNodes;
    this.currentGeneratorMeta = currentGeneratorMeta;
    return createElement$1(props.elTag, attrs, innerContent);
  }
  componentDidMount() {
    this.applyQueueudDomNodes();
    this.triggerCustomRendering(true);
  }
  componentDidUpdate() {
    this.applyQueueudDomNodes();
    this.triggerCustomRendering(true);
  }
  componentWillUnmount() {
    this.triggerCustomRendering(false);
  }
  triggerCustomRendering(isActive) {
    var _a2;
    const { props, context } = this;
    const { handleCustomRendering, customRenderingMetaMap } = context.options;
    if (handleCustomRendering) {
      const generatorMeta = (_a2 = this.currentGeneratorMeta) !== null && _a2 !== void 0 ? _a2 : customRenderingMetaMap === null || customRenderingMetaMap === void 0 ? void 0 : customRenderingMetaMap[props.generatorName];
      if (generatorMeta) {
        handleCustomRendering(Object.assign(Object.assign({
          id: this.id,
          isActive,
          containerEl: this.base,
          reportNewContainerEl: this.updateElRef,
          // front-end framework tells us about new container els
          generatorMeta
        }, props), { elClasses: (props.elClasses || []).filter(isTruthy) }));
      }
    }
  }
  applyQueueudDomNodes() {
    const { queuedDomNodes, currentDomNodes } = this;
    const el = this.base;
    if (!isArraysEqual(queuedDomNodes, currentDomNodes)) {
      currentDomNodes.forEach(removeElement);
      for (let newNode of queuedDomNodes) {
        el.appendChild(newNode);
      }
      this.currentDomNodes = queuedDomNodes;
    }
  }
}
ContentInjector.addPropsEquality({
  elClasses: isArraysEqual,
  elStyle: isPropsEqual,
  elAttrs: isNonHandlerPropsEqual,
  renderProps: isPropsEqual
});
function hasCustomRenderingHandler(generatorName, options) {
  var _a2;
  return Boolean(options.handleCustomRendering && generatorName && ((_a2 = options.customRenderingMetaMap) === null || _a2 === void 0 ? void 0 : _a2[generatorName]));
}
function buildElAttrs(props, extraClassNames, elRef) {
  const attrs = Object.assign(Object.assign({}, props.elAttrs), { ref: elRef });
  if (props.elClasses || extraClassNames) {
    attrs.className = (props.elClasses || []).concat(extraClassNames || []).concat(attrs.className || []).filter(Boolean).join(" ");
  }
  if (props.elStyle) {
    attrs.style = props.elStyle;
  }
  return attrs;
}
function isTruthy(val) {
  return Boolean(val);
}
const RenderId = createContext(0);
class ContentContainer extends Component {
  constructor() {
    super(...arguments);
    this.InnerContent = InnerContentInjector.bind(void 0, this);
    this.handleEl = (el) => {
      this.el = el;
      if (this.props.elRef) {
        setRef(this.props.elRef, el);
        if (el && this.didMountMisfire) {
          this.componentDidMount();
        }
      }
    };
  }
  render() {
    const { props } = this;
    const generatedClassNames = generateClassNames(props.classNameGenerator, props.renderProps);
    if (props.children) {
      const elAttrs = buildElAttrs(props, generatedClassNames, this.handleEl);
      const children = props.children(this.InnerContent, props.renderProps, elAttrs);
      if (props.elTag) {
        return createElement$1(props.elTag, elAttrs, children);
      } else {
        return children;
      }
    } else {
      return createElement$1(ContentInjector, Object.assign(Object.assign({}, props), { elRef: this.handleEl, elTag: props.elTag || "div", elClasses: (props.elClasses || []).concat(generatedClassNames), renderId: this.context }));
    }
  }
  componentDidMount() {
    var _a2, _b;
    if (this.el) {
      (_b = (_a2 = this.props).didMount) === null || _b === void 0 ? void 0 : _b.call(_a2, Object.assign(Object.assign({}, this.props.renderProps), { el: this.el }));
    } else {
      this.didMountMisfire = true;
    }
  }
  componentWillUnmount() {
    var _a2, _b;
    (_b = (_a2 = this.props).willUnmount) === null || _b === void 0 ? void 0 : _b.call(_a2, Object.assign(Object.assign({}, this.props.renderProps), { el: this.el }));
  }
}
ContentContainer.contextType = RenderId;
function InnerContentInjector(containerComponent, props) {
  const parentProps = containerComponent.props;
  return createElement$1(ContentInjector, Object.assign({ renderProps: parentProps.renderProps, generatorName: parentProps.generatorName, customGenerator: parentProps.customGenerator, defaultGenerator: parentProps.defaultGenerator, renderId: containerComponent.context }, props));
}
function generateClassNames(classNameGenerator, renderProps) {
  const classNames = typeof classNameGenerator === "function" ? classNameGenerator(renderProps) : classNameGenerator || [];
  return typeof classNames === "string" ? [classNames] : classNames;
}
class ViewContainer extends BaseComponent {
  render() {
    let { props, context } = this;
    let { options } = context;
    let renderProps = { view: context.viewApi };
    return createElement$1(ContentContainer, Object.assign({}, props, { elTag: props.elTag || "div", elClasses: [
      ...buildViewClassNames(props.viewSpec),
      ...props.elClasses || []
    ], renderProps, classNameGenerator: options.viewClassNames, generatorName: void 0, didMount: options.viewDidMount, willUnmount: options.viewWillUnmount }), () => props.children);
  }
}
function buildViewClassNames(viewSpec) {
  return [
    `fc-${viewSpec.type}-view`,
    "fc-view"
  ];
}
function parseRange(input, dateEnv) {
  let start = null;
  let end = null;
  if (input.start) {
    start = dateEnv.createMarker(input.start);
  }
  if (input.end) {
    end = dateEnv.createMarker(input.end);
  }
  if (!start && !end) {
    return null;
  }
  if (start && end && end < start) {
    return null;
  }
  return { start, end };
}
function invertRanges(ranges, constraintRange) {
  let invertedRanges = [];
  let { start } = constraintRange;
  let i2;
  let dateRange;
  ranges.sort(compareRanges);
  for (i2 = 0; i2 < ranges.length; i2 += 1) {
    dateRange = ranges[i2];
    if (dateRange.start > start) {
      invertedRanges.push({ start, end: dateRange.start });
    }
    if (dateRange.end > start) {
      start = dateRange.end;
    }
  }
  if (start < constraintRange.end) {
    invertedRanges.push({ start, end: constraintRange.end });
  }
  return invertedRanges;
}
function compareRanges(range0, range1) {
  return range0.start.valueOf() - range1.start.valueOf();
}
function intersectRanges(range0, range1) {
  let { start, end } = range0;
  let newRange = null;
  if (range1.start !== null) {
    if (start === null) {
      start = range1.start;
    } else {
      start = new Date(Math.max(start.valueOf(), range1.start.valueOf()));
    }
  }
  if (range1.end != null) {
    if (end === null) {
      end = range1.end;
    } else {
      end = new Date(Math.min(end.valueOf(), range1.end.valueOf()));
    }
  }
  if (start === null || end === null || start < end) {
    newRange = { start, end };
  }
  return newRange;
}
function rangesIntersect(range0, range1) {
  return (range0.end === null || range1.start === null || range0.end > range1.start) && (range0.start === null || range1.end === null || range0.start < range1.end);
}
function rangeContainsMarker(range, date) {
  return (range.start === null || date >= range.start) && (range.end === null || date < range.end);
}
function constrainMarkerToRange(date, range) {
  if (range.start != null && date < range.start) {
    return range.start;
  }
  if (range.end != null && date >= range.end) {
    return new Date(range.end.valueOf() - 1);
  }
  return date;
}
function computeAlignedDayRange(timedRange) {
  let dayCnt = Math.floor(diffDays(timedRange.start, timedRange.end)) || 1;
  let start = startOfDay(timedRange.start);
  let end = addDays(start, dayCnt);
  return { start, end };
}
function computeVisibleDayRange(timedRange, nextDayThreshold = createDuration(0)) {
  let startDay = null;
  let endDay = null;
  if (timedRange.end) {
    endDay = startOfDay(timedRange.end);
    let endTimeMS = timedRange.end.valueOf() - endDay.valueOf();
    if (endTimeMS && endTimeMS >= asRoughMs(nextDayThreshold)) {
      endDay = addDays(endDay, 1);
    }
  }
  if (timedRange.start) {
    startDay = startOfDay(timedRange.start);
    if (endDay && endDay <= startDay) {
      endDay = addDays(startDay, 1);
    }
  }
  return { start: startDay, end: endDay };
}
function diffDates(date0, date1, dateEnv, largeUnit) {
  if (largeUnit === "year") {
    return createDuration(dateEnv.diffWholeYears(date0, date1), "year");
  }
  if (largeUnit === "month") {
    return createDuration(dateEnv.diffWholeMonths(date0, date1), "month");
  }
  return diffDayAndTime(date0, date1);
}
function reduceCurrentDate(currentDate, action) {
  switch (action.type) {
    case "CHANGE_DATE":
      return action.dateMarker;
    default:
      return currentDate;
  }
}
function getInitialDate(options, dateEnv) {
  let initialDateInput = options.initialDate;
  if (initialDateInput != null) {
    return dateEnv.createMarker(initialDateInput);
  }
  return getNow(options.now, dateEnv);
}
function getNow(nowInput, dateEnv) {
  if (typeof nowInput === "function") {
    nowInput = nowInput();
  }
  if (nowInput == null) {
    return dateEnv.createNowMarker();
  }
  return dateEnv.createMarker(nowInput);
}
class DateProfileGenerator {
  constructor(props) {
    this.props = props;
    this.nowDate = getNow(props.nowInput, props.dateEnv);
    this.initHiddenDays();
  }
  /* Date Range Computation
  ------------------------------------------------------------------------------------------------------------------*/
  // Builds a structure with info about what the dates/ranges will be for the "prev" view.
  buildPrev(currentDateProfile, currentDate, forceToValid) {
    let { dateEnv } = this.props;
    let prevDate = dateEnv.subtract(
      dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit),
      // important for start-of-month
      currentDateProfile.dateIncrement
    );
    return this.build(prevDate, -1, forceToValid);
  }
  // Builds a structure with info about what the dates/ranges will be for the "next" view.
  buildNext(currentDateProfile, currentDate, forceToValid) {
    let { dateEnv } = this.props;
    let nextDate = dateEnv.add(
      dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit),
      // important for start-of-month
      currentDateProfile.dateIncrement
    );
    return this.build(nextDate, 1, forceToValid);
  }
  // Builds a structure holding dates/ranges for rendering around the given date.
  // Optional direction param indicates whether the date is being incremented/decremented
  // from its previous value. decremented = -1, incremented = 1 (default).
  build(currentDate, direction, forceToValid = true) {
    let { props } = this;
    let validRange;
    let currentInfo;
    let isRangeAllDay;
    let renderRange;
    let activeRange;
    let isValid;
    validRange = this.buildValidRange();
    validRange = this.trimHiddenDays(validRange);
    if (forceToValid) {
      currentDate = constrainMarkerToRange(currentDate, validRange);
    }
    currentInfo = this.buildCurrentRangeInfo(currentDate, direction);
    isRangeAllDay = /^(year|month|week|day)$/.test(currentInfo.unit);
    renderRange = this.buildRenderRange(this.trimHiddenDays(currentInfo.range), currentInfo.unit, isRangeAllDay);
    renderRange = this.trimHiddenDays(renderRange);
    activeRange = renderRange;
    if (!props.showNonCurrentDates) {
      activeRange = intersectRanges(activeRange, currentInfo.range);
    }
    activeRange = this.adjustActiveRange(activeRange);
    activeRange = intersectRanges(activeRange, validRange);
    isValid = rangesIntersect(currentInfo.range, validRange);
    if (!rangeContainsMarker(renderRange, currentDate)) {
      currentDate = renderRange.start;
    }
    return {
      currentDate,
      // constraint for where prev/next operations can go and where events can be dragged/resized to.
      // an object with optional start and end properties.
      validRange,
      // range the view is formally responsible for.
      // for example, a month view might have 1st-31st, excluding padded dates
      currentRange: currentInfo.range,
      // name of largest unit being displayed, like "month" or "week"
      currentRangeUnit: currentInfo.unit,
      isRangeAllDay,
      // dates that display events and accept drag-n-drop
      // will be `null` if no dates accept events
      activeRange,
      // date range with a rendered skeleton
      // includes not-active days that need some sort of DOM
      renderRange,
      // Duration object that denotes the first visible time of any given day
      slotMinTime: props.slotMinTime,
      // Duration object that denotes the exclusive visible end time of any given day
      slotMaxTime: props.slotMaxTime,
      isValid,
      // how far the current date will move for a prev/next operation
      dateIncrement: this.buildDateIncrement(currentInfo.duration)
      // pass a fallback (might be null) ^
    };
  }
  // Builds an object with optional start/end properties.
  // Indicates the minimum/maximum dates to display.
  // not responsible for trimming hidden days.
  buildValidRange() {
    let input = this.props.validRangeInput;
    let simpleInput = typeof input === "function" ? input.call(this.props.calendarApi, this.nowDate) : input;
    return this.refineRange(simpleInput) || { start: null, end: null };
  }
  // Builds a structure with info about the "current" range, the range that is
  // highlighted as being the current month for example.
  // See build() for a description of `direction`.
  // Guaranteed to have `range` and `unit` properties. `duration` is optional.
  buildCurrentRangeInfo(date, direction) {
    let { props } = this;
    let duration = null;
    let unit = null;
    let range = null;
    let dayCount;
    if (props.duration) {
      duration = props.duration;
      unit = props.durationUnit;
      range = this.buildRangeFromDuration(date, direction, duration, unit);
    } else if (dayCount = this.props.dayCount) {
      unit = "day";
      range = this.buildRangeFromDayCount(date, direction, dayCount);
    } else if (range = this.buildCustomVisibleRange(date)) {
      unit = props.dateEnv.greatestWholeUnit(range.start, range.end).unit;
    } else {
      duration = this.getFallbackDuration();
      unit = greatestDurationDenominator(duration).unit;
      range = this.buildRangeFromDuration(date, direction, duration, unit);
    }
    return { duration, unit, range };
  }
  getFallbackDuration() {
    return createDuration({ day: 1 });
  }
  // Returns a new activeRange to have time values (un-ambiguate)
  // slotMinTime or slotMaxTime causes the range to expand.
  adjustActiveRange(range) {
    let { dateEnv, usesMinMaxTime, slotMinTime, slotMaxTime } = this.props;
    let { start, end } = range;
    if (usesMinMaxTime) {
      if (asRoughDays(slotMinTime) < 0) {
        start = startOfDay(start);
        start = dateEnv.add(start, slotMinTime);
      }
      if (asRoughDays(slotMaxTime) > 1) {
        end = startOfDay(end);
        end = addDays(end, -1);
        end = dateEnv.add(end, slotMaxTime);
      }
    }
    return { start, end };
  }
  // Builds the "current" range when it is specified as an explicit duration.
  // `unit` is the already-computed greatestDurationDenominator unit of duration.
  buildRangeFromDuration(date, direction, duration, unit) {
    let { dateEnv, dateAlignment } = this.props;
    let start;
    let end;
    let res;
    if (!dateAlignment) {
      let { dateIncrement } = this.props;
      if (dateIncrement) {
        if (asRoughMs(dateIncrement) < asRoughMs(duration)) {
          dateAlignment = greatestDurationDenominator(dateIncrement).unit;
        } else {
          dateAlignment = unit;
        }
      } else {
        dateAlignment = unit;
      }
    }
    if (asRoughDays(duration) <= 1) {
      if (this.isHiddenDay(start)) {
        start = this.skipHiddenDays(start, direction);
        start = startOfDay(start);
      }
    }
    function computeRes() {
      start = dateEnv.startOf(date, dateAlignment);
      end = dateEnv.add(start, duration);
      res = { start, end };
    }
    computeRes();
    if (!this.trimHiddenDays(res)) {
      date = this.skipHiddenDays(date, direction);
      computeRes();
    }
    return res;
  }
  // Builds the "current" range when a dayCount is specified.
  buildRangeFromDayCount(date, direction, dayCount) {
    let { dateEnv, dateAlignment } = this.props;
    let runningCount = 0;
    let start = date;
    let end;
    if (dateAlignment) {
      start = dateEnv.startOf(start, dateAlignment);
    }
    start = startOfDay(start);
    start = this.skipHiddenDays(start, direction);
    end = start;
    do {
      end = addDays(end, 1);
      if (!this.isHiddenDay(end)) {
        runningCount += 1;
      }
    } while (runningCount < dayCount);
    return { start, end };
  }
  // Builds a normalized range object for the "visible" range,
  // which is a way to define the currentRange and activeRange at the same time.
  buildCustomVisibleRange(date) {
    let { props } = this;
    let input = props.visibleRangeInput;
    let simpleInput = typeof input === "function" ? input.call(props.calendarApi, props.dateEnv.toDate(date)) : input;
    let range = this.refineRange(simpleInput);
    if (range && (range.start == null || range.end == null)) {
      return null;
    }
    return range;
  }
  // Computes the range that will represent the element/cells for *rendering*,
  // but which may have voided days/times.
  // not responsible for trimming hidden days.
  buildRenderRange(currentRange, currentRangeUnit, isRangeAllDay) {
    return currentRange;
  }
  // Compute the duration value that should be added/substracted to the current date
  // when a prev/next operation happens.
  buildDateIncrement(fallback) {
    let { dateIncrement } = this.props;
    let customAlignment;
    if (dateIncrement) {
      return dateIncrement;
    }
    if (customAlignment = this.props.dateAlignment) {
      return createDuration(1, customAlignment);
    }
    if (fallback) {
      return fallback;
    }
    return createDuration({ days: 1 });
  }
  refineRange(rangeInput) {
    if (rangeInput) {
      let range = parseRange(rangeInput, this.props.dateEnv);
      if (range) {
        range = computeVisibleDayRange(range);
      }
      return range;
    }
    return null;
  }
  /* Hidden Days
  ------------------------------------------------------------------------------------------------------------------*/
  // Initializes internal variables related to calculating hidden days-of-week
  initHiddenDays() {
    let hiddenDays = this.props.hiddenDays || [];
    let isHiddenDayHash = [];
    let dayCnt = 0;
    let i2;
    if (this.props.weekends === false) {
      hiddenDays.push(0, 6);
    }
    for (i2 = 0; i2 < 7; i2 += 1) {
      if (!(isHiddenDayHash[i2] = hiddenDays.indexOf(i2) !== -1)) {
        dayCnt += 1;
      }
    }
    if (!dayCnt) {
      throw new Error("invalid hiddenDays");
    }
    this.isHiddenDayHash = isHiddenDayHash;
  }
  // Remove days from the beginning and end of the range that are computed as hidden.
  // If the whole range is trimmed off, returns null
  trimHiddenDays(range) {
    let { start, end } = range;
    if (start) {
      start = this.skipHiddenDays(start);
    }
    if (end) {
      end = this.skipHiddenDays(end, -1, true);
    }
    if (start == null || end == null || start < end) {
      return { start, end };
    }
    return null;
  }
  // Is the current day hidden?
  // `day` is a day-of-week index (0-6), or a Date (used for UTC)
  isHiddenDay(day) {
    if (day instanceof Date) {
      day = day.getUTCDay();
    }
    return this.isHiddenDayHash[day];
  }
  // Incrementing the current day until it is no longer a hidden day, returning a copy.
  // DOES NOT CONSIDER validRange!
  // If the initial value of `date` is not a hidden day, don't do anything.
  // Pass `isExclusive` as `true` if you are dealing with an end date.
  // `inc` defaults to `1` (increment one day forward each time)
  skipHiddenDays(date, inc = 1, isExclusive = false) {
    while (this.isHiddenDayHash[(date.getUTCDay() + (isExclusive ? inc : 0) + 7) % 7]) {
      date = addDays(date, inc);
    }
    return date;
  }
}
function createEventInstance(defId, range, forcedStartTzo, forcedEndTzo) {
  return {
    instanceId: guid(),
    defId,
    range,
    forcedStartTzo: forcedStartTzo == null ? null : forcedStartTzo,
    forcedEndTzo: forcedEndTzo == null ? null : forcedEndTzo
  };
}
function parseRecurring(refined, defaultAllDay, dateEnv, recurringTypes) {
  for (let i2 = 0; i2 < recurringTypes.length; i2 += 1) {
    let parsed = recurringTypes[i2].parse(refined, dateEnv);
    if (parsed) {
      let { allDay } = refined;
      if (allDay == null) {
        allDay = defaultAllDay;
        if (allDay == null) {
          allDay = parsed.allDayGuess;
          if (allDay == null) {
            allDay = false;
          }
        }
      }
      return {
        allDay,
        duration: parsed.duration,
        typeData: parsed.typeData,
        typeId: i2
      };
    }
  }
  return null;
}
function expandRecurring(eventStore, framingRange, context) {
  let { dateEnv, pluginHooks, options } = context;
  let { defs, instances } = eventStore;
  instances = filterHash(instances, (instance) => !defs[instance.defId].recurringDef);
  for (let defId in defs) {
    let def = defs[defId];
    if (def.recurringDef) {
      let { duration } = def.recurringDef;
      if (!duration) {
        duration = def.allDay ? options.defaultAllDayEventDuration : options.defaultTimedEventDuration;
      }
      let starts = expandRecurringRanges(def, duration, framingRange, dateEnv, pluginHooks.recurringTypes);
      for (let start of starts) {
        let instance = createEventInstance(defId, {
          start,
          end: dateEnv.add(start, duration)
        });
        instances[instance.instanceId] = instance;
      }
    }
  }
  return { defs, instances };
}
function expandRecurringRanges(eventDef, duration, framingRange, dateEnv, recurringTypes) {
  let typeDef = recurringTypes[eventDef.recurringDef.typeId];
  let markers = typeDef.expand(eventDef.recurringDef.typeData, {
    start: dateEnv.subtract(framingRange.start, duration),
    end: framingRange.end
  }, dateEnv);
  if (eventDef.allDay) {
    markers = markers.map(startOfDay);
  }
  return markers;
}
const EVENT_NON_DATE_REFINERS = {
  id: String,
  groupId: String,
  title: String,
  url: String,
  interactive: Boolean
};
const EVENT_DATE_REFINERS = {
  start: identity,
  end: identity,
  date: identity,
  allDay: Boolean
};
const EVENT_REFINERS = Object.assign(Object.assign(Object.assign({}, EVENT_NON_DATE_REFINERS), EVENT_DATE_REFINERS), { extendedProps: identity });
function parseEvent(raw, eventSource, context, allowOpenRange, refiners = buildEventRefiners(context), defIdMap, instanceIdMap) {
  let { refined, extra } = refineEventDef(raw, context, refiners);
  let defaultAllDay = computeIsDefaultAllDay(eventSource, context);
  let recurringRes = parseRecurring(refined, defaultAllDay, context.dateEnv, context.pluginHooks.recurringTypes);
  if (recurringRes) {
    let def = parseEventDef(refined, extra, eventSource ? eventSource.sourceId : "", recurringRes.allDay, Boolean(recurringRes.duration), context, defIdMap);
    def.recurringDef = {
      typeId: recurringRes.typeId,
      typeData: recurringRes.typeData,
      duration: recurringRes.duration
    };
    return { def, instance: null };
  }
  let singleRes = parseSingle(refined, defaultAllDay, context, allowOpenRange);
  if (singleRes) {
    let def = parseEventDef(refined, extra, eventSource ? eventSource.sourceId : "", singleRes.allDay, singleRes.hasEnd, context, defIdMap);
    let instance = createEventInstance(def.defId, singleRes.range, singleRes.forcedStartTzo, singleRes.forcedEndTzo);
    if (instanceIdMap && def.publicId && instanceIdMap[def.publicId]) {
      instance.instanceId = instanceIdMap[def.publicId];
    }
    return { def, instance };
  }
  return null;
}
function refineEventDef(raw, context, refiners = buildEventRefiners(context)) {
  return refineProps(raw, refiners);
}
function buildEventRefiners(context) {
  return Object.assign(Object.assign(Object.assign({}, EVENT_UI_REFINERS), EVENT_REFINERS), context.pluginHooks.eventRefiners);
}
function parseEventDef(refined, extra, sourceId, allDay, hasEnd, context, defIdMap) {
  let def = {
    title: refined.title || "",
    groupId: refined.groupId || "",
    publicId: refined.id || "",
    url: refined.url || "",
    recurringDef: null,
    defId: (defIdMap && refined.id ? defIdMap[refined.id] : "") || guid(),
    sourceId,
    allDay,
    hasEnd,
    interactive: refined.interactive,
    ui: createEventUi(refined, context),
    extendedProps: Object.assign(Object.assign({}, refined.extendedProps || {}), extra)
  };
  for (let memberAdder of context.pluginHooks.eventDefMemberAdders) {
    Object.assign(def, memberAdder(refined));
  }
  Object.freeze(def.ui.classNames);
  Object.freeze(def.extendedProps);
  return def;
}
function parseSingle(refined, defaultAllDay, context, allowOpenRange) {
  let { allDay } = refined;
  let startMeta;
  let startMarker = null;
  let hasEnd = false;
  let endMeta;
  let endMarker = null;
  let startInput = refined.start != null ? refined.start : refined.date;
  startMeta = context.dateEnv.createMarkerMeta(startInput);
  if (startMeta) {
    startMarker = startMeta.marker;
  } else if (!allowOpenRange) {
    return null;
  }
  if (refined.end != null) {
    endMeta = context.dateEnv.createMarkerMeta(refined.end);
  }
  if (allDay == null) {
    if (defaultAllDay != null) {
      allDay = defaultAllDay;
    } else {
      allDay = (!startMeta || startMeta.isTimeUnspecified) && (!endMeta || endMeta.isTimeUnspecified);
    }
  }
  if (allDay && startMarker) {
    startMarker = startOfDay(startMarker);
  }
  if (endMeta) {
    endMarker = endMeta.marker;
    if (allDay) {
      endMarker = startOfDay(endMarker);
    }
    if (startMarker && endMarker <= startMarker) {
      endMarker = null;
    }
  }
  if (endMarker) {
    hasEnd = true;
  } else if (!allowOpenRange) {
    hasEnd = context.options.forceEventDuration || false;
    endMarker = context.dateEnv.add(startMarker, allDay ? context.options.defaultAllDayEventDuration : context.options.defaultTimedEventDuration);
  }
  return {
    allDay,
    hasEnd,
    range: { start: startMarker, end: endMarker },
    forcedStartTzo: startMeta ? startMeta.forcedTzo : null,
    forcedEndTzo: endMeta ? endMeta.forcedTzo : null
  };
}
function computeIsDefaultAllDay(eventSource, context) {
  let res = null;
  if (eventSource) {
    res = eventSource.defaultAllDay;
  }
  if (res == null) {
    res = context.options.defaultAllDay;
  }
  return res;
}
function parseEvents(rawEvents, eventSource, context, allowOpenRange, defIdMap, instanceIdMap) {
  let eventStore = createEmptyEventStore();
  let eventRefiners = buildEventRefiners(context);
  for (let rawEvent of rawEvents) {
    let tuple = parseEvent(rawEvent, eventSource, context, allowOpenRange, eventRefiners, defIdMap, instanceIdMap);
    if (tuple) {
      eventTupleToStore(tuple, eventStore);
    }
  }
  return eventStore;
}
function eventTupleToStore(tuple, eventStore = createEmptyEventStore()) {
  eventStore.defs[tuple.def.defId] = tuple.def;
  if (tuple.instance) {
    eventStore.instances[tuple.instance.instanceId] = tuple.instance;
  }
  return eventStore;
}
function getRelevantEvents(eventStore, instanceId) {
  let instance = eventStore.instances[instanceId];
  if (instance) {
    let def = eventStore.defs[instance.defId];
    let newStore = filterEventStoreDefs(eventStore, (lookDef) => isEventDefsGrouped(def, lookDef));
    newStore.defs[def.defId] = def;
    newStore.instances[instance.instanceId] = instance;
    return newStore;
  }
  return createEmptyEventStore();
}
function isEventDefsGrouped(def0, def1) {
  return Boolean(def0.groupId && def0.groupId === def1.groupId);
}
function createEmptyEventStore() {
  return { defs: {}, instances: {} };
}
function mergeEventStores(store0, store1) {
  return {
    defs: Object.assign(Object.assign({}, store0.defs), store1.defs),
    instances: Object.assign(Object.assign({}, store0.instances), store1.instances)
  };
}
function filterEventStoreDefs(eventStore, filterFunc) {
  let defs = filterHash(eventStore.defs, filterFunc);
  let instances = filterHash(eventStore.instances, (instance) => defs[instance.defId]);
  return { defs, instances };
}
function excludeSubEventStore(master, sub) {
  let { defs, instances } = master;
  let filteredDefs = {};
  let filteredInstances = {};
  for (let defId in defs) {
    if (!sub.defs[defId]) {
      filteredDefs[defId] = defs[defId];
    }
  }
  for (let instanceId in instances) {
    if (!sub.instances[instanceId] && // not explicitly excluded
    filteredDefs[instances[instanceId].defId]) {
      filteredInstances[instanceId] = instances[instanceId];
    }
  }
  return {
    defs: filteredDefs,
    instances: filteredInstances
  };
}
function normalizeConstraint(input, context) {
  if (Array.isArray(input)) {
    return parseEvents(input, null, context, true);
  }
  if (typeof input === "object" && input) {
    return parseEvents([input], null, context, true);
  }
  if (input != null) {
    return String(input);
  }
  return null;
}
function parseClassNames(raw) {
  if (Array.isArray(raw)) {
    return raw;
  }
  if (typeof raw === "string") {
    return raw.split(/\s+/);
  }
  return [];
}
const EVENT_UI_REFINERS = {
  display: String,
  editable: Boolean,
  startEditable: Boolean,
  durationEditable: Boolean,
  constraint: identity,
  overlap: identity,
  allow: identity,
  className: parseClassNames,
  classNames: parseClassNames,
  color: String,
  backgroundColor: String,
  borderColor: String,
  textColor: String
};
const EMPTY_EVENT_UI = {
  display: null,
  startEditable: null,
  durationEditable: null,
  constraints: [],
  overlap: null,
  allows: [],
  backgroundColor: "",
  borderColor: "",
  textColor: "",
  classNames: []
};
function createEventUi(refined, context) {
  let constraint = normalizeConstraint(refined.constraint, context);
  return {
    display: refined.display || null,
    startEditable: refined.startEditable != null ? refined.startEditable : refined.editable,
    durationEditable: refined.durationEditable != null ? refined.durationEditable : refined.editable,
    constraints: constraint != null ? [constraint] : [],
    overlap: refined.overlap != null ? refined.overlap : null,
    allows: refined.allow != null ? [refined.allow] : [],
    backgroundColor: refined.backgroundColor || refined.color || "",
    borderColor: refined.borderColor || refined.color || "",
    textColor: refined.textColor || "",
    classNames: (refined.className || []).concat(refined.classNames || [])
    // join singular and plural
  };
}
function combineEventUis(uis) {
  return uis.reduce(combineTwoEventUis, EMPTY_EVENT_UI);
}
function combineTwoEventUis(item0, item1) {
  return {
    display: item1.display != null ? item1.display : item0.display,
    startEditable: item1.startEditable != null ? item1.startEditable : item0.startEditable,
    durationEditable: item1.durationEditable != null ? item1.durationEditable : item0.durationEditable,
    constraints: item0.constraints.concat(item1.constraints),
    overlap: typeof item1.overlap === "boolean" ? item1.overlap : item0.overlap,
    allows: item0.allows.concat(item1.allows),
    backgroundColor: item1.backgroundColor || item0.backgroundColor,
    borderColor: item1.borderColor || item0.borderColor,
    textColor: item1.textColor || item0.textColor,
    classNames: item0.classNames.concat(item1.classNames)
  };
}
const EVENT_SOURCE_REFINERS = {
  id: String,
  defaultAllDay: Boolean,
  url: String,
  format: String,
  events: identity,
  eventDataTransform: identity,
  // for any network-related sources
  success: identity,
  failure: identity
};
function parseEventSource(raw, context, refiners = buildEventSourceRefiners(context)) {
  let rawObj;
  if (typeof raw === "string") {
    rawObj = { url: raw };
  } else if (typeof raw === "function" || Array.isArray(raw)) {
    rawObj = { events: raw };
  } else if (typeof raw === "object" && raw) {
    rawObj = raw;
  }
  if (rawObj) {
    let { refined, extra } = refineProps(rawObj, refiners);
    let metaRes = buildEventSourceMeta(refined, context);
    if (metaRes) {
      return {
        _raw: raw,
        isFetching: false,
        latestFetchId: "",
        fetchRange: null,
        defaultAllDay: refined.defaultAllDay,
        eventDataTransform: refined.eventDataTransform,
        success: refined.success,
        failure: refined.failure,
        publicId: refined.id || "",
        sourceId: guid(),
        sourceDefId: metaRes.sourceDefId,
        meta: metaRes.meta,
        ui: createEventUi(refined, context),
        extendedProps: extra
      };
    }
  }
  return null;
}
function buildEventSourceRefiners(context) {
  return Object.assign(Object.assign(Object.assign({}, EVENT_UI_REFINERS), EVENT_SOURCE_REFINERS), context.pluginHooks.eventSourceRefiners);
}
function buildEventSourceMeta(raw, context) {
  let defs = context.pluginHooks.eventSourceDefs;
  for (let i2 = defs.length - 1; i2 >= 0; i2 -= 1) {
    let def = defs[i2];
    let meta = def.parseMeta(raw);
    if (meta) {
      return { sourceDefId: i2, meta };
    }
  }
  return null;
}
function reduceEventStore(eventStore, action, eventSources, dateProfile, context) {
  switch (action.type) {
    case "RECEIVE_EVENTS":
      return receiveRawEvents(eventStore, eventSources[action.sourceId], action.fetchId, action.fetchRange, action.rawEvents, context);
    case "RESET_RAW_EVENTS":
      return resetRawEvents(eventStore, eventSources[action.sourceId], action.rawEvents, dateProfile.activeRange, context);
    case "ADD_EVENTS":
      return addEvent(
        eventStore,
        action.eventStore,
        // new ones
        dateProfile ? dateProfile.activeRange : null,
        context
      );
    case "RESET_EVENTS":
      return action.eventStore;
    case "MERGE_EVENTS":
      return mergeEventStores(eventStore, action.eventStore);
    case "PREV":
    // TODO: how do we track all actions that affect dateProfile :(
    case "NEXT":
    case "CHANGE_DATE":
    case "CHANGE_VIEW_TYPE":
      if (dateProfile) {
        return expandRecurring(eventStore, dateProfile.activeRange, context);
      }
      return eventStore;
    case "REMOVE_EVENTS":
      return excludeSubEventStore(eventStore, action.eventStore);
    case "REMOVE_EVENT_SOURCE":
      return excludeEventsBySourceId(eventStore, action.sourceId);
    case "REMOVE_ALL_EVENT_SOURCES":
      return filterEventStoreDefs(eventStore, (eventDef) => !eventDef.sourceId);
    case "REMOVE_ALL_EVENTS":
      return createEmptyEventStore();
    default:
      return eventStore;
  }
}
function receiveRawEvents(eventStore, eventSource, fetchId, fetchRange, rawEvents, context) {
  if (eventSource && // not already removed
  fetchId === eventSource.latestFetchId) {
    let subset = parseEvents(transformRawEvents(rawEvents, eventSource, context), eventSource, context);
    if (fetchRange) {
      subset = expandRecurring(subset, fetchRange, context);
    }
    return mergeEventStores(excludeEventsBySourceId(eventStore, eventSource.sourceId), subset);
  }
  return eventStore;
}
function resetRawEvents(existingEventStore, eventSource, rawEvents, activeRange, context) {
  const { defIdMap, instanceIdMap } = buildPublicIdMaps(existingEventStore);
  let newEventStore = parseEvents(transformRawEvents(rawEvents, eventSource, context), eventSource, context, false, defIdMap, instanceIdMap);
  return expandRecurring(newEventStore, activeRange, context);
}
function transformRawEvents(rawEvents, eventSource, context) {
  let calEachTransform = context.options.eventDataTransform;
  let sourceEachTransform = eventSource ? eventSource.eventDataTransform : null;
  if (sourceEachTransform) {
    rawEvents = transformEachRawEvent(rawEvents, sourceEachTransform);
  }
  if (calEachTransform) {
    rawEvents = transformEachRawEvent(rawEvents, calEachTransform);
  }
  return rawEvents;
}
function transformEachRawEvent(rawEvents, func) {
  let refinedEvents;
  if (!func) {
    refinedEvents = rawEvents;
  } else {
    refinedEvents = [];
    for (let rawEvent of rawEvents) {
      let refinedEvent = func(rawEvent);
      if (refinedEvent) {
        refinedEvents.push(refinedEvent);
      } else if (refinedEvent == null) {
        refinedEvents.push(rawEvent);
      }
    }
  }
  return refinedEvents;
}
function addEvent(eventStore, subset, expandRange, context) {
  if (expandRange) {
    subset = expandRecurring(subset, expandRange, context);
  }
  return mergeEventStores(eventStore, subset);
}
function rezoneEventStoreDates(eventStore, oldDateEnv, newDateEnv) {
  let { defs } = eventStore;
  let instances = mapHash(eventStore.instances, (instance) => {
    let def = defs[instance.defId];
    if (def.allDay) {
      return instance;
    }
    return Object.assign(Object.assign({}, instance), { range: {
      start: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.start, instance.forcedStartTzo)),
      end: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.end, instance.forcedEndTzo))
    }, forcedStartTzo: newDateEnv.canComputeOffset ? null : instance.forcedStartTzo, forcedEndTzo: newDateEnv.canComputeOffset ? null : instance.forcedEndTzo });
  });
  return { defs, instances };
}
function excludeEventsBySourceId(eventStore, sourceId) {
  return filterEventStoreDefs(eventStore, (eventDef) => eventDef.sourceId !== sourceId);
}
function buildPublicIdMaps(eventStore) {
  const { defs, instances } = eventStore;
  const defIdMap = {};
  const instanceIdMap = {};
  for (let defId in defs) {
    const def = defs[defId];
    const { publicId } = def;
    if (publicId) {
      defIdMap[publicId] = defId;
    }
  }
  for (let instanceId in instances) {
    const instance = instances[instanceId];
    const def = defs[instance.defId];
    const { publicId } = def;
    if (publicId) {
      instanceIdMap[publicId] = instanceId;
    }
  }
  return { defIdMap, instanceIdMap };
}
class Emitter {
  constructor() {
    this.handlers = {};
    this.thisContext = null;
  }
  setThisContext(thisContext) {
    this.thisContext = thisContext;
  }
  setOptions(options) {
    this.options = options;
  }
  on(type, handler) {
    addToHash(this.handlers, type, handler);
  }
  off(type, handler) {
    removeFromHash(this.handlers, type, handler);
  }
  trigger(type, ...args) {
    let attachedHandlers = this.handlers[type] || [];
    let optionHandler = this.options && this.options[type];
    let handlers = [].concat(optionHandler || [], attachedHandlers);
    for (let handler of handlers) {
      handler.apply(this.thisContext, args);
    }
  }
  hasHandlers(type) {
    return Boolean(this.handlers[type] && this.handlers[type].length || this.options && this.options[type]);
  }
}
function addToHash(hash, type, handler) {
  (hash[type] || (hash[type] = [])).push(handler);
}
function removeFromHash(hash, type, handler) {
  if (handler) {
    if (hash[type]) {
      hash[type] = hash[type].filter((func) => func !== handler);
    }
  } else {
    delete hash[type];
  }
}
const DEF_DEFAULTS = {
  startTime: "09:00",
  endTime: "17:00",
  daysOfWeek: [1, 2, 3, 4, 5],
  display: "inverse-background",
  classNames: "fc-non-business",
  groupId: "_businessHours"
  // so multiple defs get grouped
};
function parseBusinessHours(input, context) {
  return parseEvents(refineInputs(input), null, context);
}
function refineInputs(input) {
  let rawDefs;
  if (input === true) {
    rawDefs = [{}];
  } else if (Array.isArray(input)) {
    rawDefs = input.filter((rawDef) => rawDef.daysOfWeek);
  } else if (typeof input === "object" && input) {
    rawDefs = [input];
  } else {
    rawDefs = [];
  }
  rawDefs = rawDefs.map((rawDef) => Object.assign(Object.assign({}, DEF_DEFAULTS), rawDef));
  return rawDefs;
}
function triggerDateSelect(selection, pev, context) {
  context.emitter.trigger("select", Object.assign(Object.assign({}, buildDateSpanApiWithContext(selection, context)), { jsEvent: null, view: context.viewApi || context.calendarApi.view }));
}
function triggerDateUnselect(pev, context) {
  context.emitter.trigger("unselect", {
    jsEvent: pev ? pev.origEvent : null,
    view: context.viewApi || context.calendarApi.view
  });
}
function buildDateSpanApiWithContext(dateSpan, context) {
  let props = {};
  for (let transform of context.pluginHooks.dateSpanTransforms) {
    Object.assign(props, transform(dateSpan, context));
  }
  Object.assign(props, buildDateSpanApi(dateSpan, context.dateEnv));
  return props;
}
function getDefaultEventEnd(allDay, marker, context) {
  let { dateEnv, options } = context;
  let end = marker;
  if (allDay) {
    end = startOfDay(end);
    end = dateEnv.add(end, options.defaultAllDayEventDuration);
  } else {
    end = dateEnv.add(end, options.defaultTimedEventDuration);
  }
  return end;
}
function applyMutationToEventStore(eventStore, eventConfigBase, mutation, context) {
  let eventConfigs = compileEventUis(eventStore.defs, eventConfigBase);
  let dest = createEmptyEventStore();
  for (let defId in eventStore.defs) {
    let def = eventStore.defs[defId];
    dest.defs[defId] = applyMutationToEventDef(def, eventConfigs[defId], mutation, context);
  }
  for (let instanceId in eventStore.instances) {
    let instance = eventStore.instances[instanceId];
    let def = dest.defs[instance.defId];
    dest.instances[instanceId] = applyMutationToEventInstance(instance, def, eventConfigs[instance.defId], mutation, context);
  }
  return dest;
}
function applyMutationToEventDef(eventDef, eventConfig, mutation, context) {
  let standardProps = mutation.standardProps || {};
  if (standardProps.hasEnd == null && eventConfig.durationEditable && (mutation.startDelta || mutation.endDelta)) {
    standardProps.hasEnd = true;
  }
  let copy = Object.assign(Object.assign(Object.assign({}, eventDef), standardProps), { ui: Object.assign(Object.assign({}, eventDef.ui), standardProps.ui) });
  if (mutation.extendedProps) {
    copy.extendedProps = Object.assign(Object.assign({}, copy.extendedProps), mutation.extendedProps);
  }
  for (let applier of context.pluginHooks.eventDefMutationAppliers) {
    applier(copy, mutation, context);
  }
  if (!copy.hasEnd && context.options.forceEventDuration) {
    copy.hasEnd = true;
  }
  return copy;
}
function applyMutationToEventInstance(eventInstance, eventDef, eventConfig, mutation, context) {
  let { dateEnv } = context;
  let forceAllDay = mutation.standardProps && mutation.standardProps.allDay === true;
  let clearEnd = mutation.standardProps && mutation.standardProps.hasEnd === false;
  let copy = Object.assign({}, eventInstance);
  if (forceAllDay) {
    copy.range = computeAlignedDayRange(copy.range);
  }
  if (mutation.datesDelta && eventConfig.startEditable) {
    copy.range = {
      start: dateEnv.add(copy.range.start, mutation.datesDelta),
      end: dateEnv.add(copy.range.end, mutation.datesDelta)
    };
  }
  if (mutation.startDelta && eventConfig.durationEditable) {
    copy.range = {
      start: dateEnv.add(copy.range.start, mutation.startDelta),
      end: copy.range.end
    };
  }
  if (mutation.endDelta && eventConfig.durationEditable) {
    copy.range = {
      start: copy.range.start,
      end: dateEnv.add(copy.range.end, mutation.endDelta)
    };
  }
  if (clearEnd) {
    copy.range = {
      start: copy.range.start,
      end: getDefaultEventEnd(eventDef.allDay, copy.range.start, context)
    };
  }
  if (eventDef.allDay) {
    copy.range = {
      start: startOfDay(copy.range.start),
      end: startOfDay(copy.range.end)
    };
  }
  if (copy.range.end < copy.range.start) {
    copy.range.end = getDefaultEventEnd(eventDef.allDay, copy.range.start, context);
  }
  return copy;
}
class EventSourceImpl {
  constructor(context, internalEventSource) {
    this.context = context;
    this.internalEventSource = internalEventSource;
  }
  remove() {
    this.context.dispatch({
      type: "REMOVE_EVENT_SOURCE",
      sourceId: this.internalEventSource.sourceId
    });
  }
  refetch() {
    this.context.dispatch({
      type: "FETCH_EVENT_SOURCES",
      sourceIds: [this.internalEventSource.sourceId],
      isRefetch: true
    });
  }
  get id() {
    return this.internalEventSource.publicId;
  }
  get url() {
    return this.internalEventSource.meta.url;
  }
  get format() {
    return this.internalEventSource.meta.format;
  }
}
class EventImpl {
  // instance will be null if expressing a recurring event that has no current instances,
  // OR if trying to validate an incoming external event that has no dates assigned
  constructor(context, def, instance) {
    this._context = context;
    this._def = def;
    this._instance = instance || null;
  }
  /*
  TODO: make event struct more responsible for this
  */
  setProp(name, val) {
    if (name in EVENT_DATE_REFINERS) {
      console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");
    } else if (name === "id") {
      val = EVENT_NON_DATE_REFINERS[name](val);
      this.mutate({
        standardProps: { publicId: val }
        // hardcoded internal name
      });
    } else if (name in EVENT_NON_DATE_REFINERS) {
      val = EVENT_NON_DATE_REFINERS[name](val);
      this.mutate({
        standardProps: { [name]: val }
      });
    } else if (name in EVENT_UI_REFINERS) {
      let ui = EVENT_UI_REFINERS[name](val);
      if (name === "color") {
        ui = { backgroundColor: val, borderColor: val };
      } else if (name === "editable") {
        ui = { startEditable: val, durationEditable: val };
      } else {
        ui = { [name]: val };
      }
      this.mutate({
        standardProps: { ui }
      });
    } else {
      console.warn(`Could not set prop '${name}'. Use setExtendedProp instead.`);
    }
  }
  setExtendedProp(name, val) {
    this.mutate({
      extendedProps: { [name]: val }
    });
  }
  setStart(startInput, options = {}) {
    let { dateEnv } = this._context;
    let start = dateEnv.createMarker(startInput);
    if (start && this._instance) {
      let instanceRange = this._instance.range;
      let startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity);
      if (options.maintainDuration) {
        this.mutate({ datesDelta: startDelta });
      } else {
        this.mutate({ startDelta });
      }
    }
  }
  setEnd(endInput, options = {}) {
    let { dateEnv } = this._context;
    let end;
    if (endInput != null) {
      end = dateEnv.createMarker(endInput);
      if (!end) {
        return;
      }
    }
    if (this._instance) {
      if (end) {
        let endDelta = diffDates(this._instance.range.end, end, dateEnv, options.granularity);
        this.mutate({ endDelta });
      } else {
        this.mutate({ standardProps: { hasEnd: false } });
      }
    }
  }
  setDates(startInput, endInput, options = {}) {
    let { dateEnv } = this._context;
    let standardProps = { allDay: options.allDay };
    let start = dateEnv.createMarker(startInput);
    let end;
    if (!start) {
      return;
    }
    if (endInput != null) {
      end = dateEnv.createMarker(endInput);
      if (!end) {
        return;
      }
    }
    if (this._instance) {
      let instanceRange = this._instance.range;
      if (options.allDay === true) {
        instanceRange = computeAlignedDayRange(instanceRange);
      }
      let startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity);
      if (end) {
        let endDelta = diffDates(instanceRange.end, end, dateEnv, options.granularity);
        if (durationsEqual(startDelta, endDelta)) {
          this.mutate({ datesDelta: startDelta, standardProps });
        } else {
          this.mutate({ startDelta, endDelta, standardProps });
        }
      } else {
        standardProps.hasEnd = false;
        this.mutate({ datesDelta: startDelta, standardProps });
      }
    }
  }
  moveStart(deltaInput) {
    let delta = createDuration(deltaInput);
    if (delta) {
      this.mutate({ startDelta: delta });
    }
  }
  moveEnd(deltaInput) {
    let delta = createDuration(deltaInput);
    if (delta) {
      this.mutate({ endDelta: delta });
    }
  }
  moveDates(deltaInput) {
    let delta = createDuration(deltaInput);
    if (delta) {
      this.mutate({ datesDelta: delta });
    }
  }
  setAllDay(allDay, options = {}) {
    let standardProps = { allDay };
    let { maintainDuration } = options;
    if (maintainDuration == null) {
      maintainDuration = this._context.options.allDayMaintainDuration;
    }
    if (this._def.allDay !== allDay) {
      standardProps.hasEnd = maintainDuration;
    }
    this.mutate({ standardProps });
  }
  formatRange(formatInput) {
    let { dateEnv } = this._context;
    let instance = this._instance;
    let formatter = createFormatter(formatInput);
    if (this._def.hasEnd) {
      return dateEnv.formatRange(instance.range.start, instance.range.end, formatter, {
        forcedStartTzo: instance.forcedStartTzo,
        forcedEndTzo: instance.forcedEndTzo
      });
    }
    return dateEnv.format(instance.range.start, formatter, {
      forcedTzo: instance.forcedStartTzo
    });
  }
  mutate(mutation) {
    let instance = this._instance;
    if (instance) {
      let def = this._def;
      let context = this._context;
      let { eventStore } = context.getCurrentData();
      let relevantEvents = getRelevantEvents(eventStore, instance.instanceId);
      let eventConfigBase = {
        "": {
          display: "",
          startEditable: true,
          durationEditable: true,
          constraints: [],
          overlap: null,
          allows: [],
          backgroundColor: "",
          borderColor: "",
          textColor: "",
          classNames: []
        }
      };
      relevantEvents = applyMutationToEventStore(relevantEvents, eventConfigBase, mutation, context);
      let oldEvent = new EventImpl(context, def, instance);
      this._def = relevantEvents.defs[def.defId];
      this._instance = relevantEvents.instances[instance.instanceId];
      context.dispatch({
        type: "MERGE_EVENTS",
        eventStore: relevantEvents
      });
      context.emitter.trigger("eventChange", {
        oldEvent,
        event: this,
        relatedEvents: buildEventApis(relevantEvents, context, instance),
        revert() {
          context.dispatch({
            type: "RESET_EVENTS",
            eventStore
            // the ORIGINAL store
          });
        }
      });
    }
  }
  remove() {
    let context = this._context;
    let asStore = eventApiToStore(this);
    context.dispatch({
      type: "REMOVE_EVENTS",
      eventStore: asStore
    });
    context.emitter.trigger("eventRemove", {
      event: this,
      relatedEvents: [],
      revert() {
        context.dispatch({
          type: "MERGE_EVENTS",
          eventStore: asStore
        });
      }
    });
  }
  get source() {
    let { sourceId } = this._def;
    if (sourceId) {
      return new EventSourceImpl(this._context, this._context.getCurrentData().eventSources[sourceId]);
    }
    return null;
  }
  get start() {
    return this._instance ? this._context.dateEnv.toDate(this._instance.range.start) : null;
  }
  get end() {
    return this._instance && this._def.hasEnd ? this._context.dateEnv.toDate(this._instance.range.end) : null;
  }
  get startStr() {
    let instance = this._instance;
    if (instance) {
      return this._context.dateEnv.formatIso(instance.range.start, {
        omitTime: this._def.allDay,
        forcedTzo: instance.forcedStartTzo
      });
    }
    return "";
  }
  get endStr() {
    let instance = this._instance;
    if (instance && this._def.hasEnd) {
      return this._context.dateEnv.formatIso(instance.range.end, {
        omitTime: this._def.allDay,
        forcedTzo: instance.forcedEndTzo
      });
    }
    return "";
  }
  // computable props that all access the def
  // TODO: find a TypeScript-compatible way to do this at scale
  get id() {
    return this._def.publicId;
  }
  get groupId() {
    return this._def.groupId;
  }
  get allDay() {
    return this._def.allDay;
  }
  get title() {
    return this._def.title;
  }
  get url() {
    return this._def.url;
  }
  get display() {
    return this._def.ui.display || "auto";
  }
  // bad. just normalize the type earlier
  get startEditable() {
    return this._def.ui.startEditable;
  }
  get durationEditable() {
    return this._def.ui.durationEditable;
  }
  get constraint() {
    return this._def.ui.constraints[0] || null;
  }
  get overlap() {
    return this._def.ui.overlap;
  }
  get allow() {
    return this._def.ui.allows[0] || null;
  }
  get backgroundColor() {
    return this._def.ui.backgroundColor;
  }
  get borderColor() {
    return this._def.ui.borderColor;
  }
  get textColor() {
    return this._def.ui.textColor;
  }
  // NOTE: user can't modify these because Object.freeze was called in event-def parsing
  get classNames() {
    return this._def.ui.classNames;
  }
  get extendedProps() {
    return this._def.extendedProps;
  }
  toPlainObject(settings = {}) {
    let def = this._def;
    let { ui } = def;
    let { startStr, endStr } = this;
    let res = {
      allDay: def.allDay
    };
    if (def.title) {
      res.title = def.title;
    }
    if (startStr) {
      res.start = startStr;
    }
    if (endStr) {
      res.end = endStr;
    }
    if (def.publicId) {
      res.id = def.publicId;
    }
    if (def.groupId) {
      res.groupId = def.groupId;
    }
    if (def.url) {
      res.url = def.url;
    }
    if (ui.display && ui.display !== "auto") {
      res.display = ui.display;
    }
    if (settings.collapseColor && ui.backgroundColor && ui.backgroundColor === ui.borderColor) {
      res.color = ui.backgroundColor;
    } else {
      if (ui.backgroundColor) {
        res.backgroundColor = ui.backgroundColor;
      }
      if (ui.borderColor) {
        res.borderColor = ui.borderColor;
      }
    }
    if (ui.textColor) {
      res.textColor = ui.textColor;
    }
    if (ui.classNames.length) {
      res.classNames = ui.classNames;
    }
    if (Object.keys(def.extendedProps).length) {
      if (settings.collapseExtendedProps) {
        Object.assign(res, def.extendedProps);
      } else {
        res.extendedProps = def.extendedProps;
      }
    }
    return res;
  }
  toJSON() {
    return this.toPlainObject();
  }
}
function eventApiToStore(eventApi) {
  let def = eventApi._def;
  let instance = eventApi._instance;
  return {
    defs: { [def.defId]: def },
    instances: instance ? { [instance.instanceId]: instance } : {}
  };
}
function buildEventApis(eventStore, context, excludeInstance) {
  let { defs, instances } = eventStore;
  let eventApis = [];
  let excludeInstanceId = excludeInstance ? excludeInstance.instanceId : "";
  for (let id in instances) {
    let instance = instances[id];
    let def = defs[instance.defId];
    if (instance.instanceId !== excludeInstanceId) {
      eventApis.push(new EventImpl(context, def, instance));
    }
  }
  return eventApis;
}
function sliceEventStore(eventStore, eventUiBases, framingRange, nextDayThreshold) {
  let inverseBgByGroupId = {};
  let inverseBgByDefId = {};
  let defByGroupId = {};
  let bgRanges = [];
  let fgRanges = [];
  let eventUis = compileEventUis(eventStore.defs, eventUiBases);
  for (let defId in eventStore.defs) {
    let def = eventStore.defs[defId];
    let ui = eventUis[def.defId];
    if (ui.display === "inverse-background") {
      if (def.groupId) {
        inverseBgByGroupId[def.groupId] = [];
        if (!defByGroupId[def.groupId]) {
          defByGroupId[def.groupId] = def;
        }
      } else {
        inverseBgByDefId[defId] = [];
      }
    }
  }
  for (let instanceId in eventStore.instances) {
    let instance = eventStore.instances[instanceId];
    let def = eventStore.defs[instance.defId];
    let ui = eventUis[def.defId];
    let origRange = instance.range;
    let normalRange = !def.allDay && nextDayThreshold ? computeVisibleDayRange(origRange, nextDayThreshold) : origRange;
    let slicedRange = intersectRanges(normalRange, framingRange);
    if (slicedRange) {
      if (ui.display === "inverse-background") {
        if (def.groupId) {
          inverseBgByGroupId[def.groupId].push(slicedRange);
        } else {
          inverseBgByDefId[instance.defId].push(slicedRange);
        }
      } else if (ui.display !== "none") {
        (ui.display === "background" ? bgRanges : fgRanges).push({
          def,
          ui,
          instance,
          range: slicedRange,
          isStart: normalRange.start && normalRange.start.valueOf() === slicedRange.start.valueOf(),
          isEnd: normalRange.end && normalRange.end.valueOf() === slicedRange.end.valueOf()
        });
      }
    }
  }
  for (let groupId in inverseBgByGroupId) {
    let ranges = inverseBgByGroupId[groupId];
    let invertedRanges = invertRanges(ranges, framingRange);
    for (let invertedRange of invertedRanges) {
      let def = defByGroupId[groupId];
      let ui = eventUis[def.defId];
      bgRanges.push({
        def,
        ui,
        instance: null,
        range: invertedRange,
        isStart: false,
        isEnd: false
      });
    }
  }
  for (let defId in inverseBgByDefId) {
    let ranges = inverseBgByDefId[defId];
    let invertedRanges = invertRanges(ranges, framingRange);
    for (let invertedRange of invertedRanges) {
      bgRanges.push({
        def: eventStore.defs[defId],
        ui: eventUis[defId],
        instance: null,
        range: invertedRange,
        isStart: false,
        isEnd: false
      });
    }
  }
  return { bg: bgRanges, fg: fgRanges };
}
function hasBgRendering(def) {
  return def.ui.display === "background" || def.ui.display === "inverse-background";
}
function setElSeg(el, seg) {
  el.fcSeg = seg;
}
function getElSeg(el) {
  return el.fcSeg || el.parentNode.fcSeg || // for the harness
  null;
}
function compileEventUis(eventDefs, eventUiBases) {
  return mapHash(eventDefs, (eventDef) => compileEventUi(eventDef, eventUiBases));
}
function compileEventUi(eventDef, eventUiBases) {
  let uis = [];
  if (eventUiBases[""]) {
    uis.push(eventUiBases[""]);
  }
  if (eventUiBases[eventDef.defId]) {
    uis.push(eventUiBases[eventDef.defId]);
  }
  uis.push(eventDef.ui);
  return combineEventUis(uis);
}
function sortEventSegs(segs, eventOrderSpecs) {
  let objs = segs.map(buildSegCompareObj);
  objs.sort((obj0, obj1) => compareByFieldSpecs(obj0, obj1, eventOrderSpecs));
  return objs.map((c) => c._seg);
}
function buildSegCompareObj(seg) {
  let { eventRange } = seg;
  let eventDef = eventRange.def;
  let range = eventRange.instance ? eventRange.instance.range : eventRange.range;
  let start = range.start ? range.start.valueOf() : 0;
  let end = range.end ? range.end.valueOf() : 0;
  return Object.assign(Object.assign(Object.assign({}, eventDef.extendedProps), eventDef), {
    id: eventDef.publicId,
    start,
    end,
    duration: end - start,
    allDay: Number(eventDef.allDay),
    _seg: seg
  });
}
function computeSegDraggable(seg, context) {
  let { pluginHooks } = context;
  let transformers = pluginHooks.isDraggableTransformers;
  let { def, ui } = seg.eventRange;
  let val = ui.startEditable;
  for (let transformer of transformers) {
    val = transformer(val, def, ui, context);
  }
  return val;
}
function computeSegStartResizable(seg, context) {
  return seg.isStart && seg.eventRange.ui.durationEditable && context.options.eventResizableFromStart;
}
function computeSegEndResizable(seg, context) {
  return seg.isEnd && seg.eventRange.ui.durationEditable;
}
function buildSegTimeText(seg, timeFormat, context, defaultDisplayEventTime, defaultDisplayEventEnd, startOverride, endOverride) {
  let { dateEnv, options } = context;
  let { displayEventTime, displayEventEnd } = options;
  let eventDef = seg.eventRange.def;
  let eventInstance = seg.eventRange.instance;
  if (displayEventTime == null) {
    displayEventTime = defaultDisplayEventTime !== false;
  }
  if (displayEventEnd == null) {
    displayEventEnd = defaultDisplayEventEnd !== false;
  }
  let wholeEventStart = eventInstance.range.start;
  let wholeEventEnd = eventInstance.range.end;
  let segStart = seg.start || seg.eventRange.range.start;
  let segEnd = seg.end || seg.eventRange.range.end;
  let isStartDay = startOfDay(wholeEventStart).valueOf() === startOfDay(segStart).valueOf();
  let isEndDay = startOfDay(addMs(wholeEventEnd, -1)).valueOf() === startOfDay(addMs(segEnd, -1)).valueOf();
  if (displayEventTime && !eventDef.allDay && (isStartDay || isEndDay)) {
    segStart = isStartDay ? wholeEventStart : segStart;
    segEnd = isEndDay ? wholeEventEnd : segEnd;
    if (displayEventEnd && eventDef.hasEnd) {
      return dateEnv.formatRange(segStart, segEnd, timeFormat, {
        forcedStartTzo: eventInstance.forcedStartTzo,
        forcedEndTzo: eventInstance.forcedEndTzo
      });
    }
    return dateEnv.format(segStart, timeFormat, {
      forcedTzo: eventInstance.forcedStartTzo
      // nooooo, same
    });
  }
  return "";
}
function getSegMeta(seg, todayRange, nowDate) {
  let segRange = seg.eventRange.range;
  return {
    isPast: segRange.end <= (nowDate || todayRange.start),
    isFuture: segRange.start >= (nowDate || todayRange.end),
    isToday: todayRange && rangeContainsMarker(todayRange, segRange.start)
  };
}
function getEventClassNames(props) {
  let classNames = ["fc-event"];
  if (props.isMirror) {
    classNames.push("fc-event-mirror");
  }
  if (props.isDraggable) {
    classNames.push("fc-event-draggable");
  }
  if (props.isStartResizable || props.isEndResizable) {
    classNames.push("fc-event-resizable");
  }
  if (props.isDragging) {
    classNames.push("fc-event-dragging");
  }
  if (props.isResizing) {
    classNames.push("fc-event-resizing");
  }
  if (props.isSelected) {
    classNames.push("fc-event-selected");
  }
  if (props.isStart) {
    classNames.push("fc-event-start");
  }
  if (props.isEnd) {
    classNames.push("fc-event-end");
  }
  if (props.isPast) {
    classNames.push("fc-event-past");
  }
  if (props.isToday) {
    classNames.push("fc-event-today");
  }
  if (props.isFuture) {
    classNames.push("fc-event-future");
  }
  return classNames;
}
function buildEventRangeKey(eventRange) {
  return eventRange.instance ? eventRange.instance.instanceId : `${eventRange.def.defId}:${eventRange.range.start.toISOString()}`;
}
function getSegAnchorAttrs(seg, context) {
  let { def, instance } = seg.eventRange;
  let { url } = def;
  if (url) {
    return { href: url };
  }
  let { emitter, options } = context;
  let { eventInteractive } = options;
  if (eventInteractive == null) {
    eventInteractive = def.interactive;
    if (eventInteractive == null) {
      eventInteractive = Boolean(emitter.hasHandlers("eventClick"));
    }
  }
  if (eventInteractive) {
    return createAriaKeyboardAttrs((ev) => {
      emitter.trigger("eventClick", {
        el: ev.target,
        event: new EventImpl(context, def, instance),
        jsEvent: ev,
        view: context.viewApi
      });
    });
  }
  return {};
}
const STANDARD_PROPS = {
  start: identity,
  end: identity,
  allDay: Boolean
};
function parseDateSpan(raw, dateEnv, defaultDuration) {
  let span = parseOpenDateSpan(raw, dateEnv);
  let { range } = span;
  if (!range.start) {
    return null;
  }
  if (!range.end) {
    if (defaultDuration == null) {
      return null;
    }
    range.end = dateEnv.add(range.start, defaultDuration);
  }
  return span;
}
function parseOpenDateSpan(raw, dateEnv) {
  let { refined: standardProps, extra } = refineProps(raw, STANDARD_PROPS);
  let startMeta = standardProps.start ? dateEnv.createMarkerMeta(standardProps.start) : null;
  let endMeta = standardProps.end ? dateEnv.createMarkerMeta(standardProps.end) : null;
  let { allDay } = standardProps;
  if (allDay == null) {
    allDay = startMeta && startMeta.isTimeUnspecified && (!endMeta || endMeta.isTimeUnspecified);
  }
  return Object.assign({ range: {
    start: startMeta ? startMeta.marker : null,
    end: endMeta ? endMeta.marker : null
  }, allDay }, extra);
}
function buildDateSpanApi(span, dateEnv) {
  return Object.assign(Object.assign({}, buildRangeApi(span.range, dateEnv, span.allDay)), { allDay: span.allDay });
}
function buildRangeApiWithTimeZone(range, dateEnv, omitTime) {
  return Object.assign(Object.assign({}, buildRangeApi(range, dateEnv, omitTime)), { timeZone: dateEnv.timeZone });
}
function buildRangeApi(range, dateEnv, omitTime) {
  return {
    start: dateEnv.toDate(range.start),
    end: dateEnv.toDate(range.end),
    startStr: dateEnv.formatIso(range.start, { omitTime }),
    endStr: dateEnv.formatIso(range.end, { omitTime })
  };
}
function fabricateEventRange(dateSpan, eventUiBases, context) {
  let res = refineEventDef({ editable: false }, context);
  let def = parseEventDef(
    res.refined,
    res.extra,
    "",
    // sourceId
    dateSpan.allDay,
    true,
    // hasEnd
    context
  );
  return {
    def,
    ui: compileEventUi(def, eventUiBases),
    instance: createEventInstance(def.defId, dateSpan.range),
    range: dateSpan.range,
    isStart: true,
    isEnd: true
  };
}
function unpromisify(func, normalizedSuccessCallback, normalizedFailureCallback) {
  let isResolved = false;
  let wrappedSuccess = function(res2) {
    if (!isResolved) {
      isResolved = true;
      normalizedSuccessCallback(res2);
    }
  };
  let wrappedFailure = function(error) {
    if (!isResolved) {
      isResolved = true;
      normalizedFailureCallback(error);
    }
  };
  let res = func(wrappedSuccess, wrappedFailure);
  if (res && typeof res.then === "function") {
    res.then(wrappedSuccess, wrappedFailure);
  }
}
class JsonRequestError extends Error {
  constructor(message, response) {
    super(message);
    this.response = response;
  }
}
function requestJson(method, url, params) {
  method = method.toUpperCase();
  const fetchOptions = {
    method
  };
  if (method === "GET") {
    url += (url.indexOf("?") === -1 ? "?" : "&") + new URLSearchParams(params);
  } else {
    fetchOptions.body = new URLSearchParams(params);
    fetchOptions.headers = {
      "Content-Type": "application/x-www-form-urlencoded"
    };
  }
  return fetch(url, fetchOptions).then((fetchRes) => {
    if (fetchRes.ok) {
      return fetchRes.json().then((parsedResponse) => {
        return [parsedResponse, fetchRes];
      }, () => {
        throw new JsonRequestError("Failure parsing JSON", fetchRes);
      });
    } else {
      throw new JsonRequestError("Request failed", fetchRes);
    }
  });
}
let canVGrowWithinCell;
function getCanVGrowWithinCell() {
  if (canVGrowWithinCell == null) {
    canVGrowWithinCell = computeCanVGrowWithinCell();
  }
  return canVGrowWithinCell;
}
function computeCanVGrowWithinCell() {
  if (typeof document === "undefined") {
    return true;
  }
  let el = document.createElement("div");
  el.style.position = "absolute";
  el.style.top = "0px";
  el.style.left = "0px";
  el.innerHTML = "<table><tr><td><div></div></td></tr></table>";
  el.querySelector("table").style.height = "100px";
  el.querySelector("div").style.height = "100%";
  document.body.appendChild(el);
  let div = el.querySelector("div");
  let possible = div.offsetHeight > 0;
  document.body.removeChild(el);
  return possible;
}
class CalendarRoot extends BaseComponent {
  constructor() {
    super(...arguments);
    this.state = {
      forPrint: false
    };
    this.handleBeforePrint = () => {
      flushSync(() => {
        this.setState({ forPrint: true });
      });
    };
    this.handleAfterPrint = () => {
      flushSync(() => {
        this.setState({ forPrint: false });
      });
    };
  }
  render() {
    let { props } = this;
    let { options } = props;
    let { forPrint } = this.state;
    let isHeightAuto = forPrint || options.height === "auto" || options.contentHeight === "auto";
    let height = !isHeightAuto && options.height != null ? options.height : "";
    let classNames = [
      "fc",
      forPrint ? "fc-media-print" : "fc-media-screen",
      `fc-direction-${options.direction}`,
      props.theme.getClass("root")
    ];
    if (!getCanVGrowWithinCell()) {
      classNames.push("fc-liquid-hack");
    }
    return props.children(classNames, height, isHeightAuto, forPrint);
  }
  componentDidMount() {
    let { emitter } = this.props;
    emitter.on("_beforeprint", this.handleBeforePrint);
    emitter.on("_afterprint", this.handleAfterPrint);
  }
  componentWillUnmount() {
    let { emitter } = this.props;
    emitter.off("_beforeprint", this.handleBeforePrint);
    emitter.off("_afterprint", this.handleAfterPrint);
  }
}
class Interaction {
  constructor(settings) {
    this.component = settings.component;
    this.isHitComboAllowed = settings.isHitComboAllowed || null;
  }
  destroy() {
  }
}
function parseInteractionSettings(component, input) {
  return {
    component,
    el: input.el,
    useEventCenter: input.useEventCenter != null ? input.useEventCenter : true,
    isHitComboAllowed: input.isHitComboAllowed || null
  };
}
const interactionSettingsStore = {};
class CalendarImpl {
  getCurrentData() {
    return this.currentDataManager.getCurrentData();
  }
  dispatch(action) {
    this.currentDataManager.dispatch(action);
  }
  get view() {
    return this.getCurrentData().viewApi;
  }
  batchRendering(callback) {
    callback();
  }
  updateSize() {
    this.trigger("_resize", true);
  }
  // Options
  // -----------------------------------------------------------------------------------------------------------------
  setOption(name, val) {
    this.dispatch({
      type: "SET_OPTION",
      optionName: name,
      rawOptionValue: val
    });
  }
  getOption(name) {
    return this.currentDataManager.currentCalendarOptionsInput[name];
  }
  getAvailableLocaleCodes() {
    return Object.keys(this.getCurrentData().availableRawLocales);
  }
  // Trigger
  // -----------------------------------------------------------------------------------------------------------------
  on(handlerName, handler) {
    let { currentDataManager } = this;
    if (currentDataManager.currentCalendarOptionsRefiners[handlerName]) {
      currentDataManager.emitter.on(handlerName, handler);
    } else {
      console.warn(`Unknown listener name '${handlerName}'`);
    }
  }
  off(handlerName, handler) {
    this.currentDataManager.emitter.off(handlerName, handler);
  }
  // not meant for public use
  trigger(handlerName, ...args) {
    this.currentDataManager.emitter.trigger(handlerName, ...args);
  }
  // View
  // -----------------------------------------------------------------------------------------------------------------
  changeView(viewType, dateOrRange) {
    this.batchRendering(() => {
      this.unselect();
      if (dateOrRange) {
        if (dateOrRange.start && dateOrRange.end) {
          this.dispatch({
            type: "CHANGE_VIEW_TYPE",
            viewType
          });
          this.dispatch({
            type: "SET_OPTION",
            optionName: "visibleRange",
            rawOptionValue: dateOrRange
          });
        } else {
          let { dateEnv } = this.getCurrentData();
          this.dispatch({
            type: "CHANGE_VIEW_TYPE",
            viewType,
            dateMarker: dateEnv.createMarker(dateOrRange)
          });
        }
      } else {
        this.dispatch({
          type: "CHANGE_VIEW_TYPE",
          viewType
        });
      }
    });
  }
  // Forces navigation to a view for the given date.
  // `viewType` can be a specific view name or a generic one like "week" or "day".
  // needs to change
  zoomTo(dateMarker, viewType) {
    let state = this.getCurrentData();
    let spec;
    viewType = viewType || "day";
    spec = state.viewSpecs[viewType] || this.getUnitViewSpec(viewType);
    this.unselect();
    if (spec) {
      this.dispatch({
        type: "CHANGE_VIEW_TYPE",
        viewType: spec.type,
        dateMarker
      });
    } else {
      this.dispatch({
        type: "CHANGE_DATE",
        dateMarker
      });
    }
  }
  // Given a duration singular unit, like "week" or "day", finds a matching view spec.
  // Preference is given to views that have corresponding buttons.
  getUnitViewSpec(unit) {
    let { viewSpecs, toolbarConfig } = this.getCurrentData();
    let viewTypes = [].concat(toolbarConfig.header ? toolbarConfig.header.viewsWithButtons : [], toolbarConfig.footer ? toolbarConfig.footer.viewsWithButtons : []);
    let i2;
    let spec;
    for (let viewType in viewSpecs) {
      viewTypes.push(viewType);
    }
    for (i2 = 0; i2 < viewTypes.length; i2 += 1) {
      spec = viewSpecs[viewTypes[i2]];
      if (spec) {
        if (spec.singleUnit === unit) {
          return spec;
        }
      }
    }
    return null;
  }
  // Current Date
  // -----------------------------------------------------------------------------------------------------------------
  prev() {
    this.unselect();
    this.dispatch({ type: "PREV" });
  }
  next() {
    this.unselect();
    this.dispatch({ type: "NEXT" });
  }
  prevYear() {
    let state = this.getCurrentData();
    this.unselect();
    this.dispatch({
      type: "CHANGE_DATE",
      dateMarker: state.dateEnv.addYears(state.currentDate, -1)
    });
  }
  nextYear() {
    let state = this.getCurrentData();
    this.unselect();
    this.dispatch({
      type: "CHANGE_DATE",
      dateMarker: state.dateEnv.addYears(state.currentDate, 1)
    });
  }
  today() {
    let state = this.getCurrentData();
    this.unselect();
    this.dispatch({
      type: "CHANGE_DATE",
      dateMarker: getNow(state.calendarOptions.now, state.dateEnv)
    });
  }
  gotoDate(zonedDateInput) {
    let state = this.getCurrentData();
    this.unselect();
    this.dispatch({
      type: "CHANGE_DATE",
      dateMarker: state.dateEnv.createMarker(zonedDateInput)
    });
  }
  incrementDate(deltaInput) {
    let state = this.getCurrentData();
    let delta = createDuration(deltaInput);
    if (delta) {
      this.unselect();
      this.dispatch({
        type: "CHANGE_DATE",
        dateMarker: state.dateEnv.add(state.currentDate, delta)
      });
    }
  }
  getDate() {
    let state = this.getCurrentData();
    return state.dateEnv.toDate(state.currentDate);
  }
  // Date Formatting Utils
  // -----------------------------------------------------------------------------------------------------------------
  formatDate(d, formatter) {
    let { dateEnv } = this.getCurrentData();
    return dateEnv.format(dateEnv.createMarker(d), createFormatter(formatter));
  }
  // `settings` is for formatter AND isEndExclusive
  formatRange(d0, d1, settings) {
    let { dateEnv } = this.getCurrentData();
    return dateEnv.formatRange(dateEnv.createMarker(d0), dateEnv.createMarker(d1), createFormatter(settings), settings);
  }
  formatIso(d, omitTime) {
    let { dateEnv } = this.getCurrentData();
    return dateEnv.formatIso(dateEnv.createMarker(d), { omitTime });
  }
  // Date Selection / Event Selection / DayClick
  // -----------------------------------------------------------------------------------------------------------------
  select(dateOrObj, endDate) {
    let selectionInput;
    if (endDate == null) {
      if (dateOrObj.start != null) {
        selectionInput = dateOrObj;
      } else {
        selectionInput = {
          start: dateOrObj,
          end: null
        };
      }
    } else {
      selectionInput = {
        start: dateOrObj,
        end: endDate
      };
    }
    let state = this.getCurrentData();
    let selection = parseDateSpan(selectionInput, state.dateEnv, createDuration({ days: 1 }));
    if (selection) {
      this.dispatch({ type: "SELECT_DATES", selection });
      triggerDateSelect(selection, null, state);
    }
  }
  unselect(pev) {
    let state = this.getCurrentData();
    if (state.dateSelection) {
      this.dispatch({ type: "UNSELECT_DATES" });
      triggerDateUnselect(pev, state);
    }
  }
  // Public Events API
  // -----------------------------------------------------------------------------------------------------------------
  addEvent(eventInput, sourceInput) {
    if (eventInput instanceof EventImpl) {
      let def = eventInput._def;
      let instance = eventInput._instance;
      let currentData = this.getCurrentData();
      if (!currentData.eventStore.defs[def.defId]) {
        this.dispatch({
          type: "ADD_EVENTS",
          eventStore: eventTupleToStore({ def, instance })
          // TODO: better util for two args?
        });
        this.triggerEventAdd(eventInput);
      }
      return eventInput;
    }
    let state = this.getCurrentData();
    let eventSource;
    if (sourceInput instanceof EventSourceImpl) {
      eventSource = sourceInput.internalEventSource;
    } else if (typeof sourceInput === "boolean") {
      if (sourceInput) {
        [eventSource] = hashValuesToArray(state.eventSources);
      }
    } else if (sourceInput != null) {
      let sourceApi = this.getEventSourceById(sourceInput);
      if (!sourceApi) {
        console.warn(`Could not find an event source with ID "${sourceInput}"`);
        return null;
      }
      eventSource = sourceApi.internalEventSource;
    }
    let tuple = parseEvent(eventInput, eventSource, state, false);
    if (tuple) {
      let newEventApi = new EventImpl(state, tuple.def, tuple.def.recurringDef ? null : tuple.instance);
      this.dispatch({
        type: "ADD_EVENTS",
        eventStore: eventTupleToStore(tuple)
      });
      this.triggerEventAdd(newEventApi);
      return newEventApi;
    }
    return null;
  }
  triggerEventAdd(eventApi) {
    let { emitter } = this.getCurrentData();
    emitter.trigger("eventAdd", {
      event: eventApi,
      relatedEvents: [],
      revert: () => {
        this.dispatch({
          type: "REMOVE_EVENTS",
          eventStore: eventApiToStore(eventApi)
        });
      }
    });
  }
  // TODO: optimize
  getEventById(id) {
    let state = this.getCurrentData();
    let { defs, instances } = state.eventStore;
    id = String(id);
    for (let defId in defs) {
      let def = defs[defId];
      if (def.publicId === id) {
        if (def.recurringDef) {
          return new EventImpl(state, def, null);
        }
        for (let instanceId in instances) {
          let instance = instances[instanceId];
          if (instance.defId === def.defId) {
            return new EventImpl(state, def, instance);
          }
        }
      }
    }
    return null;
  }
  getEvents() {
    let currentData = this.getCurrentData();
    return buildEventApis(currentData.eventStore, currentData);
  }
  removeAllEvents() {
    this.dispatch({ type: "REMOVE_ALL_EVENTS" });
  }
  // Public Event Sources API
  // -----------------------------------------------------------------------------------------------------------------
  getEventSources() {
    let state = this.getCurrentData();
    let sourceHash = state.eventSources;
    let sourceApis = [];
    for (let internalId in sourceHash) {
      sourceApis.push(new EventSourceImpl(state, sourceHash[internalId]));
    }
    return sourceApis;
  }
  getEventSourceById(id) {
    let state = this.getCurrentData();
    let sourceHash = state.eventSources;
    id = String(id);
    for (let sourceId in sourceHash) {
      if (sourceHash[sourceId].publicId === id) {
        return new EventSourceImpl(state, sourceHash[sourceId]);
      }
    }
    return null;
  }
  addEventSource(sourceInput) {
    let state = this.getCurrentData();
    if (sourceInput instanceof EventSourceImpl) {
      if (!state.eventSources[sourceInput.internalEventSource.sourceId]) {
        this.dispatch({
          type: "ADD_EVENT_SOURCES",
          sources: [sourceInput.internalEventSource]
        });
      }
      return sourceInput;
    }
    let eventSource = parseEventSource(sourceInput, state);
    if (eventSource) {
      this.dispatch({ type: "ADD_EVENT_SOURCES", sources: [eventSource] });
      return new EventSourceImpl(state, eventSource);
    }
    return null;
  }
  removeAllEventSources() {
    this.dispatch({ type: "REMOVE_ALL_EVENT_SOURCES" });
  }
  refetchEvents() {
    this.dispatch({ type: "FETCH_EVENT_SOURCES", isRefetch: true });
  }
  // Scroll
  // -----------------------------------------------------------------------------------------------------------------
  scrollToTime(timeInput) {
    let time = createDuration(timeInput);
    if (time) {
      this.trigger("_scrollRequest", { time });
    }
  }
}
function intersectRects(rect1, rect2) {
  let res = {
    left: Math.max(rect1.left, rect2.left),
    right: Math.min(rect1.right, rect2.right),
    top: Math.max(rect1.top, rect2.top),
    bottom: Math.min(rect1.bottom, rect2.bottom)
  };
  if (res.left < res.right && res.top < res.bottom) {
    return res;
  }
  return false;
}
const EMPTY_EVENT_STORE = createEmptyEventStore();
class Splitter {
  constructor() {
    this.getKeysForEventDefs = memoize(this._getKeysForEventDefs);
    this.splitDateSelection = memoize(this._splitDateSpan);
    this.splitEventStore = memoize(this._splitEventStore);
    this.splitIndividualUi = memoize(this._splitIndividualUi);
    this.splitEventDrag = memoize(this._splitInteraction);
    this.splitEventResize = memoize(this._splitInteraction);
    this.eventUiBuilders = {};
  }
  splitProps(props) {
    let keyInfos = this.getKeyInfo(props);
    let defKeys = this.getKeysForEventDefs(props.eventStore);
    let dateSelections = this.splitDateSelection(props.dateSelection);
    let individualUi = this.splitIndividualUi(props.eventUiBases, defKeys);
    let eventStores = this.splitEventStore(props.eventStore, defKeys);
    let eventDrags = this.splitEventDrag(props.eventDrag);
    let eventResizes = this.splitEventResize(props.eventResize);
    let splitProps = {};
    this.eventUiBuilders = mapHash(keyInfos, (info, key) => this.eventUiBuilders[key] || memoize(buildEventUiForKey));
    for (let key in keyInfos) {
      let keyInfo = keyInfos[key];
      let eventStore = eventStores[key] || EMPTY_EVENT_STORE;
      let buildEventUi = this.eventUiBuilders[key];
      splitProps[key] = {
        businessHours: keyInfo.businessHours || props.businessHours,
        dateSelection: dateSelections[key] || null,
        eventStore,
        eventUiBases: buildEventUi(props.eventUiBases[""], keyInfo.ui, individualUi[key]),
        eventSelection: eventStore.instances[props.eventSelection] ? props.eventSelection : "",
        eventDrag: eventDrags[key] || null,
        eventResize: eventResizes[key] || null
      };
    }
    return splitProps;
  }
  _splitDateSpan(dateSpan) {
    let dateSpans = {};
    if (dateSpan) {
      let keys = this.getKeysForDateSpan(dateSpan);
      for (let key of keys) {
        dateSpans[key] = dateSpan;
      }
    }
    return dateSpans;
  }
  _getKeysForEventDefs(eventStore) {
    return mapHash(eventStore.defs, (eventDef) => this.getKeysForEventDef(eventDef));
  }
  _splitEventStore(eventStore, defKeys) {
    let { defs, instances } = eventStore;
    let splitStores = {};
    for (let defId in defs) {
      for (let key of defKeys[defId]) {
        if (!splitStores[key]) {
          splitStores[key] = createEmptyEventStore();
        }
        splitStores[key].defs[defId] = defs[defId];
      }
    }
    for (let instanceId in instances) {
      let instance = instances[instanceId];
      for (let key of defKeys[instance.defId]) {
        if (splitStores[key]) {
          splitStores[key].instances[instanceId] = instance;
        }
      }
    }
    return splitStores;
  }
  _splitIndividualUi(eventUiBases, defKeys) {
    let splitHashes = {};
    for (let defId in eventUiBases) {
      if (defId) {
        for (let key of defKeys[defId]) {
          if (!splitHashes[key]) {
            splitHashes[key] = {};
          }
          splitHashes[key][defId] = eventUiBases[defId];
        }
      }
    }
    return splitHashes;
  }
  _splitInteraction(interaction) {
    let splitStates = {};
    if (interaction) {
      let affectedStores = this._splitEventStore(interaction.affectedEvents, this._getKeysForEventDefs(interaction.affectedEvents));
      let mutatedKeysByDefId = this._getKeysForEventDefs(interaction.mutatedEvents);
      let mutatedStores = this._splitEventStore(interaction.mutatedEvents, mutatedKeysByDefId);
      let populate = (key) => {
        if (!splitStates[key]) {
          splitStates[key] = {
            affectedEvents: affectedStores[key] || EMPTY_EVENT_STORE,
            mutatedEvents: mutatedStores[key] || EMPTY_EVENT_STORE,
            isEvent: interaction.isEvent
          };
        }
      };
      for (let key in affectedStores) {
        populate(key);
      }
      for (let key in mutatedStores) {
        populate(key);
      }
    }
    return splitStates;
  }
}
function buildEventUiForKey(allUi, eventUiForKey, individualUi) {
  let baseParts = [];
  if (allUi) {
    baseParts.push(allUi);
  }
  if (eventUiForKey) {
    baseParts.push(eventUiForKey);
  }
  let stuff = {
    "": combineEventUis(baseParts)
  };
  if (individualUi) {
    Object.assign(stuff, individualUi);
  }
  return stuff;
}
function getDateMeta(date, todayRange, nowDate, dateProfile) {
  return {
    dow: date.getUTCDay(),
    isDisabled: Boolean(dateProfile && !rangeContainsMarker(dateProfile.activeRange, date)),
    isOther: Boolean(dateProfile && !rangeContainsMarker(dateProfile.currentRange, date)),
    isToday: Boolean(todayRange && rangeContainsMarker(todayRange, date)),
    isPast: Boolean(todayRange ? date < todayRange.start : false),
    isFuture: Boolean(todayRange ? date >= todayRange.end : false)
  };
}
function getDayClassNames(meta, theme) {
  let classNames = [
    "fc-day",
    `fc-day-${DAY_IDS[meta.dow]}`
  ];
  if (meta.isDisabled) {
    classNames.push("fc-day-disabled");
  } else {
    if (meta.isToday) {
      classNames.push("fc-day-today");
      classNames.push(theme.getClass("today"));
    }
    if (meta.isPast) {
      classNames.push("fc-day-past");
    }
    if (meta.isFuture) {
      classNames.push("fc-day-future");
    }
    if (meta.isOther) {
      classNames.push("fc-day-other");
    }
  }
  return classNames;
}
const DAY_FORMAT = createFormatter({ year: "numeric", month: "long", day: "numeric" });
const WEEK_FORMAT = createFormatter({ week: "long" });
function buildNavLinkAttrs(context, dateMarker, viewType = "day", isTabbable = true) {
  const { dateEnv, options, calendarApi } = context;
  let dateStr = dateEnv.format(dateMarker, viewType === "week" ? WEEK_FORMAT : DAY_FORMAT);
  if (options.navLinks) {
    let zonedDate = dateEnv.toDate(dateMarker);
    const handleInteraction = (ev) => {
      let customAction = viewType === "day" ? options.navLinkDayClick : viewType === "week" ? options.navLinkWeekClick : null;
      if (typeof customAction === "function") {
        customAction.call(calendarApi, dateEnv.toDate(dateMarker), ev);
      } else {
        if (typeof customAction === "string") {
          viewType = customAction;
        }
        calendarApi.zoomTo(dateMarker, viewType);
      }
    };
    return Object.assign({ title: formatWithOrdinals(options.navLinkHint, [dateStr, zonedDate], dateStr), "data-navlink": "" }, isTabbable ? createAriaClickAttrs(handleInteraction) : { onClick: handleInteraction });
  }
  return { "aria-label": dateStr };
}
let _scrollbarWidths;
function getScrollbarWidths() {
  if (!_scrollbarWidths) {
    _scrollbarWidths = computeScrollbarWidths();
  }
  return _scrollbarWidths;
}
function computeScrollbarWidths() {
  let el = document.createElement("div");
  el.style.overflow = "scroll";
  el.style.position = "absolute";
  el.style.top = "-9999px";
  el.style.left = "-9999px";
  document.body.appendChild(el);
  let res = computeScrollbarWidthsForEl(el);
  document.body.removeChild(el);
  return res;
}
function computeScrollbarWidthsForEl(el) {
  return {
    x: el.offsetHeight - el.clientHeight,
    y: el.offsetWidth - el.clientWidth
  };
}
function computeClippedClientRect(el) {
  let clippingParents = getClippingParents(el);
  let rect = el.getBoundingClientRect();
  for (let clippingParent of clippingParents) {
    let intersection = intersectRects(rect, clippingParent.getBoundingClientRect());
    if (intersection) {
      rect = intersection;
    } else {
      return null;
    }
  }
  return rect;
}
function getClippingParents(el) {
  let parents = [];
  while (el instanceof HTMLElement) {
    let computedStyle = window.getComputedStyle(el);
    if (computedStyle.position === "fixed") {
      break;
    }
    if (/(auto|scroll)/.test(computedStyle.overflow + computedStyle.overflowY + computedStyle.overflowX)) {
      parents.push(el);
    }
    el = el.parentNode;
  }
  return parents;
}
class PositionCache {
  constructor(originEl, els, isHorizontal, isVertical) {
    this.els = els;
    let originClientRect = this.originClientRect = originEl.getBoundingClientRect();
    if (isHorizontal) {
      this.buildElHorizontals(originClientRect.left);
    }
    if (isVertical) {
      this.buildElVerticals(originClientRect.top);
    }
  }
  // Populates the left/right internal coordinate arrays
  buildElHorizontals(originClientLeft) {
    let lefts = [];
    let rights = [];
    for (let el of this.els) {
      let rect = el.getBoundingClientRect();
      lefts.push(rect.left - originClientLeft);
      rights.push(rect.right - originClientLeft);
    }
    this.lefts = lefts;
    this.rights = rights;
  }
  // Populates the top/bottom internal coordinate arrays
  buildElVerticals(originClientTop) {
    let tops = [];
    let bottoms = [];
    for (let el of this.els) {
      let rect = el.getBoundingClientRect();
      tops.push(rect.top - originClientTop);
      bottoms.push(rect.bottom - originClientTop);
    }
    this.tops = tops;
    this.bottoms = bottoms;
  }
  // Given a left offset (from document left), returns the index of the el that it horizontally intersects.
  // If no intersection is made, returns undefined.
  leftToIndex(leftPosition) {
    let { lefts, rights } = this;
    let len = lefts.length;
    let i2;
    for (i2 = 0; i2 < len; i2 += 1) {
      if (leftPosition >= lefts[i2] && leftPosition < rights[i2]) {
        return i2;
      }
    }
    return void 0;
  }
  // Given a top offset (from document top), returns the index of the el that it vertically intersects.
  // If no intersection is made, returns undefined.
  topToIndex(topPosition) {
    let { tops, bottoms } = this;
    let len = tops.length;
    let i2;
    for (i2 = 0; i2 < len; i2 += 1) {
      if (topPosition >= tops[i2] && topPosition < bottoms[i2]) {
        return i2;
      }
    }
    return void 0;
  }
  // Gets the width of the element at the given index
  getWidth(leftIndex) {
    return this.rights[leftIndex] - this.lefts[leftIndex];
  }
  // Gets the height of the element at the given index
  getHeight(topIndex) {
    return this.bottoms[topIndex] - this.tops[topIndex];
  }
  similarTo(otherCache) {
    return similarNumArrays(this.tops || [], otherCache.tops || []) && similarNumArrays(this.bottoms || [], otherCache.bottoms || []) && similarNumArrays(this.lefts || [], otherCache.lefts || []) && similarNumArrays(this.rights || [], otherCache.rights || []);
  }
}
function similarNumArrays(a, b) {
  const len = a.length;
  if (len !== b.length) {
    return false;
  }
  for (let i2 = 0; i2 < len; i2++) {
    if (Math.round(a[i2]) !== Math.round(b[i2])) {
      return false;
    }
  }
  return true;
}
class DateComponent extends BaseComponent {
  constructor() {
    super(...arguments);
    this.uid = guid();
  }
  // Hit System
  // -----------------------------------------------------------------------------------------------------------------
  prepareHits() {
  }
  queryHit(positionLeft, positionTop, elWidth, elHeight) {
    return null;
  }
  // Pointer Interaction Utils
  // -----------------------------------------------------------------------------------------------------------------
  isValidSegDownEl(el) {
    return !this.props.eventDrag && // HACK
    !this.props.eventResize && // HACK
    !elementClosest(el, ".fc-event-mirror");
  }
  isValidDateDownEl(el) {
    return !elementClosest(el, ".fc-event:not(.fc-bg-event)") && !elementClosest(el, ".fc-more-link") && // a "more.." link
    !elementClosest(el, "a[data-navlink]") && // a clickable nav link
    !elementClosest(el, ".fc-popover");
  }
}
class SegHierarchy {
  constructor(getEntryThickness = (entry) => {
    return entry.thickness || 1;
  }) {
    this.getEntryThickness = getEntryThickness;
    this.strictOrder = false;
    this.allowReslicing = false;
    this.maxCoord = -1;
    this.maxStackCnt = -1;
    this.levelCoords = [];
    this.entriesByLevel = [];
    this.stackCnts = {};
  }
  addSegs(inputs) {
    let hiddenEntries = [];
    for (let input of inputs) {
      this.insertEntry(input, hiddenEntries);
    }
    return hiddenEntries;
  }
  insertEntry(entry, hiddenEntries) {
    let insertion = this.findInsertion(entry);
    if (this.isInsertionValid(insertion, entry)) {
      this.insertEntryAt(entry, insertion);
    } else {
      this.handleInvalidInsertion(insertion, entry, hiddenEntries);
    }
  }
  isInsertionValid(insertion, entry) {
    return (this.maxCoord === -1 || insertion.levelCoord + this.getEntryThickness(entry) <= this.maxCoord) && (this.maxStackCnt === -1 || insertion.stackCnt < this.maxStackCnt);
  }
  handleInvalidInsertion(insertion, entry, hiddenEntries) {
    if (this.allowReslicing && insertion.touchingEntry) {
      const hiddenEntry = Object.assign(Object.assign({}, entry), { span: intersectSpans(entry.span, insertion.touchingEntry.span) });
      hiddenEntries.push(hiddenEntry);
      this.splitEntry(entry, insertion.touchingEntry, hiddenEntries);
    } else {
      hiddenEntries.push(entry);
    }
  }
  /*
  Does NOT add what hit the `barrier` into hiddenEntries. Should already be done.
  */
  splitEntry(entry, barrier, hiddenEntries) {
    let entrySpan = entry.span;
    let barrierSpan = barrier.span;
    if (entrySpan.start < barrierSpan.start) {
      this.insertEntry({
        index: entry.index,
        thickness: entry.thickness,
        span: { start: entrySpan.start, end: barrierSpan.start }
      }, hiddenEntries);
    }
    if (entrySpan.end > barrierSpan.end) {
      this.insertEntry({
        index: entry.index,
        thickness: entry.thickness,
        span: { start: barrierSpan.end, end: entrySpan.end }
      }, hiddenEntries);
    }
  }
  insertEntryAt(entry, insertion) {
    let { entriesByLevel, levelCoords } = this;
    if (insertion.lateral === -1) {
      insertAt(levelCoords, insertion.level, insertion.levelCoord);
      insertAt(entriesByLevel, insertion.level, [entry]);
    } else {
      insertAt(entriesByLevel[insertion.level], insertion.lateral, entry);
    }
    this.stackCnts[buildEntryKey(entry)] = insertion.stackCnt;
  }
  /*
  does not care about limits
  */
  findInsertion(newEntry) {
    let { levelCoords, entriesByLevel, strictOrder, stackCnts } = this;
    let levelCnt = levelCoords.length;
    let candidateCoord = 0;
    let touchingLevel = -1;
    let touchingLateral = -1;
    let touchingEntry = null;
    let stackCnt = 0;
    for (let trackingLevel = 0; trackingLevel < levelCnt; trackingLevel += 1) {
      const trackingCoord = levelCoords[trackingLevel];
      if (!strictOrder && trackingCoord >= candidateCoord + this.getEntryThickness(newEntry)) {
        break;
      }
      let trackingEntries = entriesByLevel[trackingLevel];
      let trackingEntry;
      let searchRes = binarySearch(trackingEntries, newEntry.span.start, getEntrySpanEnd);
      let lateralIndex = searchRes[0] + searchRes[1];
      while (
        // loop through entries that horizontally intersect
        (trackingEntry = trackingEntries[lateralIndex]) && // but not past the whole entry list
        trackingEntry.span.start < newEntry.span.end
      ) {
        let trackingEntryBottom = trackingCoord + this.getEntryThickness(trackingEntry);
        if (trackingEntryBottom > candidateCoord) {
          candidateCoord = trackingEntryBottom;
          touchingEntry = trackingEntry;
          touchingLevel = trackingLevel;
          touchingLateral = lateralIndex;
        }
        if (trackingEntryBottom === candidateCoord) {
          stackCnt = Math.max(stackCnt, stackCnts[buildEntryKey(trackingEntry)] + 1);
        }
        lateralIndex += 1;
      }
    }
    let destLevel = 0;
    if (touchingEntry) {
      destLevel = touchingLevel + 1;
      while (destLevel < levelCnt && levelCoords[destLevel] < candidateCoord) {
        destLevel += 1;
      }
    }
    let destLateral = -1;
    if (destLevel < levelCnt && levelCoords[destLevel] === candidateCoord) {
      destLateral = binarySearch(entriesByLevel[destLevel], newEntry.span.end, getEntrySpanEnd)[0];
    }
    return {
      touchingLevel,
      touchingLateral,
      touchingEntry,
      stackCnt,
      levelCoord: candidateCoord,
      level: destLevel,
      lateral: destLateral
    };
  }
  // sorted by levelCoord (lowest to highest)
  toRects() {
    let { entriesByLevel, levelCoords } = this;
    let levelCnt = entriesByLevel.length;
    let rects = [];
    for (let level = 0; level < levelCnt; level += 1) {
      let entries = entriesByLevel[level];
      let levelCoord = levelCoords[level];
      for (let entry of entries) {
        rects.push(Object.assign(Object.assign({}, entry), { thickness: this.getEntryThickness(entry), levelCoord }));
      }
    }
    return rects;
  }
}
function getEntrySpanEnd(entry) {
  return entry.span.end;
}
function buildEntryKey(entry) {
  return entry.index + ":" + entry.span.start;
}
function groupIntersectingEntries(entries) {
  let merges = [];
  for (let entry of entries) {
    let filteredMerges = [];
    let hungryMerge = {
      span: entry.span,
      entries: [entry]
    };
    for (let merge of merges) {
      if (intersectSpans(merge.span, hungryMerge.span)) {
        hungryMerge = {
          entries: merge.entries.concat(hungryMerge.entries),
          span: joinSpans(merge.span, hungryMerge.span)
        };
      } else {
        filteredMerges.push(merge);
      }
    }
    filteredMerges.push(hungryMerge);
    merges = filteredMerges;
  }
  return merges;
}
function joinSpans(span0, span1) {
  return {
    start: Math.min(span0.start, span1.start),
    end: Math.max(span0.end, span1.end)
  };
}
function intersectSpans(span0, span1) {
  let start = Math.max(span0.start, span1.start);
  let end = Math.min(span0.end, span1.end);
  if (start < end) {
    return { start, end };
  }
  return null;
}
function insertAt(arr, index2, item) {
  arr.splice(index2, 0, item);
}
function binarySearch(a, searchVal, getItemVal) {
  let startIndex = 0;
  let endIndex = a.length;
  if (!endIndex || searchVal < getItemVal(a[startIndex])) {
    return [0, 0];
  }
  if (searchVal > getItemVal(a[endIndex - 1])) {
    return [endIndex, 0];
  }
  while (startIndex < endIndex) {
    let middleIndex = Math.floor(startIndex + (endIndex - startIndex) / 2);
    let middleVal = getItemVal(a[middleIndex]);
    if (searchVal < middleVal) {
      endIndex = middleIndex;
    } else if (searchVal > middleVal) {
      startIndex = middleIndex + 1;
    } else {
      return [middleIndex, 1];
    }
  }
  return [startIndex, 0];
}
function computeFallbackHeaderFormat(datesRepDistinctDays, dayCnt) {
  if (!datesRepDistinctDays || dayCnt > 10) {
    return createFormatter({ weekday: "short" });
  }
  if (dayCnt > 1) {
    return createFormatter({ weekday: "short", month: "numeric", day: "numeric", omitCommas: true });
  }
  return createFormatter({ weekday: "long" });
}
const CLASS_NAME = "fc-col-header-cell";
function renderInner$1(renderProps) {
  return renderProps.text;
}
class TableDateCell extends BaseComponent {
  render() {
    let { dateEnv, options, theme, viewApi } = this.context;
    let { props } = this;
    let { date, dateProfile } = props;
    let dayMeta = getDateMeta(date, props.todayRange, null, dateProfile);
    let classNames = [CLASS_NAME].concat(getDayClassNames(dayMeta, theme));
    let text = dateEnv.format(date, props.dayHeaderFormat);
    let navLinkAttrs = !dayMeta.isDisabled && props.colCnt > 1 ? buildNavLinkAttrs(this.context, date) : {};
    let renderProps = Object.assign(Object.assign(Object.assign({ date: dateEnv.toDate(date), view: viewApi }, props.extraRenderProps), { text }), dayMeta);
    return createElement$1(ContentContainer, { elTag: "th", elClasses: classNames, elAttrs: Object.assign({ role: "columnheader", colSpan: props.colSpan, "data-date": !dayMeta.isDisabled ? formatDayString(date) : void 0 }, props.extraDataAttrs), renderProps, generatorName: "dayHeaderContent", customGenerator: options.dayHeaderContent, defaultGenerator: renderInner$1, classNameGenerator: options.dayHeaderClassNames, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, (InnerContainer) => createElement$1("div", { className: "fc-scrollgrid-sync-inner" }, !dayMeta.isDisabled && createElement$1(InnerContainer, { elTag: "a", elAttrs: navLinkAttrs, elClasses: [
      "fc-col-header-cell-cushion",
      props.isSticky && "fc-sticky"
    ] })));
  }
}
const WEEKDAY_FORMAT = createFormatter({ weekday: "long" });
class TableDowCell extends BaseComponent {
  render() {
    let { props } = this;
    let { dateEnv, theme, viewApi, options } = this.context;
    let date = addDays(/* @__PURE__ */ new Date(2592e5), props.dow);
    let dateMeta = {
      dow: props.dow,
      isDisabled: false,
      isFuture: false,
      isPast: false,
      isToday: false,
      isOther: false
    };
    let text = dateEnv.format(date, props.dayHeaderFormat);
    let renderProps = Object.assign(Object.assign(Object.assign(Object.assign({
      // TODO: make this public?
      date
    }, dateMeta), { view: viewApi }), props.extraRenderProps), { text });
    return createElement$1(ContentContainer, { elTag: "th", elClasses: [
      CLASS_NAME,
      ...getDayClassNames(dateMeta, theme),
      ...props.extraClassNames || []
    ], elAttrs: Object.assign({ role: "columnheader", colSpan: props.colSpan }, props.extraDataAttrs), renderProps, generatorName: "dayHeaderContent", customGenerator: options.dayHeaderContent, defaultGenerator: renderInner$1, classNameGenerator: options.dayHeaderClassNames, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, (InnerContent) => createElement$1(
      "div",
      { className: "fc-scrollgrid-sync-inner" },
      createElement$1(InnerContent, { elTag: "a", elClasses: [
        "fc-col-header-cell-cushion",
        props.isSticky && "fc-sticky"
      ], elAttrs: {
        "aria-label": dateEnv.format(date, WEEKDAY_FORMAT)
      } })
    ));
  }
}
class NowTimer extends Component {
  constructor(props, context) {
    super(props, context);
    this.initialNowDate = getNow(context.options.now, context.dateEnv);
    this.initialNowQueriedMs = (/* @__PURE__ */ new Date()).valueOf();
    this.state = this.computeTiming().currentState;
  }
  render() {
    let { props, state } = this;
    return props.children(state.nowDate, state.todayRange);
  }
  componentDidMount() {
    this.setTimeout();
  }
  componentDidUpdate(prevProps) {
    if (prevProps.unit !== this.props.unit) {
      this.clearTimeout();
      this.setTimeout();
    }
  }
  componentWillUnmount() {
    this.clearTimeout();
  }
  computeTiming() {
    let { props, context } = this;
    let unroundedNow = addMs(this.initialNowDate, (/* @__PURE__ */ new Date()).valueOf() - this.initialNowQueriedMs);
    let currentUnitStart = context.dateEnv.startOf(unroundedNow, props.unit);
    let nextUnitStart = context.dateEnv.add(currentUnitStart, createDuration(1, props.unit));
    let waitMs = nextUnitStart.valueOf() - unroundedNow.valueOf();
    waitMs = Math.min(1e3 * 60 * 60 * 24, waitMs);
    return {
      currentState: { nowDate: currentUnitStart, todayRange: buildDayRange(currentUnitStart) },
      nextState: { nowDate: nextUnitStart, todayRange: buildDayRange(nextUnitStart) },
      waitMs
    };
  }
  setTimeout() {
    let { nextState, waitMs } = this.computeTiming();
    this.timeoutId = setTimeout(() => {
      this.setState(nextState, () => {
        this.setTimeout();
      });
    }, waitMs);
  }
  clearTimeout() {
    if (this.timeoutId) {
      clearTimeout(this.timeoutId);
    }
  }
}
NowTimer.contextType = ViewContextType;
function buildDayRange(date) {
  let start = startOfDay(date);
  let end = addDays(start, 1);
  return { start, end };
}
class DayHeader extends BaseComponent {
  constructor() {
    super(...arguments);
    this.createDayHeaderFormatter = memoize(createDayHeaderFormatter);
  }
  render() {
    let { context } = this;
    let { dates, dateProfile, datesRepDistinctDays, renderIntro } = this.props;
    let dayHeaderFormat = this.createDayHeaderFormatter(context.options.dayHeaderFormat, datesRepDistinctDays, dates.length);
    return createElement$1(NowTimer, { unit: "day" }, (nowDate, todayRange) => createElement$1(
      "tr",
      { role: "row" },
      renderIntro && renderIntro("day"),
      dates.map((date) => datesRepDistinctDays ? createElement$1(TableDateCell, { key: date.toISOString(), date, dateProfile, todayRange, colCnt: dates.length, dayHeaderFormat }) : createElement$1(TableDowCell, { key: date.getUTCDay(), dow: date.getUTCDay(), dayHeaderFormat }))
    ));
  }
}
function createDayHeaderFormatter(explicitFormat, datesRepDistinctDays, dateCnt) {
  return explicitFormat || computeFallbackHeaderFormat(datesRepDistinctDays, dateCnt);
}
class DaySeriesModel {
  constructor(range, dateProfileGenerator) {
    let date = range.start;
    let { end } = range;
    let indices = [];
    let dates = [];
    let dayIndex = -1;
    while (date < end) {
      if (dateProfileGenerator.isHiddenDay(date)) {
        indices.push(dayIndex + 0.5);
      } else {
        dayIndex += 1;
        indices.push(dayIndex);
        dates.push(date);
      }
      date = addDays(date, 1);
    }
    this.dates = dates;
    this.indices = indices;
    this.cnt = dates.length;
  }
  sliceRange(range) {
    let firstIndex = this.getDateDayIndex(range.start);
    let lastIndex = this.getDateDayIndex(addDays(range.end, -1));
    let clippedFirstIndex = Math.max(0, firstIndex);
    let clippedLastIndex = Math.min(this.cnt - 1, lastIndex);
    clippedFirstIndex = Math.ceil(clippedFirstIndex);
    clippedLastIndex = Math.floor(clippedLastIndex);
    if (clippedFirstIndex <= clippedLastIndex) {
      return {
        firstIndex: clippedFirstIndex,
        lastIndex: clippedLastIndex,
        isStart: firstIndex === clippedFirstIndex,
        isEnd: lastIndex === clippedLastIndex
      };
    }
    return null;
  }
  // Given a date, returns its chronolocial cell-index from the first cell of the grid.
  // If the date lies between cells (because of hiddenDays), returns a floating-point value between offsets.
  // If before the first offset, returns a negative number.
  // If after the last offset, returns an offset past the last cell offset.
  // Only works for *start* dates of cells. Will not work for exclusive end dates for cells.
  getDateDayIndex(date) {
    let { indices } = this;
    let dayOffset = Math.floor(diffDays(this.dates[0], date));
    if (dayOffset < 0) {
      return indices[0] - 1;
    }
    if (dayOffset >= indices.length) {
      return indices[indices.length - 1] + 1;
    }
    return indices[dayOffset];
  }
}
class DayTableModel {
  constructor(daySeries, breakOnWeeks) {
    let { dates } = daySeries;
    let daysPerRow;
    let firstDay;
    let rowCnt;
    if (breakOnWeeks) {
      firstDay = dates[0].getUTCDay();
      for (daysPerRow = 1; daysPerRow < dates.length; daysPerRow += 1) {
        if (dates[daysPerRow].getUTCDay() === firstDay) {
          break;
        }
      }
      rowCnt = Math.ceil(dates.length / daysPerRow);
    } else {
      rowCnt = 1;
      daysPerRow = dates.length;
    }
    this.rowCnt = rowCnt;
    this.colCnt = daysPerRow;
    this.daySeries = daySeries;
    this.cells = this.buildCells();
    this.headerDates = this.buildHeaderDates();
  }
  buildCells() {
    let rows = [];
    for (let row = 0; row < this.rowCnt; row += 1) {
      let cells = [];
      for (let col = 0; col < this.colCnt; col += 1) {
        cells.push(this.buildCell(row, col));
      }
      rows.push(cells);
    }
    return rows;
  }
  buildCell(row, col) {
    let date = this.daySeries.dates[row * this.colCnt + col];
    return {
      key: date.toISOString(),
      date
    };
  }
  buildHeaderDates() {
    let dates = [];
    for (let col = 0; col < this.colCnt; col += 1) {
      dates.push(this.cells[0][col].date);
    }
    return dates;
  }
  sliceRange(range) {
    let { colCnt } = this;
    let seriesSeg = this.daySeries.sliceRange(range);
    let segs = [];
    if (seriesSeg) {
      let { firstIndex, lastIndex } = seriesSeg;
      let index2 = firstIndex;
      while (index2 <= lastIndex) {
        let row = Math.floor(index2 / colCnt);
        let nextIndex = Math.min((row + 1) * colCnt, lastIndex + 1);
        segs.push({
          row,
          firstCol: index2 % colCnt,
          lastCol: (nextIndex - 1) % colCnt,
          isStart: seriesSeg.isStart && index2 === firstIndex,
          isEnd: seriesSeg.isEnd && nextIndex - 1 === lastIndex
        });
        index2 = nextIndex;
      }
    }
    return segs;
  }
}
class Slicer {
  constructor() {
    this.sliceBusinessHours = memoize(this._sliceBusinessHours);
    this.sliceDateSelection = memoize(this._sliceDateSpan);
    this.sliceEventStore = memoize(this._sliceEventStore);
    this.sliceEventDrag = memoize(this._sliceInteraction);
    this.sliceEventResize = memoize(this._sliceInteraction);
    this.forceDayIfListItem = false;
  }
  sliceProps(props, dateProfile, nextDayThreshold, context, ...extraArgs) {
    let { eventUiBases } = props;
    let eventSegs = this.sliceEventStore(props.eventStore, eventUiBases, dateProfile, nextDayThreshold, ...extraArgs);
    return {
      dateSelectionSegs: this.sliceDateSelection(props.dateSelection, dateProfile, nextDayThreshold, eventUiBases, context, ...extraArgs),
      businessHourSegs: this.sliceBusinessHours(props.businessHours, dateProfile, nextDayThreshold, context, ...extraArgs),
      fgEventSegs: eventSegs.fg,
      bgEventSegs: eventSegs.bg,
      eventDrag: this.sliceEventDrag(props.eventDrag, eventUiBases, dateProfile, nextDayThreshold, ...extraArgs),
      eventResize: this.sliceEventResize(props.eventResize, eventUiBases, dateProfile, nextDayThreshold, ...extraArgs),
      eventSelection: props.eventSelection
    };
  }
  sliceNowDate(date, dateProfile, nextDayThreshold, context, ...extraArgs) {
    return this._sliceDateSpan(
      { range: { start: date, end: addMs(date, 1) }, allDay: false },
      // add 1 ms, protect against null range
      dateProfile,
      nextDayThreshold,
      {},
      context,
      ...extraArgs
    );
  }
  _sliceBusinessHours(businessHours, dateProfile, nextDayThreshold, context, ...extraArgs) {
    if (!businessHours) {
      return [];
    }
    return this._sliceEventStore(expandRecurring(businessHours, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), context), {}, dateProfile, nextDayThreshold, ...extraArgs).bg;
  }
  _sliceEventStore(eventStore, eventUiBases, dateProfile, nextDayThreshold, ...extraArgs) {
    if (eventStore) {
      let rangeRes = sliceEventStore(eventStore, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);
      return {
        bg: this.sliceEventRanges(rangeRes.bg, extraArgs),
        fg: this.sliceEventRanges(rangeRes.fg, extraArgs)
      };
    }
    return { bg: [], fg: [] };
  }
  _sliceInteraction(interaction, eventUiBases, dateProfile, nextDayThreshold, ...extraArgs) {
    if (!interaction) {
      return null;
    }
    let rangeRes = sliceEventStore(interaction.mutatedEvents, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);
    return {
      segs: this.sliceEventRanges(rangeRes.fg, extraArgs),
      affectedInstances: interaction.affectedEvents.instances,
      isEvent: interaction.isEvent
    };
  }
  _sliceDateSpan(dateSpan, dateProfile, nextDayThreshold, eventUiBases, context, ...extraArgs) {
    if (!dateSpan) {
      return [];
    }
    let activeRange = computeActiveRange(dateProfile, Boolean(nextDayThreshold));
    let activeDateSpanRange = intersectRanges(dateSpan.range, activeRange);
    if (activeDateSpanRange) {
      dateSpan = Object.assign(Object.assign({}, dateSpan), { range: activeDateSpanRange });
      let eventRange = fabricateEventRange(dateSpan, eventUiBases, context);
      let segs = this.sliceRange(dateSpan.range, ...extraArgs);
      for (let seg of segs) {
        seg.eventRange = eventRange;
      }
      return segs;
    }
    return [];
  }
  /*
  "complete" seg means it has component and eventRange
  */
  sliceEventRanges(eventRanges, extraArgs) {
    let segs = [];
    for (let eventRange of eventRanges) {
      segs.push(...this.sliceEventRange(eventRange, extraArgs));
    }
    return segs;
  }
  /*
  "complete" seg means it has component and eventRange
  */
  sliceEventRange(eventRange, extraArgs) {
    let dateRange = eventRange.range;
    if (this.forceDayIfListItem && eventRange.ui.display === "list-item") {
      dateRange = {
        start: dateRange.start,
        end: addDays(dateRange.start, 1)
      };
    }
    let segs = this.sliceRange(dateRange, ...extraArgs);
    for (let seg of segs) {
      seg.eventRange = eventRange;
      seg.isStart = eventRange.isStart && seg.isStart;
      seg.isEnd = eventRange.isEnd && seg.isEnd;
    }
    return segs;
  }
}
function computeActiveRange(dateProfile, isComponentAllDay) {
  let range = dateProfile.activeRange;
  if (isComponentAllDay) {
    return range;
  }
  return {
    start: addMs(range.start, dateProfile.slotMinTime.milliseconds),
    end: addMs(range.end, dateProfile.slotMaxTime.milliseconds - 864e5)
    // 864e5 = ms in a day
  };
}
const VISIBLE_HIDDEN_RE = /^(visible|hidden)$/;
class Scroller extends BaseComponent {
  constructor() {
    super(...arguments);
    this.handleEl = (el) => {
      this.el = el;
      setRef(this.props.elRef, el);
    };
  }
  render() {
    let { props } = this;
    let { liquid, liquidIsAbsolute } = props;
    let isAbsolute = liquid && liquidIsAbsolute;
    let className = ["fc-scroller"];
    if (liquid) {
      if (liquidIsAbsolute) {
        className.push("fc-scroller-liquid-absolute");
      } else {
        className.push("fc-scroller-liquid");
      }
    }
    return createElement$1("div", { ref: this.handleEl, className: className.join(" "), style: {
      overflowX: props.overflowX,
      overflowY: props.overflowY,
      left: isAbsolute && -(props.overcomeLeft || 0) || "",
      right: isAbsolute && -(props.overcomeRight || 0) || "",
      bottom: isAbsolute && -(props.overcomeBottom || 0) || "",
      marginLeft: !isAbsolute && -(props.overcomeLeft || 0) || "",
      marginRight: !isAbsolute && -(props.overcomeRight || 0) || "",
      marginBottom: !isAbsolute && -(props.overcomeBottom || 0) || "",
      maxHeight: props.maxHeight || ""
    } }, props.children);
  }
  needsXScrolling() {
    if (VISIBLE_HIDDEN_RE.test(this.props.overflowX)) {
      return false;
    }
    let { el } = this;
    let realClientWidth = this.el.getBoundingClientRect().width - this.getYScrollbarWidth();
    let { children } = el;
    for (let i2 = 0; i2 < children.length; i2 += 1) {
      let childEl = children[i2];
      if (childEl.getBoundingClientRect().width > realClientWidth) {
        return true;
      }
    }
    return false;
  }
  needsYScrolling() {
    if (VISIBLE_HIDDEN_RE.test(this.props.overflowY)) {
      return false;
    }
    let { el } = this;
    let realClientHeight = this.el.getBoundingClientRect().height - this.getXScrollbarWidth();
    let { children } = el;
    for (let i2 = 0; i2 < children.length; i2 += 1) {
      let childEl = children[i2];
      if (childEl.getBoundingClientRect().height > realClientHeight) {
        return true;
      }
    }
    return false;
  }
  getXScrollbarWidth() {
    if (VISIBLE_HIDDEN_RE.test(this.props.overflowX)) {
      return 0;
    }
    return this.el.offsetHeight - this.el.clientHeight;
  }
  getYScrollbarWidth() {
    if (VISIBLE_HIDDEN_RE.test(this.props.overflowY)) {
      return 0;
    }
    return this.el.offsetWidth - this.el.clientWidth;
  }
}
class RefMap {
  constructor(masterCallback) {
    this.masterCallback = masterCallback;
    this.currentMap = {};
    this.depths = {};
    this.callbackMap = {};
    this.handleValue = (val, key) => {
      let { depths, currentMap } = this;
      let removed = false;
      let added = false;
      if (val !== null) {
        removed = key in currentMap;
        currentMap[key] = val;
        depths[key] = (depths[key] || 0) + 1;
        added = true;
      } else {
        depths[key] -= 1;
        if (!depths[key]) {
          delete currentMap[key];
          delete this.callbackMap[key];
          removed = true;
        }
      }
      if (this.masterCallback) {
        if (removed) {
          this.masterCallback(null, String(key));
        }
        if (added) {
          this.masterCallback(val, String(key));
        }
      }
    };
  }
  createRef(key) {
    let refCallback = this.callbackMap[key];
    if (!refCallback) {
      refCallback = this.callbackMap[key] = (val) => {
        this.handleValue(val, String(key));
      };
    }
    return refCallback;
  }
  // TODO: check callers that don't care about order. should use getAll instead
  // NOTE: this method has become less valuable now that we are encouraged to map order by some other index
  // TODO: provide ONE array-export function, buildArray, which fails on non-numeric indexes. caller can manipulate and "collect"
  collect(startIndex, endIndex, step) {
    return collectFromHash(this.currentMap, startIndex, endIndex, step);
  }
  getAll() {
    return hashValuesToArray(this.currentMap);
  }
}
function computeShrinkWidth(chunkEls) {
  let shrinkCells = findElements(chunkEls, ".fc-scrollgrid-shrink");
  let largestWidth = 0;
  for (let shrinkCell of shrinkCells) {
    largestWidth = Math.max(largestWidth, computeSmallestCellWidth(shrinkCell));
  }
  return Math.ceil(largestWidth);
}
function getSectionHasLiquidHeight(props, sectionConfig) {
  return props.liquid && sectionConfig.liquid;
}
function getAllowYScrolling(props, sectionConfig) {
  return sectionConfig.maxHeight != null || // if its possible for the height to max out, we might need scrollbars
  getSectionHasLiquidHeight(props, sectionConfig);
}
function renderChunkContent(sectionConfig, chunkConfig, arg, isHeader) {
  let { expandRows } = arg;
  let content = typeof chunkConfig.content === "function" ? chunkConfig.content(arg) : createElement$1("table", {
    role: "presentation",
    className: [
      chunkConfig.tableClassName,
      sectionConfig.syncRowHeights ? "fc-scrollgrid-sync-table" : ""
    ].join(" "),
    style: {
      minWidth: arg.tableMinWidth,
      width: arg.clientWidth,
      height: expandRows ? arg.clientHeight : ""
      // css `height` on a <table> serves as a min-height
    }
  }, arg.tableColGroupNode, createElement$1(isHeader ? "thead" : "tbody", {
    role: "presentation"
  }, typeof chunkConfig.rowContent === "function" ? chunkConfig.rowContent(arg) : chunkConfig.rowContent));
  return content;
}
function isColPropsEqual(cols0, cols1) {
  return isArraysEqual(cols0, cols1, isPropsEqual);
}
function renderMicroColGroup(cols, shrinkWidth) {
  let colNodes = [];
  for (let colProps of cols) {
    let span = colProps.span || 1;
    for (let i2 = 0; i2 < span; i2 += 1) {
      colNodes.push(createElement$1("col", { style: {
        width: colProps.width === "shrink" ? sanitizeShrinkWidth(shrinkWidth) : colProps.width || "",
        minWidth: colProps.minWidth || ""
      } }));
    }
  }
  return createElement$1("colgroup", {}, ...colNodes);
}
function sanitizeShrinkWidth(shrinkWidth) {
  return shrinkWidth == null ? 4 : shrinkWidth;
}
function hasShrinkWidth(cols) {
  for (let col of cols) {
    if (col.width === "shrink") {
      return true;
    }
  }
  return false;
}
function getScrollGridClassNames(liquid, context) {
  let classNames = [
    "fc-scrollgrid",
    context.theme.getClass("table")
  ];
  if (liquid) {
    classNames.push("fc-scrollgrid-liquid");
  }
  return classNames;
}
function getSectionClassNames(sectionConfig, wholeTableVGrow) {
  let classNames = [
    "fc-scrollgrid-section",
    `fc-scrollgrid-section-${sectionConfig.type}`,
    sectionConfig.className
    // used?
  ];
  if (wholeTableVGrow && sectionConfig.liquid && sectionConfig.maxHeight == null) {
    classNames.push("fc-scrollgrid-section-liquid");
  }
  if (sectionConfig.isSticky) {
    classNames.push("fc-scrollgrid-section-sticky");
  }
  return classNames;
}
function renderScrollShim(arg) {
  return createElement$1("div", { className: "fc-scrollgrid-sticky-shim", style: {
    width: arg.clientWidth,
    minWidth: arg.tableMinWidth
  } });
}
function getStickyHeaderDates(options) {
  let { stickyHeaderDates } = options;
  if (stickyHeaderDates == null || stickyHeaderDates === "auto") {
    stickyHeaderDates = options.height === "auto" || options.viewHeight === "auto";
  }
  return stickyHeaderDates;
}
function getStickyFooterScrollbar(options) {
  let { stickyFooterScrollbar } = options;
  if (stickyFooterScrollbar == null || stickyFooterScrollbar === "auto") {
    stickyFooterScrollbar = options.height === "auto" || options.viewHeight === "auto";
  }
  return stickyFooterScrollbar;
}
class SimpleScrollGrid extends BaseComponent {
  constructor() {
    super(...arguments);
    this.processCols = memoize((a) => a, isColPropsEqual);
    this.renderMicroColGroup = memoize(renderMicroColGroup);
    this.scrollerRefs = new RefMap();
    this.scrollerElRefs = new RefMap(this._handleScrollerEl.bind(this));
    this.state = {
      shrinkWidth: null,
      forceYScrollbars: false,
      scrollerClientWidths: {},
      scrollerClientHeights: {}
    };
    this.handleSizing = () => {
      this.safeSetState(Object.assign({ shrinkWidth: this.computeShrinkWidth() }, this.computeScrollerDims()));
    };
  }
  render() {
    let { props, state, context } = this;
    let sectionConfigs = props.sections || [];
    let cols = this.processCols(props.cols);
    let microColGroupNode = this.renderMicroColGroup(cols, state.shrinkWidth);
    let classNames = getScrollGridClassNames(props.liquid, context);
    if (props.collapsibleWidth) {
      classNames.push("fc-scrollgrid-collapsible");
    }
    let configCnt = sectionConfigs.length;
    let configI = 0;
    let currentConfig;
    let headSectionNodes = [];
    let bodySectionNodes = [];
    let footSectionNodes = [];
    while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === "header") {
      headSectionNodes.push(this.renderSection(currentConfig, microColGroupNode, true));
      configI += 1;
    }
    while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === "body") {
      bodySectionNodes.push(this.renderSection(currentConfig, microColGroupNode, false));
      configI += 1;
    }
    while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === "footer") {
      footSectionNodes.push(this.renderSection(currentConfig, microColGroupNode, true));
      configI += 1;
    }
    let isBuggy = !getCanVGrowWithinCell();
    const roleAttrs = { role: "rowgroup" };
    return createElement$1("table", {
      role: "grid",
      className: classNames.join(" "),
      style: { height: props.height }
    }, Boolean(!isBuggy && headSectionNodes.length) && createElement$1("thead", roleAttrs, ...headSectionNodes), Boolean(!isBuggy && bodySectionNodes.length) && createElement$1("tbody", roleAttrs, ...bodySectionNodes), Boolean(!isBuggy && footSectionNodes.length) && createElement$1("tfoot", roleAttrs, ...footSectionNodes), isBuggy && createElement$1("tbody", roleAttrs, ...headSectionNodes, ...bodySectionNodes, ...footSectionNodes));
  }
  renderSection(sectionConfig, microColGroupNode, isHeader) {
    if ("outerContent" in sectionConfig) {
      return createElement$1(Fragment$2, { key: sectionConfig.key }, sectionConfig.outerContent);
    }
    return createElement$1("tr", { key: sectionConfig.key, role: "presentation", className: getSectionClassNames(sectionConfig, this.props.liquid).join(" ") }, this.renderChunkTd(sectionConfig, microColGroupNode, sectionConfig.chunk, isHeader));
  }
  renderChunkTd(sectionConfig, microColGroupNode, chunkConfig, isHeader) {
    if ("outerContent" in chunkConfig) {
      return chunkConfig.outerContent;
    }
    let { props } = this;
    let { forceYScrollbars, scrollerClientWidths, scrollerClientHeights } = this.state;
    let needsYScrolling = getAllowYScrolling(props, sectionConfig);
    let isLiquid = getSectionHasLiquidHeight(props, sectionConfig);
    let overflowY = !props.liquid ? "visible" : forceYScrollbars ? "scroll" : !needsYScrolling ? "hidden" : "auto";
    let sectionKey = sectionConfig.key;
    let content = renderChunkContent(sectionConfig, chunkConfig, {
      tableColGroupNode: microColGroupNode,
      tableMinWidth: "",
      clientWidth: !props.collapsibleWidth && scrollerClientWidths[sectionKey] !== void 0 ? scrollerClientWidths[sectionKey] : null,
      clientHeight: scrollerClientHeights[sectionKey] !== void 0 ? scrollerClientHeights[sectionKey] : null,
      expandRows: sectionConfig.expandRows,
      syncRowHeights: false,
      rowSyncHeights: [],
      reportRowHeightChange: () => {
      }
    }, isHeader);
    return createElement$1(isHeader ? "th" : "td", {
      ref: chunkConfig.elRef,
      role: "presentation"
    }, createElement$1(
      "div",
      { className: `fc-scroller-harness${isLiquid ? " fc-scroller-harness-liquid" : ""}` },
      createElement$1(Scroller, { ref: this.scrollerRefs.createRef(sectionKey), elRef: this.scrollerElRefs.createRef(sectionKey), overflowY, overflowX: !props.liquid ? "visible" : "hidden", maxHeight: sectionConfig.maxHeight, liquid: isLiquid, liquidIsAbsolute: true }, content)
    ));
  }
  _handleScrollerEl(scrollerEl, key) {
    let section = getSectionByKey(this.props.sections, key);
    if (section) {
      setRef(section.chunk.scrollerElRef, scrollerEl);
    }
  }
  componentDidMount() {
    this.handleSizing();
    this.context.addResizeHandler(this.handleSizing);
  }
  componentDidUpdate() {
    this.handleSizing();
  }
  componentWillUnmount() {
    this.context.removeResizeHandler(this.handleSizing);
  }
  computeShrinkWidth() {
    return hasShrinkWidth(this.props.cols) ? computeShrinkWidth(this.scrollerElRefs.getAll()) : 0;
  }
  computeScrollerDims() {
    let scrollbarWidth = getScrollbarWidths();
    let { scrollerRefs, scrollerElRefs } = this;
    let forceYScrollbars = false;
    let scrollerClientWidths = {};
    let scrollerClientHeights = {};
    for (let sectionKey in scrollerRefs.currentMap) {
      let scroller = scrollerRefs.currentMap[sectionKey];
      if (scroller && scroller.needsYScrolling()) {
        forceYScrollbars = true;
        break;
      }
    }
    for (let section of this.props.sections) {
      let sectionKey = section.key;
      let scrollerEl = scrollerElRefs.currentMap[sectionKey];
      if (scrollerEl) {
        let harnessEl = scrollerEl.parentNode;
        scrollerClientWidths[sectionKey] = Math.floor(harnessEl.getBoundingClientRect().width - (forceYScrollbars ? scrollbarWidth.y : 0));
        scrollerClientHeights[sectionKey] = Math.floor(harnessEl.getBoundingClientRect().height);
      }
    }
    return { forceYScrollbars, scrollerClientWidths, scrollerClientHeights };
  }
}
SimpleScrollGrid.addStateEquality({
  scrollerClientWidths: isPropsEqual,
  scrollerClientHeights: isPropsEqual
});
function getSectionByKey(sections, key) {
  for (let section of sections) {
    if (section.key === key) {
      return section;
    }
  }
  return null;
}
class EventContainer extends BaseComponent {
  constructor() {
    super(...arguments);
    this.handleEl = (el) => {
      this.el = el;
      if (el) {
        setElSeg(el, this.props.seg);
      }
    };
  }
  render() {
    const { props, context } = this;
    const { options } = context;
    const { seg } = props;
    const { eventRange } = seg;
    const { ui } = eventRange;
    const renderProps = {
      event: new EventImpl(context, eventRange.def, eventRange.instance),
      view: context.viewApi,
      timeText: props.timeText,
      textColor: ui.textColor,
      backgroundColor: ui.backgroundColor,
      borderColor: ui.borderColor,
      isDraggable: !props.disableDragging && computeSegDraggable(seg, context),
      isStartResizable: !props.disableResizing && computeSegStartResizable(seg, context),
      isEndResizable: !props.disableResizing && computeSegEndResizable(seg),
      isMirror: Boolean(props.isDragging || props.isResizing || props.isDateSelecting),
      isStart: Boolean(seg.isStart),
      isEnd: Boolean(seg.isEnd),
      isPast: Boolean(props.isPast),
      isFuture: Boolean(props.isFuture),
      isToday: Boolean(props.isToday),
      isSelected: Boolean(props.isSelected),
      isDragging: Boolean(props.isDragging),
      isResizing: Boolean(props.isResizing)
    };
    return createElement$1(ContentContainer, Object.assign({}, props, { elRef: this.handleEl, elClasses: [
      ...getEventClassNames(renderProps),
      ...seg.eventRange.ui.classNames,
      ...props.elClasses || []
    ], renderProps, generatorName: "eventContent", customGenerator: options.eventContent, defaultGenerator: props.defaultGenerator, classNameGenerator: options.eventClassNames, didMount: options.eventDidMount, willUnmount: options.eventWillUnmount }));
  }
  componentDidUpdate(prevProps) {
    if (this.el && this.props.seg !== prevProps.seg) {
      setElSeg(this.el, this.props.seg);
    }
  }
}
class StandardEvent extends BaseComponent {
  render() {
    let { props, context } = this;
    let { options } = context;
    let { seg } = props;
    let { ui } = seg.eventRange;
    let timeFormat = options.eventTimeFormat || props.defaultTimeFormat;
    let timeText = buildSegTimeText(seg, timeFormat, context, props.defaultDisplayEventTime, props.defaultDisplayEventEnd);
    return createElement$1(EventContainer, Object.assign({}, props, { elTag: "a", elStyle: {
      borderColor: ui.borderColor,
      backgroundColor: ui.backgroundColor
    }, elAttrs: getSegAnchorAttrs(seg, context), defaultGenerator: renderInnerContent$1$1, timeText }), (InnerContent, eventContentArg) => createElement$1(
      Fragment$2,
      null,
      createElement$1(InnerContent, { elTag: "div", elClasses: ["fc-event-main"], elStyle: { color: eventContentArg.textColor } }),
      Boolean(eventContentArg.isStartResizable) && createElement$1("div", { className: "fc-event-resizer fc-event-resizer-start" }),
      Boolean(eventContentArg.isEndResizable) && createElement$1("div", { className: "fc-event-resizer fc-event-resizer-end" })
    ));
  }
}
function renderInnerContent$1$1(innerProps) {
  return createElement$1(
    "div",
    { className: "fc-event-main-frame" },
    innerProps.timeText && createElement$1("div", { className: "fc-event-time" }, innerProps.timeText),
    createElement$1(
      "div",
      { className: "fc-event-title-container" },
      createElement$1("div", { className: "fc-event-title fc-sticky" }, innerProps.event.title || createElement$1(Fragment$2, null, " "))
    )
  );
}
const NowIndicatorContainer = (props) => createElement$1(ViewContextType.Consumer, null, (context) => {
  let { options } = context;
  let renderProps = {
    isAxis: props.isAxis,
    date: context.dateEnv.toDate(props.date),
    view: context.viewApi
  };
  return createElement$1(ContentContainer, Object.assign({}, props, { elTag: props.elTag || "div", renderProps, generatorName: "nowIndicatorContent", customGenerator: options.nowIndicatorContent, classNameGenerator: options.nowIndicatorClassNames, didMount: options.nowIndicatorDidMount, willUnmount: options.nowIndicatorWillUnmount }));
});
const DAY_NUM_FORMAT = createFormatter({ day: "numeric" });
class DayCellContainer extends BaseComponent {
  constructor() {
    super(...arguments);
    this.refineRenderProps = memoizeObjArg(refineRenderProps);
  }
  render() {
    let { props, context } = this;
    let { options } = context;
    let renderProps = this.refineRenderProps({
      date: props.date,
      dateProfile: props.dateProfile,
      todayRange: props.todayRange,
      isMonthStart: props.isMonthStart || false,
      showDayNumber: props.showDayNumber,
      extraRenderProps: props.extraRenderProps,
      viewApi: context.viewApi,
      dateEnv: context.dateEnv,
      monthStartFormat: options.monthStartFormat
    });
    return createElement$1(ContentContainer, Object.assign({}, props, { elClasses: [
      ...getDayClassNames(renderProps, context.theme),
      ...props.elClasses || []
    ], elAttrs: Object.assign(Object.assign({}, props.elAttrs), renderProps.isDisabled ? {} : { "data-date": formatDayString(props.date) }), renderProps, generatorName: "dayCellContent", customGenerator: options.dayCellContent, defaultGenerator: props.defaultGenerator, classNameGenerator: (
      // don't use custom classNames if disabled
      renderProps.isDisabled ? void 0 : options.dayCellClassNames
    ), didMount: options.dayCellDidMount, willUnmount: options.dayCellWillUnmount }));
  }
}
function hasCustomDayCellContent(options) {
  return Boolean(options.dayCellContent || hasCustomRenderingHandler("dayCellContent", options));
}
function refineRenderProps(raw) {
  let { date, dateEnv, dateProfile, isMonthStart } = raw;
  let dayMeta = getDateMeta(date, raw.todayRange, null, dateProfile);
  let dayNumberText = raw.showDayNumber ? dateEnv.format(date, isMonthStart ? raw.monthStartFormat : DAY_NUM_FORMAT) : "";
  return Object.assign(Object.assign(Object.assign({ date: dateEnv.toDate(date), view: raw.viewApi }, dayMeta), {
    isMonthStart,
    dayNumberText
  }), raw.extraRenderProps);
}
class BgEvent extends BaseComponent {
  render() {
    let { props } = this;
    let { seg } = props;
    return createElement$1(EventContainer, { elTag: "div", elClasses: ["fc-bg-event"], elStyle: { backgroundColor: seg.eventRange.ui.backgroundColor }, defaultGenerator: renderInnerContent$2, seg, timeText: "", isDragging: false, isResizing: false, isDateSelecting: false, isSelected: false, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday, disableDragging: true, disableResizing: true });
  }
}
function renderInnerContent$2(props) {
  let { title } = props.event;
  return title && createElement$1("div", { className: "fc-event-title" }, props.event.title);
}
function renderFill(fillType) {
  return createElement$1("div", { className: `fc-${fillType}` });
}
const WeekNumberContainer = (props) => createElement$1(ViewContextType.Consumer, null, (context) => {
  let { dateEnv, options } = context;
  let { date } = props;
  let format = options.weekNumberFormat || props.defaultFormat;
  let num = dateEnv.computeWeekNumber(date);
  let text = dateEnv.format(date, format);
  let renderProps = { num, text, date };
  return createElement$1(
    ContentContainer,
    Object.assign({}, props, { renderProps, generatorName: "weekNumberContent", customGenerator: options.weekNumberContent, defaultGenerator: renderInner, classNameGenerator: options.weekNumberClassNames, didMount: options.weekNumberDidMount, willUnmount: options.weekNumberWillUnmount })
  );
});
function renderInner(innerProps) {
  return innerProps.text;
}
const PADDING_FROM_VIEWPORT = 10;
class Popover extends BaseComponent {
  constructor() {
    super(...arguments);
    this.state = {
      titleId: getUniqueDomId()
    };
    this.handleRootEl = (el) => {
      this.rootEl = el;
      if (this.props.elRef) {
        setRef(this.props.elRef, el);
      }
    };
    this.handleDocumentMouseDown = (ev) => {
      const target = getEventTargetViaRoot(ev);
      if (!this.rootEl.contains(target)) {
        this.handleCloseClick();
      }
    };
    this.handleDocumentKeyDown = (ev) => {
      if (ev.key === "Escape") {
        this.handleCloseClick();
      }
    };
    this.handleCloseClick = () => {
      let { onClose } = this.props;
      if (onClose) {
        onClose();
      }
    };
  }
  render() {
    let { theme, options } = this.context;
    let { props, state } = this;
    let classNames = [
      "fc-popover",
      theme.getClass("popover")
    ].concat(props.extraClassNames || []);
    return createPortal(createElement$1(
      "div",
      Object.assign({}, props.extraAttrs, { id: props.id, className: classNames.join(" "), "aria-labelledby": state.titleId, ref: this.handleRootEl }),
      createElement$1(
        "div",
        { className: "fc-popover-header " + theme.getClass("popoverHeader") },
        createElement$1("span", { className: "fc-popover-title", id: state.titleId }, props.title),
        createElement$1("span", { className: "fc-popover-close " + theme.getIconClass("close"), title: options.closeHint, onClick: this.handleCloseClick })
      ),
      createElement$1("div", { className: "fc-popover-body " + theme.getClass("popoverContent") }, props.children)
    ), props.parentEl);
  }
  componentDidMount() {
    document.addEventListener("mousedown", this.handleDocumentMouseDown);
    document.addEventListener("keydown", this.handleDocumentKeyDown);
    this.updateSize();
  }
  componentWillUnmount() {
    document.removeEventListener("mousedown", this.handleDocumentMouseDown);
    document.removeEventListener("keydown", this.handleDocumentKeyDown);
  }
  updateSize() {
    let { isRtl } = this.context;
    let { alignmentEl, alignGridTop } = this.props;
    let { rootEl } = this;
    let alignmentRect = computeClippedClientRect(alignmentEl);
    if (alignmentRect) {
      let popoverDims = rootEl.getBoundingClientRect();
      let popoverTop = alignGridTop ? elementClosest(alignmentEl, ".fc-scrollgrid").getBoundingClientRect().top : alignmentRect.top;
      let popoverLeft = isRtl ? alignmentRect.right - popoverDims.width : alignmentRect.left;
      popoverTop = Math.max(popoverTop, PADDING_FROM_VIEWPORT);
      popoverLeft = Math.min(popoverLeft, document.documentElement.clientWidth - PADDING_FROM_VIEWPORT - popoverDims.width);
      popoverLeft = Math.max(popoverLeft, PADDING_FROM_VIEWPORT);
      let origin = rootEl.offsetParent.getBoundingClientRect();
      applyStyle(rootEl, {
        top: popoverTop - origin.top,
        left: popoverLeft - origin.left
      });
    }
  }
}
class MorePopover extends DateComponent {
  constructor() {
    super(...arguments);
    this.handleRootEl = (rootEl) => {
      this.rootEl = rootEl;
      if (rootEl) {
        this.context.registerInteractiveComponent(this, {
          el: rootEl,
          useEventCenter: false
        });
      } else {
        this.context.unregisterInteractiveComponent(this);
      }
    };
  }
  render() {
    let { options, dateEnv } = this.context;
    let { props } = this;
    let { startDate, todayRange, dateProfile } = props;
    let title = dateEnv.format(startDate, options.dayPopoverFormat);
    return createElement$1(DayCellContainer, { elRef: this.handleRootEl, date: startDate, dateProfile, todayRange }, (InnerContent, renderProps, elAttrs) => createElement$1(
      Popover,
      { elRef: elAttrs.ref, id: props.id, title, extraClassNames: ["fc-more-popover"].concat(elAttrs.className || []), extraAttrs: elAttrs, parentEl: props.parentEl, alignmentEl: props.alignmentEl, alignGridTop: props.alignGridTop, onClose: props.onClose },
      hasCustomDayCellContent(options) && createElement$1(InnerContent, { elTag: "div", elClasses: ["fc-more-popover-misc"] }),
      props.children
    ));
  }
  queryHit(positionLeft, positionTop, elWidth, elHeight) {
    let { rootEl, props } = this;
    if (positionLeft >= 0 && positionLeft < elWidth && positionTop >= 0 && positionTop < elHeight) {
      return {
        dateProfile: props.dateProfile,
        dateSpan: Object.assign({ allDay: !props.forceTimed, range: {
          start: props.startDate,
          end: props.endDate
        } }, props.extraDateSpan),
        dayEl: rootEl,
        rect: {
          left: 0,
          top: 0,
          right: elWidth,
          bottom: elHeight
        },
        layer: 1
        // important when comparing with hits from other components
      };
    }
    return null;
  }
}
class MoreLinkContainer extends BaseComponent {
  constructor() {
    super(...arguments);
    this.state = {
      isPopoverOpen: false,
      popoverId: getUniqueDomId()
    };
    this.handleLinkEl = (linkEl) => {
      this.linkEl = linkEl;
      if (this.props.elRef) {
        setRef(this.props.elRef, linkEl);
      }
    };
    this.handleClick = (ev) => {
      let { props, context } = this;
      let { moreLinkClick } = context.options;
      let date = computeRange(props).start;
      function buildPublicSeg(seg) {
        let { def, instance, range } = seg.eventRange;
        return {
          event: new EventImpl(context, def, instance),
          start: context.dateEnv.toDate(range.start),
          end: context.dateEnv.toDate(range.end),
          isStart: seg.isStart,
          isEnd: seg.isEnd
        };
      }
      if (typeof moreLinkClick === "function") {
        moreLinkClick = moreLinkClick({
          date,
          allDay: Boolean(props.allDayDate),
          allSegs: props.allSegs.map(buildPublicSeg),
          hiddenSegs: props.hiddenSegs.map(buildPublicSeg),
          jsEvent: ev,
          view: context.viewApi
        });
      }
      if (!moreLinkClick || moreLinkClick === "popover") {
        this.setState({ isPopoverOpen: true });
      } else if (typeof moreLinkClick === "string") {
        context.calendarApi.zoomTo(date, moreLinkClick);
      }
    };
    this.handlePopoverClose = () => {
      this.setState({ isPopoverOpen: false });
    };
  }
  render() {
    let { props, state } = this;
    return createElement$1(ViewContextType.Consumer, null, (context) => {
      let { viewApi, options, calendarApi } = context;
      let { moreLinkText } = options;
      let { moreCnt } = props;
      let range = computeRange(props);
      let text = typeof moreLinkText === "function" ? moreLinkText.call(calendarApi, moreCnt) : `+${moreCnt} ${moreLinkText}`;
      let hint = formatWithOrdinals(options.moreLinkHint, [moreCnt], text);
      let renderProps = {
        num: moreCnt,
        shortText: `+${moreCnt}`,
        text,
        view: viewApi
      };
      return createElement$1(
        Fragment$2,
        null,
        Boolean(props.moreCnt) && createElement$1(ContentContainer, { elTag: props.elTag || "a", elRef: this.handleLinkEl, elClasses: [
          ...props.elClasses || [],
          "fc-more-link"
        ], elStyle: props.elStyle, elAttrs: Object.assign(Object.assign(Object.assign({}, props.elAttrs), createAriaClickAttrs(this.handleClick)), { title: hint, "aria-expanded": state.isPopoverOpen, "aria-controls": state.isPopoverOpen ? state.popoverId : "" }), renderProps, generatorName: "moreLinkContent", customGenerator: options.moreLinkContent, defaultGenerator: props.defaultGenerator || renderMoreLinkInner$1, classNameGenerator: options.moreLinkClassNames, didMount: options.moreLinkDidMount, willUnmount: options.moreLinkWillUnmount }, props.children),
        state.isPopoverOpen && createElement$1(MorePopover, { id: state.popoverId, startDate: range.start, endDate: range.end, dateProfile: props.dateProfile, todayRange: props.todayRange, extraDateSpan: props.extraDateSpan, parentEl: this.parentEl, alignmentEl: props.alignmentElRef ? props.alignmentElRef.current : this.linkEl, alignGridTop: props.alignGridTop, forceTimed: props.forceTimed, onClose: this.handlePopoverClose }, props.popoverContent())
      );
    });
  }
  componentDidMount() {
    this.updateParentEl();
  }
  componentDidUpdate() {
    this.updateParentEl();
  }
  updateParentEl() {
    if (this.linkEl) {
      this.parentEl = elementClosest(this.linkEl, ".fc-view-harness");
    }
  }
}
function renderMoreLinkInner$1(props) {
  return props.text;
}
function computeRange(props) {
  if (props.allDayDate) {
    return {
      start: props.allDayDate,
      end: addDays(props.allDayDate, 1)
    };
  }
  let { hiddenSegs } = props;
  return {
    start: computeEarliestSegStart(hiddenSegs),
    end: computeLatestSegEnd(hiddenSegs)
  };
}
function computeEarliestSegStart(segs) {
  return segs.reduce(pickEarliestStart).eventRange.range.start;
}
function pickEarliestStart(seg0, seg1) {
  return seg0.eventRange.range.start < seg1.eventRange.range.start ? seg0 : seg1;
}
function computeLatestSegEnd(segs) {
  return segs.reduce(pickLatestEnd).eventRange.range.end;
}
function pickLatestEnd(seg0, seg1) {
  return seg0.eventRange.range.end > seg1.eventRange.range.end ? seg0 : seg1;
}
class Store2 {
  constructor() {
    this.handlers = [];
  }
  set(value) {
    this.currentValue = value;
    for (let handler of this.handlers) {
      handler(value);
    }
  }
  subscribe(handler) {
    this.handlers.push(handler);
    if (this.currentValue !== void 0) {
      handler(this.currentValue);
    }
  }
}
class CustomRenderingStore extends Store2 {
  constructor() {
    super(...arguments);
    this.map = /* @__PURE__ */ new Map();
  }
  // for consistent order
  handle(customRendering) {
    const { map } = this;
    let updated = false;
    if (customRendering.isActive) {
      map.set(customRendering.id, customRendering);
      updated = true;
    } else if (map.has(customRendering.id)) {
      map.delete(customRendering.id);
      updated = true;
    }
    if (updated) {
      this.set(map);
    }
  }
}
const globalLocales = [];
const MINIMAL_RAW_EN_LOCALE = {
  code: "en",
  week: {
    dow: 0,
    doy: 4
    // 4 days need to be within the year to be considered the first week
  },
  direction: "ltr",
  buttonText: {
    prev: "prev",
    next: "next",
    prevYear: "prev year",
    nextYear: "next year",
    year: "year",
    today: "today",
    month: "month",
    week: "week",
    day: "day",
    list: "list"
  },
  weekText: "W",
  weekTextLong: "Week",
  closeHint: "Close",
  timeHint: "Time",
  eventHint: "Event",
  allDayText: "all-day",
  moreLinkText: "more",
  noEventsText: "No events to display"
};
const RAW_EN_LOCALE = Object.assign(Object.assign({}, MINIMAL_RAW_EN_LOCALE), {
  // Includes things we don't want other locales to inherit,
  // things that derive from other translatable strings.
  buttonHints: {
    prev: "Previous $0",
    next: "Next $0",
    today(buttonText, unit) {
      return unit === "day" ? "Today" : `This ${buttonText}`;
    }
  },
  viewHint: "$0 view",
  navLinkHint: "Go to $0",
  moreLinkHint(eventCnt) {
    return `Show ${eventCnt} more event${eventCnt === 1 ? "" : "s"}`;
  }
});
function organizeRawLocales(explicitRawLocales) {
  let defaultCode = explicitRawLocales.length > 0 ? explicitRawLocales[0].code : "en";
  let allRawLocales = globalLocales.concat(explicitRawLocales);
  let rawLocaleMap = {
    en: RAW_EN_LOCALE
  };
  for (let rawLocale of allRawLocales) {
    rawLocaleMap[rawLocale.code] = rawLocale;
  }
  return {
    map: rawLocaleMap,
    defaultCode
  };
}
function buildLocale(inputSingular, available) {
  if (typeof inputSingular === "object" && !Array.isArray(inputSingular)) {
    return parseLocale(inputSingular.code, [inputSingular.code], inputSingular);
  }
  return queryLocale(inputSingular, available);
}
function queryLocale(codeArg, available) {
  let codes = [].concat(codeArg || []);
  let raw = queryRawLocale(codes, available) || RAW_EN_LOCALE;
  return parseLocale(codeArg, codes, raw);
}
function queryRawLocale(codes, available) {
  for (let i2 = 0; i2 < codes.length; i2 += 1) {
    let parts = codes[i2].toLocaleLowerCase().split("-");
    for (let j = parts.length; j > 0; j -= 1) {
      let simpleId = parts.slice(0, j).join("-");
      if (available[simpleId]) {
        return available[simpleId];
      }
    }
  }
  return null;
}
function parseLocale(codeArg, codes, raw) {
  let merged = mergeProps([MINIMAL_RAW_EN_LOCALE, raw], ["buttonText"]);
  delete merged.code;
  let { week } = merged;
  delete merged.week;
  return {
    codeArg,
    codes,
    week,
    simpleNumberFormat: new Intl.NumberFormat(codeArg),
    options: merged
  };
}
function createPlugin(input) {
  return {
    id: guid(),
    name: input.name,
    premiumReleaseDate: input.premiumReleaseDate ? new Date(input.premiumReleaseDate) : void 0,
    deps: input.deps || [],
    reducers: input.reducers || [],
    isLoadingFuncs: input.isLoadingFuncs || [],
    contextInit: [].concat(input.contextInit || []),
    eventRefiners: input.eventRefiners || {},
    eventDefMemberAdders: input.eventDefMemberAdders || [],
    eventSourceRefiners: input.eventSourceRefiners || {},
    isDraggableTransformers: input.isDraggableTransformers || [],
    eventDragMutationMassagers: input.eventDragMutationMassagers || [],
    eventDefMutationAppliers: input.eventDefMutationAppliers || [],
    dateSelectionTransformers: input.dateSelectionTransformers || [],
    datePointTransforms: input.datePointTransforms || [],
    dateSpanTransforms: input.dateSpanTransforms || [],
    views: input.views || {},
    viewPropsTransformers: input.viewPropsTransformers || [],
    isPropsValid: input.isPropsValid || null,
    externalDefTransforms: input.externalDefTransforms || [],
    viewContainerAppends: input.viewContainerAppends || [],
    eventDropTransformers: input.eventDropTransformers || [],
    componentInteractions: input.componentInteractions || [],
    calendarInteractions: input.calendarInteractions || [],
    themeClasses: input.themeClasses || {},
    eventSourceDefs: input.eventSourceDefs || [],
    cmdFormatter: input.cmdFormatter,
    recurringTypes: input.recurringTypes || [],
    namedTimeZonedImpl: input.namedTimeZonedImpl,
    initialView: input.initialView || "",
    elementDraggingImpl: input.elementDraggingImpl,
    optionChangeHandlers: input.optionChangeHandlers || {},
    scrollGridImpl: input.scrollGridImpl || null,
    listenerRefiners: input.listenerRefiners || {},
    optionRefiners: input.optionRefiners || {},
    propSetHandlers: input.propSetHandlers || {}
  };
}
function buildPluginHooks(pluginDefs, globalDefs) {
  let currentPluginIds = {};
  let hooks = {
    premiumReleaseDate: void 0,
    reducers: [],
    isLoadingFuncs: [],
    contextInit: [],
    eventRefiners: {},
    eventDefMemberAdders: [],
    eventSourceRefiners: {},
    isDraggableTransformers: [],
    eventDragMutationMassagers: [],
    eventDefMutationAppliers: [],
    dateSelectionTransformers: [],
    datePointTransforms: [],
    dateSpanTransforms: [],
    views: {},
    viewPropsTransformers: [],
    isPropsValid: null,
    externalDefTransforms: [],
    viewContainerAppends: [],
    eventDropTransformers: [],
    componentInteractions: [],
    calendarInteractions: [],
    themeClasses: {},
    eventSourceDefs: [],
    cmdFormatter: null,
    recurringTypes: [],
    namedTimeZonedImpl: null,
    initialView: "",
    elementDraggingImpl: null,
    optionChangeHandlers: {},
    scrollGridImpl: null,
    listenerRefiners: {},
    optionRefiners: {},
    propSetHandlers: {}
  };
  function addDefs(defs) {
    for (let def of defs) {
      const pluginName = def.name;
      const currentId = currentPluginIds[pluginName];
      if (currentId === void 0) {
        currentPluginIds[pluginName] = def.id;
        addDefs(def.deps);
        hooks = combineHooks(hooks, def);
      } else if (currentId !== def.id) {
        console.warn(`Duplicate plugin '${pluginName}'`);
      }
    }
  }
  if (pluginDefs) {
    addDefs(pluginDefs);
  }
  addDefs(globalDefs);
  return hooks;
}
function buildBuildPluginHooks() {
  let currentOverrideDefs = [];
  let currentGlobalDefs = [];
  let currentHooks;
  return (overrideDefs, globalDefs) => {
    if (!currentHooks || !isArraysEqual(overrideDefs, currentOverrideDefs) || !isArraysEqual(globalDefs, currentGlobalDefs)) {
      currentHooks = buildPluginHooks(overrideDefs, globalDefs);
    }
    currentOverrideDefs = overrideDefs;
    currentGlobalDefs = globalDefs;
    return currentHooks;
  };
}
function combineHooks(hooks0, hooks1) {
  return {
    premiumReleaseDate: compareOptionalDates(hooks0.premiumReleaseDate, hooks1.premiumReleaseDate),
    reducers: hooks0.reducers.concat(hooks1.reducers),
    isLoadingFuncs: hooks0.isLoadingFuncs.concat(hooks1.isLoadingFuncs),
    contextInit: hooks0.contextInit.concat(hooks1.contextInit),
    eventRefiners: Object.assign(Object.assign({}, hooks0.eventRefiners), hooks1.eventRefiners),
    eventDefMemberAdders: hooks0.eventDefMemberAdders.concat(hooks1.eventDefMemberAdders),
    eventSourceRefiners: Object.assign(Object.assign({}, hooks0.eventSourceRefiners), hooks1.eventSourceRefiners),
    isDraggableTransformers: hooks0.isDraggableTransformers.concat(hooks1.isDraggableTransformers),
    eventDragMutationMassagers: hooks0.eventDragMutationMassagers.concat(hooks1.eventDragMutationMassagers),
    eventDefMutationAppliers: hooks0.eventDefMutationAppliers.concat(hooks1.eventDefMutationAppliers),
    dateSelectionTransformers: hooks0.dateSelectionTransformers.concat(hooks1.dateSelectionTransformers),
    datePointTransforms: hooks0.datePointTransforms.concat(hooks1.datePointTransforms),
    dateSpanTransforms: hooks0.dateSpanTransforms.concat(hooks1.dateSpanTransforms),
    views: Object.assign(Object.assign({}, hooks0.views), hooks1.views),
    viewPropsTransformers: hooks0.viewPropsTransformers.concat(hooks1.viewPropsTransformers),
    isPropsValid: hooks1.isPropsValid || hooks0.isPropsValid,
    externalDefTransforms: hooks0.externalDefTransforms.concat(hooks1.externalDefTransforms),
    viewContainerAppends: hooks0.viewContainerAppends.concat(hooks1.viewContainerAppends),
    eventDropTransformers: hooks0.eventDropTransformers.concat(hooks1.eventDropTransformers),
    calendarInteractions: hooks0.calendarInteractions.concat(hooks1.calendarInteractions),
    componentInteractions: hooks0.componentInteractions.concat(hooks1.componentInteractions),
    themeClasses: Object.assign(Object.assign({}, hooks0.themeClasses), hooks1.themeClasses),
    eventSourceDefs: hooks0.eventSourceDefs.concat(hooks1.eventSourceDefs),
    cmdFormatter: hooks1.cmdFormatter || hooks0.cmdFormatter,
    recurringTypes: hooks0.recurringTypes.concat(hooks1.recurringTypes),
    namedTimeZonedImpl: hooks1.namedTimeZonedImpl || hooks0.namedTimeZonedImpl,
    initialView: hooks0.initialView || hooks1.initialView,
    elementDraggingImpl: hooks0.elementDraggingImpl || hooks1.elementDraggingImpl,
    optionChangeHandlers: Object.assign(Object.assign({}, hooks0.optionChangeHandlers), hooks1.optionChangeHandlers),
    scrollGridImpl: hooks1.scrollGridImpl || hooks0.scrollGridImpl,
    listenerRefiners: Object.assign(Object.assign({}, hooks0.listenerRefiners), hooks1.listenerRefiners),
    optionRefiners: Object.assign(Object.assign({}, hooks0.optionRefiners), hooks1.optionRefiners),
    propSetHandlers: Object.assign(Object.assign({}, hooks0.propSetHandlers), hooks1.propSetHandlers)
  };
}
function compareOptionalDates(date0, date1) {
  if (date0 === void 0) {
    return date1;
  }
  if (date1 === void 0) {
    return date0;
  }
  return new Date(Math.max(date0.valueOf(), date1.valueOf()));
}
class StandardTheme extends Theme {
}
StandardTheme.prototype.classes = {
  root: "fc-theme-standard",
  tableCellShaded: "fc-cell-shaded",
  buttonGroup: "fc-button-group",
  button: "fc-button fc-button-primary",
  buttonActive: "fc-button-active"
};
StandardTheme.prototype.baseIconClass = "fc-icon";
StandardTheme.prototype.iconClasses = {
  close: "fc-icon-x",
  prev: "fc-icon-chevron-left",
  next: "fc-icon-chevron-right",
  prevYear: "fc-icon-chevrons-left",
  nextYear: "fc-icon-chevrons-right"
};
StandardTheme.prototype.rtlIconClasses = {
  prev: "fc-icon-chevron-right",
  next: "fc-icon-chevron-left",
  prevYear: "fc-icon-chevrons-right",
  nextYear: "fc-icon-chevrons-left"
};
StandardTheme.prototype.iconOverrideOption = "buttonIcons";
StandardTheme.prototype.iconOverrideCustomButtonOption = "icon";
StandardTheme.prototype.iconOverridePrefix = "fc-icon-";
function compileViewDefs(defaultConfigs, overrideConfigs) {
  let hash = {};
  let viewType;
  for (viewType in defaultConfigs) {
    ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);
  }
  for (viewType in overrideConfigs) {
    ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);
  }
  return hash;
}
function ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs) {
  if (hash[viewType]) {
    return hash[viewType];
  }
  let viewDef = buildViewDef(viewType, hash, defaultConfigs, overrideConfigs);
  if (viewDef) {
    hash[viewType] = viewDef;
  }
  return viewDef;
}
function buildViewDef(viewType, hash, defaultConfigs, overrideConfigs) {
  let defaultConfig = defaultConfigs[viewType];
  let overrideConfig = overrideConfigs[viewType];
  let queryProp = (name) => defaultConfig && defaultConfig[name] !== null ? defaultConfig[name] : overrideConfig && overrideConfig[name] !== null ? overrideConfig[name] : null;
  let theComponent = queryProp("component");
  let superType = queryProp("superType");
  let superDef = null;
  if (superType) {
    if (superType === viewType) {
      throw new Error("Can't have a custom view type that references itself");
    }
    superDef = ensureViewDef(superType, hash, defaultConfigs, overrideConfigs);
  }
  if (!theComponent && superDef) {
    theComponent = superDef.component;
  }
  if (!theComponent) {
    return null;
  }
  return {
    type: viewType,
    component: theComponent,
    defaults: Object.assign(Object.assign({}, superDef ? superDef.defaults : {}), defaultConfig ? defaultConfig.rawOptions : {}),
    overrides: Object.assign(Object.assign({}, superDef ? superDef.overrides : {}), overrideConfig ? overrideConfig.rawOptions : {})
  };
}
function parseViewConfigs(inputs) {
  return mapHash(inputs, parseViewConfig);
}
function parseViewConfig(input) {
  let rawOptions = typeof input === "function" ? { component: input } : input;
  let { component } = rawOptions;
  if (rawOptions.content) {
    component = createViewHookComponent(rawOptions);
  } else if (component && !(component.prototype instanceof BaseComponent)) {
    component = createViewHookComponent(Object.assign(Object.assign({}, rawOptions), { content: component }));
  }
  return {
    superType: rawOptions.type,
    component,
    rawOptions
    // includes type and component too :(
  };
}
function createViewHookComponent(options) {
  return (viewProps) => createElement$1(ViewContextType.Consumer, null, (context) => createElement$1(ContentContainer, { elTag: "div", elClasses: buildViewClassNames(context.viewSpec), renderProps: Object.assign(Object.assign({}, viewProps), { nextDayThreshold: context.options.nextDayThreshold }), generatorName: void 0, customGenerator: options.content, classNameGenerator: options.classNames, didMount: options.didMount, willUnmount: options.willUnmount }));
}
function buildViewSpecs(defaultInputs, optionOverrides, dynamicOptionOverrides, localeDefaults) {
  let defaultConfigs = parseViewConfigs(defaultInputs);
  let overrideConfigs = parseViewConfigs(optionOverrides.views);
  let viewDefs = compileViewDefs(defaultConfigs, overrideConfigs);
  return mapHash(viewDefs, (viewDef) => buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults));
}
function buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults) {
  let durationInput = viewDef.overrides.duration || viewDef.defaults.duration || dynamicOptionOverrides.duration || optionOverrides.duration;
  let duration = null;
  let durationUnit = "";
  let singleUnit = "";
  let singleUnitOverrides = {};
  if (durationInput) {
    duration = createDurationCached(durationInput);
    if (duration) {
      let denom = greatestDurationDenominator(duration);
      durationUnit = denom.unit;
      if (denom.value === 1) {
        singleUnit = durationUnit;
        singleUnitOverrides = overrideConfigs[durationUnit] ? overrideConfigs[durationUnit].rawOptions : {};
      }
    }
  }
  let queryButtonText = (optionsSubset) => {
    let buttonTextMap = optionsSubset.buttonText || {};
    let buttonTextKey = viewDef.defaults.buttonTextKey;
    if (buttonTextKey != null && buttonTextMap[buttonTextKey] != null) {
      return buttonTextMap[buttonTextKey];
    }
    if (buttonTextMap[viewDef.type] != null) {
      return buttonTextMap[viewDef.type];
    }
    if (buttonTextMap[singleUnit] != null) {
      return buttonTextMap[singleUnit];
    }
    return null;
  };
  let queryButtonTitle = (optionsSubset) => {
    let buttonHints = optionsSubset.buttonHints || {};
    let buttonKey = viewDef.defaults.buttonTextKey;
    if (buttonKey != null && buttonHints[buttonKey] != null) {
      return buttonHints[buttonKey];
    }
    if (buttonHints[viewDef.type] != null) {
      return buttonHints[viewDef.type];
    }
    if (buttonHints[singleUnit] != null) {
      return buttonHints[singleUnit];
    }
    return null;
  };
  return {
    type: viewDef.type,
    component: viewDef.component,
    duration,
    durationUnit,
    singleUnit,
    optionDefaults: viewDef.defaults,
    optionOverrides: Object.assign(Object.assign({}, singleUnitOverrides), viewDef.overrides),
    buttonTextOverride: queryButtonText(dynamicOptionOverrides) || queryButtonText(optionOverrides) || // constructor-specified buttonText lookup hash takes precedence
    viewDef.overrides.buttonText,
    buttonTextDefault: queryButtonText(localeDefaults) || viewDef.defaults.buttonText || queryButtonText(BASE_OPTION_DEFAULTS) || viewDef.type,
    // not DRY
    buttonTitleOverride: queryButtonTitle(dynamicOptionOverrides) || queryButtonTitle(optionOverrides) || viewDef.overrides.buttonHint,
    buttonTitleDefault: queryButtonTitle(localeDefaults) || viewDef.defaults.buttonHint || queryButtonTitle(BASE_OPTION_DEFAULTS)
    // will eventually fall back to buttonText
  };
}
let durationInputMap = {};
function createDurationCached(durationInput) {
  let json = JSON.stringify(durationInput);
  let res = durationInputMap[json];
  if (res === void 0) {
    res = createDuration(durationInput);
    durationInputMap[json] = res;
  }
  return res;
}
function reduceViewType(viewType, action) {
  switch (action.type) {
    case "CHANGE_VIEW_TYPE":
      viewType = action.viewType;
  }
  return viewType;
}
function reduceDynamicOptionOverrides(dynamicOptionOverrides, action) {
  switch (action.type) {
    case "SET_OPTION":
      return Object.assign(Object.assign({}, dynamicOptionOverrides), { [action.optionName]: action.rawOptionValue });
    default:
      return dynamicOptionOverrides;
  }
}
function reduceDateProfile(currentDateProfile, action, currentDate, dateProfileGenerator) {
  let dp;
  switch (action.type) {
    case "CHANGE_VIEW_TYPE":
      return dateProfileGenerator.build(action.dateMarker || currentDate);
    case "CHANGE_DATE":
      return dateProfileGenerator.build(action.dateMarker);
    case "PREV":
      dp = dateProfileGenerator.buildPrev(currentDateProfile, currentDate);
      if (dp.isValid) {
        return dp;
      }
      break;
    case "NEXT":
      dp = dateProfileGenerator.buildNext(currentDateProfile, currentDate);
      if (dp.isValid) {
        return dp;
      }
      break;
  }
  return currentDateProfile;
}
function initEventSources(calendarOptions, dateProfile, context) {
  let activeRange = dateProfile ? dateProfile.activeRange : null;
  return addSources({}, parseInitialSources(calendarOptions, context), activeRange, context);
}
function reduceEventSources(eventSources, action, dateProfile, context) {
  let activeRange = dateProfile ? dateProfile.activeRange : null;
  switch (action.type) {
    case "ADD_EVENT_SOURCES":
      return addSources(eventSources, action.sources, activeRange, context);
    case "REMOVE_EVENT_SOURCE":
      return removeSource(eventSources, action.sourceId);
    case "PREV":
    // TODO: how do we track all actions that affect dateProfile :(
    case "NEXT":
    case "CHANGE_DATE":
    case "CHANGE_VIEW_TYPE":
      if (dateProfile) {
        return fetchDirtySources(eventSources, activeRange, context);
      }
      return eventSources;
    case "FETCH_EVENT_SOURCES":
      return fetchSourcesByIds(eventSources, action.sourceIds ? (
        // why no type?
        arrayToHash(action.sourceIds)
      ) : excludeStaticSources(eventSources, context), activeRange, action.isRefetch || false, context);
    case "RECEIVE_EVENTS":
    case "RECEIVE_EVENT_ERROR":
      return receiveResponse(eventSources, action.sourceId, action.fetchId, action.fetchRange);
    case "REMOVE_ALL_EVENT_SOURCES":
      return {};
    default:
      return eventSources;
  }
}
function reduceEventSourcesNewTimeZone(eventSources, dateProfile, context) {
  let activeRange = dateProfile ? dateProfile.activeRange : null;
  return fetchSourcesByIds(eventSources, excludeStaticSources(eventSources, context), activeRange, true, context);
}
function computeEventSourcesLoading(eventSources) {
  for (let sourceId in eventSources) {
    if (eventSources[sourceId].isFetching) {
      return true;
    }
  }
  return false;
}
function addSources(eventSourceHash, sources, fetchRange, context) {
  let hash = {};
  for (let source of sources) {
    hash[source.sourceId] = source;
  }
  if (fetchRange) {
    hash = fetchDirtySources(hash, fetchRange, context);
  }
  return Object.assign(Object.assign({}, eventSourceHash), hash);
}
function removeSource(eventSourceHash, sourceId) {
  return filterHash(eventSourceHash, (eventSource) => eventSource.sourceId !== sourceId);
}
function fetchDirtySources(sourceHash, fetchRange, context) {
  return fetchSourcesByIds(sourceHash, filterHash(sourceHash, (eventSource) => isSourceDirty(eventSource, fetchRange, context)), fetchRange, false, context);
}
function isSourceDirty(eventSource, fetchRange, context) {
  if (!doesSourceNeedRange(eventSource, context)) {
    return !eventSource.latestFetchId;
  }
  return !context.options.lazyFetching || !eventSource.fetchRange || eventSource.isFetching || // always cancel outdated in-progress fetches
  fetchRange.start < eventSource.fetchRange.start || fetchRange.end > eventSource.fetchRange.end;
}
function fetchSourcesByIds(prevSources, sourceIdHash, fetchRange, isRefetch, context) {
  let nextSources = {};
  for (let sourceId in prevSources) {
    let source = prevSources[sourceId];
    if (sourceIdHash[sourceId]) {
      nextSources[sourceId] = fetchSource(source, fetchRange, isRefetch, context);
    } else {
      nextSources[sourceId] = source;
    }
  }
  return nextSources;
}
function fetchSource(eventSource, fetchRange, isRefetch, context) {
  let { options, calendarApi } = context;
  let sourceDef = context.pluginHooks.eventSourceDefs[eventSource.sourceDefId];
  let fetchId = guid();
  sourceDef.fetch({
    eventSource,
    range: fetchRange,
    isRefetch,
    context
  }, (res) => {
    let { rawEvents } = res;
    if (options.eventSourceSuccess) {
      rawEvents = options.eventSourceSuccess.call(calendarApi, rawEvents, res.response) || rawEvents;
    }
    if (eventSource.success) {
      rawEvents = eventSource.success.call(calendarApi, rawEvents, res.response) || rawEvents;
    }
    context.dispatch({
      type: "RECEIVE_EVENTS",
      sourceId: eventSource.sourceId,
      fetchId,
      fetchRange,
      rawEvents
    });
  }, (error) => {
    let errorHandled = false;
    if (options.eventSourceFailure) {
      options.eventSourceFailure.call(calendarApi, error);
      errorHandled = true;
    }
    if (eventSource.failure) {
      eventSource.failure(error);
      errorHandled = true;
    }
    if (!errorHandled) {
      console.warn(error.message, error);
    }
    context.dispatch({
      type: "RECEIVE_EVENT_ERROR",
      sourceId: eventSource.sourceId,
      fetchId,
      fetchRange,
      error
    });
  });
  return Object.assign(Object.assign({}, eventSource), { isFetching: true, latestFetchId: fetchId });
}
function receiveResponse(sourceHash, sourceId, fetchId, fetchRange) {
  let eventSource = sourceHash[sourceId];
  if (eventSource && // not already removed
  fetchId === eventSource.latestFetchId) {
    return Object.assign(Object.assign({}, sourceHash), { [sourceId]: Object.assign(Object.assign({}, eventSource), { isFetching: false, fetchRange }) });
  }
  return sourceHash;
}
function excludeStaticSources(eventSources, context) {
  return filterHash(eventSources, (eventSource) => doesSourceNeedRange(eventSource, context));
}
function parseInitialSources(rawOptions, context) {
  let refiners = buildEventSourceRefiners(context);
  let rawSources = [].concat(rawOptions.eventSources || []);
  let sources = [];
  if (rawOptions.initialEvents) {
    rawSources.unshift(rawOptions.initialEvents);
  }
  if (rawOptions.events) {
    rawSources.unshift(rawOptions.events);
  }
  for (let rawSource of rawSources) {
    let source = parseEventSource(rawSource, context, refiners);
    if (source) {
      sources.push(source);
    }
  }
  return sources;
}
function doesSourceNeedRange(eventSource, context) {
  let defs = context.pluginHooks.eventSourceDefs;
  return !defs[eventSource.sourceDefId].ignoreRange;
}
function reduceDateSelection(currentSelection, action) {
  switch (action.type) {
    case "UNSELECT_DATES":
      return null;
    case "SELECT_DATES":
      return action.selection;
    default:
      return currentSelection;
  }
}
function reduceSelectedEvent(currentInstanceId, action) {
  switch (action.type) {
    case "UNSELECT_EVENT":
      return "";
    case "SELECT_EVENT":
      return action.eventInstanceId;
    default:
      return currentInstanceId;
  }
}
function reduceEventDrag(currentDrag, action) {
  let newDrag;
  switch (action.type) {
    case "UNSET_EVENT_DRAG":
      return null;
    case "SET_EVENT_DRAG":
      newDrag = action.state;
      return {
        affectedEvents: newDrag.affectedEvents,
        mutatedEvents: newDrag.mutatedEvents,
        isEvent: newDrag.isEvent
      };
    default:
      return currentDrag;
  }
}
function reduceEventResize(currentResize, action) {
  let newResize;
  switch (action.type) {
    case "UNSET_EVENT_RESIZE":
      return null;
    case "SET_EVENT_RESIZE":
      newResize = action.state;
      return {
        affectedEvents: newResize.affectedEvents,
        mutatedEvents: newResize.mutatedEvents,
        isEvent: newResize.isEvent
      };
    default:
      return currentResize;
  }
}
function parseToolbars(calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) {
  let header = calendarOptions.headerToolbar ? parseToolbar(calendarOptions.headerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) : null;
  let footer = calendarOptions.footerToolbar ? parseToolbar(calendarOptions.footerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) : null;
  return { header, footer };
}
function parseToolbar(sectionStrHash, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) {
  let sectionWidgets = {};
  let viewsWithButtons = [];
  let hasTitle = false;
  for (let sectionName in sectionStrHash) {
    let sectionStr = sectionStrHash[sectionName];
    let sectionRes = parseSection(sectionStr, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi);
    sectionWidgets[sectionName] = sectionRes.widgets;
    viewsWithButtons.push(...sectionRes.viewsWithButtons);
    hasTitle = hasTitle || sectionRes.hasTitle;
  }
  return { sectionWidgets, viewsWithButtons, hasTitle };
}
function parseSection(sectionStr, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) {
  let isRtl = calendarOptions.direction === "rtl";
  let calendarCustomButtons = calendarOptions.customButtons || {};
  let calendarButtonTextOverrides = calendarOptionOverrides.buttonText || {};
  let calendarButtonText = calendarOptions.buttonText || {};
  let calendarButtonHintOverrides = calendarOptionOverrides.buttonHints || {};
  let calendarButtonHints = calendarOptions.buttonHints || {};
  let sectionSubstrs = sectionStr ? sectionStr.split(" ") : [];
  let viewsWithButtons = [];
  let hasTitle = false;
  let widgets = sectionSubstrs.map((buttonGroupStr) => buttonGroupStr.split(",").map((buttonName) => {
    if (buttonName === "title") {
      hasTitle = true;
      return { buttonName };
    }
    let customButtonProps;
    let viewSpec;
    let buttonClick;
    let buttonIcon;
    let buttonText;
    let buttonHint;
    if (customButtonProps = calendarCustomButtons[buttonName]) {
      buttonClick = (ev) => {
        if (customButtonProps.click) {
          customButtonProps.click.call(ev.target, ev, ev.target);
        }
      };
      (buttonIcon = theme.getCustomButtonIconClass(customButtonProps)) || (buttonIcon = theme.getIconClass(buttonName, isRtl)) || (buttonText = customButtonProps.text);
      buttonHint = customButtonProps.hint || customButtonProps.text;
    } else if (viewSpec = viewSpecs[buttonName]) {
      viewsWithButtons.push(buttonName);
      buttonClick = () => {
        calendarApi.changeView(buttonName);
      };
      (buttonText = viewSpec.buttonTextOverride) || (buttonIcon = theme.getIconClass(buttonName, isRtl)) || (buttonText = viewSpec.buttonTextDefault);
      let textFallback = viewSpec.buttonTextOverride || viewSpec.buttonTextDefault;
      buttonHint = formatWithOrdinals(
        viewSpec.buttonTitleOverride || viewSpec.buttonTitleDefault || calendarOptions.viewHint,
        [textFallback, buttonName],
        // view-name = buttonName
        textFallback
      );
    } else if (calendarApi[buttonName]) {
      buttonClick = () => {
        calendarApi[buttonName]();
      };
      (buttonText = calendarButtonTextOverrides[buttonName]) || (buttonIcon = theme.getIconClass(buttonName, isRtl)) || (buttonText = calendarButtonText[buttonName]);
      if (buttonName === "prevYear" || buttonName === "nextYear") {
        let prevOrNext = buttonName === "prevYear" ? "prev" : "next";
        buttonHint = formatWithOrdinals(calendarButtonHintOverrides[prevOrNext] || calendarButtonHints[prevOrNext], [
          calendarButtonText.year || "year",
          "year"
        ], calendarButtonText[buttonName]);
      } else {
        buttonHint = (navUnit) => formatWithOrdinals(calendarButtonHintOverrides[buttonName] || calendarButtonHints[buttonName], [
          calendarButtonText[navUnit] || navUnit,
          navUnit
        ], calendarButtonText[buttonName]);
      }
    }
    return { buttonName, buttonClick, buttonIcon, buttonText, buttonHint };
  }));
  return { widgets, viewsWithButtons, hasTitle };
}
class ViewImpl {
  constructor(type, getCurrentData, dateEnv) {
    this.type = type;
    this.getCurrentData = getCurrentData;
    this.dateEnv = dateEnv;
  }
  get calendar() {
    return this.getCurrentData().calendarApi;
  }
  get title() {
    return this.getCurrentData().viewTitle;
  }
  get activeStart() {
    return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start);
  }
  get activeEnd() {
    return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end);
  }
  get currentStart() {
    return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start);
  }
  get currentEnd() {
    return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end);
  }
  getOption(name) {
    return this.getCurrentData().options[name];
  }
}
let eventSourceDef$2 = {
  ignoreRange: true,
  parseMeta(refined) {
    if (Array.isArray(refined.events)) {
      return refined.events;
    }
    return null;
  },
  fetch(arg, successCallback) {
    successCallback({
      rawEvents: arg.eventSource.meta
    });
  }
};
const arrayEventSourcePlugin = createPlugin({
  name: "array-event-source",
  eventSourceDefs: [eventSourceDef$2]
});
let eventSourceDef$1 = {
  parseMeta(refined) {
    if (typeof refined.events === "function") {
      return refined.events;
    }
    return null;
  },
  fetch(arg, successCallback, errorCallback) {
    const { dateEnv } = arg.context;
    const func = arg.eventSource.meta;
    unpromisify(func.bind(null, buildRangeApiWithTimeZone(arg.range, dateEnv)), (rawEvents) => successCallback({ rawEvents }), errorCallback);
  }
};
const funcEventSourcePlugin = createPlugin({
  name: "func-event-source",
  eventSourceDefs: [eventSourceDef$1]
});
const JSON_FEED_EVENT_SOURCE_REFINERS = {
  method: String,
  extraParams: identity,
  startParam: String,
  endParam: String,
  timeZoneParam: String
};
let eventSourceDef = {
  parseMeta(refined) {
    if (refined.url && (refined.format === "json" || !refined.format)) {
      return {
        url: refined.url,
        format: "json",
        method: (refined.method || "GET").toUpperCase(),
        extraParams: refined.extraParams,
        startParam: refined.startParam,
        endParam: refined.endParam,
        timeZoneParam: refined.timeZoneParam
      };
    }
    return null;
  },
  fetch(arg, successCallback, errorCallback) {
    const { meta } = arg.eventSource;
    const requestParams = buildRequestParams(meta, arg.range, arg.context);
    requestJson(meta.method, meta.url, requestParams).then(([rawEvents, response]) => {
      successCallback({ rawEvents, response });
    }, errorCallback);
  }
};
const jsonFeedEventSourcePlugin = createPlugin({
  name: "json-event-source",
  eventSourceRefiners: JSON_FEED_EVENT_SOURCE_REFINERS,
  eventSourceDefs: [eventSourceDef]
});
function buildRequestParams(meta, range, context) {
  let { dateEnv, options } = context;
  let startParam;
  let endParam;
  let timeZoneParam;
  let customRequestParams;
  let params = {};
  startParam = meta.startParam;
  if (startParam == null) {
    startParam = options.startParam;
  }
  endParam = meta.endParam;
  if (endParam == null) {
    endParam = options.endParam;
  }
  timeZoneParam = meta.timeZoneParam;
  if (timeZoneParam == null) {
    timeZoneParam = options.timeZoneParam;
  }
  if (typeof meta.extraParams === "function") {
    customRequestParams = meta.extraParams();
  } else {
    customRequestParams = meta.extraParams || {};
  }
  Object.assign(params, customRequestParams);
  params[startParam] = dateEnv.formatIso(range.start);
  params[endParam] = dateEnv.formatIso(range.end);
  if (dateEnv.timeZone !== "local") {
    params[timeZoneParam] = dateEnv.timeZone;
  }
  return params;
}
const SIMPLE_RECURRING_REFINERS = {
  daysOfWeek: identity,
  startTime: createDuration,
  endTime: createDuration,
  duration: createDuration,
  startRecur: identity,
  endRecur: identity
};
let recurring = {
  parse(refined, dateEnv) {
    if (refined.daysOfWeek || refined.startTime || refined.endTime || refined.startRecur || refined.endRecur) {
      let recurringData = {
        daysOfWeek: refined.daysOfWeek || null,
        startTime: refined.startTime || null,
        endTime: refined.endTime || null,
        startRecur: refined.startRecur ? dateEnv.createMarker(refined.startRecur) : null,
        endRecur: refined.endRecur ? dateEnv.createMarker(refined.endRecur) : null
      };
      let duration;
      if (refined.duration) {
        duration = refined.duration;
      }
      if (!duration && refined.startTime && refined.endTime) {
        duration = subtractDurations(refined.endTime, refined.startTime);
      }
      return {
        allDayGuess: Boolean(!refined.startTime && !refined.endTime),
        duration,
        typeData: recurringData
        // doesn't need endTime anymore but oh well
      };
    }
    return null;
  },
  expand(typeData, framingRange, dateEnv) {
    let clippedFramingRange = intersectRanges(framingRange, { start: typeData.startRecur, end: typeData.endRecur });
    if (clippedFramingRange) {
      return expandRanges(typeData.daysOfWeek, typeData.startTime, clippedFramingRange, dateEnv);
    }
    return [];
  }
};
const simpleRecurringEventsPlugin = createPlugin({
  name: "simple-recurring-event",
  recurringTypes: [recurring],
  eventRefiners: SIMPLE_RECURRING_REFINERS
});
function expandRanges(daysOfWeek, startTime, framingRange, dateEnv) {
  let dowHash = daysOfWeek ? arrayToHash(daysOfWeek) : null;
  let dayMarker = startOfDay(framingRange.start);
  let endMarker = framingRange.end;
  let instanceStarts = [];
  while (dayMarker < endMarker) {
    let instanceStart;
    if (!dowHash || dowHash[dayMarker.getUTCDay()]) {
      if (startTime) {
        instanceStart = dateEnv.add(dayMarker, startTime);
      } else {
        instanceStart = dayMarker;
      }
      instanceStarts.push(instanceStart);
    }
    dayMarker = addDays(dayMarker, 1);
  }
  return instanceStarts;
}
const changeHandlerPlugin = createPlugin({
  name: "change-handler",
  optionChangeHandlers: {
    events(events, context) {
      handleEventSources([events], context);
    },
    eventSources: handleEventSources
  }
});
function handleEventSources(inputs, context) {
  let unfoundSources = hashValuesToArray(context.getCurrentData().eventSources);
  if (unfoundSources.length === 1 && inputs.length === 1 && Array.isArray(unfoundSources[0]._raw) && Array.isArray(inputs[0])) {
    context.dispatch({
      type: "RESET_RAW_EVENTS",
      sourceId: unfoundSources[0].sourceId,
      rawEvents: inputs[0]
    });
    return;
  }
  let newInputs = [];
  for (let input of inputs) {
    let inputFound = false;
    for (let i2 = 0; i2 < unfoundSources.length; i2 += 1) {
      if (unfoundSources[i2]._raw === input) {
        unfoundSources.splice(i2, 1);
        inputFound = true;
        break;
      }
    }
    if (!inputFound) {
      newInputs.push(input);
    }
  }
  for (let unfoundSource of unfoundSources) {
    context.dispatch({
      type: "REMOVE_EVENT_SOURCE",
      sourceId: unfoundSource.sourceId
    });
  }
  for (let newInput of newInputs) {
    context.calendarApi.addEventSource(newInput);
  }
}
function handleDateProfile(dateProfile, context) {
  context.emitter.trigger("datesSet", Object.assign(Object.assign({}, buildRangeApiWithTimeZone(dateProfile.activeRange, context.dateEnv)), { view: context.viewApi }));
}
function handleEventStore(eventStore, context) {
  let { emitter } = context;
  if (emitter.hasHandlers("eventsSet")) {
    emitter.trigger("eventsSet", buildEventApis(eventStore, context));
  }
}
const globalPlugins = [
  arrayEventSourcePlugin,
  funcEventSourcePlugin,
  jsonFeedEventSourcePlugin,
  simpleRecurringEventsPlugin,
  changeHandlerPlugin,
  createPlugin({
    name: "misc",
    isLoadingFuncs: [
      (state) => computeEventSourcesLoading(state.eventSources)
    ],
    propSetHandlers: {
      dateProfile: handleDateProfile,
      eventStore: handleEventStore
    }
  })
];
class TaskRunner {
  constructor(runTaskOption, drainedOption) {
    this.runTaskOption = runTaskOption;
    this.drainedOption = drainedOption;
    this.queue = [];
    this.delayedRunner = new DelayedRunner(this.drain.bind(this));
  }
  request(task, delay) {
    this.queue.push(task);
    this.delayedRunner.request(delay);
  }
  pause(scope) {
    this.delayedRunner.pause(scope);
  }
  resume(scope, force) {
    this.delayedRunner.resume(scope, force);
  }
  drain() {
    let { queue } = this;
    while (queue.length) {
      let completedTasks = [];
      let task;
      while (task = queue.shift()) {
        this.runTask(task);
        completedTasks.push(task);
      }
      this.drained(completedTasks);
    }
  }
  runTask(task) {
    if (this.runTaskOption) {
      this.runTaskOption(task);
    }
  }
  drained(completedTasks) {
    if (this.drainedOption) {
      this.drainedOption(completedTasks);
    }
  }
}
function buildTitle(dateProfile, viewOptions, dateEnv) {
  let range;
  if (/^(year|month)$/.test(dateProfile.currentRangeUnit)) {
    range = dateProfile.currentRange;
  } else {
    range = dateProfile.activeRange;
  }
  return dateEnv.formatRange(range.start, range.end, createFormatter(viewOptions.titleFormat || buildTitleFormat(dateProfile)), {
    isEndExclusive: dateProfile.isRangeAllDay,
    defaultSeparator: viewOptions.titleRangeSeparator
  });
}
function buildTitleFormat(dateProfile) {
  let { currentRangeUnit } = dateProfile;
  if (currentRangeUnit === "year") {
    return { year: "numeric" };
  }
  if (currentRangeUnit === "month") {
    return { year: "numeric", month: "long" };
  }
  let days = diffWholeDays(dateProfile.currentRange.start, dateProfile.currentRange.end);
  if (days !== null && days > 1) {
    return { year: "numeric", month: "short", day: "numeric" };
  }
  return { year: "numeric", month: "long", day: "numeric" };
}
class CalendarDataManager {
  constructor(props) {
    this.computeCurrentViewData = memoize(this._computeCurrentViewData);
    this.organizeRawLocales = memoize(organizeRawLocales);
    this.buildLocale = memoize(buildLocale);
    this.buildPluginHooks = buildBuildPluginHooks();
    this.buildDateEnv = memoize(buildDateEnv$1);
    this.buildTheme = memoize(buildTheme);
    this.parseToolbars = memoize(parseToolbars);
    this.buildViewSpecs = memoize(buildViewSpecs);
    this.buildDateProfileGenerator = memoizeObjArg(buildDateProfileGenerator);
    this.buildViewApi = memoize(buildViewApi);
    this.buildViewUiProps = memoizeObjArg(buildViewUiProps);
    this.buildEventUiBySource = memoize(buildEventUiBySource, isPropsEqual);
    this.buildEventUiBases = memoize(buildEventUiBases);
    this.parseContextBusinessHours = memoizeObjArg(parseContextBusinessHours);
    this.buildTitle = memoize(buildTitle);
    this.emitter = new Emitter();
    this.actionRunner = new TaskRunner(this._handleAction.bind(this), this.updateData.bind(this));
    this.currentCalendarOptionsInput = {};
    this.currentCalendarOptionsRefined = {};
    this.currentViewOptionsInput = {};
    this.currentViewOptionsRefined = {};
    this.currentCalendarOptionsRefiners = {};
    this.optionsForRefining = [];
    this.optionsForHandling = [];
    this.getCurrentData = () => this.data;
    this.dispatch = (action) => {
      this.actionRunner.request(action);
    };
    this.props = props;
    this.actionRunner.pause();
    let dynamicOptionOverrides = {};
    let optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);
    let currentViewType = optionsData.calendarOptions.initialView || optionsData.pluginHooks.initialView;
    let currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);
    props.calendarApi.currentDataManager = this;
    this.emitter.setThisContext(props.calendarApi);
    this.emitter.setOptions(currentViewData.options);
    let currentDate = getInitialDate(optionsData.calendarOptions, optionsData.dateEnv);
    let dateProfile = currentViewData.dateProfileGenerator.build(currentDate);
    if (!rangeContainsMarker(dateProfile.activeRange, currentDate)) {
      currentDate = dateProfile.currentRange.start;
    }
    let calendarContext = {
      dateEnv: optionsData.dateEnv,
      options: optionsData.calendarOptions,
      pluginHooks: optionsData.pluginHooks,
      calendarApi: props.calendarApi,
      dispatch: this.dispatch,
      emitter: this.emitter,
      getCurrentData: this.getCurrentData
    };
    for (let callback of optionsData.pluginHooks.contextInit) {
      callback(calendarContext);
    }
    let eventSources = initEventSources(optionsData.calendarOptions, dateProfile, calendarContext);
    let initialState = {
      dynamicOptionOverrides,
      currentViewType,
      currentDate,
      dateProfile,
      businessHours: this.parseContextBusinessHours(calendarContext),
      eventSources,
      eventUiBases: {},
      eventStore: createEmptyEventStore(),
      renderableEventStore: createEmptyEventStore(),
      dateSelection: null,
      eventSelection: "",
      eventDrag: null,
      eventResize: null,
      selectionConfig: this.buildViewUiProps(calendarContext).selectionConfig
    };
    let contextAndState = Object.assign(Object.assign({}, calendarContext), initialState);
    for (let reducer of optionsData.pluginHooks.reducers) {
      Object.assign(initialState, reducer(null, null, contextAndState));
    }
    if (computeIsLoading(initialState, calendarContext)) {
      this.emitter.trigger("loading", true);
    }
    this.state = initialState;
    this.updateData();
    this.actionRunner.resume();
  }
  resetOptions(optionOverrides, changedOptionNames) {
    let { props } = this;
    if (changedOptionNames === void 0) {
      props.optionOverrides = optionOverrides;
    } else {
      props.optionOverrides = Object.assign(Object.assign({}, props.optionOverrides || {}), optionOverrides);
      this.optionsForRefining.push(...changedOptionNames);
    }
    if (changedOptionNames === void 0 || changedOptionNames.length) {
      this.actionRunner.request({
        type: "NOTHING"
      });
    }
  }
  _handleAction(action) {
    let { props, state, emitter } = this;
    let dynamicOptionOverrides = reduceDynamicOptionOverrides(state.dynamicOptionOverrides, action);
    let optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);
    let currentViewType = reduceViewType(state.currentViewType, action);
    let currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);
    props.calendarApi.currentDataManager = this;
    emitter.setThisContext(props.calendarApi);
    emitter.setOptions(currentViewData.options);
    let calendarContext = {
      dateEnv: optionsData.dateEnv,
      options: optionsData.calendarOptions,
      pluginHooks: optionsData.pluginHooks,
      calendarApi: props.calendarApi,
      dispatch: this.dispatch,
      emitter,
      getCurrentData: this.getCurrentData
    };
    let { currentDate, dateProfile } = state;
    if (this.data && this.data.dateProfileGenerator !== currentViewData.dateProfileGenerator) {
      dateProfile = currentViewData.dateProfileGenerator.build(currentDate);
    }
    currentDate = reduceCurrentDate(currentDate, action);
    dateProfile = reduceDateProfile(dateProfile, action, currentDate, currentViewData.dateProfileGenerator);
    if (action.type === "PREV" || // TODO: move this logic into DateProfileGenerator
    action.type === "NEXT" || // "
    !rangeContainsMarker(dateProfile.currentRange, currentDate)) {
      currentDate = dateProfile.currentRange.start;
    }
    let eventSources = reduceEventSources(state.eventSources, action, dateProfile, calendarContext);
    let eventStore = reduceEventStore(state.eventStore, action, eventSources, dateProfile, calendarContext);
    let isEventsLoading = computeEventSourcesLoading(eventSources);
    let renderableEventStore = isEventsLoading && !currentViewData.options.progressiveEventRendering ? state.renderableEventStore || eventStore : (
      // try from previous state
      eventStore
    );
    let { eventUiSingleBase, selectionConfig } = this.buildViewUiProps(calendarContext);
    let eventUiBySource = this.buildEventUiBySource(eventSources);
    let eventUiBases = this.buildEventUiBases(renderableEventStore.defs, eventUiSingleBase, eventUiBySource);
    let newState = {
      dynamicOptionOverrides,
      currentViewType,
      currentDate,
      dateProfile,
      eventSources,
      eventStore,
      renderableEventStore,
      selectionConfig,
      eventUiBases,
      businessHours: this.parseContextBusinessHours(calendarContext),
      dateSelection: reduceDateSelection(state.dateSelection, action),
      eventSelection: reduceSelectedEvent(state.eventSelection, action),
      eventDrag: reduceEventDrag(state.eventDrag, action),
      eventResize: reduceEventResize(state.eventResize, action)
    };
    let contextAndState = Object.assign(Object.assign({}, calendarContext), newState);
    for (let reducer of optionsData.pluginHooks.reducers) {
      Object.assign(newState, reducer(state, action, contextAndState));
    }
    let wasLoading = computeIsLoading(state, calendarContext);
    let isLoading = computeIsLoading(newState, calendarContext);
    if (!wasLoading && isLoading) {
      emitter.trigger("loading", true);
    } else if (wasLoading && !isLoading) {
      emitter.trigger("loading", false);
    }
    this.state = newState;
    if (props.onAction) {
      props.onAction(action);
    }
  }
  updateData() {
    let { props, state } = this;
    let oldData = this.data;
    let optionsData = this.computeOptionsData(props.optionOverrides, state.dynamicOptionOverrides, props.calendarApi);
    let currentViewData = this.computeCurrentViewData(state.currentViewType, optionsData, props.optionOverrides, state.dynamicOptionOverrides);
    let data = this.data = Object.assign(Object.assign(Object.assign({ viewTitle: this.buildTitle(state.dateProfile, currentViewData.options, optionsData.dateEnv), calendarApi: props.calendarApi, dispatch: this.dispatch, emitter: this.emitter, getCurrentData: this.getCurrentData }, optionsData), currentViewData), state);
    let changeHandlers = optionsData.pluginHooks.optionChangeHandlers;
    let oldCalendarOptions = oldData && oldData.calendarOptions;
    let newCalendarOptions = optionsData.calendarOptions;
    if (oldCalendarOptions && oldCalendarOptions !== newCalendarOptions) {
      if (oldCalendarOptions.timeZone !== newCalendarOptions.timeZone) {
        state.eventSources = data.eventSources = reduceEventSourcesNewTimeZone(data.eventSources, state.dateProfile, data);
        state.eventStore = data.eventStore = rezoneEventStoreDates(data.eventStore, oldData.dateEnv, data.dateEnv);
        state.renderableEventStore = data.renderableEventStore = rezoneEventStoreDates(data.renderableEventStore, oldData.dateEnv, data.dateEnv);
      }
      for (let optionName in changeHandlers) {
        if (this.optionsForHandling.indexOf(optionName) !== -1 || oldCalendarOptions[optionName] !== newCalendarOptions[optionName]) {
          changeHandlers[optionName](newCalendarOptions[optionName], data);
        }
      }
    }
    this.optionsForHandling = [];
    if (props.onData) {
      props.onData(data);
    }
  }
  computeOptionsData(optionOverrides, dynamicOptionOverrides, calendarApi) {
    if (!this.optionsForRefining.length && optionOverrides === this.stableOptionOverrides && dynamicOptionOverrides === this.stableDynamicOptionOverrides) {
      return this.stableCalendarOptionsData;
    }
    let { refinedOptions, pluginHooks, localeDefaults, availableLocaleData, extra } = this.processRawCalendarOptions(optionOverrides, dynamicOptionOverrides);
    warnUnknownOptions(extra);
    let dateEnv = this.buildDateEnv(refinedOptions.timeZone, refinedOptions.locale, refinedOptions.weekNumberCalculation, refinedOptions.firstDay, refinedOptions.weekText, pluginHooks, availableLocaleData, refinedOptions.defaultRangeSeparator);
    let viewSpecs = this.buildViewSpecs(pluginHooks.views, this.stableOptionOverrides, this.stableDynamicOptionOverrides, localeDefaults);
    let theme = this.buildTheme(refinedOptions, pluginHooks);
    let toolbarConfig = this.parseToolbars(refinedOptions, this.stableOptionOverrides, theme, viewSpecs, calendarApi);
    return this.stableCalendarOptionsData = {
      calendarOptions: refinedOptions,
      pluginHooks,
      dateEnv,
      viewSpecs,
      theme,
      toolbarConfig,
      localeDefaults,
      availableRawLocales: availableLocaleData.map
    };
  }
  // always called from behind a memoizer
  processRawCalendarOptions(optionOverrides, dynamicOptionOverrides) {
    let { locales, locale } = mergeRawOptions([
      BASE_OPTION_DEFAULTS,
      optionOverrides,
      dynamicOptionOverrides
    ]);
    let availableLocaleData = this.organizeRawLocales(locales);
    let availableRawLocales = availableLocaleData.map;
    let localeDefaults = this.buildLocale(locale || availableLocaleData.defaultCode, availableRawLocales).options;
    let pluginHooks = this.buildPluginHooks(optionOverrides.plugins || [], globalPlugins);
    let refiners = this.currentCalendarOptionsRefiners = Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);
    let extra = {};
    let raw = mergeRawOptions([
      BASE_OPTION_DEFAULTS,
      localeDefaults,
      optionOverrides,
      dynamicOptionOverrides
    ]);
    let refined = {};
    let currentRaw = this.currentCalendarOptionsInput;
    let currentRefined = this.currentCalendarOptionsRefined;
    let anyChanges = false;
    for (let optionName in raw) {
      if (this.optionsForRefining.indexOf(optionName) === -1 && (raw[optionName] === currentRaw[optionName] || COMPLEX_OPTION_COMPARATORS[optionName] && optionName in currentRaw && COMPLEX_OPTION_COMPARATORS[optionName](currentRaw[optionName], raw[optionName]))) {
        refined[optionName] = currentRefined[optionName];
      } else if (refiners[optionName]) {
        refined[optionName] = refiners[optionName](raw[optionName]);
        anyChanges = true;
      } else {
        extra[optionName] = currentRaw[optionName];
      }
    }
    if (anyChanges) {
      this.currentCalendarOptionsInput = raw;
      this.currentCalendarOptionsRefined = refined;
      this.stableOptionOverrides = optionOverrides;
      this.stableDynamicOptionOverrides = dynamicOptionOverrides;
    }
    this.optionsForHandling.push(...this.optionsForRefining);
    this.optionsForRefining = [];
    return {
      rawOptions: this.currentCalendarOptionsInput,
      refinedOptions: this.currentCalendarOptionsRefined,
      pluginHooks,
      availableLocaleData,
      localeDefaults,
      extra
    };
  }
  _computeCurrentViewData(viewType, optionsData, optionOverrides, dynamicOptionOverrides) {
    let viewSpec = optionsData.viewSpecs[viewType];
    if (!viewSpec) {
      throw new Error(`viewType "${viewType}" is not available. Please make sure you've loaded all neccessary plugins`);
    }
    let { refinedOptions, extra } = this.processRawViewOptions(viewSpec, optionsData.pluginHooks, optionsData.localeDefaults, optionOverrides, dynamicOptionOverrides);
    warnUnknownOptions(extra);
    let dateProfileGenerator = this.buildDateProfileGenerator({
      dateProfileGeneratorClass: viewSpec.optionDefaults.dateProfileGeneratorClass,
      duration: viewSpec.duration,
      durationUnit: viewSpec.durationUnit,
      usesMinMaxTime: viewSpec.optionDefaults.usesMinMaxTime,
      dateEnv: optionsData.dateEnv,
      calendarApi: this.props.calendarApi,
      slotMinTime: refinedOptions.slotMinTime,
      slotMaxTime: refinedOptions.slotMaxTime,
      showNonCurrentDates: refinedOptions.showNonCurrentDates,
      dayCount: refinedOptions.dayCount,
      dateAlignment: refinedOptions.dateAlignment,
      dateIncrement: refinedOptions.dateIncrement,
      hiddenDays: refinedOptions.hiddenDays,
      weekends: refinedOptions.weekends,
      nowInput: refinedOptions.now,
      validRangeInput: refinedOptions.validRange,
      visibleRangeInput: refinedOptions.visibleRange,
      fixedWeekCount: refinedOptions.fixedWeekCount
    });
    let viewApi = this.buildViewApi(viewType, this.getCurrentData, optionsData.dateEnv);
    return { viewSpec, options: refinedOptions, dateProfileGenerator, viewApi };
  }
  processRawViewOptions(viewSpec, pluginHooks, localeDefaults, optionOverrides, dynamicOptionOverrides) {
    let raw = mergeRawOptions([
      BASE_OPTION_DEFAULTS,
      viewSpec.optionDefaults,
      localeDefaults,
      optionOverrides,
      viewSpec.optionOverrides,
      dynamicOptionOverrides
    ]);
    let refiners = Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), VIEW_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);
    let refined = {};
    let currentRaw = this.currentViewOptionsInput;
    let currentRefined = this.currentViewOptionsRefined;
    let anyChanges = false;
    let extra = {};
    for (let optionName in raw) {
      if (raw[optionName] === currentRaw[optionName] || COMPLEX_OPTION_COMPARATORS[optionName] && COMPLEX_OPTION_COMPARATORS[optionName](raw[optionName], currentRaw[optionName])) {
        refined[optionName] = currentRefined[optionName];
      } else {
        if (raw[optionName] === this.currentCalendarOptionsInput[optionName] || COMPLEX_OPTION_COMPARATORS[optionName] && COMPLEX_OPTION_COMPARATORS[optionName](raw[optionName], this.currentCalendarOptionsInput[optionName])) {
          if (optionName in this.currentCalendarOptionsRefined) {
            refined[optionName] = this.currentCalendarOptionsRefined[optionName];
          }
        } else if (refiners[optionName]) {
          refined[optionName] = refiners[optionName](raw[optionName]);
        } else {
          extra[optionName] = raw[optionName];
        }
        anyChanges = true;
      }
    }
    if (anyChanges) {
      this.currentViewOptionsInput = raw;
      this.currentViewOptionsRefined = refined;
    }
    return {
      rawOptions: this.currentViewOptionsInput,
      refinedOptions: this.currentViewOptionsRefined,
      extra
    };
  }
}
function buildDateEnv$1(timeZone, explicitLocale, weekNumberCalculation, firstDay, weekText, pluginHooks, availableLocaleData, defaultSeparator) {
  let locale = buildLocale(explicitLocale || availableLocaleData.defaultCode, availableLocaleData.map);
  return new DateEnv({
    calendarSystem: "gregory",
    timeZone,
    namedTimeZoneImpl: pluginHooks.namedTimeZonedImpl,
    locale,
    weekNumberCalculation,
    firstDay,
    weekText,
    cmdFormatter: pluginHooks.cmdFormatter,
    defaultSeparator
  });
}
function buildTheme(options, pluginHooks) {
  let ThemeClass = pluginHooks.themeClasses[options.themeSystem] || StandardTheme;
  return new ThemeClass(options);
}
function buildDateProfileGenerator(props) {
  let DateProfileGeneratorClass = props.dateProfileGeneratorClass || DateProfileGenerator;
  return new DateProfileGeneratorClass(props);
}
function buildViewApi(type, getCurrentData, dateEnv) {
  return new ViewImpl(type, getCurrentData, dateEnv);
}
function buildEventUiBySource(eventSources) {
  return mapHash(eventSources, (eventSource) => eventSource.ui);
}
function buildEventUiBases(eventDefs, eventUiSingleBase, eventUiBySource) {
  let eventUiBases = { "": eventUiSingleBase };
  for (let defId in eventDefs) {
    let def = eventDefs[defId];
    if (def.sourceId && eventUiBySource[def.sourceId]) {
      eventUiBases[defId] = eventUiBySource[def.sourceId];
    }
  }
  return eventUiBases;
}
function buildViewUiProps(calendarContext) {
  let { options } = calendarContext;
  return {
    eventUiSingleBase: createEventUi({
      display: options.eventDisplay,
      editable: options.editable,
      startEditable: options.eventStartEditable,
      durationEditable: options.eventDurationEditable,
      constraint: options.eventConstraint,
      overlap: typeof options.eventOverlap === "boolean" ? options.eventOverlap : void 0,
      allow: options.eventAllow,
      backgroundColor: options.eventBackgroundColor,
      borderColor: options.eventBorderColor,
      textColor: options.eventTextColor,
      color: options.eventColor
      // classNames: options.eventClassNames // render hook will handle this
    }, calendarContext),
    selectionConfig: createEventUi({
      constraint: options.selectConstraint,
      overlap: typeof options.selectOverlap === "boolean" ? options.selectOverlap : void 0,
      allow: options.selectAllow
    }, calendarContext)
  };
}
function computeIsLoading(state, context) {
  for (let isLoadingFunc of context.pluginHooks.isLoadingFuncs) {
    if (isLoadingFunc(state)) {
      return true;
    }
  }
  return false;
}
function parseContextBusinessHours(calendarContext) {
  return parseBusinessHours(calendarContext.options.businessHours, calendarContext);
}
function warnUnknownOptions(options, viewName) {
  for (let optionName in options) {
    console.warn(`Unknown option '${optionName}'`);
  }
}
class ToolbarSection extends BaseComponent {
  render() {
    let children = this.props.widgetGroups.map((widgetGroup) => this.renderWidgetGroup(widgetGroup));
    return createElement$1("div", { className: "fc-toolbar-chunk" }, ...children);
  }
  renderWidgetGroup(widgetGroup) {
    let { props } = this;
    let { theme } = this.context;
    let children = [];
    let isOnlyButtons = true;
    for (let widget of widgetGroup) {
      let { buttonName, buttonClick, buttonText, buttonIcon, buttonHint } = widget;
      if (buttonName === "title") {
        isOnlyButtons = false;
        children.push(createElement$1("h2", { className: "fc-toolbar-title", id: props.titleId }, props.title));
      } else {
        let isPressed = buttonName === props.activeButton;
        let isDisabled = !props.isTodayEnabled && buttonName === "today" || !props.isPrevEnabled && buttonName === "prev" || !props.isNextEnabled && buttonName === "next";
        let buttonClasses = [`fc-${buttonName}-button`, theme.getClass("button")];
        if (isPressed) {
          buttonClasses.push(theme.getClass("buttonActive"));
        }
        children.push(createElement$1("button", { type: "button", title: typeof buttonHint === "function" ? buttonHint(props.navUnit) : buttonHint, disabled: isDisabled, "aria-pressed": isPressed, className: buttonClasses.join(" "), onClick: buttonClick }, buttonText || (buttonIcon ? createElement$1("span", { className: buttonIcon, role: "img" }) : "")));
      }
    }
    if (children.length > 1) {
      let groupClassName = isOnlyButtons && theme.getClass("buttonGroup") || "";
      return createElement$1("div", { className: groupClassName }, ...children);
    }
    return children[0];
  }
}
class Toolbar extends BaseComponent {
  render() {
    let { model, extraClassName } = this.props;
    let forceLtr = false;
    let startContent;
    let endContent;
    let sectionWidgets = model.sectionWidgets;
    let centerContent = sectionWidgets.center;
    if (sectionWidgets.left) {
      forceLtr = true;
      startContent = sectionWidgets.left;
    } else {
      startContent = sectionWidgets.start;
    }
    if (sectionWidgets.right) {
      forceLtr = true;
      endContent = sectionWidgets.right;
    } else {
      endContent = sectionWidgets.end;
    }
    let classNames = [
      extraClassName || "",
      "fc-toolbar",
      forceLtr ? "fc-toolbar-ltr" : ""
    ];
    return createElement$1(
      "div",
      { className: classNames.join(" ") },
      this.renderSection("start", startContent || []),
      this.renderSection("center", centerContent || []),
      this.renderSection("end", endContent || [])
    );
  }
  renderSection(key, widgetGroups) {
    let { props } = this;
    return createElement$1(ToolbarSection, { key, widgetGroups, title: props.title, navUnit: props.navUnit, activeButton: props.activeButton, isTodayEnabled: props.isTodayEnabled, isPrevEnabled: props.isPrevEnabled, isNextEnabled: props.isNextEnabled, titleId: props.titleId });
  }
}
class ViewHarness extends BaseComponent {
  constructor() {
    super(...arguments);
    this.state = {
      availableWidth: null
    };
    this.handleEl = (el) => {
      this.el = el;
      setRef(this.props.elRef, el);
      this.updateAvailableWidth();
    };
    this.handleResize = () => {
      this.updateAvailableWidth();
    };
  }
  render() {
    let { props, state } = this;
    let { aspectRatio } = props;
    let classNames = [
      "fc-view-harness",
      aspectRatio || props.liquid || props.height ? "fc-view-harness-active" : "fc-view-harness-passive"
      // let the view do the height
    ];
    let height = "";
    let paddingBottom = "";
    if (aspectRatio) {
      if (state.availableWidth !== null) {
        height = state.availableWidth / aspectRatio;
      } else {
        paddingBottom = `${1 / aspectRatio * 100}%`;
      }
    } else {
      height = props.height || "";
    }
    return createElement$1("div", { "aria-labelledby": props.labeledById, ref: this.handleEl, className: classNames.join(" "), style: { height, paddingBottom } }, props.children);
  }
  componentDidMount() {
    this.context.addResizeHandler(this.handleResize);
  }
  componentWillUnmount() {
    this.context.removeResizeHandler(this.handleResize);
  }
  updateAvailableWidth() {
    if (this.el && // needed. but why?
    this.props.aspectRatio) {
      this.setState({ availableWidth: this.el.offsetWidth });
    }
  }
}
class EventClicking extends Interaction {
  constructor(settings) {
    super(settings);
    this.handleSegClick = (ev, segEl) => {
      let { component } = this;
      let { context } = component;
      let seg = getElSeg(segEl);
      if (seg && // might be the <div> surrounding the more link
      component.isValidSegDownEl(ev.target)) {
        let hasUrlContainer = elementClosest(ev.target, ".fc-event-forced-url");
        let url = hasUrlContainer ? hasUrlContainer.querySelector("a[href]").href : "";
        context.emitter.trigger("eventClick", {
          el: segEl,
          event: new EventImpl(component.context, seg.eventRange.def, seg.eventRange.instance),
          jsEvent: ev,
          view: context.viewApi
        });
        if (url && !ev.defaultPrevented) {
          window.location.href = url;
        }
      }
    };
    this.destroy = listenBySelector(
      settings.el,
      "click",
      ".fc-event",
      // on both fg and bg events
      this.handleSegClick
    );
  }
}
class EventHovering extends Interaction {
  constructor(settings) {
    super(settings);
    this.handleEventElRemove = (el) => {
      if (el === this.currentSegEl) {
        this.handleSegLeave(null, this.currentSegEl);
      }
    };
    this.handleSegEnter = (ev, segEl) => {
      if (getElSeg(segEl)) {
        this.currentSegEl = segEl;
        this.triggerEvent("eventMouseEnter", ev, segEl);
      }
    };
    this.handleSegLeave = (ev, segEl) => {
      if (this.currentSegEl) {
        this.currentSegEl = null;
        this.triggerEvent("eventMouseLeave", ev, segEl);
      }
    };
    this.removeHoverListeners = listenToHoverBySelector(
      settings.el,
      ".fc-event",
      // on both fg and bg events
      this.handleSegEnter,
      this.handleSegLeave
    );
  }
  destroy() {
    this.removeHoverListeners();
  }
  triggerEvent(publicEvName, ev, segEl) {
    let { component } = this;
    let { context } = component;
    let seg = getElSeg(segEl);
    if (!ev || component.isValidSegDownEl(ev.target)) {
      context.emitter.trigger(publicEvName, {
        el: segEl,
        event: new EventImpl(context, seg.eventRange.def, seg.eventRange.instance),
        jsEvent: ev,
        view: context.viewApi
      });
    }
  }
}
class CalendarContent extends PureComponent {
  constructor() {
    super(...arguments);
    this.buildViewContext = memoize(buildViewContext);
    this.buildViewPropTransformers = memoize(buildViewPropTransformers);
    this.buildToolbarProps = memoize(buildToolbarProps);
    this.headerRef = createRef();
    this.footerRef = createRef();
    this.interactionsStore = {};
    this.state = {
      viewLabelId: getUniqueDomId()
    };
    this.registerInteractiveComponent = (component, settingsInput) => {
      let settings = parseInteractionSettings(component, settingsInput);
      let DEFAULT_INTERACTIONS = [
        EventClicking,
        EventHovering
      ];
      let interactionClasses = DEFAULT_INTERACTIONS.concat(this.props.pluginHooks.componentInteractions);
      let interactions = interactionClasses.map((TheInteractionClass) => new TheInteractionClass(settings));
      this.interactionsStore[component.uid] = interactions;
      interactionSettingsStore[component.uid] = settings;
    };
    this.unregisterInteractiveComponent = (component) => {
      let listeners = this.interactionsStore[component.uid];
      if (listeners) {
        for (let listener of listeners) {
          listener.destroy();
        }
        delete this.interactionsStore[component.uid];
      }
      delete interactionSettingsStore[component.uid];
    };
    this.resizeRunner = new DelayedRunner(() => {
      this.props.emitter.trigger("_resize", true);
      this.props.emitter.trigger("windowResize", { view: this.props.viewApi });
    });
    this.handleWindowResize = (ev) => {
      let { options } = this.props;
      if (options.handleWindowResize && ev.target === window) {
        this.resizeRunner.request(options.windowResizeDelay);
      }
    };
  }
  /*
  renders INSIDE of an outer div
  */
  render() {
    let { props } = this;
    let { toolbarConfig, options } = props;
    let toolbarProps = this.buildToolbarProps(
      props.viewSpec,
      props.dateProfile,
      props.dateProfileGenerator,
      props.currentDate,
      getNow(props.options.now, props.dateEnv),
      // TODO: use NowTimer????
      props.viewTitle
    );
    let viewVGrow = false;
    let viewHeight = "";
    let viewAspectRatio;
    if (props.isHeightAuto || props.forPrint) {
      viewHeight = "";
    } else if (options.height != null) {
      viewVGrow = true;
    } else if (options.contentHeight != null) {
      viewHeight = options.contentHeight;
    } else {
      viewAspectRatio = Math.max(options.aspectRatio, 0.5);
    }
    let viewContext = this.buildViewContext(props.viewSpec, props.viewApi, props.options, props.dateProfileGenerator, props.dateEnv, props.theme, props.pluginHooks, props.dispatch, props.getCurrentData, props.emitter, props.calendarApi, this.registerInteractiveComponent, this.unregisterInteractiveComponent);
    let viewLabelId = toolbarConfig.header && toolbarConfig.header.hasTitle ? this.state.viewLabelId : void 0;
    return createElement$1(
      ViewContextType.Provider,
      { value: viewContext },
      toolbarConfig.header && createElement$1(Toolbar, Object.assign({ ref: this.headerRef, extraClassName: "fc-header-toolbar", model: toolbarConfig.header, titleId: viewLabelId }, toolbarProps)),
      createElement$1(
        ViewHarness,
        { liquid: viewVGrow, height: viewHeight, aspectRatio: viewAspectRatio, labeledById: viewLabelId },
        this.renderView(props),
        this.buildAppendContent()
      ),
      toolbarConfig.footer && createElement$1(Toolbar, Object.assign({ ref: this.footerRef, extraClassName: "fc-footer-toolbar", model: toolbarConfig.footer, titleId: "" }, toolbarProps))
    );
  }
  componentDidMount() {
    let { props } = this;
    this.calendarInteractions = props.pluginHooks.calendarInteractions.map((CalendarInteractionClass) => new CalendarInteractionClass(props));
    window.addEventListener("resize", this.handleWindowResize);
    let { propSetHandlers } = props.pluginHooks;
    for (let propName in propSetHandlers) {
      propSetHandlers[propName](props[propName], props);
    }
  }
  componentDidUpdate(prevProps) {
    let { props } = this;
    let { propSetHandlers } = props.pluginHooks;
    for (let propName in propSetHandlers) {
      if (props[propName] !== prevProps[propName]) {
        propSetHandlers[propName](props[propName], props);
      }
    }
  }
  componentWillUnmount() {
    window.removeEventListener("resize", this.handleWindowResize);
    this.resizeRunner.clear();
    for (let interaction of this.calendarInteractions) {
      interaction.destroy();
    }
    this.props.emitter.trigger("_unmount");
  }
  buildAppendContent() {
    let { props } = this;
    let children = props.pluginHooks.viewContainerAppends.map((buildAppendContent) => buildAppendContent(props));
    return createElement$1(Fragment$2, {}, ...children);
  }
  renderView(props) {
    let { pluginHooks } = props;
    let { viewSpec } = props;
    let viewProps = {
      dateProfile: props.dateProfile,
      businessHours: props.businessHours,
      eventStore: props.renderableEventStore,
      eventUiBases: props.eventUiBases,
      dateSelection: props.dateSelection,
      eventSelection: props.eventSelection,
      eventDrag: props.eventDrag,
      eventResize: props.eventResize,
      isHeightAuto: props.isHeightAuto,
      forPrint: props.forPrint
    };
    let transformers = this.buildViewPropTransformers(pluginHooks.viewPropsTransformers);
    for (let transformer of transformers) {
      Object.assign(viewProps, transformer.transform(viewProps, props));
    }
    let ViewComponent = viewSpec.component;
    return createElement$1(ViewComponent, Object.assign({}, viewProps));
  }
}
function buildToolbarProps(viewSpec, dateProfile, dateProfileGenerator, currentDate, now, title) {
  let todayInfo = dateProfileGenerator.build(now, void 0, false);
  let prevInfo = dateProfileGenerator.buildPrev(dateProfile, currentDate, false);
  let nextInfo = dateProfileGenerator.buildNext(dateProfile, currentDate, false);
  return {
    title,
    activeButton: viewSpec.type,
    navUnit: viewSpec.singleUnit,
    isTodayEnabled: todayInfo.isValid && !rangeContainsMarker(dateProfile.currentRange, now),
    isPrevEnabled: prevInfo.isValid,
    isNextEnabled: nextInfo.isValid
  };
}
function buildViewPropTransformers(theClasses) {
  return theClasses.map((TheClass) => new TheClass());
}
let Calendar$1 = class Calendar extends CalendarImpl {
  constructor(el, optionOverrides = {}) {
    super();
    this.isRendering = false;
    this.isRendered = false;
    this.currentClassNames = [];
    this.customContentRenderId = 0;
    this.handleAction = (action) => {
      switch (action.type) {
        case "SET_EVENT_DRAG":
        case "SET_EVENT_RESIZE":
          this.renderRunner.tryDrain();
      }
    };
    this.handleData = (data) => {
      this.currentData = data;
      this.renderRunner.request(data.calendarOptions.rerenderDelay);
    };
    this.handleRenderRequest = () => {
      if (this.isRendering) {
        this.isRendered = true;
        let { currentData } = this;
        flushSync(() => {
          render(createElement$1(CalendarRoot, { options: currentData.calendarOptions, theme: currentData.theme, emitter: currentData.emitter }, (classNames, height, isHeightAuto, forPrint) => {
            this.setClassNames(classNames);
            this.setHeight(height);
            return createElement$1(
              RenderId.Provider,
              { value: this.customContentRenderId },
              createElement$1(CalendarContent, Object.assign({ isHeightAuto, forPrint }, currentData))
            );
          }), this.el);
        });
      } else if (this.isRendered) {
        this.isRendered = false;
        render(null, this.el);
        this.setClassNames([]);
        this.setHeight("");
      }
    };
    ensureElHasStyles(el);
    this.el = el;
    this.renderRunner = new DelayedRunner(this.handleRenderRequest);
    new CalendarDataManager({
      optionOverrides,
      calendarApi: this,
      onAction: this.handleAction,
      onData: this.handleData
    });
  }
  render() {
    let wasRendering = this.isRendering;
    if (!wasRendering) {
      this.isRendering = true;
    } else {
      this.customContentRenderId += 1;
    }
    this.renderRunner.request();
    if (wasRendering) {
      this.updateSize();
    }
  }
  destroy() {
    if (this.isRendering) {
      this.isRendering = false;
      this.renderRunner.request();
    }
  }
  updateSize() {
    flushSync(() => {
      super.updateSize();
    });
  }
  batchRendering(func) {
    this.renderRunner.pause("batchRendering");
    func();
    this.renderRunner.resume("batchRendering");
  }
  pauseRendering() {
    this.renderRunner.pause("pauseRendering");
  }
  resumeRendering() {
    this.renderRunner.resume("pauseRendering", true);
  }
  resetOptions(optionOverrides, changedOptionNames) {
    this.currentDataManager.resetOptions(optionOverrides, changedOptionNames);
  }
  setClassNames(classNames) {
    if (!isArraysEqual(classNames, this.currentClassNames)) {
      let { classList } = this.el;
      for (let className of this.currentClassNames) {
        classList.remove(className);
      }
      for (let className of classNames) {
        classList.add(className);
      }
      this.currentClassNames = classNames;
    }
  }
  setHeight(height) {
    applyStyleProp(this.el, "height", height);
  }
};
function formatDate$3(dateInput, options = {}) {
  let dateEnv = buildDateEnv(options);
  let formatter = createFormatter(options);
  let dateMeta = dateEnv.createMarkerMeta(dateInput);
  if (!dateMeta) {
    return "";
  }
  return dateEnv.format(dateMeta.marker, formatter, {
    forcedTzo: dateMeta.forcedTzo
  });
}
function buildDateEnv(settings) {
  let locale = buildLocale(settings.locale || "en", organizeRawLocales([]).map);
  return new DateEnv(Object.assign(Object.assign({ timeZone: BASE_OPTION_DEFAULTS.timeZone, calendarSystem: "gregory" }, settings), { locale }));
}
const reactMajorVersion = parseInt(String(React__default.version).split(".")[0]);
const syncRenderingByDefault = reactMajorVersion < 18;
class FullCalendar extends Component$1 {
  constructor() {
    super(...arguments);
    this.elRef = createRef$1();
    this.isUpdating = false;
    this.isUnmounting = false;
    this.state = {
      customRenderingMap: /* @__PURE__ */ new Map()
    };
    this.requestResize = () => {
      if (!this.isUnmounting) {
        this.cancelResize();
        this.resizeId = requestAnimationFrame(() => {
          this.doResize();
        });
      }
    };
  }
  render() {
    const customRenderingNodes = [];
    for (const customRendering of this.state.customRenderingMap.values()) {
      customRenderingNodes.push(React__default.createElement(CustomRenderingComponent, { key: customRendering.id, customRendering }));
    }
    return React__default.createElement("div", { ref: this.elRef }, customRenderingNodes);
  }
  componentDidMount() {
    this.isUnmounting = false;
    const customRenderingStore = new CustomRenderingStore();
    this.handleCustomRendering = customRenderingStore.handle.bind(customRenderingStore);
    this.calendar = new Calendar$1(this.elRef.current, Object.assign(Object.assign({}, this.props), { handleCustomRendering: this.handleCustomRendering }));
    this.calendar.render();
    this.calendar.on("_beforeprint", () => {
      flushSync$1(() => {
      });
    });
    let lastRequestTimestamp;
    customRenderingStore.subscribe((customRenderingMap) => {
      const requestTimestamp = Date.now();
      const isMounting = !lastRequestTimestamp;
      const runFunc = (
        // don't call flushSync if React version already does sync rendering by default
        // guards against fatal errors:
        // https://github.com/fullcalendar/fullcalendar/issues/7448
        syncRenderingByDefault || //
        isMounting || this.isUpdating || this.isUnmounting || requestTimestamp - lastRequestTimestamp < 100 ? runNow : flushSync$1
      );
      runFunc(() => {
        this.setState({ customRenderingMap }, () => {
          lastRequestTimestamp = requestTimestamp;
          if (isMounting) {
            this.doResize();
          } else {
            this.requestResize();
          }
        });
      });
    });
  }
  componentDidUpdate() {
    this.isUpdating = true;
    this.calendar.resetOptions(Object.assign(Object.assign({}, this.props), { handleCustomRendering: this.handleCustomRendering }));
    this.isUpdating = false;
  }
  componentWillUnmount() {
    this.isUnmounting = true;
    this.cancelResize();
    this.calendar.destroy();
  }
  doResize() {
    this.calendar.updateSize();
  }
  cancelResize() {
    if (this.resizeId !== void 0) {
      cancelAnimationFrame(this.resizeId);
      this.resizeId = void 0;
    }
  }
  getApi() {
    return this.calendar;
  }
}
FullCalendar.act = runNow;
class CustomRenderingComponent extends PureComponent$1 {
  render() {
    const { customRendering } = this.props;
    const { generatorMeta } = customRendering;
    const vnode = typeof generatorMeta === "function" ? generatorMeta(customRendering.renderProps) : generatorMeta;
    return createPortal$1(vnode, customRendering.containerEl);
  }
}
function runNow(f) {
  f();
}
class TableView extends DateComponent {
  constructor() {
    super(...arguments);
    this.headerElRef = createRef();
  }
  renderSimpleLayout(headerRowContent, bodyContent) {
    let { props, context } = this;
    let sections = [];
    let stickyHeaderDates = getStickyHeaderDates(context.options);
    if (headerRowContent) {
      sections.push({
        type: "header",
        key: "header",
        isSticky: stickyHeaderDates,
        chunk: {
          elRef: this.headerElRef,
          tableClassName: "fc-col-header",
          rowContent: headerRowContent
        }
      });
    }
    sections.push({
      type: "body",
      key: "body",
      liquid: true,
      chunk: { content: bodyContent }
    });
    return createElement$1(
      ViewContainer,
      { elClasses: ["fc-daygrid"], viewSpec: context.viewSpec },
      createElement$1(SimpleScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, cols: [], sections })
    );
  }
  renderHScrollLayout(headerRowContent, bodyContent, colCnt, dayMinWidth) {
    let ScrollGrid = this.context.pluginHooks.scrollGridImpl;
    if (!ScrollGrid) {
      throw new Error("No ScrollGrid implementation");
    }
    let { props, context } = this;
    let stickyHeaderDates = !props.forPrint && getStickyHeaderDates(context.options);
    let stickyFooterScrollbar = !props.forPrint && getStickyFooterScrollbar(context.options);
    let sections = [];
    if (headerRowContent) {
      sections.push({
        type: "header",
        key: "header",
        isSticky: stickyHeaderDates,
        chunks: [{
          key: "main",
          elRef: this.headerElRef,
          tableClassName: "fc-col-header",
          rowContent: headerRowContent
        }]
      });
    }
    sections.push({
      type: "body",
      key: "body",
      liquid: true,
      chunks: [{
        key: "main",
        content: bodyContent
      }]
    });
    if (stickyFooterScrollbar) {
      sections.push({
        type: "footer",
        key: "footer",
        isSticky: true,
        chunks: [{
          key: "main",
          content: renderScrollShim
        }]
      });
    }
    return createElement$1(
      ViewContainer,
      { elClasses: ["fc-daygrid"], viewSpec: context.viewSpec },
      createElement$1(ScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, forPrint: props.forPrint, collapsibleWidth: props.forPrint, colGroups: [{ cols: [{ span: colCnt, minWidth: dayMinWidth }] }], sections })
    );
  }
}
function splitSegsByRow(segs, rowCnt) {
  let byRow = [];
  for (let i2 = 0; i2 < rowCnt; i2 += 1) {
    byRow[i2] = [];
  }
  for (let seg of segs) {
    byRow[seg.row].push(seg);
  }
  return byRow;
}
function splitSegsByFirstCol(segs, colCnt) {
  let byCol = [];
  for (let i2 = 0; i2 < colCnt; i2 += 1) {
    byCol[i2] = [];
  }
  for (let seg of segs) {
    byCol[seg.firstCol].push(seg);
  }
  return byCol;
}
function splitInteractionByRow(ui, rowCnt) {
  let byRow = [];
  if (!ui) {
    for (let i2 = 0; i2 < rowCnt; i2 += 1) {
      byRow[i2] = null;
    }
  } else {
    for (let i2 = 0; i2 < rowCnt; i2 += 1) {
      byRow[i2] = {
        affectedInstances: ui.affectedInstances,
        isEvent: ui.isEvent,
        segs: []
      };
    }
    for (let seg of ui.segs) {
      byRow[seg.row].segs.push(seg);
    }
  }
  return byRow;
}
const DEFAULT_TABLE_EVENT_TIME_FORMAT = createFormatter({
  hour: "numeric",
  minute: "2-digit",
  omitZeroMinute: true,
  meridiem: "narrow"
});
function hasListItemDisplay(seg) {
  let { display } = seg.eventRange.ui;
  return display === "list-item" || display === "auto" && !seg.eventRange.def.allDay && seg.firstCol === seg.lastCol && // can't be multi-day
  seg.isStart && // "
  seg.isEnd;
}
class TableBlockEvent extends BaseComponent {
  render() {
    let { props } = this;
    return createElement$1(StandardEvent, Object.assign({}, props, { elClasses: ["fc-daygrid-event", "fc-daygrid-block-event", "fc-h-event"], defaultTimeFormat: DEFAULT_TABLE_EVENT_TIME_FORMAT, defaultDisplayEventEnd: props.defaultDisplayEventEnd, disableResizing: !props.seg.eventRange.def.allDay }));
  }
}
class TableListItemEvent extends BaseComponent {
  render() {
    let { props, context } = this;
    let { options } = context;
    let { seg } = props;
    let timeFormat = options.eventTimeFormat || DEFAULT_TABLE_EVENT_TIME_FORMAT;
    let timeText = buildSegTimeText(seg, timeFormat, context, true, props.defaultDisplayEventEnd);
    return createElement$1(EventContainer, Object.assign({}, props, { elTag: "a", elClasses: ["fc-daygrid-event", "fc-daygrid-dot-event"], elAttrs: getSegAnchorAttrs(props.seg, context), defaultGenerator: renderInnerContent$1, timeText, isResizing: false, isDateSelecting: false }));
  }
}
function renderInnerContent$1(renderProps) {
  return createElement$1(
    Fragment$2,
    null,
    createElement$1("div", { className: "fc-daygrid-event-dot", style: { borderColor: renderProps.borderColor || renderProps.backgroundColor } }),
    renderProps.timeText && createElement$1("div", { className: "fc-event-time" }, renderProps.timeText),
    createElement$1("div", { className: "fc-event-title" }, renderProps.event.title || createElement$1(Fragment$2, null, " "))
  );
}
class TableCellMoreLink extends BaseComponent {
  constructor() {
    super(...arguments);
    this.compileSegs = memoize(compileSegs);
  }
  render() {
    let { props } = this;
    let { allSegs, invisibleSegs } = this.compileSegs(props.singlePlacements);
    return createElement$1(MoreLinkContainer, { elClasses: ["fc-daygrid-more-link"], dateProfile: props.dateProfile, todayRange: props.todayRange, allDayDate: props.allDayDate, moreCnt: props.moreCnt, allSegs, hiddenSegs: invisibleSegs, alignmentElRef: props.alignmentElRef, alignGridTop: props.alignGridTop, extraDateSpan: props.extraDateSpan, popoverContent: () => {
      let isForcedInvisible = (props.eventDrag ? props.eventDrag.affectedInstances : null) || (props.eventResize ? props.eventResize.affectedInstances : null) || {};
      return createElement$1(Fragment$2, null, allSegs.map((seg) => {
        let instanceId = seg.eventRange.instance.instanceId;
        return createElement$1("div", { className: "fc-daygrid-event-harness", key: instanceId, style: {
          visibility: isForcedInvisible[instanceId] ? "hidden" : ""
        } }, hasListItemDisplay(seg) ? createElement$1(TableListItemEvent, Object.assign({ seg, isDragging: false, isSelected: instanceId === props.eventSelection, defaultDisplayEventEnd: false }, getSegMeta(seg, props.todayRange))) : createElement$1(TableBlockEvent, Object.assign({ seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: instanceId === props.eventSelection, defaultDisplayEventEnd: false }, getSegMeta(seg, props.todayRange))));
      }));
    } });
  }
}
function compileSegs(singlePlacements) {
  let allSegs = [];
  let invisibleSegs = [];
  for (let placement of singlePlacements) {
    allSegs.push(placement.seg);
    if (!placement.isVisible) {
      invisibleSegs.push(placement.seg);
    }
  }
  return { allSegs, invisibleSegs };
}
const DEFAULT_WEEK_NUM_FORMAT$1 = createFormatter({ week: "narrow" });
class TableCell extends DateComponent {
  constructor() {
    super(...arguments);
    this.rootElRef = createRef();
    this.state = {
      dayNumberId: getUniqueDomId()
    };
    this.handleRootEl = (el) => {
      setRef(this.rootElRef, el);
      setRef(this.props.elRef, el);
    };
  }
  render() {
    let { context, props, state, rootElRef } = this;
    let { options, dateEnv } = context;
    let { date, dateProfile } = props;
    const isMonthStart = props.showDayNumber && shouldDisplayMonthStart(date, dateProfile.currentRange, dateEnv);
    return createElement$1(DayCellContainer, { elTag: "td", elRef: this.handleRootEl, elClasses: [
      "fc-daygrid-day",
      ...props.extraClassNames || []
    ], elAttrs: Object.assign(Object.assign(Object.assign({}, props.extraDataAttrs), props.showDayNumber ? { "aria-labelledby": state.dayNumberId } : {}), { role: "gridcell" }), defaultGenerator: renderTopInner, date, dateProfile, todayRange: props.todayRange, showDayNumber: props.showDayNumber, isMonthStart, extraRenderProps: props.extraRenderProps }, (InnerContent, renderProps) => createElement$1(
      "div",
      { ref: props.innerElRef, className: "fc-daygrid-day-frame fc-scrollgrid-sync-inner", style: { minHeight: props.minHeight } },
      props.showWeekNumber && createElement$1(WeekNumberContainer, { elTag: "a", elClasses: ["fc-daygrid-week-number"], elAttrs: buildNavLinkAttrs(context, date, "week"), date, defaultFormat: DEFAULT_WEEK_NUM_FORMAT$1 }),
      !renderProps.isDisabled && (props.showDayNumber || hasCustomDayCellContent(options) || props.forceDayTop) ? createElement$1(
        "div",
        { className: "fc-daygrid-day-top" },
        createElement$1(InnerContent, { elTag: "a", elClasses: [
          "fc-daygrid-day-number",
          isMonthStart && "fc-daygrid-month-start"
        ], elAttrs: Object.assign(Object.assign({}, buildNavLinkAttrs(context, date)), { id: state.dayNumberId }) })
      ) : props.showDayNumber ? (
        // for creating correct amount of space (see issue #7162)
        createElement$1(
          "div",
          { className: "fc-daygrid-day-top", style: { visibility: "hidden" } },
          createElement$1("a", { className: "fc-daygrid-day-number" }, " ")
        )
      ) : void 0,
      createElement$1(
        "div",
        { className: "fc-daygrid-day-events", ref: props.fgContentElRef },
        props.fgContent,
        createElement$1(
          "div",
          { className: "fc-daygrid-day-bottom", style: { marginTop: props.moreMarginTop } },
          createElement$1(TableCellMoreLink, { allDayDate: date, singlePlacements: props.singlePlacements, moreCnt: props.moreCnt, alignmentElRef: rootElRef, alignGridTop: !props.showDayNumber, extraDateSpan: props.extraDateSpan, dateProfile: props.dateProfile, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, todayRange: props.todayRange })
        )
      ),
      createElement$1("div", { className: "fc-daygrid-day-bg" }, props.bgContent)
    ));
  }
}
function renderTopInner(props) {
  return props.dayNumberText || createElement$1(Fragment$2, null, " ");
}
function shouldDisplayMonthStart(date, currentRange, dateEnv) {
  const { start: currentStart, end: currentEnd } = currentRange;
  const currentEndIncl = addMs(currentEnd, -1);
  const currentFirstYear = dateEnv.getYear(currentStart);
  const currentFirstMonth = dateEnv.getMonth(currentStart);
  const currentLastYear = dateEnv.getYear(currentEndIncl);
  const currentLastMonth = dateEnv.getMonth(currentEndIncl);
  return !(currentFirstYear === currentLastYear && currentFirstMonth === currentLastMonth) && Boolean(
    // first date in current view?
    date.valueOf() === currentStart.valueOf() || // a month-start that's within the current range?
    dateEnv.getDay(date) === 1 && date.valueOf() < currentEnd.valueOf()
  );
}
function generateSegKey(seg) {
  return seg.eventRange.instance.instanceId + ":" + seg.firstCol;
}
function generateSegUid(seg) {
  return generateSegKey(seg) + ":" + seg.lastCol;
}
function computeFgSegPlacement(segs, dayMaxEvents, dayMaxEventRows, strictOrder, segHeights, maxContentHeight, cells) {
  let hierarchy = new DayGridSegHierarchy((segEntry) => {
    let segUid = segs[segEntry.index].eventRange.instance.instanceId + ":" + segEntry.span.start + ":" + (segEntry.span.end - 1);
    return segHeights[segUid] || 1;
  });
  hierarchy.allowReslicing = true;
  hierarchy.strictOrder = strictOrder;
  if (dayMaxEvents === true || dayMaxEventRows === true) {
    hierarchy.maxCoord = maxContentHeight;
    hierarchy.hiddenConsumes = true;
  } else if (typeof dayMaxEvents === "number") {
    hierarchy.maxStackCnt = dayMaxEvents;
  } else if (typeof dayMaxEventRows === "number") {
    hierarchy.maxStackCnt = dayMaxEventRows;
    hierarchy.hiddenConsumes = true;
  }
  let segInputs = [];
  let unknownHeightSegs = [];
  for (let i2 = 0; i2 < segs.length; i2 += 1) {
    let seg = segs[i2];
    let segUid = generateSegUid(seg);
    let eventHeight = segHeights[segUid];
    if (eventHeight != null) {
      segInputs.push({
        index: i2,
        span: {
          start: seg.firstCol,
          end: seg.lastCol + 1
        }
      });
    } else {
      unknownHeightSegs.push(seg);
    }
  }
  let hiddenEntries = hierarchy.addSegs(segInputs);
  let segRects = hierarchy.toRects();
  let { singleColPlacements, multiColPlacements, leftoverMargins } = placeRects(segRects, segs, cells);
  let moreCnts = [];
  let moreMarginTops = [];
  for (let seg of unknownHeightSegs) {
    multiColPlacements[seg.firstCol].push({
      seg,
      isVisible: false,
      isAbsolute: true,
      absoluteTop: 0,
      marginTop: 0
    });
    for (let col = seg.firstCol; col <= seg.lastCol; col += 1) {
      singleColPlacements[col].push({
        seg: resliceSeg(seg, col, col + 1, cells),
        isVisible: false,
        isAbsolute: false,
        absoluteTop: 0,
        marginTop: 0
      });
    }
  }
  for (let col = 0; col < cells.length; col += 1) {
    moreCnts.push(0);
  }
  for (let hiddenEntry of hiddenEntries) {
    let seg = segs[hiddenEntry.index];
    let hiddenSpan = hiddenEntry.span;
    multiColPlacements[hiddenSpan.start].push({
      seg: resliceSeg(seg, hiddenSpan.start, hiddenSpan.end, cells),
      isVisible: false,
      isAbsolute: true,
      absoluteTop: 0,
      marginTop: 0
    });
    for (let col = hiddenSpan.start; col < hiddenSpan.end; col += 1) {
      moreCnts[col] += 1;
      singleColPlacements[col].push({
        seg: resliceSeg(seg, col, col + 1, cells),
        isVisible: false,
        isAbsolute: false,
        absoluteTop: 0,
        marginTop: 0
      });
    }
  }
  for (let col = 0; col < cells.length; col += 1) {
    moreMarginTops.push(leftoverMargins[col]);
  }
  return { singleColPlacements, multiColPlacements, moreCnts, moreMarginTops };
}
function placeRects(allRects, segs, cells) {
  let rectsByEachCol = groupRectsByEachCol(allRects, cells.length);
  let singleColPlacements = [];
  let multiColPlacements = [];
  let leftoverMargins = [];
  for (let col = 0; col < cells.length; col += 1) {
    let rects = rectsByEachCol[col];
    let singlePlacements = [];
    let currentHeight = 0;
    let currentMarginTop = 0;
    for (let rect of rects) {
      let seg = segs[rect.index];
      singlePlacements.push({
        seg: resliceSeg(seg, col, col + 1, cells),
        isVisible: true,
        isAbsolute: false,
        absoluteTop: rect.levelCoord,
        marginTop: rect.levelCoord - currentHeight
      });
      currentHeight = rect.levelCoord + rect.thickness;
    }
    let multiPlacements = [];
    currentHeight = 0;
    currentMarginTop = 0;
    for (let rect of rects) {
      let seg = segs[rect.index];
      let isAbsolute = rect.span.end - rect.span.start > 1;
      let isFirstCol = rect.span.start === col;
      currentMarginTop += rect.levelCoord - currentHeight;
      currentHeight = rect.levelCoord + rect.thickness;
      if (isAbsolute) {
        currentMarginTop += rect.thickness;
        if (isFirstCol) {
          multiPlacements.push({
            seg: resliceSeg(seg, rect.span.start, rect.span.end, cells),
            isVisible: true,
            isAbsolute: true,
            absoluteTop: rect.levelCoord,
            marginTop: 0
          });
        }
      } else if (isFirstCol) {
        multiPlacements.push({
          seg: resliceSeg(seg, rect.span.start, rect.span.end, cells),
          isVisible: true,
          isAbsolute: false,
          absoluteTop: rect.levelCoord,
          marginTop: currentMarginTop
          // claim the margin
        });
        currentMarginTop = 0;
      }
    }
    singleColPlacements.push(singlePlacements);
    multiColPlacements.push(multiPlacements);
    leftoverMargins.push(currentMarginTop);
  }
  return { singleColPlacements, multiColPlacements, leftoverMargins };
}
function groupRectsByEachCol(rects, colCnt) {
  let rectsByEachCol = [];
  for (let col = 0; col < colCnt; col += 1) {
    rectsByEachCol.push([]);
  }
  for (let rect of rects) {
    for (let col = rect.span.start; col < rect.span.end; col += 1) {
      rectsByEachCol[col].push(rect);
    }
  }
  return rectsByEachCol;
}
function resliceSeg(seg, spanStart, spanEnd, cells) {
  if (seg.firstCol === spanStart && seg.lastCol === spanEnd - 1) {
    return seg;
  }
  let eventRange = seg.eventRange;
  let origRange = eventRange.range;
  let slicedRange = intersectRanges(origRange, {
    start: cells[spanStart].date,
    end: addDays(cells[spanEnd - 1].date, 1)
  });
  return Object.assign(Object.assign({}, seg), { firstCol: spanStart, lastCol: spanEnd - 1, eventRange: {
    def: eventRange.def,
    ui: Object.assign(Object.assign({}, eventRange.ui), { durationEditable: false }),
    instance: eventRange.instance,
    range: slicedRange
  }, isStart: seg.isStart && slicedRange.start.valueOf() === origRange.start.valueOf(), isEnd: seg.isEnd && slicedRange.end.valueOf() === origRange.end.valueOf() });
}
class DayGridSegHierarchy extends SegHierarchy {
  constructor() {
    super(...arguments);
    this.hiddenConsumes = false;
    this.forceHidden = {};
  }
  addSegs(segInputs) {
    const hiddenSegs = super.addSegs(segInputs);
    const { entriesByLevel } = this;
    const excludeHidden = (entry) => !this.forceHidden[buildEntryKey(entry)];
    for (let level = 0; level < entriesByLevel.length; level += 1) {
      entriesByLevel[level] = entriesByLevel[level].filter(excludeHidden);
    }
    return hiddenSegs;
  }
  handleInvalidInsertion(insertion, entry, hiddenEntries) {
    const { entriesByLevel, forceHidden } = this;
    const { touchingEntry, touchingLevel, touchingLateral } = insertion;
    if (this.hiddenConsumes && touchingEntry) {
      const touchingEntryId = buildEntryKey(touchingEntry);
      if (!forceHidden[touchingEntryId]) {
        if (this.allowReslicing) {
          const hiddenEntry = Object.assign(Object.assign({}, touchingEntry), { span: intersectSpans(touchingEntry.span, entry.span) });
          const hiddenEntryId = buildEntryKey(hiddenEntry);
          forceHidden[hiddenEntryId] = true;
          entriesByLevel[touchingLevel][touchingLateral] = hiddenEntry;
          hiddenEntries.push(hiddenEntry);
          this.splitEntry(touchingEntry, entry, hiddenEntries);
        } else {
          forceHidden[touchingEntryId] = true;
          hiddenEntries.push(touchingEntry);
        }
      }
    }
    super.handleInvalidInsertion(insertion, entry, hiddenEntries);
  }
}
class TableRow extends DateComponent {
  constructor() {
    super(...arguments);
    this.cellElRefs = new RefMap();
    this.frameElRefs = new RefMap();
    this.fgElRefs = new RefMap();
    this.segHarnessRefs = new RefMap();
    this.rootElRef = createRef();
    this.state = {
      framePositions: null,
      maxContentHeight: null,
      segHeights: {}
    };
    this.handleResize = (isForced) => {
      if (isForced) {
        this.updateSizing(true);
      }
    };
  }
  render() {
    let { props, state, context } = this;
    let { options } = context;
    let colCnt = props.cells.length;
    let businessHoursByCol = splitSegsByFirstCol(props.businessHourSegs, colCnt);
    let bgEventSegsByCol = splitSegsByFirstCol(props.bgEventSegs, colCnt);
    let highlightSegsByCol = splitSegsByFirstCol(this.getHighlightSegs(), colCnt);
    let mirrorSegsByCol = splitSegsByFirstCol(this.getMirrorSegs(), colCnt);
    let { singleColPlacements, multiColPlacements, moreCnts, moreMarginTops } = computeFgSegPlacement(sortEventSegs(props.fgEventSegs, options.eventOrder), props.dayMaxEvents, props.dayMaxEventRows, options.eventOrderStrict, state.segHeights, state.maxContentHeight, props.cells);
    let isForcedInvisible = (
      // TODO: messy way to compute this
      props.eventDrag && props.eventDrag.affectedInstances || props.eventResize && props.eventResize.affectedInstances || {}
    );
    return createElement$1(
      "tr",
      { ref: this.rootElRef, role: "row" },
      props.renderIntro && props.renderIntro(),
      props.cells.map((cell, col) => {
        let normalFgNodes = this.renderFgSegs(col, props.forPrint ? singleColPlacements[col] : multiColPlacements[col], props.todayRange, isForcedInvisible);
        let mirrorFgNodes = this.renderFgSegs(col, buildMirrorPlacements(mirrorSegsByCol[col], multiColPlacements), props.todayRange, {}, Boolean(props.eventDrag), Boolean(props.eventResize), false);
        return createElement$1(TableCell, { key: cell.key, elRef: this.cellElRefs.createRef(cell.key), innerElRef: this.frameElRefs.createRef(cell.key), dateProfile: props.dateProfile, date: cell.date, showDayNumber: props.showDayNumbers, showWeekNumber: props.showWeekNumbers && col === 0, forceDayTop: props.showWeekNumbers, todayRange: props.todayRange, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, extraRenderProps: cell.extraRenderProps, extraDataAttrs: cell.extraDataAttrs, extraClassNames: cell.extraClassNames, extraDateSpan: cell.extraDateSpan, moreCnt: moreCnts[col], moreMarginTop: moreMarginTops[col], singlePlacements: singleColPlacements[col], fgContentElRef: this.fgElRefs.createRef(cell.key), fgContent: (
          // Fragment scopes the keys
          createElement$1(
            Fragment$2,
            null,
            createElement$1(Fragment$2, null, normalFgNodes),
            createElement$1(Fragment$2, null, mirrorFgNodes)
          )
        ), bgContent: (
          // Fragment scopes the keys
          createElement$1(
            Fragment$2,
            null,
            this.renderFillSegs(highlightSegsByCol[col], "highlight"),
            this.renderFillSegs(businessHoursByCol[col], "non-business"),
            this.renderFillSegs(bgEventSegsByCol[col], "bg-event")
          )
        ), minHeight: props.cellMinHeight });
      })
    );
  }
  componentDidMount() {
    this.updateSizing(true);
    this.context.addResizeHandler(this.handleResize);
  }
  componentDidUpdate(prevProps, prevState) {
    let currentProps = this.props;
    this.updateSizing(!isPropsEqual(prevProps, currentProps));
  }
  componentWillUnmount() {
    this.context.removeResizeHandler(this.handleResize);
  }
  getHighlightSegs() {
    let { props } = this;
    if (props.eventDrag && props.eventDrag.segs.length) {
      return props.eventDrag.segs;
    }
    if (props.eventResize && props.eventResize.segs.length) {
      return props.eventResize.segs;
    }
    return props.dateSelectionSegs;
  }
  getMirrorSegs() {
    let { props } = this;
    if (props.eventResize && props.eventResize.segs.length) {
      return props.eventResize.segs;
    }
    return [];
  }
  renderFgSegs(col, segPlacements, todayRange, isForcedInvisible, isDragging, isResizing, isDateSelecting) {
    let { context } = this;
    let { eventSelection } = this.props;
    let { framePositions } = this.state;
    let defaultDisplayEventEnd = this.props.cells.length === 1;
    let isMirror = isDragging || isResizing || isDateSelecting;
    let nodes = [];
    if (framePositions) {
      for (let placement of segPlacements) {
        let { seg } = placement;
        let { instanceId } = seg.eventRange.instance;
        let isVisible = placement.isVisible && !isForcedInvisible[instanceId];
        let isAbsolute = placement.isAbsolute;
        let left = "";
        let right = "";
        if (isAbsolute) {
          if (context.isRtl) {
            right = 0;
            left = framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol];
          } else {
            left = 0;
            right = framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol];
          }
        }
        nodes.push(createElement$1("div", { className: "fc-daygrid-event-harness" + (isAbsolute ? " fc-daygrid-event-harness-abs" : ""), key: generateSegKey(seg), ref: isMirror ? null : this.segHarnessRefs.createRef(generateSegUid(seg)), style: {
          visibility: isVisible ? "" : "hidden",
          marginTop: isAbsolute ? "" : placement.marginTop,
          top: isAbsolute ? placement.absoluteTop : "",
          left,
          right
        } }, hasListItemDisplay(seg) ? createElement$1(TableListItemEvent, Object.assign({ seg, isDragging, isSelected: instanceId === eventSelection, defaultDisplayEventEnd }, getSegMeta(seg, todayRange))) : createElement$1(TableBlockEvent, Object.assign({ seg, isDragging, isResizing, isDateSelecting, isSelected: instanceId === eventSelection, defaultDisplayEventEnd }, getSegMeta(seg, todayRange)))));
      }
    }
    return nodes;
  }
  renderFillSegs(segs, fillType) {
    let { isRtl } = this.context;
    let { todayRange } = this.props;
    let { framePositions } = this.state;
    let nodes = [];
    if (framePositions) {
      for (let seg of segs) {
        let leftRightCss = isRtl ? {
          right: 0,
          left: framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol]
        } : {
          left: 0,
          right: framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol]
        };
        nodes.push(createElement$1("div", { key: buildEventRangeKey(seg.eventRange), className: "fc-daygrid-bg-harness", style: leftRightCss }, fillType === "bg-event" ? createElement$1(BgEvent, Object.assign({ seg }, getSegMeta(seg, todayRange))) : renderFill(fillType)));
      }
    }
    return createElement$1(Fragment$2, {}, ...nodes);
  }
  updateSizing(isExternalSizingChange) {
    let { props, state, frameElRefs } = this;
    if (!props.forPrint && props.clientWidth !== null) {
      if (isExternalSizingChange) {
        let frameEls = props.cells.map((cell) => frameElRefs.currentMap[cell.key]);
        if (frameEls.length) {
          let originEl = this.rootElRef.current;
          let newPositionCache = new PositionCache(
            originEl,
            frameEls,
            true,
            // isHorizontal
            false
          );
          if (!state.framePositions || !state.framePositions.similarTo(newPositionCache)) {
            this.setState({
              framePositions: new PositionCache(
                originEl,
                frameEls,
                true,
                // isHorizontal
                false
              )
            });
          }
        }
      }
      const oldSegHeights = this.state.segHeights;
      const newSegHeights = this.querySegHeights();
      const limitByContentHeight = props.dayMaxEvents === true || props.dayMaxEventRows === true;
      this.safeSetState({
        // HACK to prevent oscillations of events being shown/hidden from max-event-rows
        // Essentially, once you compute an element's height, never null-out.
        // TODO: always display all events, as visibility:hidden?
        segHeights: Object.assign(Object.assign({}, oldSegHeights), newSegHeights),
        maxContentHeight: limitByContentHeight ? this.computeMaxContentHeight() : null
      });
    }
  }
  querySegHeights() {
    let segElMap = this.segHarnessRefs.currentMap;
    let segHeights = {};
    for (let segUid in segElMap) {
      let height = Math.round(segElMap[segUid].getBoundingClientRect().height);
      segHeights[segUid] = Math.max(segHeights[segUid] || 0, height);
    }
    return segHeights;
  }
  computeMaxContentHeight() {
    let firstKey = this.props.cells[0].key;
    let cellEl = this.cellElRefs.currentMap[firstKey];
    let fcContainerEl = this.fgElRefs.currentMap[firstKey];
    return cellEl.getBoundingClientRect().bottom - fcContainerEl.getBoundingClientRect().top;
  }
  getCellEls() {
    let elMap = this.cellElRefs.currentMap;
    return this.props.cells.map((cell) => elMap[cell.key]);
  }
}
TableRow.addStateEquality({
  segHeights: isPropsEqual
});
function buildMirrorPlacements(mirrorSegs, colPlacements) {
  if (!mirrorSegs.length) {
    return [];
  }
  let topsByInstanceId = buildAbsoluteTopHash(colPlacements);
  return mirrorSegs.map((seg) => ({
    seg,
    isVisible: true,
    isAbsolute: true,
    absoluteTop: topsByInstanceId[seg.eventRange.instance.instanceId],
    marginTop: 0
  }));
}
function buildAbsoluteTopHash(colPlacements) {
  let topsByInstanceId = {};
  for (let placements of colPlacements) {
    for (let placement of placements) {
      topsByInstanceId[placement.seg.eventRange.instance.instanceId] = placement.absoluteTop;
    }
  }
  return topsByInstanceId;
}
class TableRows extends DateComponent {
  constructor() {
    super(...arguments);
    this.splitBusinessHourSegs = memoize(splitSegsByRow);
    this.splitBgEventSegs = memoize(splitSegsByRow);
    this.splitFgEventSegs = memoize(splitSegsByRow);
    this.splitDateSelectionSegs = memoize(splitSegsByRow);
    this.splitEventDrag = memoize(splitInteractionByRow);
    this.splitEventResize = memoize(splitInteractionByRow);
    this.rowRefs = new RefMap();
  }
  render() {
    let { props, context } = this;
    let rowCnt = props.cells.length;
    let businessHourSegsByRow = this.splitBusinessHourSegs(props.businessHourSegs, rowCnt);
    let bgEventSegsByRow = this.splitBgEventSegs(props.bgEventSegs, rowCnt);
    let fgEventSegsByRow = this.splitFgEventSegs(props.fgEventSegs, rowCnt);
    let dateSelectionSegsByRow = this.splitDateSelectionSegs(props.dateSelectionSegs, rowCnt);
    let eventDragByRow = this.splitEventDrag(props.eventDrag, rowCnt);
    let eventResizeByRow = this.splitEventResize(props.eventResize, rowCnt);
    let cellMinHeight = rowCnt >= 7 && props.clientWidth ? props.clientWidth / context.options.aspectRatio / 6 : null;
    return createElement$1(NowTimer, { unit: "day" }, (nowDate, todayRange) => createElement$1(Fragment$2, null, props.cells.map((cells, row) => createElement$1(TableRow, {
      ref: this.rowRefs.createRef(row),
      key: cells.length ? cells[0].date.toISOString() : row,
      showDayNumbers: rowCnt > 1,
      showWeekNumbers: props.showWeekNumbers,
      todayRange,
      dateProfile: props.dateProfile,
      cells,
      renderIntro: props.renderRowIntro,
      businessHourSegs: businessHourSegsByRow[row],
      eventSelection: props.eventSelection,
      bgEventSegs: bgEventSegsByRow[row].filter(isSegAllDay),
      fgEventSegs: fgEventSegsByRow[row],
      dateSelectionSegs: dateSelectionSegsByRow[row],
      eventDrag: eventDragByRow[row],
      eventResize: eventResizeByRow[row],
      dayMaxEvents: props.dayMaxEvents,
      dayMaxEventRows: props.dayMaxEventRows,
      clientWidth: props.clientWidth,
      clientHeight: props.clientHeight,
      cellMinHeight,
      forPrint: props.forPrint
    }))));
  }
  componentDidMount() {
    this.registerInteractiveComponent();
  }
  componentDidUpdate() {
    this.registerInteractiveComponent();
  }
  registerInteractiveComponent() {
    if (!this.rootEl) {
      const firstCellEl = this.rowRefs.currentMap[0].getCellEls()[0];
      const rootEl = firstCellEl ? firstCellEl.closest(".fc-daygrid-body") : null;
      if (rootEl) {
        this.rootEl = rootEl;
        this.context.registerInteractiveComponent(this, {
          el: rootEl,
          isHitComboAllowed: this.props.isHitComboAllowed
        });
      }
    }
  }
  componentWillUnmount() {
    if (this.rootEl) {
      this.context.unregisterInteractiveComponent(this);
      this.rootEl = null;
    }
  }
  // Hit System
  // ----------------------------------------------------------------------------------------------------
  prepareHits() {
    this.rowPositions = new PositionCache(
      this.rootEl,
      this.rowRefs.collect().map((rowObj) => rowObj.getCellEls()[0]),
      // first cell el in each row. TODO: not optimal
      false,
      true
    );
    this.colPositions = new PositionCache(
      this.rootEl,
      this.rowRefs.currentMap[0].getCellEls(),
      // cell els in first row
      true,
      // horizontal
      false
    );
  }
  queryHit(positionLeft, positionTop) {
    let { colPositions, rowPositions } = this;
    let col = colPositions.leftToIndex(positionLeft);
    let row = rowPositions.topToIndex(positionTop);
    if (row != null && col != null) {
      let cell = this.props.cells[row][col];
      return {
        dateProfile: this.props.dateProfile,
        dateSpan: Object.assign({ range: this.getCellRange(row, col), allDay: true }, cell.extraDateSpan),
        dayEl: this.getCellEl(row, col),
        rect: {
          left: colPositions.lefts[col],
          right: colPositions.rights[col],
          top: rowPositions.tops[row],
          bottom: rowPositions.bottoms[row]
        },
        layer: 0
      };
    }
    return null;
  }
  getCellEl(row, col) {
    return this.rowRefs.currentMap[row].getCellEls()[col];
  }
  getCellRange(row, col) {
    let start = this.props.cells[row][col].date;
    let end = addDays(start, 1);
    return { start, end };
  }
}
function isSegAllDay(seg) {
  return seg.eventRange.def.allDay;
}
class Table extends DateComponent {
  constructor() {
    super(...arguments);
    this.elRef = createRef();
    this.needsScrollReset = false;
  }
  render() {
    let { props } = this;
    let { dayMaxEventRows, dayMaxEvents, expandRows } = props;
    let limitViaBalanced = dayMaxEvents === true || dayMaxEventRows === true;
    if (limitViaBalanced && !expandRows) {
      limitViaBalanced = false;
      dayMaxEventRows = null;
      dayMaxEvents = null;
    }
    let classNames = [
      "fc-daygrid-body",
      limitViaBalanced ? "fc-daygrid-body-balanced" : "fc-daygrid-body-unbalanced",
      expandRows ? "" : "fc-daygrid-body-natural"
      // will height of one row depend on the others?
    ];
    return createElement$1(
      "div",
      { ref: this.elRef, className: classNames.join(" "), style: {
        // these props are important to give this wrapper correct dimensions for interactions
        // TODO: if we set it here, can we avoid giving to inner tables?
        width: props.clientWidth,
        minWidth: props.tableMinWidth
      } },
      createElement$1(
        "table",
        { role: "presentation", className: "fc-scrollgrid-sync-table", style: {
          width: props.clientWidth,
          minWidth: props.tableMinWidth,
          height: expandRows ? props.clientHeight : ""
        } },
        props.colGroupNode,
        createElement$1(
          "tbody",
          { role: "presentation" },
          createElement$1(TableRows, { dateProfile: props.dateProfile, cells: props.cells, renderRowIntro: props.renderRowIntro, showWeekNumbers: props.showWeekNumbers, clientWidth: props.clientWidth, clientHeight: props.clientHeight, businessHourSegs: props.businessHourSegs, bgEventSegs: props.bgEventSegs, fgEventSegs: props.fgEventSegs, dateSelectionSegs: props.dateSelectionSegs, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, dayMaxEvents, dayMaxEventRows, forPrint: props.forPrint, isHitComboAllowed: props.isHitComboAllowed })
        )
      )
    );
  }
  componentDidMount() {
    this.requestScrollReset();
  }
  componentDidUpdate(prevProps) {
    if (prevProps.dateProfile !== this.props.dateProfile) {
      this.requestScrollReset();
    } else {
      this.flushScrollReset();
    }
  }
  requestScrollReset() {
    this.needsScrollReset = true;
    this.flushScrollReset();
  }
  flushScrollReset() {
    if (this.needsScrollReset && this.props.clientWidth) {
      const subjectEl = getScrollSubjectEl(this.elRef.current, this.props.dateProfile);
      if (subjectEl) {
        const originEl = subjectEl.closest(".fc-daygrid-body");
        const scrollEl = originEl.closest(".fc-scroller");
        const scrollTop = subjectEl.getBoundingClientRect().top - originEl.getBoundingClientRect().top;
        scrollEl.scrollTop = scrollTop ? scrollTop + 1 : 0;
      }
      this.needsScrollReset = false;
    }
  }
}
function getScrollSubjectEl(containerEl, dateProfile) {
  let el;
  if (dateProfile.currentRangeUnit.match(/year|month/)) {
    el = containerEl.querySelector(`[data-date="${formatIsoMonthStr(dateProfile.currentDate)}-01"]`);
  }
  if (!el) {
    el = containerEl.querySelector(`[data-date="${formatDayString(dateProfile.currentDate)}"]`);
  }
  return el;
}
class DayTableSlicer extends Slicer {
  constructor() {
    super(...arguments);
    this.forceDayIfListItem = true;
  }
  sliceRange(dateRange, dayTableModel) {
    return dayTableModel.sliceRange(dateRange);
  }
}
class DayTable extends DateComponent {
  constructor() {
    super(...arguments);
    this.slicer = new DayTableSlicer();
    this.tableRef = createRef();
  }
  render() {
    let { props, context } = this;
    return createElement$1(Table, Object.assign({ ref: this.tableRef }, this.slicer.sliceProps(props, props.dateProfile, props.nextDayThreshold, context, props.dayTableModel), { dateProfile: props.dateProfile, cells: props.dayTableModel.cells, colGroupNode: props.colGroupNode, tableMinWidth: props.tableMinWidth, renderRowIntro: props.renderRowIntro, dayMaxEvents: props.dayMaxEvents, dayMaxEventRows: props.dayMaxEventRows, showWeekNumbers: props.showWeekNumbers, expandRows: props.expandRows, headerAlignElRef: props.headerAlignElRef, clientWidth: props.clientWidth, clientHeight: props.clientHeight, forPrint: props.forPrint }));
  }
}
class DayTableView extends TableView {
  constructor() {
    super(...arguments);
    this.buildDayTableModel = memoize(buildDayTableModel);
    this.headerRef = createRef();
    this.tableRef = createRef();
  }
  render() {
    let { options, dateProfileGenerator } = this.context;
    let { props } = this;
    let dayTableModel = this.buildDayTableModel(props.dateProfile, dateProfileGenerator);
    let headerContent = options.dayHeaders && createElement$1(DayHeader, { ref: this.headerRef, dateProfile: props.dateProfile, dates: dayTableModel.headerDates, datesRepDistinctDays: dayTableModel.rowCnt === 1 });
    let bodyContent = (contentArg) => createElement$1(DayTable, { ref: this.tableRef, dateProfile: props.dateProfile, dayTableModel, businessHours: props.businessHours, dateSelection: props.dateSelection, eventStore: props.eventStore, eventUiBases: props.eventUiBases, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, nextDayThreshold: options.nextDayThreshold, colGroupNode: contentArg.tableColGroupNode, tableMinWidth: contentArg.tableMinWidth, dayMaxEvents: options.dayMaxEvents, dayMaxEventRows: options.dayMaxEventRows, showWeekNumbers: options.weekNumbers, expandRows: !props.isHeightAuto, headerAlignElRef: this.headerElRef, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, forPrint: props.forPrint });
    return options.dayMinWidth ? this.renderHScrollLayout(headerContent, bodyContent, dayTableModel.colCnt, options.dayMinWidth) : this.renderSimpleLayout(headerContent, bodyContent);
  }
}
function buildDayTableModel(dateProfile, dateProfileGenerator) {
  let daySeries = new DaySeriesModel(dateProfile.renderRange, dateProfileGenerator);
  return new DayTableModel(daySeries, /year|month|week/.test(dateProfile.currentRangeUnit));
}
class TableDateProfileGenerator extends DateProfileGenerator {
  // Computes the date range that will be rendered
  buildRenderRange(currentRange, currentRangeUnit, isRangeAllDay) {
    let renderRange = super.buildRenderRange(currentRange, currentRangeUnit, isRangeAllDay);
    let { props } = this;
    return buildDayTableRenderRange({
      currentRange: renderRange,
      snapToWeek: /^(year|month)$/.test(currentRangeUnit),
      fixedWeekCount: props.fixedWeekCount,
      dateEnv: props.dateEnv
    });
  }
}
function buildDayTableRenderRange(props) {
  let { dateEnv, currentRange } = props;
  let { start, end } = currentRange;
  let endOfWeek;
  if (props.snapToWeek) {
    start = dateEnv.startOfWeek(start);
    endOfWeek = dateEnv.startOfWeek(end);
    if (endOfWeek.valueOf() !== end.valueOf()) {
      end = addWeeks(endOfWeek, 1);
    }
  }
  if (props.fixedWeekCount) {
    let lastMonthRenderStart = dateEnv.startOfWeek(dateEnv.startOfMonth(addDays(currentRange.end, -1)));
    let rowCnt = Math.ceil(
      // could be partial weeks due to hiddenDays
      diffWeeks(lastMonthRenderStart, end)
    );
    end = addWeeks(end, 6 - rowCnt);
  }
  return { start, end };
}
var css_248z$1 = ':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';
injectStyles(css_248z$1);
var index$1 = createPlugin({
  name: "@fullcalendar/daygrid",
  initialView: "dayGridMonth",
  views: {
    dayGrid: {
      component: DayTableView,
      dateProfileGeneratorClass: TableDateProfileGenerator
    },
    dayGridDay: {
      type: "dayGrid",
      duration: { days: 1 }
    },
    dayGridWeek: {
      type: "dayGrid",
      duration: { weeks: 1 }
    },
    dayGridMonth: {
      type: "dayGrid",
      duration: { months: 1 },
      fixedWeekCount: true
    },
    dayGridYear: {
      type: "dayGrid",
      duration: { years: 1 }
    }
  }
});
class AllDaySplitter extends Splitter {
  getKeyInfo() {
    return {
      allDay: {},
      timed: {}
    };
  }
  getKeysForDateSpan(dateSpan) {
    if (dateSpan.allDay) {
      return ["allDay"];
    }
    return ["timed"];
  }
  getKeysForEventDef(eventDef) {
    if (!eventDef.allDay) {
      return ["timed"];
    }
    if (hasBgRendering(eventDef)) {
      return ["timed", "allDay"];
    }
    return ["allDay"];
  }
}
const DEFAULT_SLAT_LABEL_FORMAT = createFormatter({
  hour: "numeric",
  minute: "2-digit",
  omitZeroMinute: true,
  meridiem: "short"
});
function TimeColsAxisCell(props) {
  let classNames = [
    "fc-timegrid-slot",
    "fc-timegrid-slot-label",
    props.isLabeled ? "fc-scrollgrid-shrink" : "fc-timegrid-slot-minor"
  ];
  return createElement$1(ViewContextType.Consumer, null, (context) => {
    if (!props.isLabeled) {
      return createElement$1("td", { className: classNames.join(" "), "data-time": props.isoTimeStr });
    }
    let { dateEnv, options, viewApi } = context;
    let labelFormat = (
      // TODO: fully pre-parse
      options.slotLabelFormat == null ? DEFAULT_SLAT_LABEL_FORMAT : Array.isArray(options.slotLabelFormat) ? createFormatter(options.slotLabelFormat[0]) : createFormatter(options.slotLabelFormat)
    );
    let renderProps = {
      level: 0,
      time: props.time,
      date: dateEnv.toDate(props.date),
      view: viewApi,
      text: dateEnv.format(props.date, labelFormat)
    };
    return createElement$1(ContentContainer, { elTag: "td", elClasses: classNames, elAttrs: {
      "data-time": props.isoTimeStr
    }, renderProps, generatorName: "slotLabelContent", customGenerator: options.slotLabelContent, defaultGenerator: renderInnerContent, classNameGenerator: options.slotLabelClassNames, didMount: options.slotLabelDidMount, willUnmount: options.slotLabelWillUnmount }, (InnerContent) => createElement$1(
      "div",
      { className: "fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame" },
      createElement$1(InnerContent, { elTag: "div", elClasses: [
        "fc-timegrid-slot-label-cushion",
        "fc-scrollgrid-shrink-cushion"
      ] })
    ));
  });
}
function renderInnerContent(props) {
  return props.text;
}
class TimeBodyAxis extends BaseComponent {
  render() {
    return this.props.slatMetas.map((slatMeta) => createElement$1(
      "tr",
      { key: slatMeta.key },
      createElement$1(TimeColsAxisCell, Object.assign({}, slatMeta))
    ));
  }
}
const DEFAULT_WEEK_NUM_FORMAT = createFormatter({ week: "short" });
const AUTO_ALL_DAY_MAX_EVENT_ROWS = 5;
class TimeColsView extends DateComponent {
  constructor() {
    super(...arguments);
    this.allDaySplitter = new AllDaySplitter();
    this.headerElRef = createRef();
    this.rootElRef = createRef();
    this.scrollerElRef = createRef();
    this.state = {
      slatCoords: null
    };
    this.handleScrollTopRequest = (scrollTop) => {
      let scrollerEl = this.scrollerElRef.current;
      if (scrollerEl) {
        scrollerEl.scrollTop = scrollTop;
      }
    };
    this.renderHeadAxis = (rowKey, frameHeight = "") => {
      let { options } = this.context;
      let { dateProfile } = this.props;
      let range = dateProfile.renderRange;
      let dayCnt = diffDays(range.start, range.end);
      let navLinkAttrs = dayCnt === 1 ? buildNavLinkAttrs(this.context, range.start, "week") : {};
      if (options.weekNumbers && rowKey === "day") {
        return createElement$1(WeekNumberContainer, { elTag: "th", elClasses: [
          "fc-timegrid-axis",
          "fc-scrollgrid-shrink"
        ], elAttrs: {
          "aria-hidden": true
        }, date: range.start, defaultFormat: DEFAULT_WEEK_NUM_FORMAT }, (InnerContent) => createElement$1(
          "div",
          { className: [
            "fc-timegrid-axis-frame",
            "fc-scrollgrid-shrink-frame",
            "fc-timegrid-axis-frame-liquid"
          ].join(" "), style: { height: frameHeight } },
          createElement$1(InnerContent, { elTag: "a", elClasses: [
            "fc-timegrid-axis-cushion",
            "fc-scrollgrid-shrink-cushion",
            "fc-scrollgrid-sync-inner"
          ], elAttrs: navLinkAttrs })
        ));
      }
      return createElement$1(
        "th",
        { "aria-hidden": true, className: "fc-timegrid-axis" },
        createElement$1("div", { className: "fc-timegrid-axis-frame", style: { height: frameHeight } })
      );
    };
    this.renderTableRowAxis = (rowHeight) => {
      let { options, viewApi } = this.context;
      let renderProps = {
        text: options.allDayText,
        view: viewApi
      };
      return (
        // TODO: make reusable hook. used in list view too
        createElement$1(ContentContainer, { elTag: "td", elClasses: [
          "fc-timegrid-axis",
          "fc-scrollgrid-shrink"
        ], elAttrs: {
          "aria-hidden": true
        }, renderProps, generatorName: "allDayContent", customGenerator: options.allDayContent, defaultGenerator: renderAllDayInner, classNameGenerator: options.allDayClassNames, didMount: options.allDayDidMount, willUnmount: options.allDayWillUnmount }, (InnerContent) => createElement$1(
          "div",
          { className: [
            "fc-timegrid-axis-frame",
            "fc-scrollgrid-shrink-frame",
            rowHeight == null ? " fc-timegrid-axis-frame-liquid" : ""
          ].join(" "), style: { height: rowHeight } },
          createElement$1(InnerContent, { elTag: "span", elClasses: [
            "fc-timegrid-axis-cushion",
            "fc-scrollgrid-shrink-cushion",
            "fc-scrollgrid-sync-inner"
          ] })
        ))
      );
    };
    this.handleSlatCoords = (slatCoords) => {
      this.setState({ slatCoords });
    };
  }
  // rendering
  // ----------------------------------------------------------------------------------------------------
  renderSimpleLayout(headerRowContent, allDayContent, timeContent) {
    let { context, props } = this;
    let sections = [];
    let stickyHeaderDates = getStickyHeaderDates(context.options);
    if (headerRowContent) {
      sections.push({
        type: "header",
        key: "header",
        isSticky: stickyHeaderDates,
        chunk: {
          elRef: this.headerElRef,
          tableClassName: "fc-col-header",
          rowContent: headerRowContent
        }
      });
    }
    if (allDayContent) {
      sections.push({
        type: "body",
        key: "all-day",
        chunk: { content: allDayContent }
      });
      sections.push({
        type: "body",
        key: "all-day-divider",
        outerContent: (
          // TODO: rename to cellContent so don't need to define <tr>?
          createElement$1(
            "tr",
            { role: "presentation", className: "fc-scrollgrid-section" },
            createElement$1("td", { className: "fc-timegrid-divider " + context.theme.getClass("tableCellShaded") })
          )
        )
      });
    }
    sections.push({
      type: "body",
      key: "body",
      liquid: true,
      expandRows: Boolean(context.options.expandRows),
      chunk: {
        scrollerElRef: this.scrollerElRef,
        content: timeContent
      }
    });
    return createElement$1(
      ViewContainer,
      { elRef: this.rootElRef, elClasses: ["fc-timegrid"], viewSpec: context.viewSpec },
      createElement$1(SimpleScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, cols: [{ width: "shrink" }], sections })
    );
  }
  renderHScrollLayout(headerRowContent, allDayContent, timeContent, colCnt, dayMinWidth, slatMetas, slatCoords) {
    let ScrollGrid = this.context.pluginHooks.scrollGridImpl;
    if (!ScrollGrid) {
      throw new Error("No ScrollGrid implementation");
    }
    let { context, props } = this;
    let stickyHeaderDates = !props.forPrint && getStickyHeaderDates(context.options);
    let stickyFooterScrollbar = !props.forPrint && getStickyFooterScrollbar(context.options);
    let sections = [];
    if (headerRowContent) {
      sections.push({
        type: "header",
        key: "header",
        isSticky: stickyHeaderDates,
        syncRowHeights: true,
        chunks: [
          {
            key: "axis",
            rowContent: (arg) => createElement$1("tr", { role: "presentation" }, this.renderHeadAxis("day", arg.rowSyncHeights[0]))
          },
          {
            key: "cols",
            elRef: this.headerElRef,
            tableClassName: "fc-col-header",
            rowContent: headerRowContent
          }
        ]
      });
    }
    if (allDayContent) {
      sections.push({
        type: "body",
        key: "all-day",
        syncRowHeights: true,
        chunks: [
          {
            key: "axis",
            rowContent: (contentArg) => createElement$1("tr", { role: "presentation" }, this.renderTableRowAxis(contentArg.rowSyncHeights[0]))
          },
          {
            key: "cols",
            content: allDayContent
          }
        ]
      });
      sections.push({
        key: "all-day-divider",
        type: "body",
        outerContent: (
          // TODO: rename to cellContent so don't need to define <tr>?
          createElement$1(
            "tr",
            { role: "presentation", className: "fc-scrollgrid-section" },
            createElement$1("td", { colSpan: 2, className: "fc-timegrid-divider " + context.theme.getClass("tableCellShaded") })
          )
        )
      });
    }
    let isNowIndicator = context.options.nowIndicator;
    sections.push({
      type: "body",
      key: "body",
      liquid: true,
      expandRows: Boolean(context.options.expandRows),
      chunks: [
        {
          key: "axis",
          content: (arg) => (
            // TODO: make this now-indicator arrow more DRY with TimeColsContent
            createElement$1(
              "div",
              { className: "fc-timegrid-axis-chunk" },
              createElement$1(
                "table",
                { "aria-hidden": true, style: { height: arg.expandRows ? arg.clientHeight : "" } },
                arg.tableColGroupNode,
                createElement$1(
                  "tbody",
                  null,
                  createElement$1(TimeBodyAxis, { slatMetas })
                )
              ),
              createElement$1(
                "div",
                { className: "fc-timegrid-now-indicator-container" },
                createElement$1(NowTimer, {
                  unit: isNowIndicator ? "minute" : "day"
                  /* hacky */
                }, (nowDate) => {
                  let nowIndicatorTop = isNowIndicator && slatCoords && slatCoords.safeComputeTop(nowDate);
                  if (typeof nowIndicatorTop === "number") {
                    return createElement$1(NowIndicatorContainer, { elClasses: ["fc-timegrid-now-indicator-arrow"], elStyle: { top: nowIndicatorTop }, isAxis: true, date: nowDate });
                  }
                  return null;
                })
              )
            )
          )
        },
        {
          key: "cols",
          scrollerElRef: this.scrollerElRef,
          content: timeContent
        }
      ]
    });
    if (stickyFooterScrollbar) {
      sections.push({
        key: "footer",
        type: "footer",
        isSticky: true,
        chunks: [
          {
            key: "axis",
            content: renderScrollShim
          },
          {
            key: "cols",
            content: renderScrollShim
          }
        ]
      });
    }
    return createElement$1(
      ViewContainer,
      { elRef: this.rootElRef, elClasses: ["fc-timegrid"], viewSpec: context.viewSpec },
      createElement$1(ScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, forPrint: props.forPrint, collapsibleWidth: false, colGroups: [
        { width: "shrink", cols: [{ width: "shrink" }] },
        { cols: [{ span: colCnt, minWidth: dayMinWidth }] }
      ], sections })
    );
  }
  /* Dimensions
  ------------------------------------------------------------------------------------------------------------------*/
  getAllDayMaxEventProps() {
    let { dayMaxEvents, dayMaxEventRows } = this.context.options;
    if (dayMaxEvents === true || dayMaxEventRows === true) {
      dayMaxEvents = void 0;
      dayMaxEventRows = AUTO_ALL_DAY_MAX_EVENT_ROWS;
    }
    return { dayMaxEvents, dayMaxEventRows };
  }
}
function renderAllDayInner(renderProps) {
  return renderProps.text;
}
class TimeColsSlatsCoords {
  constructor(positions, dateProfile, slotDuration) {
    this.positions = positions;
    this.dateProfile = dateProfile;
    this.slotDuration = slotDuration;
  }
  safeComputeTop(date) {
    let { dateProfile } = this;
    if (rangeContainsMarker(dateProfile.currentRange, date)) {
      let startOfDayDate = startOfDay(date);
      let timeMs = date.valueOf() - startOfDayDate.valueOf();
      if (timeMs >= asRoughMs(dateProfile.slotMinTime) && timeMs < asRoughMs(dateProfile.slotMaxTime)) {
        return this.computeTimeTop(createDuration(timeMs));
      }
    }
    return null;
  }
  // Computes the top coordinate, relative to the bounds of the grid, of the given date.
  // A `startOfDayDate` must be given for avoiding ambiguity over how to treat midnight.
  computeDateTop(when, startOfDayDate) {
    if (!startOfDayDate) {
      startOfDayDate = startOfDay(when);
    }
    return this.computeTimeTop(createDuration(when.valueOf() - startOfDayDate.valueOf()));
  }
  // Computes the top coordinate, relative to the bounds of the grid, of the given time (a Duration).
  // This is a makeshify way to compute the time-top. Assumes all slatMetas dates are uniform.
  // Eventually allow computation with arbirary slat dates.
  computeTimeTop(duration) {
    let { positions, dateProfile } = this;
    let len = positions.els.length;
    let slatCoverage = (duration.milliseconds - asRoughMs(dateProfile.slotMinTime)) / asRoughMs(this.slotDuration);
    let slatIndex;
    let slatRemainder;
    slatCoverage = Math.max(0, slatCoverage);
    slatCoverage = Math.min(len, slatCoverage);
    slatIndex = Math.floor(slatCoverage);
    slatIndex = Math.min(slatIndex, len - 1);
    slatRemainder = slatCoverage - slatIndex;
    return positions.tops[slatIndex] + positions.getHeight(slatIndex) * slatRemainder;
  }
}
class TimeColsSlatsBody extends BaseComponent {
  render() {
    let { props, context } = this;
    let { options } = context;
    let { slatElRefs } = props;
    return createElement$1("tbody", null, props.slatMetas.map((slatMeta, i2) => {
      let renderProps = {
        time: slatMeta.time,
        date: context.dateEnv.toDate(slatMeta.date),
        view: context.viewApi
      };
      return createElement$1(
        "tr",
        { key: slatMeta.key, ref: slatElRefs.createRef(slatMeta.key) },
        props.axis && createElement$1(TimeColsAxisCell, Object.assign({}, slatMeta)),
        createElement$1(ContentContainer, { elTag: "td", elClasses: [
          "fc-timegrid-slot",
          "fc-timegrid-slot-lane",
          !slatMeta.isLabeled && "fc-timegrid-slot-minor"
        ], elAttrs: {
          "data-time": slatMeta.isoTimeStr
        }, renderProps, generatorName: "slotLaneContent", customGenerator: options.slotLaneContent, classNameGenerator: options.slotLaneClassNames, didMount: options.slotLaneDidMount, willUnmount: options.slotLaneWillUnmount })
      );
    }));
  }
}
class TimeColsSlats extends BaseComponent {
  constructor() {
    super(...arguments);
    this.rootElRef = createRef();
    this.slatElRefs = new RefMap();
  }
  render() {
    let { props, context } = this;
    return createElement$1(
      "div",
      { ref: this.rootElRef, className: "fc-timegrid-slots" },
      createElement$1(
        "table",
        { "aria-hidden": true, className: context.theme.getClass("table"), style: {
          minWidth: props.tableMinWidth,
          width: props.clientWidth,
          height: props.minHeight
        } },
        props.tableColGroupNode,
        createElement$1(TimeColsSlatsBody, { slatElRefs: this.slatElRefs, axis: props.axis, slatMetas: props.slatMetas })
      )
    );
  }
  componentDidMount() {
    this.updateSizing();
  }
  componentDidUpdate() {
    this.updateSizing();
  }
  componentWillUnmount() {
    if (this.props.onCoords) {
      this.props.onCoords(null);
    }
  }
  updateSizing() {
    let { context, props } = this;
    if (props.onCoords && props.clientWidth !== null) {
      let rootEl = this.rootElRef.current;
      if (rootEl.offsetHeight) {
        props.onCoords(new TimeColsSlatsCoords(new PositionCache(this.rootElRef.current, collectSlatEls(this.slatElRefs.currentMap, props.slatMetas), false, true), this.props.dateProfile, context.options.slotDuration));
      }
    }
  }
}
function collectSlatEls(elMap, slatMetas) {
  return slatMetas.map((slatMeta) => elMap[slatMeta.key]);
}
function splitSegsByCol(segs, colCnt) {
  let segsByCol = [];
  let i2;
  for (i2 = 0; i2 < colCnt; i2 += 1) {
    segsByCol.push([]);
  }
  if (segs) {
    for (i2 = 0; i2 < segs.length; i2 += 1) {
      segsByCol[segs[i2].col].push(segs[i2]);
    }
  }
  return segsByCol;
}
function splitInteractionByCol(ui, colCnt) {
  let byRow = [];
  if (!ui) {
    for (let i2 = 0; i2 < colCnt; i2 += 1) {
      byRow[i2] = null;
    }
  } else {
    for (let i2 = 0; i2 < colCnt; i2 += 1) {
      byRow[i2] = {
        affectedInstances: ui.affectedInstances,
        isEvent: ui.isEvent,
        segs: []
      };
    }
    for (let seg of ui.segs) {
      byRow[seg.col].segs.push(seg);
    }
  }
  return byRow;
}
class TimeColMoreLink extends BaseComponent {
  render() {
    let { props } = this;
    return createElement$1(MoreLinkContainer, { elClasses: ["fc-timegrid-more-link"], elStyle: {
      top: props.top,
      bottom: props.bottom
    }, allDayDate: null, moreCnt: props.hiddenSegs.length, allSegs: props.hiddenSegs, hiddenSegs: props.hiddenSegs, extraDateSpan: props.extraDateSpan, dateProfile: props.dateProfile, todayRange: props.todayRange, popoverContent: () => renderPlainFgSegs(props.hiddenSegs, props), defaultGenerator: renderMoreLinkInner, forceTimed: true }, (InnerContent) => createElement$1(InnerContent, { elTag: "div", elClasses: ["fc-timegrid-more-link-inner", "fc-sticky"] }));
  }
}
function renderMoreLinkInner(props) {
  return props.shortText;
}
function buildPositioning(segInputs, strictOrder, maxStackCnt) {
  let hierarchy = new SegHierarchy();
  if (strictOrder != null) {
    hierarchy.strictOrder = strictOrder;
  }
  if (maxStackCnt != null) {
    hierarchy.maxStackCnt = maxStackCnt;
  }
  let hiddenEntries = hierarchy.addSegs(segInputs);
  let hiddenGroups = groupIntersectingEntries(hiddenEntries);
  let web = buildWeb(hierarchy);
  web = stretchWeb(web, 1);
  let segRects = webToRects(web);
  return { segRects, hiddenGroups };
}
function buildWeb(hierarchy) {
  const { entriesByLevel } = hierarchy;
  const buildNode = cacheable((level, lateral) => level + ":" + lateral, (level, lateral) => {
    let siblingRange = findNextLevelSegs(hierarchy, level, lateral);
    let nextLevelRes = buildNodes(siblingRange, buildNode);
    let entry = entriesByLevel[level][lateral];
    return [
      Object.assign(Object.assign({}, entry), { nextLevelNodes: nextLevelRes[0] }),
      entry.thickness + nextLevelRes[1]
      // the pressure builds
    ];
  });
  return buildNodes(entriesByLevel.length ? { level: 0, lateralStart: 0, lateralEnd: entriesByLevel[0].length } : null, buildNode)[0];
}
function buildNodes(siblingRange, buildNode) {
  if (!siblingRange) {
    return [[], 0];
  }
  let { level, lateralStart, lateralEnd } = siblingRange;
  let lateral = lateralStart;
  let pairs = [];
  while (lateral < lateralEnd) {
    pairs.push(buildNode(level, lateral));
    lateral += 1;
  }
  pairs.sort(cmpDescPressures);
  return [
    pairs.map(extractNode),
    pairs[0][1]
    // first item's pressure
  ];
}
function cmpDescPressures(a, b) {
  return b[1] - a[1];
}
function extractNode(a) {
  return a[0];
}
function findNextLevelSegs(hierarchy, subjectLevel, subjectLateral) {
  let { levelCoords, entriesByLevel } = hierarchy;
  let subjectEntry = entriesByLevel[subjectLevel][subjectLateral];
  let afterSubject = levelCoords[subjectLevel] + subjectEntry.thickness;
  let levelCnt = levelCoords.length;
  let level = subjectLevel;
  for (; level < levelCnt && levelCoords[level] < afterSubject; level += 1)
    ;
  for (; level < levelCnt; level += 1) {
    let entries = entriesByLevel[level];
    let entry;
    let searchIndex = binarySearch(entries, subjectEntry.span.start, getEntrySpanEnd);
    let lateralStart = searchIndex[0] + searchIndex[1];
    let lateralEnd = lateralStart;
    while (
      // loop through entries that horizontally intersect
      (entry = entries[lateralEnd]) && // but not past the whole seg list
      entry.span.start < subjectEntry.span.end
    ) {
      lateralEnd += 1;
    }
    if (lateralStart < lateralEnd) {
      return { level, lateralStart, lateralEnd };
    }
  }
  return null;
}
function stretchWeb(topLevelNodes, totalThickness) {
  const stretchNode = cacheable((node, startCoord, prevThickness) => buildEntryKey(node), (node, startCoord, prevThickness) => {
    let { nextLevelNodes, thickness } = node;
    let allThickness = thickness + prevThickness;
    let thicknessFraction = thickness / allThickness;
    let endCoord;
    let newChildren = [];
    if (!nextLevelNodes.length) {
      endCoord = totalThickness;
    } else {
      for (let childNode of nextLevelNodes) {
        if (endCoord === void 0) {
          let res = stretchNode(childNode, startCoord, allThickness);
          endCoord = res[0];
          newChildren.push(res[1]);
        } else {
          let res = stretchNode(childNode, endCoord, 0);
          newChildren.push(res[1]);
        }
      }
    }
    let newThickness = (endCoord - startCoord) * thicknessFraction;
    return [endCoord - newThickness, Object.assign(Object.assign({}, node), { thickness: newThickness, nextLevelNodes: newChildren })];
  });
  return topLevelNodes.map((node) => stretchNode(node, 0, 0)[1]);
}
function webToRects(topLevelNodes) {
  let rects = [];
  const processNode = cacheable((node, levelCoord, stackDepth) => buildEntryKey(node), (node, levelCoord, stackDepth) => {
    let rect = Object.assign(Object.assign({}, node), {
      levelCoord,
      stackDepth,
      stackForward: 0
    });
    rects.push(rect);
    return rect.stackForward = processNodes(node.nextLevelNodes, levelCoord + node.thickness, stackDepth + 1) + 1;
  });
  function processNodes(nodes, levelCoord, stackDepth) {
    let stackForward = 0;
    for (let node of nodes) {
      stackForward = Math.max(processNode(node, levelCoord, stackDepth), stackForward);
    }
    return stackForward;
  }
  processNodes(topLevelNodes, 0, 0);
  return rects;
}
function cacheable(keyFunc, workFunc) {
  const cache = {};
  return (...args) => {
    let key = keyFunc(...args);
    return key in cache ? cache[key] : cache[key] = workFunc(...args);
  };
}
function computeSegVCoords(segs, colDate, slatCoords = null, eventMinHeight = 0) {
  let vcoords = [];
  if (slatCoords) {
    for (let i2 = 0; i2 < segs.length; i2 += 1) {
      let seg = segs[i2];
      let spanStart = slatCoords.computeDateTop(seg.start, colDate);
      let spanEnd = Math.max(
        spanStart + (eventMinHeight || 0),
        // :(
        slatCoords.computeDateTop(seg.end, colDate)
      );
      vcoords.push({
        start: Math.round(spanStart),
        end: Math.round(spanEnd)
        //
      });
    }
  }
  return vcoords;
}
function computeFgSegPlacements(segs, segVCoords, eventOrderStrict, eventMaxStack) {
  let segInputs = [];
  let dumbSegs = [];
  for (let i2 = 0; i2 < segs.length; i2 += 1) {
    let vcoords = segVCoords[i2];
    if (vcoords) {
      segInputs.push({
        index: i2,
        thickness: 1,
        span: vcoords
      });
    } else {
      dumbSegs.push(segs[i2]);
    }
  }
  let { segRects, hiddenGroups } = buildPositioning(segInputs, eventOrderStrict, eventMaxStack);
  let segPlacements = [];
  for (let segRect of segRects) {
    segPlacements.push({
      seg: segs[segRect.index],
      rect: segRect
    });
  }
  for (let dumbSeg of dumbSegs) {
    segPlacements.push({ seg: dumbSeg, rect: null });
  }
  return { segPlacements, hiddenGroups };
}
const DEFAULT_TIME_FORMAT = createFormatter({
  hour: "numeric",
  minute: "2-digit",
  meridiem: false
});
class TimeColEvent extends BaseComponent {
  render() {
    return createElement$1(StandardEvent, Object.assign({}, this.props, { elClasses: [
      "fc-timegrid-event",
      "fc-v-event",
      this.props.isShort && "fc-timegrid-event-short"
    ], defaultTimeFormat: DEFAULT_TIME_FORMAT }));
  }
}
class TimeCol extends BaseComponent {
  constructor() {
    super(...arguments);
    this.sortEventSegs = memoize(sortEventSegs);
  }
  // TODO: memoize event-placement?
  render() {
    let { props, context } = this;
    let { options } = context;
    let isSelectMirror = options.selectMirror;
    let mirrorSegs = (
      // yuck
      props.eventDrag && props.eventDrag.segs || props.eventResize && props.eventResize.segs || isSelectMirror && props.dateSelectionSegs || []
    );
    let interactionAffectedInstances = (
      // TODO: messy way to compute this
      props.eventDrag && props.eventDrag.affectedInstances || props.eventResize && props.eventResize.affectedInstances || {}
    );
    let sortedFgSegs = this.sortEventSegs(props.fgEventSegs, options.eventOrder);
    return createElement$1(DayCellContainer, { elTag: "td", elRef: props.elRef, elClasses: [
      "fc-timegrid-col",
      ...props.extraClassNames || []
    ], elAttrs: Object.assign({ role: "gridcell" }, props.extraDataAttrs), date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraRenderProps: props.extraRenderProps }, (InnerContent) => createElement$1(
      "div",
      { className: "fc-timegrid-col-frame" },
      createElement$1(
        "div",
        { className: "fc-timegrid-col-bg" },
        this.renderFillSegs(props.businessHourSegs, "non-business"),
        this.renderFillSegs(props.bgEventSegs, "bg-event"),
        this.renderFillSegs(props.dateSelectionSegs, "highlight")
      ),
      createElement$1("div", { className: "fc-timegrid-col-events" }, this.renderFgSegs(sortedFgSegs, interactionAffectedInstances, false, false, false)),
      createElement$1("div", { className: "fc-timegrid-col-events" }, this.renderFgSegs(mirrorSegs, {}, Boolean(props.eventDrag), Boolean(props.eventResize), Boolean(isSelectMirror), "mirror")),
      createElement$1("div", { className: "fc-timegrid-now-indicator-container" }, this.renderNowIndicator(props.nowIndicatorSegs)),
      hasCustomDayCellContent(options) && createElement$1(InnerContent, { elTag: "div", elClasses: ["fc-timegrid-col-misc"] })
    ));
  }
  renderFgSegs(sortedFgSegs, segIsInvisible, isDragging, isResizing, isDateSelecting, forcedKey) {
    let { props } = this;
    if (props.forPrint) {
      return renderPlainFgSegs(sortedFgSegs, props);
    }
    return this.renderPositionedFgSegs(sortedFgSegs, segIsInvisible, isDragging, isResizing, isDateSelecting, forcedKey);
  }
  renderPositionedFgSegs(segs, segIsInvisible, isDragging, isResizing, isDateSelecting, forcedKey) {
    let { eventMaxStack, eventShortHeight, eventOrderStrict, eventMinHeight } = this.context.options;
    let { date, slatCoords, eventSelection, todayRange, nowDate } = this.props;
    let isMirror = isDragging || isResizing || isDateSelecting;
    let segVCoords = computeSegVCoords(segs, date, slatCoords, eventMinHeight);
    let { segPlacements, hiddenGroups } = computeFgSegPlacements(segs, segVCoords, eventOrderStrict, eventMaxStack);
    return createElement$1(
      Fragment$2,
      null,
      this.renderHiddenGroups(hiddenGroups, segs),
      segPlacements.map((segPlacement) => {
        let { seg, rect } = segPlacement;
        let instanceId = seg.eventRange.instance.instanceId;
        let isVisible = isMirror || Boolean(!segIsInvisible[instanceId] && rect);
        let vStyle = computeSegVStyle(rect && rect.span);
        let hStyle = !isMirror && rect ? this.computeSegHStyle(rect) : { left: 0, right: 0 };
        let isInset = Boolean(rect) && rect.stackForward > 0;
        let isShort = Boolean(rect) && rect.span.end - rect.span.start < eventShortHeight;
        return createElement$1(
          "div",
          { className: "fc-timegrid-event-harness" + (isInset ? " fc-timegrid-event-harness-inset" : ""), key: forcedKey || instanceId, style: Object.assign(Object.assign({ visibility: isVisible ? "" : "hidden" }, vStyle), hStyle) },
          createElement$1(TimeColEvent, Object.assign({ seg, isDragging, isResizing, isDateSelecting, isSelected: instanceId === eventSelection, isShort }, getSegMeta(seg, todayRange, nowDate)))
        );
      })
    );
  }
  // will already have eventMinHeight applied because segInputs already had it
  renderHiddenGroups(hiddenGroups, segs) {
    let { extraDateSpan, dateProfile, todayRange, nowDate, eventSelection, eventDrag, eventResize } = this.props;
    return createElement$1(Fragment$2, null, hiddenGroups.map((hiddenGroup) => {
      let positionCss = computeSegVStyle(hiddenGroup.span);
      let hiddenSegs = compileSegsFromEntries(hiddenGroup.entries, segs);
      return createElement$1(TimeColMoreLink, { key: buildIsoString(computeEarliestSegStart(hiddenSegs)), hiddenSegs, top: positionCss.top, bottom: positionCss.bottom, extraDateSpan, dateProfile, todayRange, nowDate, eventSelection, eventDrag, eventResize });
    }));
  }
  renderFillSegs(segs, fillType) {
    let { props, context } = this;
    let segVCoords = computeSegVCoords(segs, props.date, props.slatCoords, context.options.eventMinHeight);
    let children = segVCoords.map((vcoords, i2) => {
      let seg = segs[i2];
      return createElement$1("div", { key: buildEventRangeKey(seg.eventRange), className: "fc-timegrid-bg-harness", style: computeSegVStyle(vcoords) }, fillType === "bg-event" ? createElement$1(BgEvent, Object.assign({ seg }, getSegMeta(seg, props.todayRange, props.nowDate))) : renderFill(fillType));
    });
    return createElement$1(Fragment$2, null, children);
  }
  renderNowIndicator(segs) {
    let { slatCoords, date } = this.props;
    if (!slatCoords) {
      return null;
    }
    return segs.map((seg, i2) => createElement$1(
      NowIndicatorContainer,
      {
        // key doesn't matter. will only ever be one
        key: i2,
        elClasses: ["fc-timegrid-now-indicator-line"],
        elStyle: {
          top: slatCoords.computeDateTop(seg.start, date)
        },
        isAxis: false,
        date
      }
    ));
  }
  computeSegHStyle(segHCoords) {
    let { isRtl, options } = this.context;
    let shouldOverlap = options.slotEventOverlap;
    let nearCoord = segHCoords.levelCoord;
    let farCoord = segHCoords.levelCoord + segHCoords.thickness;
    let left;
    let right;
    if (shouldOverlap) {
      farCoord = Math.min(1, nearCoord + (farCoord - nearCoord) * 2);
    }
    if (isRtl) {
      left = 1 - farCoord;
      right = nearCoord;
    } else {
      left = nearCoord;
      right = 1 - farCoord;
    }
    let props = {
      zIndex: segHCoords.stackDepth + 1,
      left: left * 100 + "%",
      right: right * 100 + "%"
    };
    if (shouldOverlap && !segHCoords.stackForward) {
      props[isRtl ? "marginLeft" : "marginRight"] = 10 * 2;
    }
    return props;
  }
}
function renderPlainFgSegs(sortedFgSegs, { todayRange, nowDate, eventSelection, eventDrag, eventResize }) {
  let hiddenInstances = (eventDrag ? eventDrag.affectedInstances : null) || (eventResize ? eventResize.affectedInstances : null) || {};
  return createElement$1(Fragment$2, null, sortedFgSegs.map((seg) => {
    let instanceId = seg.eventRange.instance.instanceId;
    return createElement$1(
      "div",
      { key: instanceId, style: { visibility: hiddenInstances[instanceId] ? "hidden" : "" } },
      createElement$1(TimeColEvent, Object.assign({ seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: instanceId === eventSelection, isShort: false }, getSegMeta(seg, todayRange, nowDate)))
    );
  }));
}
function computeSegVStyle(segVCoords) {
  if (!segVCoords) {
    return { top: "", bottom: "" };
  }
  return {
    top: segVCoords.start,
    bottom: -segVCoords.end
  };
}
function compileSegsFromEntries(segEntries, allSegs) {
  return segEntries.map((segEntry) => allSegs[segEntry.index]);
}
class TimeColsContent extends BaseComponent {
  constructor() {
    super(...arguments);
    this.splitFgEventSegs = memoize(splitSegsByCol);
    this.splitBgEventSegs = memoize(splitSegsByCol);
    this.splitBusinessHourSegs = memoize(splitSegsByCol);
    this.splitNowIndicatorSegs = memoize(splitSegsByCol);
    this.splitDateSelectionSegs = memoize(splitSegsByCol);
    this.splitEventDrag = memoize(splitInteractionByCol);
    this.splitEventResize = memoize(splitInteractionByCol);
    this.rootElRef = createRef();
    this.cellElRefs = new RefMap();
  }
  render() {
    let { props, context } = this;
    let nowIndicatorTop = context.options.nowIndicator && props.slatCoords && props.slatCoords.safeComputeTop(props.nowDate);
    let colCnt = props.cells.length;
    let fgEventSegsByRow = this.splitFgEventSegs(props.fgEventSegs, colCnt);
    let bgEventSegsByRow = this.splitBgEventSegs(props.bgEventSegs, colCnt);
    let businessHourSegsByRow = this.splitBusinessHourSegs(props.businessHourSegs, colCnt);
    let nowIndicatorSegsByRow = this.splitNowIndicatorSegs(props.nowIndicatorSegs, colCnt);
    let dateSelectionSegsByRow = this.splitDateSelectionSegs(props.dateSelectionSegs, colCnt);
    let eventDragByRow = this.splitEventDrag(props.eventDrag, colCnt);
    let eventResizeByRow = this.splitEventResize(props.eventResize, colCnt);
    return createElement$1(
      "div",
      { className: "fc-timegrid-cols", ref: this.rootElRef },
      createElement$1(
        "table",
        { role: "presentation", style: {
          minWidth: props.tableMinWidth,
          width: props.clientWidth
        } },
        props.tableColGroupNode,
        createElement$1(
          "tbody",
          { role: "presentation" },
          createElement$1(
            "tr",
            { role: "row" },
            props.axis && createElement$1(
              "td",
              { "aria-hidden": true, className: "fc-timegrid-col fc-timegrid-axis" },
              createElement$1(
                "div",
                { className: "fc-timegrid-col-frame" },
                createElement$1("div", { className: "fc-timegrid-now-indicator-container" }, typeof nowIndicatorTop === "number" && createElement$1(NowIndicatorContainer, { elClasses: ["fc-timegrid-now-indicator-arrow"], elStyle: { top: nowIndicatorTop }, isAxis: true, date: props.nowDate }))
              )
            ),
            props.cells.map((cell, i2) => createElement$1(TimeCol, { key: cell.key, elRef: this.cellElRefs.createRef(cell.key), dateProfile: props.dateProfile, date: cell.date, nowDate: props.nowDate, todayRange: props.todayRange, extraRenderProps: cell.extraRenderProps, extraDataAttrs: cell.extraDataAttrs, extraClassNames: cell.extraClassNames, extraDateSpan: cell.extraDateSpan, fgEventSegs: fgEventSegsByRow[i2], bgEventSegs: bgEventSegsByRow[i2], businessHourSegs: businessHourSegsByRow[i2], nowIndicatorSegs: nowIndicatorSegsByRow[i2], dateSelectionSegs: dateSelectionSegsByRow[i2], eventDrag: eventDragByRow[i2], eventResize: eventResizeByRow[i2], slatCoords: props.slatCoords, eventSelection: props.eventSelection, forPrint: props.forPrint }))
          )
        )
      )
    );
  }
  componentDidMount() {
    this.updateCoords();
  }
  componentDidUpdate() {
    this.updateCoords();
  }
  updateCoords() {
    let { props } = this;
    if (props.onColCoords && props.clientWidth !== null) {
      props.onColCoords(new PositionCache(
        this.rootElRef.current,
        collectCellEls(this.cellElRefs.currentMap, props.cells),
        true,
        // horizontal
        false
      ));
    }
  }
}
function collectCellEls(elMap, cells) {
  return cells.map((cell) => elMap[cell.key]);
}
class TimeCols extends DateComponent {
  constructor() {
    super(...arguments);
    this.processSlotOptions = memoize(processSlotOptions);
    this.state = {
      slatCoords: null
    };
    this.handleRootEl = (el) => {
      if (el) {
        this.context.registerInteractiveComponent(this, {
          el,
          isHitComboAllowed: this.props.isHitComboAllowed
        });
      } else {
        this.context.unregisterInteractiveComponent(this);
      }
    };
    this.handleScrollRequest = (request) => {
      let { onScrollTopRequest } = this.props;
      let { slatCoords } = this.state;
      if (onScrollTopRequest && slatCoords) {
        if (request.time) {
          let top = slatCoords.computeTimeTop(request.time);
          top = Math.ceil(top);
          if (top) {
            top += 1;
          }
          onScrollTopRequest(top);
        }
        return true;
      }
      return false;
    };
    this.handleColCoords = (colCoords) => {
      this.colCoords = colCoords;
    };
    this.handleSlatCoords = (slatCoords) => {
      this.setState({ slatCoords });
      if (this.props.onSlatCoords) {
        this.props.onSlatCoords(slatCoords);
      }
    };
  }
  render() {
    let { props, state } = this;
    return createElement$1(
      "div",
      { className: "fc-timegrid-body", ref: this.handleRootEl, style: {
        // these props are important to give this wrapper correct dimensions for interactions
        // TODO: if we set it here, can we avoid giving to inner tables?
        width: props.clientWidth,
        minWidth: props.tableMinWidth
      } },
      createElement$1(TimeColsSlats, { axis: props.axis, dateProfile: props.dateProfile, slatMetas: props.slatMetas, clientWidth: props.clientWidth, minHeight: props.expandRows ? props.clientHeight : "", tableMinWidth: props.tableMinWidth, tableColGroupNode: props.axis ? props.tableColGroupNode : null, onCoords: this.handleSlatCoords }),
      createElement$1(TimeColsContent, { cells: props.cells, axis: props.axis, dateProfile: props.dateProfile, businessHourSegs: props.businessHourSegs, bgEventSegs: props.bgEventSegs, fgEventSegs: props.fgEventSegs, dateSelectionSegs: props.dateSelectionSegs, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, todayRange: props.todayRange, nowDate: props.nowDate, nowIndicatorSegs: props.nowIndicatorSegs, clientWidth: props.clientWidth, tableMinWidth: props.tableMinWidth, tableColGroupNode: props.tableColGroupNode, slatCoords: state.slatCoords, onColCoords: this.handleColCoords, forPrint: props.forPrint })
    );
  }
  componentDidMount() {
    this.scrollResponder = this.context.createScrollResponder(this.handleScrollRequest);
  }
  componentDidUpdate(prevProps) {
    this.scrollResponder.update(prevProps.dateProfile !== this.props.dateProfile);
  }
  componentWillUnmount() {
    this.scrollResponder.detach();
  }
  queryHit(positionLeft, positionTop) {
    let { dateEnv, options } = this.context;
    let { colCoords } = this;
    let { dateProfile } = this.props;
    let { slatCoords } = this.state;
    let { snapDuration, snapsPerSlot } = this.processSlotOptions(this.props.slotDuration, options.snapDuration);
    let colIndex = colCoords.leftToIndex(positionLeft);
    let slatIndex = slatCoords.positions.topToIndex(positionTop);
    if (colIndex != null && slatIndex != null) {
      let cell = this.props.cells[colIndex];
      let slatTop = slatCoords.positions.tops[slatIndex];
      let slatHeight = slatCoords.positions.getHeight(slatIndex);
      let partial = (positionTop - slatTop) / slatHeight;
      let localSnapIndex = Math.floor(partial * snapsPerSlot);
      let snapIndex = slatIndex * snapsPerSlot + localSnapIndex;
      let dayDate = this.props.cells[colIndex].date;
      let time = addDurations(dateProfile.slotMinTime, multiplyDuration(snapDuration, snapIndex));
      let start = dateEnv.add(dayDate, time);
      let end = dateEnv.add(start, snapDuration);
      return {
        dateProfile,
        dateSpan: Object.assign({ range: { start, end }, allDay: false }, cell.extraDateSpan),
        dayEl: colCoords.els[colIndex],
        rect: {
          left: colCoords.lefts[colIndex],
          right: colCoords.rights[colIndex],
          top: slatTop,
          bottom: slatTop + slatHeight
        },
        layer: 0
      };
    }
    return null;
  }
}
function processSlotOptions(slotDuration, snapDurationOverride) {
  let snapDuration = snapDurationOverride || slotDuration;
  let snapsPerSlot = wholeDivideDurations(slotDuration, snapDuration);
  if (snapsPerSlot === null) {
    snapDuration = slotDuration;
    snapsPerSlot = 1;
  }
  return { snapDuration, snapsPerSlot };
}
class DayTimeColsSlicer extends Slicer {
  sliceRange(range, dayRanges) {
    let segs = [];
    for (let col = 0; col < dayRanges.length; col += 1) {
      let segRange = intersectRanges(range, dayRanges[col]);
      if (segRange) {
        segs.push({
          start: segRange.start,
          end: segRange.end,
          isStart: segRange.start.valueOf() === range.start.valueOf(),
          isEnd: segRange.end.valueOf() === range.end.valueOf(),
          col
        });
      }
    }
    return segs;
  }
}
class DayTimeCols extends DateComponent {
  constructor() {
    super(...arguments);
    this.buildDayRanges = memoize(buildDayRanges);
    this.slicer = new DayTimeColsSlicer();
    this.timeColsRef = createRef();
  }
  render() {
    let { props, context } = this;
    let { dateProfile, dayTableModel } = props;
    let { nowIndicator, nextDayThreshold } = context.options;
    let dayRanges = this.buildDayRanges(dayTableModel, dateProfile, context.dateEnv);
    return createElement$1(NowTimer, { unit: nowIndicator ? "minute" : "day" }, (nowDate, todayRange) => createElement$1(TimeCols, Object.assign({ ref: this.timeColsRef }, this.slicer.sliceProps(props, dateProfile, null, context, dayRanges), { forPrint: props.forPrint, axis: props.axis, dateProfile, slatMetas: props.slatMetas, slotDuration: props.slotDuration, cells: dayTableModel.cells[0], tableColGroupNode: props.tableColGroupNode, tableMinWidth: props.tableMinWidth, clientWidth: props.clientWidth, clientHeight: props.clientHeight, expandRows: props.expandRows, nowDate, nowIndicatorSegs: nowIndicator && this.slicer.sliceNowDate(nowDate, dateProfile, nextDayThreshold, context, dayRanges), todayRange, onScrollTopRequest: props.onScrollTopRequest, onSlatCoords: props.onSlatCoords })));
  }
}
function buildDayRanges(dayTableModel, dateProfile, dateEnv) {
  let ranges = [];
  for (let date of dayTableModel.headerDates) {
    ranges.push({
      start: dateEnv.add(date, dateProfile.slotMinTime),
      end: dateEnv.add(date, dateProfile.slotMaxTime)
    });
  }
  return ranges;
}
const STOCK_SUB_DURATIONS = [
  { hours: 1 },
  { minutes: 30 },
  { minutes: 15 },
  { seconds: 30 },
  { seconds: 15 }
];
function buildSlatMetas(slotMinTime, slotMaxTime, explicitLabelInterval, slotDuration, dateEnv) {
  let dayStart = /* @__PURE__ */ new Date(0);
  let slatTime = slotMinTime;
  let slatIterator = createDuration(0);
  let labelInterval = explicitLabelInterval || computeLabelInterval(slotDuration);
  let metas = [];
  while (asRoughMs(slatTime) < asRoughMs(slotMaxTime)) {
    let date = dateEnv.add(dayStart, slatTime);
    let isLabeled = wholeDivideDurations(slatIterator, labelInterval) !== null;
    metas.push({
      date,
      time: slatTime,
      key: date.toISOString(),
      isoTimeStr: formatIsoTimeString(date),
      isLabeled
    });
    slatTime = addDurations(slatTime, slotDuration);
    slatIterator = addDurations(slatIterator, slotDuration);
  }
  return metas;
}
function computeLabelInterval(slotDuration) {
  let i2;
  let labelInterval;
  let slotsPerLabel;
  for (i2 = STOCK_SUB_DURATIONS.length - 1; i2 >= 0; i2 -= 1) {
    labelInterval = createDuration(STOCK_SUB_DURATIONS[i2]);
    slotsPerLabel = wholeDivideDurations(labelInterval, slotDuration);
    if (slotsPerLabel !== null && slotsPerLabel > 1) {
      return labelInterval;
    }
  }
  return slotDuration;
}
class DayTimeColsView extends TimeColsView {
  constructor() {
    super(...arguments);
    this.buildTimeColsModel = memoize(buildTimeColsModel);
    this.buildSlatMetas = memoize(buildSlatMetas);
  }
  render() {
    let { options, dateEnv, dateProfileGenerator } = this.context;
    let { props } = this;
    let { dateProfile } = props;
    let dayTableModel = this.buildTimeColsModel(dateProfile, dateProfileGenerator);
    let splitProps = this.allDaySplitter.splitProps(props);
    let slatMetas = this.buildSlatMetas(dateProfile.slotMinTime, dateProfile.slotMaxTime, options.slotLabelInterval, options.slotDuration, dateEnv);
    let { dayMinWidth } = options;
    let hasAttachedAxis = !dayMinWidth;
    let hasDetachedAxis = dayMinWidth;
    let headerContent = options.dayHeaders && createElement$1(DayHeader, { dates: dayTableModel.headerDates, dateProfile, datesRepDistinctDays: true, renderIntro: hasAttachedAxis ? this.renderHeadAxis : null });
    let allDayContent = options.allDaySlot !== false && ((contentArg) => createElement$1(DayTable, Object.assign({}, splitProps.allDay, { dateProfile, dayTableModel, nextDayThreshold: options.nextDayThreshold, tableMinWidth: contentArg.tableMinWidth, colGroupNode: contentArg.tableColGroupNode, renderRowIntro: hasAttachedAxis ? this.renderTableRowAxis : null, showWeekNumbers: false, expandRows: false, headerAlignElRef: this.headerElRef, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, forPrint: props.forPrint }, this.getAllDayMaxEventProps())));
    let timeGridContent = (contentArg) => createElement$1(DayTimeCols, Object.assign({}, splitProps.timed, { dayTableModel, dateProfile, axis: hasAttachedAxis, slotDuration: options.slotDuration, slatMetas, forPrint: props.forPrint, tableColGroupNode: contentArg.tableColGroupNode, tableMinWidth: contentArg.tableMinWidth, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, onSlatCoords: this.handleSlatCoords, expandRows: contentArg.expandRows, onScrollTopRequest: this.handleScrollTopRequest }));
    return hasDetachedAxis ? this.renderHScrollLayout(headerContent, allDayContent, timeGridContent, dayTableModel.colCnt, dayMinWidth, slatMetas, this.state.slatCoords) : this.renderSimpleLayout(headerContent, allDayContent, timeGridContent);
  }
}
function buildTimeColsModel(dateProfile, dateProfileGenerator) {
  let daySeries = new DaySeriesModel(dateProfile.renderRange, dateProfileGenerator);
  return new DayTableModel(daySeries, false);
}
var css_248z = '.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-arrow,.fc .fc-timegrid-now-indicator-line{pointer-events:none}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}';
injectStyles(css_248z);
const OPTION_REFINERS = {
  allDaySlot: Boolean
};
var index = createPlugin({
  name: "@fullcalendar/timegrid",
  initialView: "timeGridWeek",
  optionRefiners: OPTION_REFINERS,
  views: {
    timeGrid: {
      component: DayTimeColsView,
      usesMinMaxTime: true,
      allDaySlot: true,
      slotDuration: "00:30:00",
      slotEventOverlap: true
      // a bad name. confused with overlap/constraint system
    },
    timeGridDay: {
      type: "timeGrid",
      duration: { days: 1 }
    },
    timeGridWeek: {
      type: "timeGrid",
      duration: { weeks: 1 }
    }
  }
});
let eventGuid = 0;
const today = /* @__PURE__ */ new Date();
const tomorrow = /* @__PURE__ */ new Date();
const randomAja1 = /* @__PURE__ */ new Date();
const randomAja2 = /* @__PURE__ */ new Date();
const randomAja3 = /* @__PURE__ */ new Date();
const randomAja4 = /* @__PURE__ */ new Date();
const nextWeek = /* @__PURE__ */ new Date();
tomorrow.setDate(today.getDate() + 1);
randomAja1.setDate(
  today.getDate() + Math.floor(Math.random() * 8 + 1)
);
randomAja2.setDate(
  today.getDate() + Math.floor(Math.random() * 12 + 1)
);
randomAja3.setDate(
  today.getDate() + Math.floor(Math.random() * 16 + 1)
);
randomAja4.setDate(
  today.getDate() + Math.floor(Math.random() * 16 + 16)
);
nextWeek.setDate(today.getDate() + 7);
const todayStr = (/* @__PURE__ */ new Date()).toISOString().replace(/T.*$/, "");
const tomorrowStr = tomorrow.toISOString().replace(/T.*$/, "");
const nextWeekStr = nextWeek.toISOString().replace(/T.*$/, "");
const randomStr1 = randomAja1.toISOString().replace(/T.*$/, "");
const randomStr2 = randomAja2.toISOString().replace(/T.*$/, "");
const randomStr3 = randomAja3.toISOString().replace(/T.*$/, "");
const randomStr4 = randomAja4.toISOString().replace(/T.*$/, "");
const INITIAL_EVENTS = [
  {
    id: createEventId(),
    title: "Hari ini ngapain hah? 🙃",
    start: todayStr
  },
  {
    id: createEventId(),
    title: "Jirr kerja rodi 🤡",
    start: tomorrowStr + "T19:00:00"
  },
  {
    id: createEventId(),
    title: "Waduh gawat, deadline! 😑",
    start: nextWeekStr + "T20:00:00"
  },
  {
    id: createEventId(),
    title: "Ketemu client sombong 😠",
    start: randomStr1 + "T09:00:00"
  },
  {
    id: createEventId(),
    title: "Surprise rekan kerja 🥳",
    start: randomStr2 + "T12:00:00"
  },
  {
    id: createEventId(),
    title: "Business trip uhuyyy! 😎",
    start: randomStr3,
    end: randomStr4
  }
];
function createEventId() {
  return String(eventGuid++);
}
const CalendarBox = () => {
  const [currentEvents, setCurrentEvents] = React__default.useState([]);
  const handleDateSelect = (selectInfo) => {
    const title = prompt("Please enter a new title for your event");
    const calendarApi = selectInfo.view.calendar;
    calendarApi.unselect();
    if (title) {
      calendarApi.addEvent({
        id: createEventId(),
        title,
        start: selectInfo.startStr,
        end: selectInfo.endStr,
        allDay: selectInfo.allDay
      });
    }
  };
  const handleEventClick = (clickInfo) => {
    if (confirm(
      `Are you sure you want to delete the event '${clickInfo.event.title}'`
    )) {
      clickInfo.event.remove();
    }
  };
  const handleEvents = (events) => {
    setCurrentEvents(events);
  };
  const renderEventContent = (eventContent) => {
    return /* @__PURE__ */ jsxs("div", { className: "mx-1 flex gap-1 text-ellipsis overflow-hidden", children: [
      /* @__PURE__ */ jsx("b", { children: eventContent.timeText }),
      /* @__PURE__ */ jsx("i", { children: eventContent.event.title })
    ] });
  };
  const renderSidebarEvent = (event) => {
    return /* @__PURE__ */ jsxs(
      "div",
      {
        className: "w-full flex flex-col items-start gap-3 p-3 bg-base-200 dark:bg-neutral dark:text-neutral-content rounded-lg",
        children: [
          /* @__PURE__ */ jsxs("div", { className: "flex flex-wrap gap-2", children: [
            /* @__PURE__ */ jsx("b", { children: formatDate$3(event.start, {
              year: "numeric",
              month: "short",
              day: "numeric"
            }) }),
            event.end && /* @__PURE__ */ jsx("div", { className: "whitespace-nowrap", children: "until" }),
            /* @__PURE__ */ jsx("b", { children: formatDate$3(event.end, {
              year: "numeric",
              month: "short",
              day: "numeric"
            }) })
          ] }),
          /* @__PURE__ */ jsx("div", { children: event.title })
        ]
      },
      event.id
    );
  };
  return /* @__PURE__ */ jsxs("div", { className: "w-full flex flex-col xl:flex-row gap-5 xl:gap-0", children: [
    /* @__PURE__ */ jsxs("div", { className: "xl:w-[200px] 2xl:w-[250px] flex flex-col items-start xl:mr-4 gap-4", children: [
      /* @__PURE__ */ jsx("h3", { children: "Events" }),
      /* @__PURE__ */ jsx("div", { className: "hidden xl:flex w-full flex-col items-start gap-3", children: currentEvents.map(renderSidebarEvent) }),
      /* @__PURE__ */ jsx("div", { className: "carousel w-full xl:hidden rounded-lg gap-3", children: currentEvents.map((event) => /* @__PURE__ */ jsxs(
        "div",
        {
          className: "carousel-item flex-col items-start gap-3 p-3 bg-base-200 dark:bg-neutral dark:text-neutral-content rounded-lg",
          children: [
            /* @__PURE__ */ jsxs("div", { className: "flex flex-wrap gap-2", children: [
              /* @__PURE__ */ jsx("b", { children: formatDate$3(event.start, {
                year: "numeric",
                month: "short",
                day: "numeric"
              }) }),
              event.end && /* @__PURE__ */ jsx("div", { className: "whitespace-nowrap", children: "until" }),
              /* @__PURE__ */ jsx("b", { children: formatDate$3(event.end, {
                year: "numeric",
                month: "short",
                day: "numeric"
              }) })
            ] }),
            /* @__PURE__ */ jsx("div", { className: "line-clamp-1", children: event.title })
          ]
        },
        event.id
      )) })
    ] }),
    /* @__PURE__ */ jsx("div", { className: "grow h-[85vh] xl:h-auto 3xl:h-[80vh]", children: /* @__PURE__ */ jsx(
      FullCalendar,
      {
        height: "100%",
        plugins: [index$1, index, interactionPlugin],
        initialView: "dayGridMonth",
        editable: true,
        selectable: true,
        selectMirror: true,
        dayMaxEvents: true,
        initialEvents: INITIAL_EVENTS,
        select: handleDateSelect,
        eventContent: renderEventContent,
        eventClick: handleEventClick,
        eventsSet: handleEvents
      }
    ) })
  ] });
};
const Calendar2 = () => {
  return (
    // screen
    /* @__PURE__ */ jsx("div", { className: "w-full p-0 m-0", children: /* @__PURE__ */ jsxs("div", { className: "w-full flex flex-col items-stretch gap-5 xl:gap-8", children: [
      /* @__PURE__ */ jsx("h2", { className: "font-bold text-2xl xl:text-4xl mt-0 pt-0 text-base-content dark:text-neutral-200", children: "Calendar" }),
      /* @__PURE__ */ jsx("div", { className: "w-full p-0 m-0 relative", children: /* @__PURE__ */ jsx(CalendarBox, {}) })
    ] }) })
  );
};
const __vite_glob_0_25 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: Calendar2
}, Symbol.toStringTag, { value: "Module" }));
const Charts = () => {
  const dataLine = [
    {
      name: "Page A",
      uv: 4e3,
      pv: 2400,
      amt: 2400
    },
    {
      name: "Page B",
      uv: 3e3,
      pv: 1398,
      amt: 2210
    },
    {
      name: "Page C",
      uv: 2e3,
      pv: 9800,
      amt: 2290
    },
    {
      name: "Page D",
      uv: 2780,
      pv: 3908,
      amt: 2e3
    },
    {
      name: "Page E",
      uv: 1890,
      pv: 4800,
      amt: 2181
    },
    {
      name: "Page F",
      uv: 2390,
      pv: 3800,
      amt: 2500
    },
    {
      name: "Page G",
      uv: 3490,
      pv: 4300,
      amt: 2100
    }
  ];
  const dataPie = [
    { name: "Group A", value: 400 },
    { name: "Group B", value: 300 },
    { name: "Group C", value: 300 },
    { name: "Group D", value: 200 }
  ];
  const COLORS = ["#0088FE", "#00C49F", "#FFBB28", "#FF8042"];
  const dataArea = [
    {
      name: "Page A",
      uv: 4e3,
      pv: 2400,
      amt: 2400
    },
    {
      name: "Page B",
      uv: 3e3,
      pv: 1398,
      amt: 2210
    },
    {
      name: "Page C",
      uv: 2e3,
      pv: 9800,
      amt: 2290
    },
    {
      name: "Page D",
      uv: 2780,
      pv: 3908,
      amt: 2e3
    },
    {
      name: "Page E",
      uv: 1890,
      pv: 4800,
      amt: 2181
    },
    {
      name: "Page F",
      uv: 2390,
      pv: 3800,
      amt: 2500
    },
    {
      name: "Page G",
      uv: 3490,
      pv: 4300,
      amt: 2100
    }
  ];
  const dataBar = [
    {
      name: "Page A",
      uv: 4e3,
      pv: 2400,
      amt: 2400
    },
    {
      name: "Page B",
      uv: 3e3,
      pv: 1398,
      amt: 2210
    },
    {
      name: "Page C",
      uv: 2e3,
      pv: 9800,
      amt: 2290
    },
    {
      name: "Page D",
      uv: 2780,
      pv: 3908,
      amt: 2e3
    },
    {
      name: "Page E",
      uv: 1890,
      pv: 4800,
      amt: 2181
    },
    {
      name: "Page F",
      uv: 2390,
      pv: 3800,
      amt: 2500
    },
    {
      name: "Page G",
      uv: 3490,
      pv: 4300,
      amt: 2100
    }
  ];
  return (
    // screen
    /* @__PURE__ */ jsx("div", { className: "w-full p-0 m-0", children: /* @__PURE__ */ jsxs("div", { className: "w-full flex flex-col items-stretch gap-10 xl:gap-8", children: [
      /* @__PURE__ */ jsx("h2", { className: "font-bold text-2xl xl:text-4xl mt-0 pt-0 text-base-content dark:text-neutral-200", children: "Charts" }),
      /* @__PURE__ */ jsxs("div", { className: "w-full grid sm:grid-cols-2 gap-5", children: [
        /* @__PURE__ */ jsx("div", { className: "bg-neutral-50 dark:bg-neutral p-5 rounded-2xl w-full min-h-[256px] xl:min-h-[320px] 3xl:min-h-[460px]", children: /* @__PURE__ */ jsx(ResponsiveContainer, { width: "100%", height: "100%", children: /* @__PURE__ */ jsx(LineChart, { width: 300, height: 100, data: dataLine, children: /* @__PURE__ */ jsx(
          Line,
          {
            type: "monotone",
            dataKey: "pv",
            stroke: "#8884d8",
            strokeWidth: 2
          }
        ) }) }) }),
        /* @__PURE__ */ jsx("div", { className: "bg-neutral-50 dark:bg-neutral p-5 rounded-2xl w-full min-h-[256px] xl:min-h-[320px] 3xl:min-h-[460px]", children: /* @__PURE__ */ jsx(ResponsiveContainer, { width: "100%", height: "100%", children: /* @__PURE__ */ jsx(PieChart, { children: /* @__PURE__ */ jsx(
          Pie,
          {
            data: dataPie,
            innerRadius: "70%",
            outerRadius: "90%",
            fill: "#8884d8",
            paddingAngle: 5,
            dataKey: "value",
            children: dataPie.map((_entry, index2) => /* @__PURE__ */ jsx(
              Cell,
              {
                fill: COLORS[index2 % COLORS.length]
              },
              `cell-${index2}`
            ))
          }
        ) }) }) }),
        /* @__PURE__ */ jsx("div", { className: "bg-neutral-50 dark:bg-neutral p-5 rounded-2xl w-full min-h-[256px] xl:min-h-[320px] 3xl:min-h-[460px]", children: /* @__PURE__ */ jsx(ResponsiveContainer, { width: "100%", height: "100%", children: /* @__PURE__ */ jsxs(AreaChart, { data: dataArea, children: [
          /* @__PURE__ */ jsx(
            Area,
            {
              type: "monotone",
              dataKey: "uv",
              stackId: "1",
              stroke: "#8884d8",
              fill: "#8884d8"
            }
          ),
          /* @__PURE__ */ jsx(
            Area,
            {
              type: "monotone",
              dataKey: "pv",
              stackId: "1",
              stroke: "#82ca9d",
              fill: "#82ca9d"
            }
          ),
          /* @__PURE__ */ jsx(
            Area,
            {
              type: "monotone",
              dataKey: "amt",
              stackId: "1",
              stroke: "#ffc658",
              fill: "#ffc658"
            }
          )
        ] }) }) }),
        /* @__PURE__ */ jsx("div", { className: "bg-neutral-50 dark:bg-neutral p-5 rounded-2xl w-full min-h-[256px] xl:min-h-[320px] 3xl:min-h-[460px]", children: /* @__PURE__ */ jsx(ResponsiveContainer, { width: "100%", height: "100%", children: /* @__PURE__ */ jsx(BarChart, { data: dataBar, children: /* @__PURE__ */ jsx(Bar, { dataKey: "uv", fill: "#8884d8" }) }) }) })
      ] })
    ] }) })
  );
};
const __vite_glob_0_26 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: Charts
}, Symbol.toStringTag, { value: "Module" }));
function useRouteSafe(name, params = {}, absolute = false, config = Ziggy$2) {
  const [url, setUrl] = useState("");
  useEffect(() => {
    setUrl(s(name, params, absolute, config));
  }, [name, JSON.stringify(params)]);
  return url;
}
const FaqItem$1 = ({ question, answer, isOpen, toggleOpen }) => {
  return /* @__PURE__ */ jsxs("div", { className: "border-b border-gray-700/50 last:border-0", children: [
    /* @__PURE__ */ jsxs(
      "button",
      {
        className: "flex justify-between items-center w-full py-4 md:py-6 text-left focus:outline-none focus:ring-2 focus:ring-red-500/20 hover:bg-gray-700/30 transition-all duration-300 rounded-lg px-3 md:px-4 group",
        onClick: toggleOpen,
        "aria-expanded": isOpen,
        children: [
          /* @__PURE__ */ jsx("h3", { className: "text-base md:text-lg font-semibold text-white pr-3 md:pr-4 group-hover:text-red-400 transition-colors", children: question }),
          /* @__PURE__ */ jsx("div", { className: "flex-shrink-0 transform transition-transform duration-300", children: isOpen ? /* @__PURE__ */ jsx(ChevronUp, { className: "h-4 w-4 md:h-5 md:w-5 text-red-500" }) : /* @__PURE__ */ jsx(ChevronDown, { className: "h-4 w-4 md:h-5 md:w-5 text-gray-400 group-hover:text-red-400" }) })
        ]
      }
    ),
    /* @__PURE__ */ jsx(
      "div",
      {
        className: `overflow-hidden transition-all duration-500 ease-out ${isOpen ? "max-h-96 opacity-100 pb-4 md:pb-6" : "max-h-0 opacity-0"}`,
        children: /* @__PURE__ */ jsx("div", { className: "text-sm md:text-base text-gray-300 leading-relaxed px-3 md:px-4 animate-in slide-in-from-top-2", children: answer })
      }
    )
  ] });
};
const TestimonialsCarousel = () => {
  const [currentSlide, setCurrentSlide] = useState(0);
  const [isAutoPlaying, setIsAutoPlaying] = useState(true);
  const testimonials = [
    {
      name: "Imad N.",
      profession: "Ingénieur territorial",
      rating: 5,
      text: "Service pro et efficace pour publier un avis officiel lié à un marché public. Je recommande vivement pour toutes les démarches légales au Maroc."
    },
    {
      name: "Soukaina R.",
      profession: "Directrice marketing",
      rating: 5,
      text: "WePress Eco nous accompagne dans toutes nos publications commerciales. Un journal fiable, conforme et sur lequel on peut vraiment compter."
    },
    {
      name: "Tariq E.",
      profession: "Entrepreneur",
      rating: 5,
      text: "J'ai publié une annonce légale pour le changement de statut de mon entreprise, et tout s'est fait dans les règles, conforme au journal des sociétés au Maroc."
    },
    {
      name: "Hind S.",
      profession: "Avocate",
      rating: 5,
      text: "Très bon accompagnement pour un avis judiciaire dans le cadre d'un litige. Tout le processus respecte aux exigences du tribunal marocain."
    },
    {
      name: "Mohamed K.",
      profession: "Directeur général",
      rating: 5,
      text: "Publication rapide et conforme pour notre annonce de constitution de SARL. Service client réactif et professionnel."
    },
    {
      name: "Fatima Z.",
      profession: "Consultante juridique",
      rating: 5,
      text: "Interface simple et intuitive. J'ai pu publier plusieurs annonces légales sans difficulté. Je recommande WePress Eco."
    }
  ];
  useEffect(() => {
    if (typeof window === "undefined") return;
    if (!isAutoPlaying) return;
    const timer = setInterval(() => {
      setCurrentSlide((prev) => {
        const nextSlide2 = prev + 1;
        return nextSlide2 >= testimonials.length - 3 ? 0 : nextSlide2;
      });
    }, 5e3);
    return () => clearInterval(timer);
  }, [testimonials.length, isAutoPlaying]);
  const nextSlide = () => {
    setCurrentSlide((prev) => {
      const nextSlide2 = prev + 1;
      return nextSlide2 >= testimonials.length - 3 ? 0 : nextSlide2;
    });
  };
  const prevSlide = () => {
    setCurrentSlide((prev) => {
      const prevSlide2 = prev - 1;
      return prevSlide2 < 0 ? testimonials.length - 4 : prevSlide2;
    });
  };
  const renderStars = (rating) => {
    return Array.from({ length: 5 }, (_, index2) => /* @__PURE__ */ jsx(
      Star,
      {
        className: `w-3 h-3 md:w-4 md:h-4 transition-colors ${index2 < rating ? "text-yellow-400 fill-current" : "text-gray-300"}`
      },
      index2
    ));
  };
  return /* @__PURE__ */ jsx("section", { className: "py-12 md:py-16 lg:py-24 bg-gradient-to-b from-gray-50 to-white", children: /* @__PURE__ */ jsxs("div", { className: "max-w-7xl mx-auto px-4 md:px-6", children: [
    /* @__PURE__ */ jsxs("div", { className: "text-center mb-8 md:mb-12 lg:mb-16 space-y-3 md:space-y-4", children: [
      /* @__PURE__ */ jsx("div", { className: "inline-flex items-center px-3 md:px-4 py-1.5 md:py-2 bg-red-50 text-red-600 rounded-full text-xs md:text-sm font-medium mb-2 md:mb-4", children: "Témoignages" }),
      /* @__PURE__ */ jsx("h2", { className: "text-2xl md:text-3xl lg:text-4xl xl:text-5xl font-bold text-gray-900 tracking-tight px-4", children: "Ce que nos clients disent" }),
      /* @__PURE__ */ jsx("p", { className: "text-base md:text-lg lg:text-xl text-gray-600 max-w-2xl mx-auto px-4", children: "Plus de 1000 entreprises nous font confiance pour leurs annonces légales" })
    ] }),
    /* @__PURE__ */ jsxs(
      "div",
      {
        className: "relative overflow-hidden",
        onMouseEnter: () => setIsAutoPlaying(false),
        onMouseLeave: () => setIsAutoPlaying(true),
        children: [
          /* @__PURE__ */ jsx(
            "div",
            {
              className: "flex transition-transform duration-700 ease-out",
              style: { transform: `translateX(-${currentSlide * 25}%)` },
              children: testimonials.map((testimonial, index2) => /* @__PURE__ */ jsx("div", { className: "w-full md:w-1/2 lg:w-1/3 xl:w-1/4 flex-shrink-0 px-2 md:px-3", children: /* @__PURE__ */ jsx("div", { className: "bg-gray-100 rounded-xl md:rounded-2xl p-4 md:p-6 shadow-lg hover:shadow-xl border border-gray-100 h-full flex flex-col transition-all duration-300 hover:-translate-y-1 group", children: /* @__PURE__ */ jsxs("div", { className: "space-y-3 md:space-y-4 flex-grow", children: [
                /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
                  /* @__PURE__ */ jsxs("div", { children: [
                    /* @__PURE__ */ jsx("h3", { className: "text-base md:text-lg font-bold text-gray-900 group-hover:text-red-600 transition-colors", children: testimonial.name }),
                    /* @__PURE__ */ jsx("p", { className: "text-xs md:text-sm text-gray-600", children: testimonial.profession })
                  ] }),
                  /* @__PURE__ */ jsx("div", { className: "flex space-x-0.5 md:space-x-1", children: renderStars(testimonial.rating) })
                ] }),
                /* @__PURE__ */ jsx("p", { className: "text-gray-700 text-xs md:text-sm leading-relaxed", children: testimonial.text })
              ] }) }) }, index2))
            }
          ),
          /* @__PURE__ */ jsxs("div", { className: "flex justify-center items-center mt-6 md:mt-8 space-x-3 md:space-x-4", children: [
            /* @__PURE__ */ jsx(
              "button",
              {
                onClick: prevSlide,
                className: "w-10 h-10 md:w-12 md:h-12 bg-white border border-gray-200 rounded-full flex items-center justify-center hover:bg-red-50 hover:border-red-200 transition-all duration-200 shadow-sm hover:shadow-md group",
                "aria-label": "Témoignage précédent",
                children: /* @__PURE__ */ jsx(ChevronLeft, { className: "h-4 w-4 md:h-5 md:w-5 text-gray-600 group-hover:text-red-600 transition-colors" })
              }
            ),
            /* @__PURE__ */ jsx("div", { className: "flex space-x-1.5 md:space-x-2", children: Array.from({ length: testimonials.length - 3 }, (_, index2) => /* @__PURE__ */ jsx(
              "button",
              {
                onClick: () => setCurrentSlide(index2),
                className: `w-1.5 h-1.5 md:w-2 md:h-2 rounded-full transition-all duration-200 ${index2 === currentSlide ? "bg-red-500 w-4 md:w-6" : "bg-gray-300 hover:bg-gray-400"}`,
                "aria-label": `Aller au témoignage ${index2 + 1}`
              },
              index2
            )) }),
            /* @__PURE__ */ jsx(
              "button",
              {
                onClick: nextSlide,
                className: "w-10 h-10 md:w-12 md:h-12 bg-white border border-gray-200 rounded-full flex items-center justify-center hover:bg-red-50 hover:border-red-200 transition-all duration-200 shadow-sm hover:shadow-md group",
                "aria-label": "Témoignage suivant",
                children: /* @__PURE__ */ jsx(ChevronRight, { className: "h-4 w-4 md:h-5 md:w-5 text-gray-600 group-hover:text-red-600 transition-colors" })
              }
            )
          ] })
        ]
      }
    )
  ] }) });
};
const PartnersCarousel = () => {
  const partners = [
    { id: 1, name: "Partner 1", logo: "/1.webp" },
    { id: 2, name: "Partner 2", logo: "/2.webp" },
    { id: 3, name: "Partner 3", logo: "/3.webp" },
    { id: 4, name: "Partner 4", logo: "/4.webp" },
    { id: 5, name: "Partner 5", logo: "/5.webp" }
  ];
  return /* @__PURE__ */ jsx("section", { className: "py-8 md:py-12 lg:py-16 bg-gray-50 border-t border-gray-100", children: /* @__PURE__ */ jsxs("div", { className: "max-w-7xl mx-auto px-4 md:px-6", children: [
    /* @__PURE__ */ jsxs("div", { className: "text-center mb-8 md:mb-12", children: [
      /* @__PURE__ */ jsx("h3", { className: "text-xl md:text-2xl font-bold text-gray-900 mb-2", children: "Nos partenaires :" }),
      /* @__PURE__ */ jsx("p", { className: "text-sm md:text-base text-gray-600", children: "Ils nous font confiance" })
    ] }),
    /* @__PURE__ */ jsxs("div", { className: "relative overflow-hidden", children: [
      /* @__PURE__ */ jsx("div", { className: "flex animate-scroll", children: [...partners, ...partners, ...partners].map((partner, index2) => /* @__PURE__ */ jsx("div", { className: "w-1/2 md:w-1/3 lg:w-1/4 flex-shrink-0 px-2 md:px-4", children: /* @__PURE__ */ jsx("div", { className: "flex items-center justify-center h-20 md:h-24 lg:h-32 group", children: /* @__PURE__ */ jsx(
        "img",
        {
          src: partner.logo || "/placeholder.svg",
          alt: partner.name,
          className: "max-h-16 md:max-h-20 lg:max-h-24 max-w-full object-contain filter grayscale group-hover:grayscale-0 transition-all duration-300 opacity-70 group-hover:opacity-100",
          loading: "lazy"
        }
      ) }) }, `${partner.id}-${index2}`)) }),
      /* @__PURE__ */ jsx("div", { className: "absolute left-0 top-0 w-12 md:w-20 h-full bg-gradient-to-r from-white to-transparent pointer-events-none z-10" }),
      /* @__PURE__ */ jsx("div", { className: "absolute right-0 top-0 w-12 md:w-20 h-full bg-gradient-to-l from-white to-transparent pointer-events-none z-10" })
    ] })
  ] }) });
};
const StatsSection = () => {
  const stats = [
    { number: "1000+", label: "Entreprises satisfaites", icon: Check },
    { number: "24h", label: "Délai de publication", icon: Clock },
    { number: "100%", label: "Conformité garantie", icon: Shield },
    { number: "100 DH", label: "Prix transparent", icon: Zap }
  ];
  return /* @__PURE__ */ jsx("section", { className: "py-8 md:py-12 lg:py-16 bg-gray-50 border-t border-gray-100", children: /* @__PURE__ */ jsx("div", { className: "max-w-7xl mx-auto px-4 md:px-6", children: /* @__PURE__ */ jsx("div", { className: "grid grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 lg:gap-8", children: stats.map((stat, index2) => /* @__PURE__ */ jsxs("div", { className: "text-center group", children: [
    /* @__PURE__ */ jsx("div", { className: "inline-flex items-center justify-center w-10 h-10 md:w-12 md:h-12 bg-red-50 rounded-lg md:rounded-xl mb-3 md:mb-4 group-hover:bg-red-100 transition-colors", children: /* @__PURE__ */ jsx(stat.icon, { className: "h-5 w-5 md:h-6 md:w-6 text-red-600" }) }),
    /* @__PURE__ */ jsx("div", { className: "text-2xl md:text-3xl font-bold text-gray-900 mb-1 md:mb-2", children: stat.number }),
    /* @__PURE__ */ jsx("div", { className: "text-xs md:text-sm text-gray-600", children: stat.label })
  ] }, index2)) }) }) });
};
function Acceuil({ auth, seo }) {
  const [openFaq, setOpenFaq] = useState(0);
  const toggleFaq = (index2) => {
    setOpenFaq(openFaq === index2 ? -1 : index2);
  };
  const createUrl = useRouteSafe("client.annonces.create") ?? "#";
  const indexUrl = useRouteSafe("client.annonces.index") ?? "#";
  const contactUrl = useRouteSafe("client.contact") ?? "#";
  return /* @__PURE__ */ jsxs(Fragment, { children: [
    /* @__PURE__ */ jsxs(Head, { children: [
      /* @__PURE__ */ jsx("title", { children: "Journal d'annonces légales 100% en ligne au Maroc" }),
      /* @__PURE__ */ jsx("meta", { name: "description", content: "Wepress Eco est le journal d'annonces légales en ligne au Maroc. Publiez vos annonces légales rapidement et facilement, conformément à la législation marocaine.\n" }),
      /* @__PURE__ */ jsx("link", { rel: "canonical", href: (seo == null ? void 0 : seo.canonical_url) || window.location.href })
    ] }),
    /* @__PURE__ */ jsxs("div", { className: "min-h-screen flex flex-col bg-[#10172A] scroll-smooth", children: [
      /* @__PURE__ */ jsx(Header, { auth }),
      /* @__PURE__ */ jsxs("section", { className: "relative bg-[#10172A] pt-20 md:pt-24 lg:pt-32 pb-16 md:pb-24 lg:pb-32 overflow-hidden", children: [
        /* @__PURE__ */ jsxs("div", { className: "absolute inset-0", children: [
          /* @__PURE__ */ jsx("div", { className: "absolute top-1/4 left-1/4 w-64 h-64 md:w-96 md:h-96 bg-red-500/5 rounded-full blur-3xl" }),
          /* @__PURE__ */ jsx("div", { className: "absolute bottom-1/4 right-1/4 w-64 h-64 md:w-96 md:h-96 bg-white/3 rounded-full blur-3xl" })
        ] }),
        /* @__PURE__ */ jsx("div", { className: "max-w-7xl mx-auto px-4 md:px-6 relative z-10", children: /* @__PURE__ */ jsxs("div", { className: "grid lg:grid-cols-2 gap-8 md:gap-12 lg:gap-16 items-center", children: [
          /* @__PURE__ */ jsxs("div", { className: "space-y-6 md:space-y-8", children: [
            /* @__PURE__ */ jsxs("div", { className: "space-y-4 md:space-y-6 pt-8", children: [
              /* @__PURE__ */ jsx("div", { className: "inline-flex items-center px-3 md:px-4 py-1.5 md:py-2 bg-red-500/10 border border-red-500/20 text-red-400 rounded-full text-xs md:text-sm font-medium", children: "🇲🇦 Journal agréé au Maroc" }),
              /* @__PURE__ */ jsxs("h1", { className: "text-3xl md:text-4xl lg:text-5xl xl:text-6xl font-bold text-white leading-tight tracking-tight", children: [
                "Journal d'annonces légales",
                " ",
                /* @__PURE__ */ jsxs("span", { className: "text-red-500 relative", children: [
                  "au Maroc",
                  /* @__PURE__ */ jsx("div", { className: "absolute -bottom-1 md:-bottom-2 left-0 w-full h-0.5 md:h-1 bg-gradient-to-r from-red-500 to-red-600 rounded-full" })
                ] })
              ] }),
              /* @__PURE__ */ jsxs("p", { className: "text-base md:text-lg text-gray-300 leading-relaxed max-w-xl", children: [
                "Besoin de publier une annonce légale ? Faites-le en ligne, où que vous soyez au Maroc, en quelques clics seulement. C'est simple, rapide, 100% conforme, et vous recevez votre attestation officielle pour seulement",
                " ",
                /* @__PURE__ */ jsx("span", { className: "font-bold text-white bg-red-500/20 px-2 py-1 rounded", children: "100 DH TTC" }),
                "."
              ] })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "flex flex-col sm:flex-row gap-3 md:gap-4", children: [
              /* @__PURE__ */ jsx("a", { href: createUrl, className: "w-full sm:w-auto", children: /* @__PURE__ */ jsxs(Button, { className: "w-full sm:w-auto bg-red-500 hover:bg-red-600 text-white px-6 md:px-8 py-3 md:py-4 rounded-lg text-base md:text-lg font-medium transition-all duration-300 group", children: [
                "Publier une annonce",
                /* @__PURE__ */ jsx(ArrowRight, { className: "ml-2 h-4 w-4 md:h-5 md:w-5 group-hover:translate-x-1 transition-transform" })
              ] }) }),
              /* @__PURE__ */ jsx("a", { href: "/contact", className: "w-full sm:w-auto", children: /* @__PURE__ */ jsx(
                Button,
                {
                  variant: "outline",
                  className: "w-full sm:w-auto border-white/20 text-white hover:bg-white hover:text-gray-900 px-6 md:px-8 py-3 md:py-4 rounded-lg text-base md:text-lg font-medium transition-all duration-300 bg-transparent backdrop-blur-sm",
                  children: "Contact"
                }
              ) })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2 text-xs md:text-sm text-gray-300 bg-gray-800/30 backdrop-blur-sm rounded-lg p-3 md:p-4 border border-gray-700/50", children: [
              /* @__PURE__ */ jsx(Star, { className: "h-3 w-3 md:h-4 md:w-4 text-yellow-400 fill-current flex-shrink-0" }),
              /* @__PURE__ */ jsxs("span", { children: [
                "Votre annonce en ligne pour ",
                /* @__PURE__ */ jsx("span", { className: "font-semibold text-white", children: "seulement 100 Dhs TTC" }),
                "."
              ] })
            ] })
          ] }),
          /* @__PURE__ */ jsx("div", { className: "relative mt-8 lg:mt-0", children: /* @__PURE__ */ jsxs("div", { className: "w-full relative", children: [
            /* @__PURE__ */ jsx("div", { className: "absolute inset-0 bg-gradient-to-r from-red-500/20 to-transparent rounded-2xl blur-2xl" }),
            /* @__PURE__ */ jsx(
              "img",
              {
                src: "/image.webp",
                alt: "WePress Eco - Journal d'annonces légales - Interface papier et digitale",
                className: "w-full h-auto max-w-4xl mx-auto transform relative z-10",
                loading: "lazy"
              }
            )
          ] }) })
        ] }) })
      ] }),
      /* @__PURE__ */ jsx("section", { className: "py-12 md:py-16 lg:py-24 bg-gradient-to-b from-white to-gray-50", children: /* @__PURE__ */ jsx("div", { className: "max-w-7xl mx-auto px-4 md:px-6", children: /* @__PURE__ */ jsxs("div", { className: "grid lg:grid-cols-2 gap-8 md:gap-12 lg:gap-16 items-center", children: [
        /* @__PURE__ */ jsxs("div", { className: "relative group order-2 lg:order-1", children: [
          /* @__PURE__ */ jsx("div", { className: "absolute inset-0 bg-gradient-to-r from-red-500/10 to-transparent rounded-2xl blur-xl group-hover:blur-2xl transition-all duration-500" }),
          /* @__PURE__ */ jsx("div", { className: "overflow-hidden relative z-10", children: /* @__PURE__ */ jsx(
            "img",
            {
              src: "/image-bg.webp",
              alt: "WePress Eco Journal - Publication officielle d'annonces légales",
              className: "w-full h-auto",
              loading: "lazy"
            }
          ) })
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "space-y-6 md:space-y-8 order-1 lg:order-2", children: [
          /* @__PURE__ */ jsx("div", { className: "inline-flex items-center px-3 md:px-4 py-1.5 md:py-2 bg-red-50 text-red-600 rounded-full text-xs md:text-sm font-medium", children: "À propos" }),
          /* @__PURE__ */ jsxs("div", { className: "space-y-4 md:space-y-6", children: [
            /* @__PURE__ */ jsxs("h2", { className: "text-2xl md:text-3xl lg:text-4xl xl:text-5xl font-bold text-gray-900 leading-tight tracking-tight", children: [
              "Wepress Eco : Annonces légales",
              " ",
              /* @__PURE__ */ jsxs("span", { className: "text-red-500 relative", children: [
                "en un clic",
                /* @__PURE__ */ jsx("div", { className: "absolute -bottom-0.5 md:-bottom-1 left-0 w-full h-0.5 bg-red-500 rounded-full" })
              ] })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "space-y-3 md:space-y-4 text-base md:text-lg text-gray-600 leading-relaxed", children: [
              /* @__PURE__ */ jsxs("p", { children: [
                /* @__PURE__ */ jsx("span", { className: "font-semibold text-gray-900", children: "Wepress Eco" }),
                " est un journal dédié aux",
                " ",
                /* @__PURE__ */ jsx("span", { className: "font-semibold text-red-500", children: "annonces légales" }),
                ", porté par une équipe expérimentée qui connaît parfaitement les rouages des publications légales."
              ] }),
              /* @__PURE__ */ jsx("p", { children: "Notre plateforme digitale vous permet de publier vos annonces en quelques clics, avec la garantie d'une conformité totale aux exigences légales marocaines." })
            ] })
          ] }),
          /* @__PURE__ */ jsx("a", { href: indexUrl, className: "inline-block", children: /* @__PURE__ */ jsxs(Button, { className: "w-full sm:w-auto bg-red-500 hover:bg-red-600 text-white px-6 md:px-8 py-3 md:py-4 rounded-lg text-base md:text-lg font-medium shadow-lg shadow-red-500/25 transition-all duration-300 hover:shadow-xl hover:shadow-red-500/30 hover:scale-105 group", children: [
            "En savoir plus",
            /* @__PURE__ */ jsx(ArrowRight, { className: "ml-2 h-4 w-4 md:h-5 md:w-5 group-hover:translate-x-1 transition-transform" })
          ] }) })
        ] })
      ] }) }) }),
      /* @__PURE__ */ jsx("div", { className: "bg-gray-50", children: /* @__PURE__ */ jsx(StatsSection, {}) }),
      /* @__PURE__ */ jsxs("section", { className: "py-12 md:py-16 lg:py-24 bg-[#10172A] relative overflow-hidden", children: [
        /* @__PURE__ */ jsxs("div", { className: "absolute top-0 left-0 w-full h-full", children: [
          /* @__PURE__ */ jsx("div", { className: "absolute top-1/4 left-1/4 w-48 h-48 md:w-64 md:h-64 bg-red-500/5 rounded-full blur-3xl" }),
          /* @__PURE__ */ jsx("div", { className: "absolute bottom-1/4 right-1/4 w-48 h-48 md:w-64 md:h-64 bg-white/3 rounded-full blur-3xl" })
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "max-w-7xl mx-auto px-4 md:px-6 relative z-10", children: [
          /* @__PURE__ */ jsxs("div", { className: "text-center mb-8 md:mb-12 lg:mb-16 space-y-3 md:space-y-4", children: [
            /* @__PURE__ */ jsx("div", { className: "inline-flex items-center px-3 md:px-4 py-1.5 md:py-2 bg-red-500/10 border border-red-500/20 text-red-400 rounded-full text-xs md:text-sm font-medium mb-2 md:mb-4", children: "Nos services" }),
            /* @__PURE__ */ jsx("h2", { className: "text-2xl md:text-3xl lg:text-4xl xl:text-5xl font-bold text-white tracking-tight px-4", children: "Toutes les annonces légales" }),
            /* @__PURE__ */ jsx("p", { className: "text-base md:text-lg lg:text-xl text-gray-300 max-w-3xl mx-auto px-4", children: "Publiez votre annonce légale dans notre journal agréé au Maroc en quelques clics." })
          ] }),
          /* @__PURE__ */ jsx("div", { className: "grid md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6 lg:gap-8 md:items-stretch", children: [
            {
              title: "Constitution de société",
              description: "Publiez votre annonce légale de constitution de société en quelques clics. Service rapide et attestation immédiate.",
              items: [
                "SARL, SARL AU, SNC, SCS, SCA",
                "Société Anonyme (SA)",
                "Société Anonyme Simplifiée (SAS)",
                "Groupement d'Intérêt Économique (GIE)"
              ],
              icon: FileText
            },
            {
              title: "Modification de société",
              description: "Publiez votre annonce légale de modification (gérant, siège, objet, capital...) en ligne rapidement.",
              items: [
                "Transfert de siège social",
                "Changement de dénomination",
                "Cession de parts sociales",
                "Augmentation de capital",
                "Changement d'objet social"
              ],
              icon: Check
            },
            {
              title: "Autres annonces",
              description: "Publiez vos appels d'offres, appels à candidature et autres annonces légales en toute conformité.",
              items: [
                "Appel d'offres",
                "Appel à candidature",
                "Avis judiciaire",
                "Avis de convocation",
                "Avis administratif"
              ],
              icon: Star
            }
          ].map((service, index2) => /* @__PURE__ */ jsx(
            "div",
            {
              className: "bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 rounded-xl md:rounded-2xl p-5 md:p-6 lg:p-8 hover:shadow-xl hover:border-red-500/50 transition-all duration-500 group h-full flex flex-col hover:-translate-y-2",
              children: /* @__PURE__ */ jsxs("div", { className: "space-y-4 md:space-y-6 flex-1 flex flex-col", children: [
                /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-3 md:gap-4", children: [
                  /* @__PURE__ */ jsx("div", { className: "w-10 h-10 md:w-12 md:h-12 bg-red-500/20 rounded-lg md:rounded-xl flex items-center justify-center group-hover:bg-red-500 transition-colors duration-300 flex-shrink-0", children: /* @__PURE__ */ jsx(service.icon, { className: "h-5 w-5 md:h-6 md:w-6 text-red-400 group-hover:text-white transition-colors" }) }),
                  /* @__PURE__ */ jsx("h3", { className: "text-lg md:text-xl lg:text-2xl font-bold text-white group-hover:text-red-400 transition-colors", children: service.title })
                ] }),
                /* @__PURE__ */ jsx("p", { className: "text-sm md:text-base text-gray-300 leading-relaxed", children: service.description }),
                /* @__PURE__ */ jsx("div", { className: "space-y-2 md:space-y-3 flex-grow", children: service.items.map((item, itemIndex) => /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2 md:gap-3", children: [
                  /* @__PURE__ */ jsx(Check, { className: "w-3 h-3 md:w-4 md:h-4 text-red-500 flex-shrink-0" }),
                  /* @__PURE__ */ jsx("span", { className: "text-gray-300 text-xs md:text-sm", children: item })
                ] }, itemIndex)) })
              ] })
            },
            index2
          )) })
        ] })
      ] }),
      /* @__PURE__ */ jsxs("section", { className: "py-12 md:py-16 lg:py-24 bg-gradient-to-br from-gray-950 via-gray-900 to-gray-950 text-white relative overflow-hidden", children: [
        /* @__PURE__ */ jsx("div", { className: "absolute top-10 md:top-20 left-10 md:left-20 w-48 h-48 md:w-64 md:h-64 bg-red-500/10 rounded-full blur-3xl animate-pulse" }),
        /* @__PURE__ */ jsx("div", { className: "absolute bottom-10 md:bottom-20 right-10 md:right-20 w-48 h-48 md:w-64 md:h-64 bg-white/5 rounded-full blur-3xl animate-pulse delay-1000" }),
        /* @__PURE__ */ jsx("div", { className: "max-w-7xl mx-auto px-4 md:px-6 relative z-10", children: /* @__PURE__ */ jsx("div", { className: "max-w-4xl space-y-6 md:space-y-8", children: /* @__PURE__ */ jsxs("div", { className: "flex items-start gap-4 md:gap-6", children: [
          /* @__PURE__ */ jsx("div", { className: "w-0.5 md:w-1 h-16 md:h-24 bg-gradient-to-b from-red-500 to-red-600 rounded-full flex-shrink-0" }),
          /* @__PURE__ */ jsxs("div", { className: "space-y-4 md:space-y-6", children: [
            /* @__PURE__ */ jsxs("h2", { className: "text-2xl md:text-3xl lg:text-4xl xl:text-5xl font-bold leading-tight tracking-tight", children: [
              "WePress, votre annonce légale en toute",
              " ",
              /* @__PURE__ */ jsxs("span", { className: "text-red-400 relative", children: [
                "conformité",
                /* @__PURE__ */ jsx("div", { className: "absolute -bottom-0.5 md:-bottom-1 left-0 w-full h-0.5 bg-red-400 rounded-full" })
              ] }),
              ",",
              " ",
              /* @__PURE__ */ jsxs("span", { className: "text-red-400 relative", children: [
                "rapidité",
                /* @__PURE__ */ jsx("div", { className: "absolute -bottom-0.5 md:-bottom-1 left-0 w-full h-0.5 bg-red-400 rounded-full" })
              ] }),
              " ",
              "et",
              " ",
              /* @__PURE__ */ jsxs("span", { className: "text-red-400 relative", children: [
                "sérénité",
                /* @__PURE__ */ jsx("div", { className: "absolute -bottom-0.5 md:-bottom-1 left-0 w-full h-0.5 bg-red-400 rounded-full" })
              ] }),
              "."
            ] }),
            /* @__PURE__ */ jsx("p", { className: "text-base md:text-lg lg:text-xl text-gray-300 leading-relaxed max-w-3xl", children: "Publiez votre annonce légale en ligne rapidement et en toute conformité, où que vous soyez au Maroc. Notre journal d'annonces légales vous simplifie la vie." }),
            /* @__PURE__ */ jsx("a", { href: indexUrl, className: "inline-block", children: /* @__PURE__ */ jsxs(Button, { className: "w-full sm:w-auto bg-red-500 hover:bg-red-600 text-white px-6 md:px-8 py-3 md:py-4 rounded-lg text-base md:text-lg font-medium shadow-lg shadow-red-500/25 transition-all duration-300 hover:shadow-xl hover:shadow-red-500/30 hover:scale-105 group", children: [
              "Commencer maintenant",
              /* @__PURE__ */ jsx(ArrowRight, { className: "ml-2 h-4 w-4 md:h-5 md:w-5 group-hover:translate-x-1 transition-transform" })
            ] }) })
          ] })
        ] }) }) })
      ] }),
      /* @__PURE__ */ jsx("section", { className: "py-12 md:py-16 lg:py-24 bg-gray-900 relative overflow-hidden", children: /* @__PURE__ */ jsx("div", { className: "max-w-7xl mx-auto px-4 md:px-6", children: /* @__PURE__ */ jsxs("div", { className: "grid lg:grid-cols-2 gap-8 md:gap-12 lg:gap-16 items-center", children: [
        /* @__PURE__ */ jsxs("div", { className: "space-y-6 md:space-y-8", children: [
          /* @__PURE__ */ jsxs("div", { className: "space-y-4 md:space-y-6", children: [
            /* @__PURE__ */ jsx("div", { className: "text-red-500 text-base md:text-lg font-medium", children: "Pourquoi choisir WePress ?" }),
            /* @__PURE__ */ jsxs("h2", { className: "text-2xl md:text-3xl lg:text-4xl xl:text-5xl font-bold text-white leading-tight tracking-tight", children: [
              "Votre annonce légale, publiée avec",
              " ",
              /* @__PURE__ */ jsxs("span", { className: "text-red-500 relative", children: [
                "précision",
                /* @__PURE__ */ jsx("div", { className: "absolute -bottom-0.5 md:-bottom-1 left-0 w-full h-0.5 bg-red-500 rounded-full" })
              ] }),
              "."
            ] }),
            /* @__PURE__ */ jsx("p", { className: "text-base md:text-lg text-gray-300 leading-relaxed", children: "Wepress Eco est un journal d'annonces légales agréé au Maroc qui vous simplifie la vie. Tout se fait en ligne, rapidement, avec un service sécurisé et parfaitement conforme." })
          ] }),
          /* @__PURE__ */ jsx("div", { className: "space-y-4 md:space-y-6", children: [
            {
              icon: Shield,
              title: "Fiabilité",
              description: "Publication dans notre journal agréé, respectant toutes les exigences légales."
            },
            {
              icon: Zap,
              title: "Efficacité",
              description: "Traitement rapide et diffusion immédiate de votre annonce."
            },
            {
              icon: FileText,
              title: "Simplicité",
              description: "Un processus fluide et intuitif, sans complication."
            }
          ].map((feature, index2) => /* @__PURE__ */ jsxs("div", { className: "flex items-start gap-3 md:gap-4 group", children: [
            /* @__PURE__ */ jsx("div", { className: "w-10 h-10 md:w-12 md:h-12 bg-red-500 rounded-lg md:rounded-xl flex items-center justify-center shadow-lg flex-shrink-0 group-hover:scale-110 transition-transform duration-300", children: /* @__PURE__ */ jsx(feature.icon, { className: "h-5 w-5 md:h-6 md:w-6 text-white" }) }),
            /* @__PURE__ */ jsxs("div", { className: "space-y-1 md:space-y-2", children: [
              /* @__PURE__ */ jsx("h3", { className: "text-lg md:text-xl font-bold text-white group-hover:text-red-400 transition-colors", children: feature.title }),
              /* @__PURE__ */ jsx("p", { className: "text-sm md:text-base text-gray-300", children: feature.description })
            ] })
          ] }, index2)) })
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "relative group mt-8 lg:mt-0", children: [
          /* @__PURE__ */ jsx("div", { className: "absolute inset-0 bg-gradient-to-r from-red-500/10 to-transparent rounded-2xl blur-xl group-hover:blur-2xl transition-all duration-500" }),
          /* @__PURE__ */ jsx("div", { className: "bg-white rounded-xl md:rounded-2xl shadow-xl border border-gray-100 overflow-hidden relative z-10 group-hover:shadow-2xl transition-all duration-500", children: /* @__PURE__ */ jsx(
            "img",
            {
              src: "/section4-1.webp",
              alt: "Journal Wepress Eco",
              className: "w-full h-auto group-hover:scale-105 transition-transform duration-700",
              loading: "lazy"
            }
          ) })
        ] })
      ] }) }) }),
      /* @__PURE__ */ jsxs("section", { className: "py-12 md:py-16 lg:py-24 bg-[#10172A] relative overflow-hidden", children: [
        /* @__PURE__ */ jsx("div", { className: "absolute top-0 left-0 w-full h-full", children: /* @__PURE__ */ jsx("div", { className: "absolute top-1/4 right-1/4 w-48 h-48 md:w-64 md:h-64 bg-red-500/5 rounded-full blur-3xl" }) }),
        /* @__PURE__ */ jsxs("div", { className: "max-w-4xl mx-auto px-4 md:px-6 relative z-10", children: [
          /* @__PURE__ */ jsxs("div", { className: "text-center mb-8 md:mb-12 lg:mb-16 space-y-3 md:space-y-4", children: [
            /* @__PURE__ */ jsx("div", { className: "inline-flex items-center px-3 md:px-4 py-1.5 md:py-2 bg-red-500/10 border border-red-500/20 text-red-400 rounded-full text-xs md:text-sm font-medium mb-2 md:mb-4", children: "FAQ" }),
            /* @__PURE__ */ jsx("h2", { className: "text-2xl md:text-3xl lg:text-4xl xl:text-5xl font-bold text-white tracking-tight px-4", children: "Questions fréquentes" }),
            /* @__PURE__ */ jsx("p", { className: "text-base md:text-lg lg:text-xl text-gray-300 px-4", children: "Trouvez les réponses aux questions les plus courantes" })
          ] }),
          /* @__PURE__ */ jsx("div", { className: "bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 rounded-xl md:rounded-2xl p-4 md:p-6 lg:p-8 shadow-lg", children: [
            {
              question: "Qu'est-ce qu'une annonce légale ?",
              answer: /* @__PURE__ */ jsx("p", { children: "Une annonce légale est une publication officielle obligatoire selon la loi marocaine. Elle sert à informer le public de démarches juridiques importantes comme la création d'une entreprise, un changement de statut, ou une modification administrative." })
            },
            {
              question: "Comment publier une annonce légale avec WePress Eco ?",
              answer: /* @__PURE__ */ jsx("p", { children: "Il vous suffit de remplir le formulaire adapté directement sur notre plateforme en ligne sécurisée. Notre équipe vous accompagne pour s'assurer que tout soit conforme aux exigences légales." })
            },
            {
              question: "Pourquoi est-il obligatoire de publier une annonce légale ?",
              answer: /* @__PURE__ */ jsx("p", { children: "Au Maroc, publier une annonce légale est obligatoire pour certaines démarches juridiques d'entreprise. Cette publication garantit la transparence et permet aux tiers d'accéder aux informations importantes." })
            },
            {
              question: "Quels types d'annonces peut-on publier ?",
              answer: /* @__PURE__ */ jsx("p", { children: "WePress Eco prend en charge tous types d'annonces légales : création de société, modification de statuts, cession de parts, changement de nom, convocations, dissolutions, liquidations, et bien d'autres." })
            },
            {
              question: "Puis-je obtenir une version papier ?",
              answer: /* @__PURE__ */ jsx("p", { children: "Oui, vous pouvez recevoir une version papier officielle de votre annonce légale. Il suffit de cocher l'option lors de votre commande en ligne." })
            },
            {
              question: "Peut-on rectifier une annonce déjà publiée ?",
              answer: /* @__PURE__ */ jsx("p", { children: "Une fois publiée, une annonce ne peut plus être modifiée. En cas d'erreur, WePress Eco vous accompagne pour publier un rectificatif officiel conforme aux règles en vigueur." })
            }
          ].map((faq, index2) => /* @__PURE__ */ jsx(
            FaqItem$1,
            {
              question: faq.question,
              answer: faq.answer,
              isOpen: openFaq === index2,
              toggleOpen: () => toggleFaq(index2)
            },
            index2
          )) }),
          /* @__PURE__ */ jsx("div", { className: "text-center mt-8 md:mt-12", children: /* @__PURE__ */ jsxs("div", { className: "inline-flex flex-col sm:flex-row items-center gap-2 text-sm md:text-base text-gray-300 bg-gray-800/30 backdrop-blur-sm rounded-lg p-3 md:p-4 border border-gray-700/50", children: [
            /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2", children: [
              /* @__PURE__ */ jsx(HelpCircle, { className: "h-4 w-4 md:h-5 md:w-5 text-red-500 flex-shrink-0" }),
              /* @__PURE__ */ jsx("span", { children: "Avez-vous d'autres questions ?" })
            ] }),
            /* @__PURE__ */ jsx("a", { href: contactUrl, className: "text-red-500 font-semibold hover:underline transition-colors", children: "Contactez-nous" })
          ] }) })
        ] })
      ] }),
      /* @__PURE__ */ jsx(TestimonialsCarousel, {}),
      /* @__PURE__ */ jsx(PartnersCarousel, {}),
      /* @__PURE__ */ jsx(Footer$1, {})
    ] })
  ] });
}
const __vite_glob_0_27 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: Acceuil
}, Symbol.toStringTag, { value: "Module" }));
const FaqItem = ({ question, answer, isOpen, toggleOpen }) => {
  return /* @__PURE__ */ jsxs("div", { className: "border-b border-gray-200 last:border-0", children: [
    /* @__PURE__ */ jsxs(
      "button",
      {
        className: "flex justify-between items-center w-full py-6 text-left focus:outline-none",
        onClick: toggleOpen,
        children: [
          /* @__PURE__ */ jsx("h3", { className: "text-lg font-semibold text-gray-900", children: question }),
          /* @__PURE__ */ jsx("div", { className: "flex-shrink-0 ml-2", children: isOpen ? /* @__PURE__ */ jsx(ChevronUp, { className: "h-5 w-5 text-red-600" }) : /* @__PURE__ */ jsx(ChevronDown, { className: "h-5 w-5 text-gray-500" }) })
        ]
      }
    ),
    /* @__PURE__ */ jsx(
      "div",
      {
        className: `overflow-hidden transition-all duration-300 ease-in-out ${isOpen ? "max-h-[1000px] opacity-100 pb-6" : "max-h-0 opacity-0"}`,
        children: /* @__PURE__ */ jsx("div", { className: "text-gray-700 leading-relaxed", children: answer })
      }
    )
  ] });
};
function WepressEcoLanding({ auth }) {
  const [openFaq, setOpenFaq] = useState(0);
  const toggleFaq = (index2) => {
    setOpenFaq(openFaq === index2 ? -1 : index2);
  };
  return /* @__PURE__ */ jsxs("div", { className: "min-h-screen flex flex-col", children: [
    /* @__PURE__ */ jsx("style", { jsx: true, global: true, children: `
        .perspective-1000 {
          perspective: 1000px;
        }
        
        @keyframes float {
          0%, 100% {
            transform: translateY(0) rotate(3deg);
          }
          50% {
            transform: translateY(-10px) rotate(5deg);
          }
        }
        
        .animate-float {
          animation: float 6s ease-in-out infinite;
        }
        
        .hover\\:translate-z-10:hover {
          transform: translateZ(10px);
        }
        
        /* 3D Button Effects */
        .btn-3d {
          position: relative;
          transform-style: preserve-3d;
          transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        
        .btn-3d:before {
          content: '';
          position: absolute;
          inset: 0;
          border-radius: inherit;
          background: inherit;
          transform: translateZ(-4px);
          filter: brightness(0.8);
          z-index: -1;
        }
        
        .btn-3d:active {
          transform: translateY(2px) translateZ(-2px);
        }
        
        /* 3D Card Effects */
        .card-3d {
          position: relative;
          transform-style: preserve-3d;
          transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .card-3d:before {
          content: '';
          position: absolute;
          inset: 0;
          border-radius: inherit;
          background: inherit;
          transform: translateZ(-10px);
          filter: brightness(0.9);
          z-index: -1;
        }
        
        .card-3d:hover {
          transform: translateY(-5px) translateZ(0);
        }
        
        /* Pressable Effect */
        .pressable {
          transition: transform 0.15s ease, box-shadow 0.15s ease;
        }
        
        .pressable:active {
          transform: scale(0.98);
          box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        
        /* Layered Shadow Effect */
        .layered-shadow {
          box-shadow: 
            0 1px 2px rgba(0, 0, 0, 0.07),
            0 2px 4px rgba(0, 0, 0, 0.07),
            0 4px 8px rgba(0, 0, 0, 0.07),
            0 8px 16px rgba(0, 0, 0, 0.07);
          transition: box-shadow 0.3s ease;
        }
        
        .layered-shadow:hover {
          box-shadow: 
            0 2px 4px rgba(0, 0, 0, 0.09),
            0 4px 8px rgba(0, 0, 0, 0.09),
            0 8px 16px rgba(0, 0, 0, 0.09),
            0 16px 32px rgba(0, 0, 0, 0.09);
        }
        
        /* Soft Glow Effect */
        .soft-glow {
          position: relative;
        }
        
        .soft-glow:after {
          content: '';
          position: absolute;
          inset: -5px;
          background: radial-gradient(circle at center, rgba(255, 255, 255, 0.8) 0%, rgba(255, 255, 255, 0) 70%);
          opacity: 0;
          z-index: -1;
          transition: opacity 0.3s ease;
        }
        
        .soft-glow:hover:after {
          opacity: 0.5;
        }
        
        /* Shine Effect */
        @keyframes shine {
          0% {
            background-position: -100% 0;
          }
          100% {
            background-position: 200% 0;
          }
        }
        
        .shine-effect {
          position: relative;
          overflow: hidden;
        }
        
        .shine-effect:after {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: linear-gradient(
            90deg,
            rgba(255, 255, 255, 0) 0%,
            rgba(255, 255, 255, 0.2) 50%,
            rgba(255, 255, 255, 0) 100%
          );
          background-size: 200% 100%;
          animation: shine 3s infinite linear;
          opacity: 0;
          transition: opacity 0.3s ease;
        }
        
        .shine-effect:hover:after {
          opacity: 1;
        }

        .font-script {
          font-family: "Dancing Script", cursive;
        }
      ` }),
    "      ",
    /* @__PURE__ */ jsx(Header, { auth }),
    /* @__PURE__ */ jsxs("section", { className: "relative bg-gradient-to-br from-[#0a1629] via-[#0f2a4a] to-[#0a1629] text-white py-32 overflow-hidden perspective-1000", children: [
      /* @__PURE__ */ jsxs("div", { className: "absolute inset-0 overflow-hidden", children: [
        /* @__PURE__ */ jsx("div", { className: "absolute top-[10%] left-[5%] w-64 h-64 bg-red-500 rounded-full blur-[120px] opacity-20 animate-pulse" }),
        /* @__PURE__ */ jsx(
          "div",
          {
            className: "absolute bottom-[20%] right-[10%] w-80 h-80 bg-blue-500 rounded-full blur-[150px] opacity-20 animate-pulse",
            style: { animationDelay: "1s" }
          }
        ),
        /* @__PURE__ */ jsx(
          "div",
          {
            className: "absolute top-[40%] right-[20%] w-40 h-40 bg-purple-500 rounded-full blur-[100px] opacity-20 animate-pulse",
            style: { animationDelay: "2s" }
          }
        )
      ] }),
      /* @__PURE__ */ jsx("div", { className: "absolute top-20 left-[10%] w-12 h-12 border-2 border-red-400/30 rounded-md animate-[float_8s_ease-in-out_infinite] rotate-12" }),
      /* @__PURE__ */ jsx(
        "div",
        {
          className: "absolute bottom-20 right-[15%] w-16 h-16 border-2 border-blue-400/30 rounded-full animate-[float_10s_ease-in-out_infinite]",
          style: { animationDelay: "2s" }
        }
      ),
      /* @__PURE__ */ jsx(
        "div",
        {
          className: "absolute top-1/2 right-[25%] w-10 h-10 border-2 border-white/20 rotate-45 animate-[float_12s_ease-in-out_infinite]",
          style: { animationDelay: "1s" }
        }
      ),
      /* @__PURE__ */ jsx("div", { className: "absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0wIDBoNjB2NjBIMHoiLz48cGF0aCBkPSJNMzAgMzBoMzB2MzBIMzB6IiBzdHJva2U9InJnYmEoMjU1LDI1NSwyNTUsMC4wNSkiIHN0cm9rZS13aWR0aD0iLjUiLz48cGF0aCBkPSJNMCAzMGgzMHYzMEgweiIgc3Ryb2tlPSJyZ2JhKDI1NSwyNTUsMjU1LDAuMDUpIiBzdHJva2Utd2lkdGg9Ii41Ii8+PHBhdGggZD0iTTMwIDBIMHYzMGgzMHoiIHN0cm9rZT0icmdiYSgyNTUsMjU1LDI1NSwwLjA1KSIgc3Ryb2tlLXdpZHRoPSIuNSIvPjxwYXRoIGQ9Ik0zMCAwaDMwdjMwSDMweiIgc3Ryb2tlPSJyZ2JhKDI1NSwyNTUsMjU1LDAuMDUpIiBzdHJva2Utd2lkdGg9Ii41Ii8+PC9nPjwvc3ZnPg==')] opacity-[0.03]" }),
      /* @__PURE__ */ jsx("div", { className: "max-w-7xl mx-auto px-4 relative z-10", children: /* @__PURE__ */ jsxs("div", { className: "grid lg:grid-cols-2 gap-12 items-center", children: [
        /* @__PURE__ */ jsxs("div", { className: "flex flex-col gap-8 lg:pr-8 card-3d p-6 rounded-2xl bg-gradient-to-br from-[#0c1b33]/40 to-[#0c1b33]/10 backdrop-blur-sm border border-white/5 layered-shadow", children: [
          /* @__PURE__ */ jsxs("h1", { className: "text-4xl lg:text-5xl leading-tight font-extrabold tracking-tight", children: [
            "Journal d'annonces légales",
            " ",
            /* @__PURE__ */ jsxs("span", { className: "relative", children: [
              /* @__PURE__ */ jsx("span", { className: "text-transparent bg-gradient-to-r from-red-300 to-red-700 bg-clip-text", children: "au Maroc" }),
              /* @__PURE__ */ jsx("span", { className: "absolute -bottom-1 left-0 w-full h-1 bg-gradient-to-r from-red-300 to-red-700 rounded-full opacity-70" })
            ] })
          ] }),
          /* @__PURE__ */ jsx("p", { className: "text-xl text-gray-300 leading-relaxed", children: "Besoin de publier une annonce légale ? Faites-le en ligne, où que vous soyez au Maroc, en quelques clics seulement. C'est simple, rapide, 100% conforme, et vous recevez votre attestation officielle pour seulement 100 DH TTC. Que ce soit pour créer, modifier ou liquider une société, ou pour toute autre démarche légale, on s'occupe de tout, sans prise de tête." }),
          /* @__PURE__ */ jsxs("div", { className: "flex flex-col sm:flex-row gap-4 pt-6", children: [
            /* @__PURE__ */ jsxs(Button, { className: "btn-3d pressable bg-gradient-to-r from-red-500 to-red-700 hover:from-red-700 hover:to-red-800 text-white py-6 px-8 rounded-xl text-lg font-semibold shadow-lg shadow-red-500/20 transition-all duration-300 transform hover:scale-105 hover:shadow-xl hover:shadow-red-500/30 flex items-center justify-center gap-2 shine-effect", children: [
              "Publier une annonce",
              /* @__PURE__ */ jsx(ArrowRight, { className: "h-5 w-5 ml-1 animate-pulse" })
            ] }),
            /* @__PURE__ */ jsx(
              Button,
              {
                variant: "outline",
                className: "btn-3d pressable border-white text-white hover:bg-white hover:text-slate-800 py-6 px-8 rounded-xl text-lg font-semibold transition-all duration-300 transform hover:scale-105",
                children: "Contact"
              }
            )
          ] }),
          /* @__PURE__ */ jsxs("p", { className: "text-sm text-gray-400 flex items-center mt-2", children: [
            /* @__PURE__ */ jsx(Star, { className: "h-4 w-4 mr-2 text-yellow-400" }),
            "* Votre annonce en ligne pour",
            " ",
            /* @__PURE__ */ jsx("span", { className: "font-semibold ml-1", children: "seulement 100 Dhs TTC" }),
            "."
          ] })
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "relative perspective-1000", children: [
          /* @__PURE__ */ jsx("div", { className: "absolute inset-0 bg-gradient-to-br from-red-500/30 to-blue-500/30 rounded-2xl blur-3xl opacity-40 animate-pulse" }),
          /* @__PURE__ */ jsxs("div", { className: "relative", children: [
            /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-2 gap-4 mb-8", children: [
              /* @__PURE__ */ jsxs("div", { className: "relative card-3d bg-gradient-to-br from-gray-100/90 to-gray-200/90 backdrop-blur-md  rounded-2xl border border-white/10 shadow-2xl transform hover:rotate-2 transition-all duration-500 group hover:scale-105 layered-shadow", children: [
                /* @__PURE__ */ jsx("div", { className: "absolute inset-0 bg-white/5 rounded-2xl backdrop-blur-sm opacity-50" }),
                /* @__PURE__ */ jsx("div", { className: "relative z-10 overflow-hidden rounded-xl border border-white/20 bg-white/90 backdrop-blur-sm", children: /* @__PURE__ */ jsx("img", { src: "/section1-1.webp", alt: "Section1" }) })
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "space-y-4", children: [
                /* @__PURE__ */ jsx("div", { className: "relative card-3d  p-4 rounded-full w-32 h-32 flex items-center justify-center", children: /* @__PURE__ */ jsx("div", { className: "text-center", children: /* @__PURE__ */ jsx("img", { src: "/Journal-badge.webp", alt: "Badge" }) }) }),
                /* @__PURE__ */ jsx("div", { className: "relative card-3d  p-2 rounded-2xl border border-white/10 shadow-2xl transform hover:rotate-2 transition-all duration-500 group hover:scale-105 layered-shadow", children: /* @__PURE__ */ jsx("img", { src: "/section1-2.webp", alt: "Section1" }) })
              ] })
            ] }),
            /* @__PURE__ */ jsx("div", { className: "text-center mb-6", children: /* @__PURE__ */ jsx("span", { className: "text-4xl font-script text-gray-300", children: "Papier" }) }),
            /* @__PURE__ */ jsxs("div", { className: "space-y-4", children: [
              /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-3 card-3d bg-white/5 backdrop-blur-sm p-3 rounded-lg border border-white/10 soft-glow", children: [
                /* @__PURE__ */ jsx(Check, { className: "w-5 h-5 text-red-400 flex-shrink-0" }),
                /* @__PURE__ */ jsx("span", { className: "text-gray-300 font-medium", children: "Publication Instantanée" })
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-3 card-3d bg-white/5 backdrop-blur-sm p-3 rounded-lg border border-white/10 soft-glow", children: [
                /* @__PURE__ */ jsx(Check, { className: "w-5 h-5 text-red-400 flex-shrink-0" }),
                /* @__PURE__ */ jsx("span", { className: "text-gray-300 font-medium", children: "Dépôt en Ligne ou sur Place" })
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-3 card-3d bg-white/5 backdrop-blur-sm p-3 rounded-lg border border-white/10 soft-glow", children: [
                /* @__PURE__ */ jsx(Check, { className: "w-5 h-5 text-red-400 flex-shrink-0" }),
                /* @__PURE__ */ jsx("span", { className: "text-gray-300 font-medium", children: "Tarifs Compétitifs" })
              ] })
            ] })
          ] })
        ] })
      ] }) })
    ] }),
    /* @__PURE__ */ jsxs("section", { className: "py-24 relative overflow-hidden bg-gradient-to-b from-gray-50 to-white perspective-1000", children: [
      /* @__PURE__ */ jsx("div", { className: "absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0wIDBoNjB2NjBIMHoiLz48cGF0aCBkPSJNMzAgMzBoMzB2MzBIMzB6IiBzdHJva2U9InJnYmEoMCwwLDAsMC4wMikiIHN0cm9rZS13aWR0aD0iLjUiLz48cGF0aCBkPSJNMCAzMGgzMHYzMEgweiIgc3Ryb2tlPSJyZ2JhKDAsMCwwLDAuMDIpIiBzdHJva2Utd2lkdGg9Ii41Ii8+PHBhdGggZD0iTTMwIDBIMHYzMGgzMHoiIHN0cm9rZT0icmdiYSgwLDAsMCwwLjAyKSIgc3Ryb2tlLXdpZHRoPSIuNSIvPjxwYXRoIGQ9Ik0zMCAwaDMwdjMwSDMweiIgc3Ryb2tlPSJyZ2JhKDAsMCwwLDAuMDIpIiBzdHJva2Utd2lkdGg9Ii41Ii8+PC9nPjwvc3ZnPg==')] opacity-[0.4]" }),
      /* @__PURE__ */ jsx("div", { className: "absolute top-20 right-20 w-64 h-64 bg-red-100 rounded-full blur-3xl opacity-30" }),
      /* @__PURE__ */ jsx("div", { className: "absolute bottom-20 left-20 w-64 h-64 bg-blue-100 rounded-full blur-3xl opacity-30" }),
      /* @__PURE__ */ jsx("div", { className: "max-w-7xl mx-auto px-4 relative z-10", children: /* @__PURE__ */ jsxs("div", { className: "grid lg:grid-cols-2 gap-12 items-center", children: [
        /* @__PURE__ */ jsx("div", { className: "relative perspective-1000", children: /* @__PURE__ */ jsx("img", { src: "/image-bg.webp", alt: "Section2", width: 400 }) }),
        /* @__PURE__ */ jsxs("div", { className: "space-y-6 lg:pl-8", children: [
          /* @__PURE__ */ jsx("div", { className: "inline-flex items-center py-2 px-4 bg-red-50 text-red-700 rounded-full text-sm font-medium mb-4 btn-3d shine-effect", children: "À propos" }),
          /* @__PURE__ */ jsx("h2", { className: "text-3xl lg:text-4xl font-bold text-gray-900 leading-tight", children: "Wepress Eco : Annonces Légales en un seul clic" }),
          /* @__PURE__ */ jsxs("div", { className: "space-y-4 text-gray-700 leading-relaxed text-lg", children: [
            /* @__PURE__ */ jsxs("p", { children: [
              /* @__PURE__ */ jsx("span", { className: "font-semibold text-gray-900", children: "Wepress Eco" }),
              ", c'est un journal dédié aux",
              " ",
              /* @__PURE__ */ jsx("span", { className: "font-semibold text-red-600", children: "annonces légales" }),
              ", porté par une équipe expérimentée qui connaît parfaitement les rouages des publications légales. Nos publications peuvent être acceptées partout au ",
              /* @__PURE__ */ jsx("span", { className: "font-semibold text-gray-900", children: "Maroc" }),
              ","
            ] }),
            /* @__PURE__ */ jsx("p", { children: "que ce soit pour la création d'une société, sa modification, sa dissolution, ou tout autre acte juridique nécessitant une publication officielle. Notre plateforme digitale vous permet de publier vos annonces en quelques clics, avec la garantie d'une conformité totale aux exigences légales." }),
            /* @__PURE__ */ jsx("p", { children: "Avec Wepress Eco, fini les déplacements et les longues attentes. Tout se fait en ligne, rapidement et en toute sécurité, pour que vous puissiez vous concentrer sur l'essentiel : votre activité." })
          ] }),
          /* @__PURE__ */ jsx("div", { className: "pt-6", children: /* @__PURE__ */ jsxs(Button, { className: "btn-3d pressable bg-gradient-to-r from-red-500 to-red-700 hover:from-red-700 hover:to-red-800 text-white py-4 px-8 rounded-xl text-lg font-semibold shadow-lg shadow-red-500/20 transition-all duration-300 transform hover:scale-105 layered-shadow shine-effect", children: [
            "En savoir plus",
            /* @__PURE__ */ jsx(ArrowRight, { className: "ml-2 h-5 w-5" })
          ] }) })
        ] })
      ] }) })
    ] }),
    /* @__PURE__ */ jsxs("section", { className: "py-24 relative overflow-hidden bg-gradient-to-b from-white to-gray-50 perspective-1000", children: [
      /* @__PURE__ */ jsx("div", { className: "absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0wIDBoNjB2NjBIMHoiLz48cGF0aCBkPSJNMzAgMzBoMzB2MzBIMzB6IiBzdHJva2U9InJnYmEoMCwwLDAsMC4wMikiIHN0cm9rZS13aWR0aD0iLjUiLz48cGF0aCBkPSJNMCAzMGgzMHYzMEgweiIgc3Ryb2tlPSJyZ2JhKDAsMCwwLDAuMDIpIiBzdHJva2Utd2lkdGg9Ii41Ii8+PHBhdGggZD0iTTMwIDBIMHYzMGgzMHoiIHN0cm9rZT0icmdiYSgwLDAsMCwwLjAyKSIgc3Ryb2tlLXdpZHRoPSIuNSIvPjxwYXRoIGQ9Ik0zMCAwaDMwdjMwSDMweiIgc3Ryb2tlPSJyZ2JhKDAsMCwwLDAuMDIpIiBzdHJva2Utd2lkdGg9Ii41Ii8+PC9nPjwvc3ZnPg==')] opacity-[0.4]" }),
      /* @__PURE__ */ jsx("div", { className: "absolute top-40 left-20 w-64 h-64 bg-red-100 rounded-full blur-3xl opacity-20" }),
      /* @__PURE__ */ jsx("div", { className: "absolute bottom-40 right-20 w-64 h-64 bg-blue-100 rounded-full blur-3xl opacity-20" }),
      /* @__PURE__ */ jsxs("div", { className: "max-w-7xl mx-auto px-4 relative z-10", children: [
        /* @__PURE__ */ jsxs("div", { className: "text-center mb-16", children: [
          /* @__PURE__ */ jsx("h2", { className: "text-4xl md:text-5xl font-bold mb-6 text-gray-900 tracking-tight", children: "Toutes les annonces légales" }),
          /* @__PURE__ */ jsxs("p", { className: "text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed", children: [
            "Pour ",
            /* @__PURE__ */ jsx("span", { className: "font-semibold text-red-600", children: "publier une annonce légale" }),
            " dans notre journal d'annonces légales au Maroc (JAL), cliquez sur commencer."
          ] })
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "grid md:grid-cols-3 gap-8", children: [
          /* @__PURE__ */ jsxs("div", { className: "bg-white p-8 rounded-2xl shadow-xl transition-all duration-500 border border-gray-100 hover:shadow-2xl hover:-translate-y-2 group relative overflow-hidden card-3d layered-shadow", children: [
            /* @__PURE__ */ jsx("div", { className: "absolute inset-0 bg-gradient-to-br from-red-50 to-red-100 opacity-0 group-hover:opacity-100 transition-opacity duration-500" }),
            /* @__PURE__ */ jsx("div", { className: "absolute top-0 right-0 w-24 h-24 bg-gradient-to-bl from-red-500/10 to-transparent" }),
            /* @__PURE__ */ jsxs("div", { className: "relative", children: [
              /* @__PURE__ */ jsx("h3", { className: "text-2xl font-bold mb-6 text-gray-800 group-hover:text-red-700 transition-colors duration-300", children: "Constitution de société" }),
              /* @__PURE__ */ jsxs("p", { className: "text-gray-600 mb-6", children: [
                "Publiez votre ",
                /* @__PURE__ */ jsx("span", { className: "font-semibold", children: "annonce légale de constitution de société" }),
                " en quelques clics. Service rapide, attestation immédiate et publication dans un journal agréé."
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "space-y-3 mb-8", children: [
                /* @__PURE__ */ jsxs("div", { className: "flex items-start gap-2", children: [
                  /* @__PURE__ */ jsx(Check, { className: "w-5 h-5 text-red-500 mt-0.5 flex-shrink-0" }),
                  /* @__PURE__ */ jsx("span", { className: "text-gray-700", children: "SARL, SARL AU, SNC, SCS, SCA" })
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "flex items-start gap-2", children: [
                  /* @__PURE__ */ jsx(Check, { className: "w-5 h-5 text-red-500 mt-0.5 flex-shrink-0" }),
                  /* @__PURE__ */ jsx("span", { className: "text-gray-700", children: "Société Anonyme (SA)" })
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "flex items-start gap-2", children: [
                  /* @__PURE__ */ jsx(Check, { className: "w-5 h-5 text-red-500 mt-0.5 flex-shrink-0" }),
                  /* @__PURE__ */ jsx("span", { className: "text-gray-700", children: "Société Anonyme Simplifiée (SAS)" })
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "flex items-start gap-2", children: [
                  /* @__PURE__ */ jsx(Check, { className: "w-5 h-5 text-red-500 mt-0.5 flex-shrink-0" }),
                  /* @__PURE__ */ jsx("span", { className: "text-gray-700", children: "Groupement d'Intérêt Économique (GIE)" })
                ] })
              ] }),
              /* @__PURE__ */ jsxs(Button, { className: "btn-3d pressable bg-gradient-to-r from-red-500 to-red-700 hover:from-red-700 hover:to-red-800 text-white py-3 px-6 rounded-xl font-medium shadow-lg shadow-red-500/20 transition-all duration-300 transform hover:scale-105 hover:shadow-xl hover:shadow-red-500/30 flex items-center justify-center gap-2 shine-effect w-full", children: [
                "Publier une annonce",
                /* @__PURE__ */ jsx(ArrowRight, { className: "h-5 w-5" })
              ] })
            ] })
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "bg-white p-8 rounded-2xl shadow-xl transition-all duration-500 border border-gray-100 hover:shadow-2xl hover:-translate-y-2 group relative overflow-hidden card-3d layered-shadow", children: [
            /* @__PURE__ */ jsx("div", { className: "absolute inset-0 bg-gradient-to-br from-blue-50 to-blue-100 opacity-0 group-hover:opacity-100 transition-opacity duration-500" }),
            /* @__PURE__ */ jsx("div", { className: "absolute top-0 right-0 w-24 h-24 bg-gradient-to-bl from-blue-500/10 to-transparent" }),
            /* @__PURE__ */ jsxs("div", { className: "relative", children: [
              /* @__PURE__ */ jsx("h3", { className: "text-2xl font-bold mb-6 text-gray-800 group-hover:text-blue-600 transition-colors duration-300", children: "Modification de société" }),
              /* @__PURE__ */ jsxs("p", { className: "text-gray-600 mb-6", children: [
                "Publiez votre ",
                /* @__PURE__ */ jsx("span", { className: "font-semibold", children: "annonce légale de modification" }),
                " (gérant, siège, objet, capital...) en ligne dès maintenant. Rapide, conforme et validée par un journal officiel agréé."
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "space-y-3 mb-8", children: [
                /* @__PURE__ */ jsxs("div", { className: "flex items-start gap-2", children: [
                  /* @__PURE__ */ jsx(Check, { className: "w-5 h-5 text-red-500 mt-0.5 flex-shrink-0" }),
                  /* @__PURE__ */ jsx("span", { className: "text-gray-700", children: "Transfert de siège social" })
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "flex items-start gap-2", children: [
                  /* @__PURE__ */ jsx(Check, { className: "w-5 h-5 text-red-500 mt-0.5 flex-shrink-0" }),
                  /* @__PURE__ */ jsx("span", { className: "text-gray-700", children: "Changement de dénomination" })
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "flex items-start gap-2", children: [
                  /* @__PURE__ */ jsx(Check, { className: "w-5 h-5 text-red-500 mt-0.5 flex-shrink-0" }),
                  /* @__PURE__ */ jsx("span", { className: "text-gray-700", children: "Cession de parts sociales" })
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "flex items-start gap-2", children: [
                  /* @__PURE__ */ jsx(Check, { className: "w-5 h-5 text-red-500 mt-0.5 flex-shrink-0" }),
                  /* @__PURE__ */ jsx("span", { className: "text-gray-700", children: "Augmentation de capital" })
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "flex items-start gap-2", children: [
                  /* @__PURE__ */ jsx(Check, { className: "w-5 h-5 text-red-500 mt-0.5 flex-shrink-0" }),
                  /* @__PURE__ */ jsx("span", { className: "text-gray-700", children: "Changement d'objet social" })
                ] })
              ] }),
              /* @__PURE__ */ jsxs(Button, { className: "btn-3d pressable bg-gradient-to-r from-red-500 to-red-700 hover:from-red-700 hover:to-red-800 text-white py-3 px-6 rounded-xl font-medium shadow-lg shadow-red-500/20 transition-all duration-300 transform hover:scale-105 hover:shadow-xl hover:shadow-red-500/30 flex items-center justify-center gap-2 shine-effect w-full", children: [
                "Publier une annonce",
                /* @__PURE__ */ jsx(ArrowRight, { className: "h-5 w-5" })
              ] })
            ] })
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "bg-white p-8 rounded-2xl shadow-xl transition-all duration-500 border border-gray-100 hover:shadow-2xl hover:-translate-y-2 group relative overflow-hidden card-3d layered-shadow", children: [
            /* @__PURE__ */ jsx("div", { className: "absolute inset-0 bg-gradient-to-br from-purple-50 to-purple-100 opacity-0 group-hover:opacity-100 transition-opacity duration-500" }),
            /* @__PURE__ */ jsx("div", { className: "absolute top-0 right-0 w-24 h-24 bg-gradient-to-bl from-purple-500/10 to-transparent" }),
            /* @__PURE__ */ jsxs("div", { className: "relative", children: [
              /* @__PURE__ */ jsx("h3", { className: "text-2xl font-bold mb-6 text-gray-800 group-hover:text-purple-600 transition-colors duration-300", children: "Autres" }),
              /* @__PURE__ */ jsxs("p", { className: "text-gray-600 mb-6", children: [
                "Publiez votre annonce légale en ligne dès maintenant, qu'il s'agisse d'un",
                " ",
                /* @__PURE__ */ jsx("span", { className: "font-semibold", children: "appel d'offres" }),
                ", d'un",
                " ",
                /* @__PURE__ */ jsx("span", { className: "font-semibold", children: "appel à candidature" }),
                " etc... Service rapide et publication conforme par notre journal."
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "space-y-3 mb-8", children: [
                /* @__PURE__ */ jsxs("div", { className: "flex items-start gap-2", children: [
                  /* @__PURE__ */ jsx(Check, { className: "w-5 h-5 text-red-500 mt-0.5 flex-shrink-0" }),
                  /* @__PURE__ */ jsx("span", { className: "text-gray-700", children: "Appel d'offres" })
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "flex items-start gap-2", children: [
                  /* @__PURE__ */ jsx(Check, { className: "w-5 h-5 text-red-500 mt-0.5 flex-shrink-0" }),
                  /* @__PURE__ */ jsx("span", { className: "text-gray-700", children: "Appel à candidature" })
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "flex items-start gap-2", children: [
                  /* @__PURE__ */ jsx(Check, { className: "w-5 h-5 text-red-500 mt-0.5 flex-shrink-0" }),
                  /* @__PURE__ */ jsx("span", { className: "text-gray-700", children: "Avis judiciaire" })
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "flex items-start gap-2", children: [
                  /* @__PURE__ */ jsx(Check, { className: "w-5 h-5 text-red-500 mt-0.5 flex-shrink-0" }),
                  /* @__PURE__ */ jsx("span", { className: "text-gray-700", children: "Avis de convocation" })
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "flex items-start gap-2", children: [
                  /* @__PURE__ */ jsx(Check, { className: "w-5 h-5 text-red-500 mt-0.5 flex-shrink-0" }),
                  /* @__PURE__ */ jsx("span", { className: "text-gray-700", children: "Avis administratif" })
                ] })
              ] }),
              /* @__PURE__ */ jsxs(Button, { className: "btn-3d pressable bg-gradient-to-r from-red-500 to-red-700 hover:from-red-700 hover:to-red-800 text-white py-3 px-6 rounded-xl font-medium shadow-lg shadow-red-500/20 transition-all duration-300 transform hover:scale-105 hover:shadow-xl hover:shadow-red-500/30 flex items-center justify-center gap-2 shine-effect w-full", children: [
                "Publier une annonce",
                /* @__PURE__ */ jsx(ArrowRight, { className: "h-5 w-5" })
              ] })
            ] })
          ] })
        ] })
      ] })
    ] }),
    /* @__PURE__ */ jsxs("section", { className: "py-24 relative overflow-hidden perspective-1000", children: [
      /* @__PURE__ */ jsxs("div", { className: "absolute inset-0", children: [
        /* @__PURE__ */ jsx(
          "div",
          {
            className: "absolute inset-0 bg-cover bg-center bg-no-repeat",
            style: {
              backgroundImage: `url('/placeholder.svg?height=600&width=1200')`
            }
          }
        ),
        /* @__PURE__ */ jsx("div", { className: "absolute inset-0 bg-black/80" })
      ] }),
      /* @__PURE__ */ jsxs("div", { className: "absolute inset-0 overflow-hidden", children: [
        /* @__PURE__ */ jsx("div", { className: "absolute top-[20%] left-[10%] w-32 h-32 bg-red-500 rounded-full blur-[80px] opacity-10 animate-pulse" }),
        /* @__PURE__ */ jsx(
          "div",
          {
            className: "absolute bottom-[30%] right-[15%] w-40 h-40 bg-white rounded-full blur-[100px] opacity-5 animate-pulse",
            style: { animationDelay: "2s" }
          }
        )
      ] }),
      /* @__PURE__ */ jsx("div", { className: "max-w-7xl mx-auto px-4 relative z-10", children: /* @__PURE__ */ jsxs("div", { className: "max-w-4xl", children: [
        /* @__PURE__ */ jsxs("div", { className: "flex items-start gap-8", children: [
          /* @__PURE__ */ jsx("div", { className: "w-1 h-32 bg-gradient-to-b from-red-500 to-red-700 rounded-full flex-shrink-0 card-3d" }),
          /* @__PURE__ */ jsxs("div", { className: "flex-1 space-y-6", children: [
            /* @__PURE__ */ jsxs("h2", { className: "text-4xl lg:text-5xl font-bold text-white leading-tight tracking-tight", children: [
              "WePress, votre annonce légale en toute ",
              /* @__PURE__ */ jsx("span", { className: "italic font-light", children: "conformité" }),
              ",",
              " ",
              /* @__PURE__ */ jsx("span", { className: "italic font-light", children: "rapidité" }),
              " et",
              " ",
              /* @__PURE__ */ jsx("span", { className: "italic font-light", children: "sérénité" }),
              "."
            ] }),
            /* @__PURE__ */ jsxs("p", { className: "text-xl text-gray-300 leading-relaxed max-w-3xl", children: [
              "Publiez votre ",
              /* @__PURE__ */ jsx("span", { className: "font-semibold text-white", children: "annonce légale en ligne" }),
              " rapidement et en toute conformité, où que vous soyez ! Notre",
              " ",
              /* @__PURE__ */ jsx("span", { className: "font-semibold text-white", children: "journal d'annonces légales" }),
              " vous permet de",
              " ",
              /* @__PURE__ */ jsx("span", { className: "font-semibold text-white", children: "publier une annonce légale" }),
              " en toute simplicité."
            ] }),
            /* @__PURE__ */ jsx("div", { className: "pt-6", children: /* @__PURE__ */ jsxs(Button, { className: "btn-3d pressable bg-gradient-to-r from-red-500 to-red-700 hover:from-red-700 hover:to-red-800 text-white py-6 px-10 rounded-xl text-lg font-semibold shadow-lg shadow-red-500/20 transition-all duration-300 transform hover:scale-105 hover:shadow-xl hover:shadow-red-500/30 flex items-center justify-center gap-2 shine-effect", children: [
              "Commencer maintenant",
              /* @__PURE__ */ jsx(ArrowRight, { className: "h-5 w-5 ml-1 animate-pulse" })
            ] }) })
          ] })
        ] }),
        /* @__PURE__ */ jsx("div", { className: "absolute top-1/4 right-1/4 w-3 h-3 bg-red-500 rounded-full animate-ping opacity-60" }),
        /* @__PURE__ */ jsx("div", { className: "absolute bottom-1/3 right-1/3 w-2 h-2 bg-white rounded-full animate-ping opacity-40 delay-1000" }),
        /* @__PURE__ */ jsx("div", { className: "absolute bottom-8 right-8", children: /* @__PURE__ */ jsx("div", { className: "w-12 h-12 bg-white/10 backdrop-blur-sm rounded-full flex items-center justify-center card-3d hover:bg-white/20 transition-all duration-300 cursor-pointer group", children: /* @__PURE__ */ jsx(ArrowRight, { className: "h-6 w-6 text-white group-hover:translate-x-1 transition-transform duration-300" }) }) })
      ] }) }),
      /* @__PURE__ */ jsx("div", { className: "absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0wIDBoNjB2NjBIMHoiLz48cGF0aCBkPSJNMzAgMzBoMzB2MzBIMzB6IiBzdHJva2U9InJnYmEoMjU1LDI1NSwyNTUsMC4wMykiIHN0cm9rZS13aWR0aD0iLjUiLz48cGF0aCBkPSJNMCAzMGgzMHYzMEgweiIgc3Ryb2tlPSJyZ2JhKDI1NSwyNTUsMjU1LDAuMDMpIiBzdHJva2Utd2lkdGg9Ii41Ii8+PHBhdGggZD0iTTMwIDBIMHYzMGgzMHoiIHN0cm9rZT0icmdiYSgyNTUsMjU1LDI1NSwwLjAzKSIgc3Ryb2tlLXdpZHRoPSIuNSIvPjxwYXRoIGQ9Ik0zMCAwaDMwdjMwSDMweiIgc3Ryb2tlPSJyZ2JhKDI1NSwyNTUsMjU1LDAuMDMpIiBzdHJva2Utd2lkdGg9Ii41Ci8+PC9nPjwvc3ZnPg==')] opacity-[0.02] pointer-events-none" })
    ] }),
    /* @__PURE__ */ jsxs("section", { className: "py-24 relative overflow-hidden bg-gradient-to-b from-gray-50 to-white perspective-1000", children: [
      /* @__PURE__ */ jsx("div", { className: "absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0wIDBoNjB2NjBIMHoiLz48cGF0aCBkPSJNMzAgMzBoMzB2MzBIMzB6IiBzdHJva2U9InJnYmEoMCwwLDAsMC4wMikiIHN0cm9rZS13aWR0aD0iLjUiLz48cGF0aCBkPSJNMCAzMGgzMHYzMEgweiIgc3Ryb2tlPSJyZ2JhKDAsMCwwLDAuMDIpIiBzdHJva2Utd2lkdGg9Ii41Ii8+PHBhdGggZD0iTTMwIDBIMHYzMGgzMHoiIHN0cm9rZT0icmdiYSgwLDAsMCwwLjAyKSIgc3Ryb2tlLXdpZHRoPSIuNSIvPjxwYXRoIGQ9Ik0zMCAwaDMwdjMwSDMweiIgc3Ryb2tlPSJyZ2JhKDAsMCwwLDAuMDIpIiBzdHJva2Utd2lkdGg9Ii41Ci8+PC9nPjwvc3ZnPg==')] opacity-[0.4]" }),
      /* @__PURE__ */ jsx("div", { className: "absolute top-20 left-20 w-64 h-64 bg-red-100 rounded-full blur-3xl opacity-20" }),
      /* @__PURE__ */ jsx("div", { className: "absolute bottom-20 right-20 w-64 h-64 bg-blue-100 rounded-full blur-3xl opacity-20" }),
      /* @__PURE__ */ jsx("div", { className: "max-w-7xl mx-auto px-4 relative z-10", children: /* @__PURE__ */ jsxs("div", { className: "grid lg:grid-cols-2 gap-16 items-center", children: [
        /* @__PURE__ */ jsxs("div", { className: "space-y-8", children: [
          /* @__PURE__ */ jsxs("div", { className: "space-y-6", children: [
            /* @__PURE__ */ jsx("div", { className: "text-gray-600 text-lg font-medium", children: "Pourquoi choisir WePress ?" }),
            /* @__PURE__ */ jsxs("h2", { className: "text-4xl lg:text-5xl font-bold text-gray-900 leading-tight", children: [
              "Votre annonce légale, ",
              /* @__PURE__ */ jsx("span", { className: "italic font-light", children: "publiée avec précision" }),
              "."
            ] }),
            /* @__PURE__ */ jsxs("p", { className: "text-lg text-gray-700 leading-relaxed", children: [
              "Wepress Eco, c'est ",
              /* @__PURE__ */ jsx("span", { className: "font-semibold", children: "un journal d'annonces légales agréé" }),
              " au Maroc qui vous simplifie vraiment la vie. Tout se fait en ligne, en quelques minutes, avec un service rapide, sécurisé et parfaitement conforme.",
              " ",
              /* @__PURE__ */ jsx("span", { className: "font-semibold", children: "On vous accompagne de A à Z" }),
              " avec des modèles vérifiés, une attestation délivrée immédiatement, et une équipe réactive toujours là pour s'assurer que votre publication est bien validée, partout au Maroc."
            ] })
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "space-y-6", children: [
            /* @__PURE__ */ jsxs("div", { className: "flex items-start gap-4 group", children: [
              /* @__PURE__ */ jsx("div", { className: "w-12 h-12 bg-gradient-to-br from-red-500 to-red-700 rounded-full flex items-center justify-center shadow-lg transform group-hover:scale-110 transition-transform duration-300 card-3d", children: /* @__PURE__ */ jsx(Star, { className: "h-6 w-6 text-white" }) }),
              /* @__PURE__ */ jsxs("div", { className: "flex-1", children: [
                /* @__PURE__ */ jsx("h3", { className: "text-xl font-bold text-gray-900 mb-2 group-hover:text-red-600 transition-colors duration-300", children: "Fiabilité" }),
                /* @__PURE__ */ jsx("p", { className: "text-gray-700", children: "Votre annonce légale est publiée dans notre journal agréé, respectant toutes les exigences légales." })
              ] })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "flex items-start gap-4 group", children: [
              /* @__PURE__ */ jsx("div", { className: "w-12 h-12 bg-gradient-to-br from-red-500 to-red-700 rounded-full flex items-center justify-center shadow-lg transform group-hover:scale-110 transition-transform duration-300 card-3d", children: /* @__PURE__ */ jsx(Check, { className: "h-6 w-6 text-white" }) }),
              /* @__PURE__ */ jsxs("div", { className: "flex-1", children: [
                /* @__PURE__ */ jsx("h3", { className: "text-xl font-bold text-gray-900 mb-2 group-hover:text-red-600 transition-colors duration-300", children: "Efficacité" }),
                /* @__PURE__ */ jsx("p", { className: "text-gray-700", children: "Traitement rapide et diffusion immédiate." })
              ] })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "flex items-start gap-4 group", children: [
              /* @__PURE__ */ jsx("div", { className: "w-12 h-12 bg-gradient-to-br from-red-500 to-red-700 rounded-full flex items-center justify-center shadow-lg transform group-hover:scale-110 transition-transform duration-300 card-3d", children: /* @__PURE__ */ jsx(FileText, { className: "h-6 w-6 text-white" }) }),
              /* @__PURE__ */ jsxs("div", { className: "flex-1", children: [
                /* @__PURE__ */ jsx("h3", { className: "text-xl font-bold text-gray-900 mb-2 group-hover:text-red-600 transition-colors duration-300", children: "Simplicité" }),
                /* @__PURE__ */ jsx("p", { className: "text-gray-700", children: "Un processus fluide, sans complication." })
              ] })
            ] })
          ] })
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "relative perspective-1000", children: [
          /* @__PURE__ */ jsx("div", { className: "absolute inset-0 bg-gradient-to-br from-red-500/20 to-gray-500/20 rounded-2xl blur-3xl opacity-40" }),
          /* @__PURE__ */ jsx("img", { src: "/section4-1.webp", alt: "Section4" })
        ] })
      ] }) })
    ] }),
    /* @__PURE__ */ jsxs("section", { className: "py-24 relative overflow-hidden bg-gradient-to-b from-white to-gray-50 perspective-1000", children: [
      /* @__PURE__ */ jsx("div", { className: "absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0wIDBoNjB2NjBIMHoiLz48cGF0aCBkPSJNMzAgMzBoMzB2MzBIMzB6IiBzdHJva2U9InJnYmEoMCwwLDAsMC4wMikiIHN0cm9rZS13aWR0aD0iLjUiLz48cGF0aCBkPSJNMCAzMGgzMHYzMEgweiIgc3Ryb2tlPSJyZ2JhKDAsMCwwLDAuMDIpIiBzdHJva2Utd2lkdGg9Ii41Ii8+PHBhdGggZD0iTTMwIDBIMHYzMGgzMHoiIHN0cm9rZT0icmdiYSgwLDAsMCwwLjAyKSIgc3Ryb2tlLXdpZHRoPSIuNSIvPjxwYXRoIGQ9Ik0zMCAwaDMwdjMwSDMweiIgc3Ryb2tlPSJyZ2JhKDAsMCwwLDAuMDIpIiBzdHJva2Utd2lkdGg9Ii41Ci8+PC9nPjwvc3ZnPg==')] opacity-[0.4]" }),
      /* @__PURE__ */ jsx("div", { className: "absolute top-40 left-20 w-64 h-64 bg-red-100 rounded-full blur-3xl opacity-20" }),
      /* @__PURE__ */ jsx("div", { className: "absolute bottom-40 right-20 w-64 h-64 bg-blue-100 rounded-full blur-3xl opacity-20" }),
      /* @__PURE__ */ jsxs("div", { className: "max-w-5xl mx-auto px-4 relative z-10", children: [
        /* @__PURE__ */ jsx("div", { className: "text-center mb-16", children: /* @__PURE__ */ jsx("h2", { className: "text-4xl md:text-5xl font-bold mb-6 text-gray-900 tracking-tight", children: "Questions les plus fréquentes" }) }),
        /* @__PURE__ */ jsxs("div", { className: "bg-white rounded-2xl shadow-xl p-8 card-3d layered-shadow", children: [
          /* @__PURE__ */ jsx(
            FaqItem,
            {
              question: "Qu'est-ce qu'une annonce légale ?",
              answer: /* @__PURE__ */ jsx("p", { children: "Une annonce légale, c'est tout simplement une publication officielle obligatoire selon la loi marocaine. Elle sert à informer le public de démarches juridiques importantes comme la création d'une entreprise, un changement de statut, un transfert de siège social, ou encore une modification dans l'administration. En la publiant, vous garantissez la transparence et la conformité de vos démarches, tout en respectant les règles du droit marocain." }),
              isOpen: openFaq === 0,
              toggleOpen: () => toggleFaq(0)
            }
          ),
          /* @__PURE__ */ jsx(
            FaqItem,
            {
              question: "Comment faire pour publier une annonce légale au Maroc avec WePress Eco ?",
              answer: /* @__PURE__ */ jsx("p", { children: "Pour publier votre annonce légale, rien de plus simple : il vous suffit de remplir le formulaire adapté directement sur notre plateforme en ligne, sécurisée et facile à utiliser. Que ce soit pour une création de société, une modification de statut ou toute autre formalité, tout est prévu pour vous guider pas à pas. Besoin d'un coup de main ? Notre équipe est là pour vous accompagner et s'assurer que tout soit bien conforme." }),
              isOpen: openFaq === 1,
              toggleOpen: () => toggleFaq(1)
            }
          ),
          /* @__PURE__ */ jsx(
            FaqItem,
            {
              question: "Pourquoi est-il obligatoire de publier une annonce légale ?",
              answer: /* @__PURE__ */ jsx("p", { children: "Au Maroc, publier une annonce légale est une obligation pour toutes les entreprises lorsqu'elles accomplissent certaines démarches juridiques. C'est une étape clé pour rendre publiques des informations importantes comme un changement de gérance, une modification du capital ou une dissolution. Cette publication garantit que les tiers puissent accéder à ces infos, renforçant ainsi la transparence et la sécurité juridique." }),
              isOpen: openFaq === 2,
              toggleOpen: () => toggleFaq(2)
            }
          ),
          /* @__PURE__ */ jsx(
            FaqItem,
            {
              question: "Quels types d'annonces légales peut-on publier sur WePress Eco ?",
              answer: /* @__PURE__ */ jsx("p", { children: "Sur WePress Eco, on prend en charge tous types d'annonces légales et judiciaires : création de société, modification de statuts, cession de parts, changement de nom, convocations aux assemblées générales, dissolutions, liquidations... et bien d'autres démarches prévues par le droit marocain. Quel que soit votre besoin, on s'occupe de tout, dans les règles." }),
              isOpen: openFaq === 3,
              toggleOpen: () => toggleFaq(3)
            }
          ),
          /* @__PURE__ */ jsx(
            FaqItem,
            {
              question: "Puis-je obtenir une version papier de mon annonce légale ?",
              answer: /* @__PURE__ */ jsx("p", { children: "Oui, avec WePress Eco, vous pouvez aussi recevoir une version papier officielle de votre annonce légale. C'est pratique si vous voulez garder une copie physique ou si on vous demande un justificatif. Il vous suffit de cocher l'option lors de votre commande en ligne." }),
              isOpen: openFaq === 4,
              toggleOpen: () => toggleFaq(4)
            }
          ),
          /* @__PURE__ */ jsx(
            FaqItem,
            {
              question: "Est-il possible de rectifier une annonce légale déjà publiée ?",
              answer: /* @__PURE__ */ jsx("p", { children: "Une fois publiée, une annonce légale ne peut plus être modifiée. Mais pas de panique : s'il y a une erreur, WePress Eco vous accompagne pour publier un rectificatif officiel. Cela permet de corriger l'information tout en respectant les règles de transparence et de conformité en vigueur au Maroc." }),
              isOpen: openFaq === 5,
              toggleOpen: () => toggleFaq(5)
            }
          )
        ] }),
        /* @__PURE__ */ jsx("div", { className: "text-center mt-12", children: /* @__PURE__ */ jsxs("p", { className: "text-gray-700 flex items-center justify-center gap-2", children: [
          /* @__PURE__ */ jsx(HelpCircle, { className: "h-5 w-5 text-red-500" }),
          "Avez-vous encore des questions ?",
          " ",
          /* @__PURE__ */ jsx("a", { href: "#contact", className: "text-red-600 font-semibold hover:underline", children: "Contactez-nous" })
        ] }) })
      ] })
    ] }),
    /* @__PURE__ */ jsx(Footer$1, {})
  ] });
}
const __vite_glob_0_28 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: WepressEcoLanding
}, Symbol.toStringTag, { value: "Module" }));
function AboutPage({ auth, seo }) {
  return /* @__PURE__ */ jsxs("div", { className: "min-h-screen bg-gray-50 flex flex-col", children: [
    /* @__PURE__ */ jsxs(Head, { children: [
      /* @__PURE__ */ jsx("title", { children: "À propos de WePress - Journal d'annonces légales au Maroc" }),
      /* @__PURE__ */ jsx("meta", { name: "description", content: "Wepress Eco est le journal d'annonces légales au Maroc. Notre mission : offrir une publication conforme et accessible à toutes les entreprises marocaines." })
    ] }),
    /* @__PURE__ */ jsx(Header, { auth }),
    /* @__PURE__ */ jsxs("section", { className: "bg-gray-800 pt-32 pb-20 relative overflow-hidden", children: [
      /* @__PURE__ */ jsxs("div", { className: "absolute inset-0 opacity-10", children: [
        /* @__PURE__ */ jsx("div", { className: "absolute top-20 left-10 w-72 h-72 bg-red-500 rounded-full blur-3xl" }),
        /* @__PURE__ */ jsx("div", { className: "absolute bottom-20 right-10 w-96 h-96 bg-blue-500 rounded-full blur-3xl" })
      ] }),
      /* @__PURE__ */ jsx("div", { className: "max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10", children: /* @__PURE__ */ jsxs("div", { className: "text-center", children: [
        /* @__PURE__ */ jsxs("div", { className: "inline-flex items-center px-4 py-2 bg-red-500/20 border border-red-500/30 rounded-full mb-6", children: [
          /* @__PURE__ */ jsx(Star, { className: "h-4 w-4 text-red-400 mr-2" }),
          /* @__PURE__ */ jsx("p", { className: "text-red-400 text-sm font-medium", children: "Qui sommes-nous ?" })
        ] }),
        /* @__PURE__ */ jsxs("h1", { className: "text-5xl md:text-6xl lg:text-7xl font-bold text-white mb-8 leading-tight", children: [
          "À propos de",
          " ",
          /* @__PURE__ */ jsx("span", { className: "bg-gradient-to-r from-red-400 to-red-600 bg-clip-text text-transparent", children: "Wepress Eco" })
        ] }),
        /* @__PURE__ */ jsxs("nav", { className: "flex items-center justify-center space-x-2 text-sm mb-10", children: [
          /* @__PURE__ */ jsxs(Link, { href: "/", className: "text-gray-300 hover:text-white flex items-center transition-colors duration-200", children: [
            /* @__PURE__ */ jsx(Home$1, { className: "h-4 w-4 mr-1" }),
            "Accueil"
          ] }),
          /* @__PURE__ */ jsx(ChevronRight, { className: "h-4 w-4 text-gray-500" }),
          /* @__PURE__ */ jsx("span", { className: "text-white font-medium", children: "À propos" })
        ] }),
        /* @__PURE__ */ jsx("p", { className: "text-gray-300 text-xl md:text-2xl max-w-4xl mx-auto leading-relaxed mb-8", children: "Wepress Eco est un journal spécialisé dans la publication d'annonces légales et judiciaires au Maroc." }),
        /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 md:grid-cols-3 gap-8 max-w-3xl mx-auto mt-12", children: [
          /* @__PURE__ */ jsxs("div", { className: "text-center", children: [
            /* @__PURE__ */ jsx("div", { className: "text-3xl font-bold text-white mb-2", children: "1000+" }),
            /* @__PURE__ */ jsx("div", { className: "text-gray-400 text-sm", children: "Annonces publiées" })
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "text-center", children: [
            /* @__PURE__ */ jsx("div", { className: "text-3xl font-bold text-white mb-2", children: "24h" }),
            /* @__PURE__ */ jsx("div", { className: "text-gray-400 text-sm", children: "Délai de publication" })
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "text-center", children: [
            /* @__PURE__ */ jsx("div", { className: "text-3xl font-bold text-white mb-2", children: "100%" }),
            /* @__PURE__ */ jsx("div", { className: "text-gray-400 text-sm", children: "Conformité légale" })
          ] })
        ] })
      ] }) })
    ] }),
    /* @__PURE__ */ jsx("section", { className: "py-24 bg-gray-50 relative", children: /* @__PURE__ */ jsx("div", { className: "max-w-7xl mx-auto px-4 sm:px-6 lg:px-8", children: /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 lg:grid-cols-2 gap-16 items-center", children: [
      /* @__PURE__ */ jsx("div", { className: "order-2 lg:order-1", children: /* @__PURE__ */ jsx("div", { className: "relative group", children: /* @__PURE__ */ jsxs("div", { className: "relative", children: [
        /* @__PURE__ */ jsx(
          "img",
          {
            src: "/section1-1.webp",
            alt: "Wepress Eco Journal",
            className: "w-full h-auto rounded-xl transform group-hover:scale-105 transition duration-300"
          }
        ),
        /* @__PURE__ */ jsx("div", { className: "absolute -bottom-6 -right-6 bg-white p-4 rounded-xl border border-gray-100", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center space-x-2", children: [
          /* @__PURE__ */ jsx(Award, { className: "h-6 w-6 text-red-600" }),
          /* @__PURE__ */ jsx("span", { className: "text-sm font-semibold text-gray-900", children: "Journal Agréé" })
        ] }) })
      ] }) }) }),
      /* @__PURE__ */ jsxs("div", { className: "order-1 lg:order-2", children: [
        /* @__PURE__ */ jsxs("h2", { className: "text-4xl md:text-5xl font-bold text-gray-900 mb-8 leading-tight", children: [
          "Wepress : Annonces Légales ",
          /* @__PURE__ */ jsx("span", { className: "text-red-600", children: "en un seul clic" })
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "space-y-6 text-gray-700 leading-relaxed text-lg", children: [
          /* @__PURE__ */ jsxs("p", { className: "text-xl leading-relaxed", children: [
            /* @__PURE__ */ jsx("span", { className: "text-red-600 font-semibold", children: "Wepress Eco" }),
            " est un journal spécialisé dans la",
            " ",
            /* @__PURE__ */ jsx("span", { className: "font-semibold bg-yellow-100 px-2 py-1 rounded", children: "publication d'annonces légales" }),
            ", animé par une équipe de professionnels expérimentés dans le domaine des publications juridiques, issus du secteur des journaux d'annonces légales (JAL)."
          ] }),
          /* @__PURE__ */ jsxs("p", { children: [
            "Nous proposons des modèles d'annonces optimisés pour garantir leur acceptation sur l'ensemble du territoire marocain. De plus, nous délivrons une",
            " ",
            /* @__PURE__ */ jsx("span", { className: "font-semibold text-green-600", children: "attestation de parution" }),
            " immédiate pour le greffe et les banques, directement sur notre plateforme."
          ] }),
          /* @__PURE__ */ jsxs("div", { children: [
            /* @__PURE__ */ jsx("p", { className: "font-medium text-gray-900 mb-3 text-base", children: "WePress.ma dispose des accréditations officielles nécessaires :" }),
            /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 gap-3", children: [
              /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between p-3", children: [
                /* @__PURE__ */ jsx("span", { className: "font-bold text-gray-900 text-base", children: "Dossier de presse" }),
                /* @__PURE__ */ jsx("span", { className: "text-blue-600 font-mono text-sm", children: "05/2024 جريدة" })
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between p-3", children: [
                /* @__PURE__ */ jsx("span", { className: "font-bold text-gray-900 text-base", children: "Dépôt Légal" }),
                /* @__PURE__ */ jsx("span", { className: "text-blue-600 font-mono text-sm", children: "2024PE0054" })
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between p-3", children: [
                /* @__PURE__ */ jsx("span", { className: "font-bold text-gray-900 text-base", children: "ISSN" }),
                /* @__PURE__ */ jsx("span", { className: "text-blue-600 font-mono text-sm", children: "3085-4636" })
              ] })
            ] })
          ] })
        ] })
      ] })
    ] }) }) }),
    /* @__PURE__ */ jsxs("section", { className: "py-24 bg-gray-50 relative overflow-hidden", children: [
      /* @__PURE__ */ jsx("div", { className: "absolute inset-0 opacity-5", children: /* @__PURE__ */ jsx(
        "div",
        {
          className: "absolute inset-0",
          style: {
            backgroundImage: `url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fillRule='evenodd'%3E%3Cg fill='%23000000' fillOpacity='1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`
          }
        }
      ) }),
      /* @__PURE__ */ jsxs("div", { className: "max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10", children: [
        /* @__PURE__ */ jsxs("div", { className: "text-center mb-16", children: [
          /* @__PURE__ */ jsxs("div", { className: "inline-flex items-center px-4 py-2 bg-gray-100 text-gray-600 text-sm font-medium rounded-full mb-4", children: [
            /* @__PURE__ */ jsx(Award, { className: "h-4 w-4 mr-2" }),
            "ENGAGEMENTS"
          ] }),
          /* @__PURE__ */ jsxs("h2", { className: "text-4xl md:text-5xl font-bold text-gray-900 mb-6", children: [
            "Nos engagements chez ",
            /* @__PURE__ */ jsx("span", { className: "text-red-600", children: "WePress" })
          ] }),
          /* @__PURE__ */ jsx("p", { className: "text-xl text-gray-600 max-w-3xl mx-auto", children: "Découvrez les valeurs qui nous guident dans notre mission de publication d'annonces légales" })
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8", children: [
          /* @__PURE__ */ jsxs("div", { className: "group bg-white p-8 rounded-2xl border border-gray-100 hover:border-red-400 transition-all duration-300 transform hover:-translate-y-2", children: [
            /* @__PURE__ */ jsx("div", { className: "bg-gradient-to-br from-red-500 to-red-600 w-16 h-16 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300", children: /* @__PURE__ */ jsx(Shield, { className: "h-8 w-8 text-white" }) }),
            /* @__PURE__ */ jsx("h3", { className: "text-2xl font-bold text-gray-900 mb-4", children: "Conformité garantie" }),
            /* @__PURE__ */ jsxs("p", { className: "text-gray-600 leading-relaxed", children: [
              "Votre annonce légale est publiée dans un",
              " ",
              /* @__PURE__ */ jsx("span", { className: "font-semibold text-red-600", children: "journal agréé" }),
              ", en parfaite conformité avec la réglementation en vigueur."
            ] })
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "group bg-white p-8 rounded-2xl border border-gray-100 hover:border-red-400 transition-all duration-300 transform hover:-translate-y-2", children: [
            /* @__PURE__ */ jsx("div", { className: "bg-gradient-to-br from-red-500 to-red-600 w-16 h-16 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300", children: /* @__PURE__ */ jsx(Zap, { className: "h-8 w-8 text-white" }) }),
            /* @__PURE__ */ jsx("h3", { className: "text-2xl font-bold text-gray-900 mb-4", children: "Rapidité assurée" }),
            /* @__PURE__ */ jsx("p", { className: "text-gray-600 leading-relaxed", children: "Votre annonce est traitée avec rigueur et diffusée sans délai, garantissant une publication rapide tout en respectant vos délais." })
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "group bg-white p-8 rounded-2xl border border-gray-100 hover:border-red-400 transition-all duration-300 transform hover:-translate-y-2", children: [
            /* @__PURE__ */ jsx("div", { className: "bg-gradient-to-br from-red-500 to-red-600 w-16 h-16 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300", children: /* @__PURE__ */ jsx(Sparkles, { className: "h-8 w-8 text-white" }) }),
            /* @__PURE__ */ jsx("h3", { className: "text-2xl font-bold text-gray-900 mb-4", children: "Simplicité" }),
            /* @__PURE__ */ jsx("p", { className: "text-gray-600 leading-relaxed", children: "Une plateforme intuitive et accessible pour publier votre annonce facilement, sans démarches complexes ni délai." })
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "group bg-white p-8 rounded-2xl border border-gray-100 hover:border-red-400 transition-all duration-300 transform hover:-translate-y-2", children: [
            /* @__PURE__ */ jsx("div", { className: "bg-gradient-to-br from-red-500 to-red-600 w-16 h-16 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300", children: /* @__PURE__ */ jsx(Users, { className: "h-8 w-8 text-white" }) }),
            /* @__PURE__ */ jsx("h3", { className: "text-2xl font-bold text-gray-900 mb-4", children: "Accompagnement" }),
            /* @__PURE__ */ jsx("p", { className: "text-gray-600 leading-relaxed", children: "Nos experts vous accompagnent avec attention, assurant un suivi personnalisé à chaque étape." })
          ] })
        ] })
      ] })
    ] }),
    /* @__PURE__ */ jsx(Footer$1, {})
  ] });
}
const __vite_glob_0_29 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: AboutPage
}, Symbol.toStringTag, { value: "Module" }));
function ProfileSection({ user, setUser }) {
  const [isLoaded, setIsLoaded] = useState(false);
  useEffect(() => {
    setIsLoaded(true);
  }, []);
  return /* @__PURE__ */ jsx("section", { className: "w-full flex justify-center mt-28 sm:mt-32 md:mt-36 mb-6 sm:mb-8 px-4", children: /* @__PURE__ */ jsx("div", { className: "w-full max-w-[76rem] mx-auto", children: /* @__PURE__ */ jsx("div", { className: "relative bg-[#0f172a] rounded-xl sm:rounded-2xl shadow-md overflow-hidden", children: /* @__PURE__ */ jsx("div", { className: "relative z-10 w-full h-full py-6 sm:py-8", children: /* @__PURE__ */ jsxs("div", { className: "flex flex-col sm:flex-row w-full items-start sm:items-stretch", children: [
    /* @__PURE__ */ jsx("div", { className: "w-full sm:w-1/2 flex flex-col items-start px-4 sm:px-6 mb-6 sm:mb-0", children: /* @__PURE__ */ jsx("div", { className: "p-5 w-full max-w-sm shadow-lg flex flex-col h-auto", children: /* @__PURE__ */ jsxs("div", { className: "flex flex-col", children: [
      /* @__PURE__ */ jsxs("div", { className: "flex", children: [
        /* @__PURE__ */ jsx("div", { className: "flex-shrink-0 mr-4", children: /* @__PURE__ */ jsx("div", { className: "w-16 h-16 sm:w-20 sm:h-20 bg-white/10 rounded-full overflow-hidden", children: /* @__PURE__ */ jsx(
          "img",
          {
            src: "/profile.jpg",
            alt: "Profile",
            className: "w-full h-full object-cover"
          }
        ) }) }),
        /* @__PURE__ */ jsxs("div", { className: "flex flex-col", children: [
          /* @__PURE__ */ jsx("h1", { className: "text-white text-xl font-bold", children: user.name }),
          /* @__PURE__ */ jsxs("div", { className: "flex items-center text-white/80 text-base mb-2", children: [
            /* @__PURE__ */ jsx(Mail, { className: "w-4 h-4 mr-1.5" }),
            user.email
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "flex items-center text-white/80 text-base", children: [
            /* @__PURE__ */ jsx(MapPin, { className: "w-4 h-4 mr-1.5" }),
            user.city
          ] })
        ] })
      ] }),
      /* @__PURE__ */ jsx("div", { className: "flex mt-4", children: /* @__PURE__ */ jsx(Link, { href: "/profile", className: "w-full", children: /* @__PURE__ */ jsxs(
        Button,
        {
          variant: "outline",
          className: "h-12 rounded-md bg-white/10 border-white/20 hover:bg-white/20 text-white flex items-center justify-center font-medium w-full",
          children: [
            /* @__PURE__ */ jsx(Settings, { className: "w-5 h-5 mr-2" }),
            "Modifier mon profile"
          ]
        }
      ) }) })
    ] }) }) }),
    /* @__PURE__ */ jsx("div", { className: "w-full sm:w-1/2 flex flex-col items-end px-4 sm:px-6", children: /* @__PURE__ */ jsx("div", { className: "bg-white/5 rounded-xl p-5 w-full max-w-sm border border-white/10 shadow-lg flex flex-col h-auto", children: /* @__PURE__ */ jsxs("div", { className: "flex flex-col", children: [
      /* @__PURE__ */ jsxs("div", { className: "flex", children: [
        /* @__PURE__ */ jsx("div", { className: "flex-shrink-0 mr-4", children: /* @__PURE__ */ jsx("div", { className: "flex items-center justify-center w-16 h-16 sm:w-20 sm:h-20 rounded-full bg-[#457B9D]/20", children: /* @__PURE__ */ jsx(Send, { className: "w-8 h-8 text-[#457B9D]" }) }) }),
        /* @__PURE__ */ jsxs("div", { className: "flex flex-col", children: [
          /* @__PURE__ */ jsx("h3", { className: "text-white text-xl font-bold", children: "Besoin d'assistance?" }),
          /* @__PURE__ */ jsx("p", { className: "text-white/80 text-base mt-1", children: "Notre équipe est prête à vous aider avec vos questions" })
        ] })
      ] }),
      /* @__PURE__ */ jsx("div", { className: "flex justify-center mt-4", children: /* @__PURE__ */ jsx(Link, { href: "/client/ticket/create", className: "w-3/4", children: /* @__PURE__ */ jsxs(Button, { className: "h-12 bg-[#457B9D] hover:bg-[#3D6E8C] text-white font-medium rounded-md flex items-center justify-center gap-2 px-4 w-full transition-all duration-200 shadow-md hover:shadow-xl", children: [
        /* @__PURE__ */ jsx(Send, { className: "w-5 h-5" }),
        /* @__PURE__ */ jsx("span", { className: "inline", children: "Envoyer un Ticket" })
      ] }) }) })
    ] }) }) })
  ] }) }) }) }) });
}
function Dashboard$1({ appelsOffres = [], annonces = [], tickets = [], auth }) {
  const [canonicalUrl, setCanonicalUrl] = useState("");
  const filteredAppelsOffres = appelsOffres;
  const stats = {
    annonces: {
      total: annonces.length,
      published: Math.floor(annonces.length * 0.7),
      pending: Math.floor(annonces.length * 0.2),
      draft: Math.floor(annonces.length * 0.1)
    },
    appelsOffres: {
      total: appelsOffres.length,
      published: Math.floor(appelsOffres.length * 0.6),
      pending: Math.floor(appelsOffres.length * 0.3),
      draft: Math.floor(appelsOffres.length * 0.1)
    }
  };
  useEffect(() => {
    if (typeof window !== "undefined") {
      setCanonicalUrl(window.location.href);
    }
  }, []);
  const formatDate2 = (date) => {
    return new Date(date).toLocaleDateString("fr-FR", {
      day: "2-digit",
      month: "long",
      year: "numeric"
    });
  };
  const getStatusBadge2 = (status) => {
    switch (status == null ? void 0 : status.toLowerCase()) {
      case "open":
        return "bg-green-100 text-green-700 border-green-300";
      case "in_progress":
        return "bg-yellow-100 text-yellow-800 border-yellow-300";
      case "closed":
      case "rejected":
      case "fermé":
        return "bg-gray-100 text-gray-700 border-gray-200";
      default:
        return "bg-gray-100 text-gray-700 border-gray-200";
    }
  };
  return /* @__PURE__ */ jsxs("main", { className: "min-h-screen flex flex-col bg-gradient-to-b from-gray-50 to-gray-100", children: [
    /* @__PURE__ */ jsxs(Head, { children: [
      /* @__PURE__ */ jsx("title", { children: "Espace Client – Suivi et gestion de vos annonces" }),
      /* @__PURE__ */ jsx(
        "meta",
        {
          name: "description",
          content: "Accédez à votre espace client pour gérer vos annonces légales, suivre vos publications, télécharger vos attestations et consulter l'historique de vos démarches."
        }
      ),
      /* @__PURE__ */ jsx("meta", { name: "robots", content: "noindex, nofollow" }),
      /* @__PURE__ */ jsx("link", { rel: "canonical", href: canonicalUrl }),
      /* @__PURE__ */ jsx("meta", { property: "og:title", content: "Espace Client – Suivi et gestion de vos annonces" }),
      /* @__PURE__ */ jsx(
        "meta",
        {
          property: "og:description",
          content: "Accédez à votre espace client pour gérer vos annonces légales, suivre vos publications, télécharger vos attestations et consulter l'historique de vos démarches."
        }
      ),
      /* @__PURE__ */ jsx("meta", { property: "og:type", content: "website" }),
      /* @__PURE__ */ jsx("meta", { property: "og:url", content: canonicalUrl }),
      /* @__PURE__ */ jsx("meta", { property: "og:image", content: "https://annonce.wepresseco.com/og.webp" }),
      /* @__PURE__ */ jsx("meta", { property: "og:site_name", content: "Wepress Eco" })
    ] }),
    /* @__PURE__ */ jsx(Header, { auth: { user: auth.user } }),
    /* @__PURE__ */ jsx(ProfileSection, { user: auth.user, setUser: (user) => console.log("User updated:", user) }),
    /* @__PURE__ */ jsx("div", { className: "flex-grow w-full mx-auto px-3 sm:px-4 md:px-6 pt-4 sm:pt-6 pb-6 sm:pb-8", children: /* @__PURE__ */ jsxs("div", { className: "w-full max-w-[76rem] mx-auto", children: [
      /* @__PURE__ */ jsxs("div", { className: "mb-6 sm:mb-8", children: [
        /* @__PURE__ */ jsxs("h2", { className: "text-lg sm:text-xl font-bold text-[#0F172A] mb-3 sm:mb-4 flex items-center px-1", children: [
          /* @__PURE__ */ jsx(Sparkles, { className: "h-4 w-4 sm:h-5 sm:w-5 text-red-500 mr-2" }),
          "Actions rapides"
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4", children: [
          /* @__PURE__ */ jsx(Link, { href: route("client.annonces.create"), children: /* @__PURE__ */ jsxs("div", { className: "bg-red-600 text-white rounded-xl sm:rounded-2xl shadow-md hover:shadow-lg transition-all p-4 sm:p-5 flex flex-col items-center justify-center gap-2 sm:gap-3 group hover:-translate-y-1 min-h-[120px] sm:min-h-[140px]", children: [
            /* @__PURE__ */ jsx("div", { className: "bg-white/20 p-2 sm:p-3 rounded-lg sm:rounded-xl group-hover:bg-white/30 transition-all", children: /* @__PURE__ */ jsx(FileText, { className: "h-5 w-5 sm:h-6 sm:w-6" }) }),
            /* @__PURE__ */ jsx("span", { className: "font-medium text-xs sm:text-sm text-center leading-tight", children: "Nouvelle annonce" })
          ] }) }),
          /* @__PURE__ */ jsx(Link, { href: route("client.appel-offre.create"), children: /* @__PURE__ */ jsxs("div", { className: "bg-red-600 text-white rounded-xl sm:rounded-2xl shadow-md hover:shadow-lg transition-all p-4 sm:p-5 flex flex-col items-center justify-center gap-2 sm:gap-3 group hover:-translate-y-1 min-h-[120px] sm:min-h-[140px]", children: [
            /* @__PURE__ */ jsx("div", { className: "bg-white/20 p-2 sm:p-3 rounded-lg sm:rounded-xl group-hover:bg-white/30 transition-all", children: /* @__PURE__ */ jsx(Briefcase, { className: "h-5 w-5 sm:h-6 sm:w-6" }) }),
            /* @__PURE__ */ jsx("span", { className: "font-medium text-xs sm:text-sm text-center leading-tight", children: "Nouvel appel d'offre" })
          ] }) }),
          /* @__PURE__ */ jsx(Link, { href: route("client.ticket.create"), children: /* @__PURE__ */ jsxs("div", { className: "bg-[#0F172A] text-white rounded-xl sm:rounded-2xl shadow-md hover:shadow-lg transition-all p-4 sm:p-5 flex flex-col items-center justify-center gap-2 sm:gap-3 group hover:-translate-y-1 min-h-[120px] sm:min-h-[140px]", children: [
            /* @__PURE__ */ jsx("div", { className: "bg-white/20 p-2 sm:p-3 rounded-lg sm:rounded-xl group-hover:bg-white/30 transition-all", children: /* @__PURE__ */ jsx(MessageSquare, { className: "h-5 w-5 sm:h-6 sm:w-6" }) }),
            /* @__PURE__ */ jsx("span", { className: "font-medium text-xs sm:text-sm text-center leading-tight", children: "Nouveau ticket" })
          ] }) }),
          /* @__PURE__ */ jsx(Link, { href: route("profile.edit"), children: /* @__PURE__ */ jsxs("div", { className: "bg-[#0F172A] text-white rounded-xl sm:rounded-2xl shadow-md hover:shadow-lg transition-all p-4 sm:p-5 flex flex-col items-center justify-center gap-2 sm:gap-3 group hover:-translate-y-1 min-h-[120px] sm:min-h-[140px]", children: [
            /* @__PURE__ */ jsx("div", { className: "bg-white/20 p-2 sm:p-3 rounded-lg sm:rounded-xl group-hover:bg-white/30 transition-all", children: /* @__PURE__ */ jsx(Settings, { className: "h-5 w-5 sm:h-6 sm:w-6" }) }),
            /* @__PURE__ */ jsx("span", { className: "font-medium text-xs sm:text-sm text-center leading-tight", children: "Mon profil" })
          ] }) })
        ] })
      ] }),
      /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6 mb-6 sm:mb-8", children: [
        /* @__PURE__ */ jsx("div", { className: "bg-white rounded-xl sm:rounded-2xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-all", children: /* @__PURE__ */ jsxs("div", { className: "p-4 sm:p-6", children: [
          /* @__PURE__ */ jsxs("div", { className: "flex flex-col sm:flex-row sm:items-center justify-between mb-4 sm:mb-6 gap-3 sm:gap-0", children: [
            /* @__PURE__ */ jsxs("h2", { className: "text-base sm:text-lg font-bold text-[#0F172A] flex items-center", children: [
              /* @__PURE__ */ jsx(FileText, { className: "text-red-500 h-4 w-4 sm:h-5 sm:w-5 mr-2" }),
              "Vos annonces"
            ] }),
            /* @__PURE__ */ jsx(Link, { href: route("client.annonces.my-annonces"), children: /* @__PURE__ */ jsxs("button", { className: "text-xs sm:text-sm text-red-600 hover:text-red-700 font-medium flex items-center transition-colors bg-gray-100 px-3 py-1.5 rounded-lg hover:bg-gray-200 w-fit", children: [
              "Voir tout",
              /* @__PURE__ */ jsx(ArrowUpRight, { className: "h-3 w-3 sm:h-4 sm:w-4 ml-1" })
            ] }) })
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-2 gap-3 sm:gap-4", children: [
            /* @__PURE__ */ jsx("div", { className: "bg-gray-100 rounded-lg sm:rounded-xl p-3 sm:p-4 border border-gray-200 hover:border-gray-300 transition-colors", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
              /* @__PURE__ */ jsxs("div", { children: [
                /* @__PURE__ */ jsx("p", { className: "text-xs sm:text-sm text-gray-500", children: "Total" }),
                /* @__PURE__ */ jsx("p", { className: "text-xl sm:text-2xl font-bold text-[#0F172A]", children: stats.annonces.total })
              ] }),
              /* @__PURE__ */ jsx("div", { className: "bg-white p-1.5 sm:p-2 rounded-lg shadow-sm", children: /* @__PURE__ */ jsx(FileText, { className: "text-gray-400 h-4 w-4 sm:h-5 sm:w-5" }) })
            ] }) }),
            /* @__PURE__ */ jsx("div", { className: "bg-gray-100 rounded-lg sm:rounded-xl p-3 sm:p-4 border border-gray-200 hover:border-gray-300 transition-colors", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
              /* @__PURE__ */ jsxs("div", { children: [
                /* @__PURE__ */ jsx("p", { className: "text-xs sm:text-sm text-gray-500", children: "Publiées" }),
                /* @__PURE__ */ jsx("p", { className: "text-xl sm:text-2xl font-bold text-[#0F172A]", children: stats.annonces.published })
              ] }),
              /* @__PURE__ */ jsx("div", { className: "bg-white p-1.5 sm:p-2 rounded-lg shadow-sm", children: /* @__PURE__ */ jsx(FileCheck, { className: "text-gray-400 h-4 w-4 sm:h-5 sm:w-5" }) })
            ] }) }),
            /* @__PURE__ */ jsx("div", { className: "bg-gray-100 rounded-lg sm:rounded-xl p-3 sm:p-4 border border-gray-200 hover:border-gray-300 transition-colors", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
              /* @__PURE__ */ jsxs("div", { children: [
                /* @__PURE__ */ jsx("p", { className: "text-xs sm:text-sm text-gray-500", children: "En attente" }),
                /* @__PURE__ */ jsx("p", { className: "text-xl sm:text-2xl font-bold text-[#0F172A]", children: stats.annonces.pending })
              ] }),
              /* @__PURE__ */ jsx("div", { className: "bg-white p-1.5 sm:p-2 rounded-lg shadow-sm", children: /* @__PURE__ */ jsx(FileClock, { className: "text-gray-400 h-4 w-4 sm:h-5 sm:w-5" }) })
            ] }) }),
            /* @__PURE__ */ jsx("div", { className: "bg-gray-100 rounded-lg sm:rounded-xl p-3 sm:p-4 border border-gray-200 hover:border-gray-300 transition-colors", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
              /* @__PURE__ */ jsxs("div", { children: [
                /* @__PURE__ */ jsx("p", { className: "text-xs sm:text-sm text-gray-500", children: "Brouillons" }),
                /* @__PURE__ */ jsx("p", { className: "text-xl sm:text-2xl font-bold text-[#0F172A]", children: stats.annonces.draft })
              ] }),
              /* @__PURE__ */ jsx("div", { className: "bg-white p-1.5 sm:p-2 rounded-lg shadow-sm", children: /* @__PURE__ */ jsx(FileX, { className: "text-gray-400 h-4 w-4 sm:h-5 sm:w-5" }) })
            ] }) })
          ] })
        ] }) }),
        /* @__PURE__ */ jsx("div", { className: "bg-white rounded-xl sm:rounded-2xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-all", children: /* @__PURE__ */ jsxs("div", { className: "p-4 sm:p-6", children: [
          /* @__PURE__ */ jsxs("div", { className: "flex flex-col sm:flex-row sm:items-center justify-between mb-4 sm:mb-6 gap-3 sm:gap-0", children: [
            /* @__PURE__ */ jsxs("h2", { className: "text-base sm:text-lg font-bold text-[#0F172A] flex items-center", children: [
              /* @__PURE__ */ jsx(Briefcase, { className: "text-red-500 h-4 w-4 sm:h-5 sm:w-5 mr-2" }),
              "Vos appels d'offres"
            ] }),
            /* @__PURE__ */ jsx(Link, { href: route("client.appel-offre.mes-appels-offres"), children: /* @__PURE__ */ jsxs("button", { className: "text-xs sm:text-sm text-red-600 hover:text-red-700 font-medium flex items-center transition-colors bg-gray-100 px-3 py-1.5 rounded-lg hover:bg-gray-200 w-fit", children: [
              "Voir tout",
              /* @__PURE__ */ jsx(ArrowUpRight, { className: "h-3 w-3 sm:h-4 sm:w-4 ml-1" })
            ] }) })
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-2 gap-3 sm:gap-4", children: [
            /* @__PURE__ */ jsx("div", { className: "bg-gray-100 rounded-lg sm:rounded-xl p-3 sm:p-4 border border-gray-200 hover:border-gray-300 transition-colors", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
              /* @__PURE__ */ jsxs("div", { children: [
                /* @__PURE__ */ jsx("p", { className: "text-xs sm:text-sm text-gray-500", children: "Total" }),
                /* @__PURE__ */ jsx("p", { className: "text-xl sm:text-2xl font-bold text-[#0F172A]", children: stats.appelsOffres.total })
              ] }),
              /* @__PURE__ */ jsx("div", { className: "bg-white p-1.5 sm:p-2 rounded-lg shadow-sm", children: /* @__PURE__ */ jsx(Briefcase, { className: "text-gray-400 h-4 w-4 sm:h-5 sm:w-5" }) })
            ] }) }),
            /* @__PURE__ */ jsx("div", { className: "bg-gray-100 rounded-lg sm:rounded-xl p-3 sm:p-4 border border-gray-200 hover:border-gray-300 transition-colors", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
              /* @__PURE__ */ jsxs("div", { children: [
                /* @__PURE__ */ jsx("p", { className: "text-xs sm:text-sm text-gray-500", children: "Publiés" }),
                /* @__PURE__ */ jsx("p", { className: "text-xl sm:text-2xl font-bold text-[#0F172A]", children: stats.appelsOffres.published })
              ] }),
              /* @__PURE__ */ jsx("div", { className: "bg-white p-1.5 sm:p-2 rounded-lg shadow-sm", children: /* @__PURE__ */ jsx(FileCheck, { className: "text-gray-400 h-4 w-4 sm:h-5 sm:w-5" }) })
            ] }) }),
            /* @__PURE__ */ jsx("div", { className: "bg-gray-100 rounded-lg sm:rounded-xl p-3 sm:p-4 border border-gray-200 hover:border-gray-300 transition-colors", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
              /* @__PURE__ */ jsxs("div", { children: [
                /* @__PURE__ */ jsx("p", { className: "text-xs sm:text-sm text-gray-500", children: "En attente" }),
                /* @__PURE__ */ jsx("p", { className: "text-xl sm:text-2xl font-bold text-[#0F172A]", children: stats.appelsOffres.pending })
              ] }),
              /* @__PURE__ */ jsx("div", { className: "bg-white p-1.5 sm:p-2 rounded-lg shadow-sm", children: /* @__PURE__ */ jsx(FileClock, { className: "text-gray-400 h-4 w-4 sm:h-5 sm:w-5" }) })
            ] }) }),
            /* @__PURE__ */ jsx("div", { className: "bg-gray-100 rounded-lg sm:rounded-xl p-3 sm:p-4 border border-gray-200 hover:border-gray-300 transition-colors", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
              /* @__PURE__ */ jsxs("div", { children: [
                /* @__PURE__ */ jsx("p", { className: "text-xs sm:text-sm text-gray-500", children: "Brouillons" }),
                /* @__PURE__ */ jsx("p", { className: "text-xl sm:text-2xl font-bold text-[#0F172A]", children: stats.appelsOffres.draft })
              ] }),
              /* @__PURE__ */ jsx("div", { className: "bg-white p-1.5 sm:p-2 rounded-lg shadow-sm", children: /* @__PURE__ */ jsx(FileX, { className: "text-gray-400 h-4 w-4 sm:h-5 sm:w-5" }) })
            ] }) })
          ] })
        ] }) })
      ] }),
      /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6", children: [
        /* @__PURE__ */ jsxs("div", { className: "lg:col-span-2 space-y-4 sm:space-y-6", children: [
          /* @__PURE__ */ jsxs("div", { className: "bg-white rounded-xl sm:rounded-2xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-all", children: [
            /* @__PURE__ */ jsxs("div", { className: "relative", children: [
              /* @__PURE__ */ jsx("div", { className: "absolute top-0 right-0 w-32 h-32 bg-gray-100 rounded-full -mr-16 -mt-16 opacity-70" }),
              /* @__PURE__ */ jsx("div", { className: "absolute bottom-0 left-0 w-24 h-24 bg-gray-100 rounded-full -ml-12 -mb-12 opacity-70" }),
              /* @__PURE__ */ jsxs("div", { className: "relative px-4 sm:px-6 py-4 sm:py-5 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 sm:gap-0", children: [
                /* @__PURE__ */ jsxs("div", { className: "flex items-center", children: [
                  /* @__PURE__ */ jsx("div", { className: "bg-red-600 p-2 sm:p-3 rounded-lg sm:rounded-xl mr-3 sm:mr-4 shadow-md", children: /* @__PURE__ */ jsx(FileText, { className: "text-white h-4 w-4 sm:h-5 sm:w-5" }) }),
                  /* @__PURE__ */ jsxs("div", { children: [
                    /* @__PURE__ */ jsx("h2", { className: "text-lg sm:text-xl font-bold text-[#0F172A]", children: "Annonces légales" }),
                    /* @__PURE__ */ jsx("p", { className: "text-xs sm:text-sm text-gray-500 mt-0.5 sm:mt-1", children: "Gérez vos publications officielles" })
                  ] })
                ] }),
                /* @__PURE__ */ jsx(Link, { href: route("client.annonces.my-annonces"), children: /* @__PURE__ */ jsxs("button", { className: "text-xs sm:text-sm text-white font-medium flex items-center transition-colors bg-red-600 px-3 sm:px-4 py-1.5 sm:py-2 rounded-lg sm:rounded-xl hover:bg-red-700 shadow-sm w-fit", children: [
                  "Voir tout",
                  /* @__PURE__ */ jsx(ArrowUpRight, { className: "h-3 w-3 sm:h-4 sm:w-4 ml-1" })
                ] }) })
              ] })
            ] }),
            /* @__PURE__ */ jsx("div", { className: "px-4 sm:px-6 py-3 sm:py-4", children: (annonces == null ? void 0 : annonces.length) ? /* @__PURE__ */ jsxs("div", { className: "relative", children: [
              /* @__PURE__ */ jsx("div", { className: "absolute left-4 sm:left-6 top-0 bottom-0 w-0.5 sm:w-1 bg-gradient-to-b from-red-600 to-red-200 rounded-full" }),
              /* @__PURE__ */ jsx("div", { className: "space-y-4 sm:space-y-6 pt-2 pb-4", children: annonces.slice(0, 5).map((annonce, index2) => {
                var _a2;
                const annonceStatus = (_a2 = annonce.status) == null ? void 0 : _a2.toLowerCase();
                const getStatusColor = (status) => {
                  switch (status) {
                    case "approved":
                      return "bg-green-600";
                    case "pending":
                      return "bg-yellow-500";
                    default:
                      return "bg-gray-400";
                  }
                };
                return /* @__PURE__ */ jsxs("div", { className: "relative pl-8 sm:pl-12 group", children: [
                  /* @__PURE__ */ jsx(
                    "div",
                    {
                      className: `absolute left-2.5 sm:left-4 top-4 sm:top-5 w-4 h-4 sm:w-5 sm:h-5 rounded-full border-2 sm:border-4 border-white shadow-md z-10 ${getStatusColor(annonceStatus)}`
                    }
                  ),
                  /* @__PURE__ */ jsx("div", { className: "bg-white rounded-lg sm:rounded-xl shadow-sm p-3 sm:p-4 border border-gray-100 hover:border-red-200 transition-all hover:shadow-md group-hover:translate-x-1", children: /* @__PURE__ */ jsxs("div", { className: "flex flex-col gap-3", children: [
                    /* @__PURE__ */ jsx("div", { className: "flex-1", children: /* @__PURE__ */ jsxs("div", { className: "flex items-start gap-2 sm:gap-3", children: [
                      /* @__PURE__ */ jsx("div", { className: "hidden sm:flex h-10 w-10 sm:h-12 sm:w-12 bg-gray-100 rounded-lg items-center justify-center flex-shrink-0", children: /* @__PURE__ */ jsx(FileText, { className: "h-5 w-5 sm:h-6 sm:w-6 text-gray-600" }) }),
                      /* @__PURE__ */ jsxs("div", { className: "flex-1 min-w-0", children: [
                        /* @__PURE__ */ jsx("h3", { className: "font-semibold text-[#0F172A] text-sm sm:text-lg line-clamp-2 sm:line-clamp-1", children: annonce.title }),
                        /* @__PURE__ */ jsxs("div", { className: "flex flex-col sm:flex-row sm:flex-wrap sm:items-center gap-1 sm:gap-x-4 sm:gap-y-2 mt-1 sm:mt-1.5", children: [
                          /* @__PURE__ */ jsxs("div", { className: "flex items-center text-xs text-gray-500", children: [
                            /* @__PURE__ */ jsx(Calendar$2, { className: "h-3 w-3 sm:h-3.5 sm:w-3.5 mr-1 text-gray-400 flex-shrink-0" }),
                            /* @__PURE__ */ jsxs("span", { className: "truncate", children: [
                              "Publié le ",
                              formatDate2(annonce.created_at)
                            ] })
                          ] }),
                          /* @__PURE__ */ jsxs("div", { className: "flex items-center text-xs text-gray-500", children: [
                            /* @__PURE__ */ jsx(Briefcase, { className: "h-3 w-3 sm:h-3.5 sm:w-3.5 mr-1 text-gray-400 flex-shrink-0" }),
                            /* @__PURE__ */ jsx("span", { className: "truncate", children: annonce.nameSociete })
                          ] })
                        ] })
                      ] })
                    ] }) }),
                    /* @__PURE__ */ jsxs("div", { className: "flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-3 sm:ml-auto", children: [
                      /* @__PURE__ */ jsx(
                        "div",
                        {
                          className: `px-2.5 sm:px-3 py-1 rounded-full text-xs font-medium text-white ${getStatusColor(annonceStatus)} text-center`,
                          children: annonceStatus === "approved" ? "Approuvée" : annonceStatus === "pending" ? "En attente" : "Brouillon"
                        }
                      ),
                      /* @__PURE__ */ jsx("div", { className: "flex gap-2", children: annonce.slug ? annonceStatus === "approved" ? /* @__PURE__ */ jsx(Link, { href: route("annonces.single", { slug: annonce.slug }), className: "flex-1 sm:flex-none", children: /* @__PURE__ */ jsxs("button", { className: "w-full bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-1.5 rounded-lg text-xs font-medium flex items-center justify-center gap-1 transition-colors", children: [
                        /* @__PURE__ */ jsx("span", { children: "Consulter" }),
                        /* @__PURE__ */ jsx(ChevronRight, { className: "h-3 w-3" })
                      ] }) }) : /* @__PURE__ */ jsxs(
                        "button",
                        {
                          className: "flex-1 sm:flex-none w-full bg-gray-100 text-gray-400 px-3 py-1.5 rounded-lg text-xs font-medium flex items-center justify-center gap-1 cursor-not-allowed",
                          disabled: true,
                          children: [
                            /* @__PURE__ */ jsx("span", { children: "Consulter" }),
                            /* @__PURE__ */ jsx(ChevronRight, { className: "h-3 w-3" })
                          ]
                        }
                      ) : /* @__PURE__ */ jsx(
                        "button",
                        {
                          className: "flex-1 sm:flex-none w-full bg-gray-100 text-gray-400 px-3 py-1.5 rounded-lg text-xs font-medium flex items-center justify-center gap-1 cursor-not-allowed",
                          disabled: true,
                          children: /* @__PURE__ */ jsx("span", { children: "Non disponible" })
                        }
                      ) })
                    ] })
                  ] }) })
                ] }, annonce.id);
              }) })
            ] }) : /* @__PURE__ */ jsx("div", { className: "p-6 sm:p-8 text-center", children: /* @__PURE__ */ jsxs("div", { className: "flex flex-col items-center justify-center text-gray-500", children: [
              /* @__PURE__ */ jsx("div", { className: "bg-gray-100 p-3 sm:p-4 rounded-full mb-3 sm:mb-4 shadow-sm", children: /* @__PURE__ */ jsx(FileText, { className: "h-5 w-5 sm:h-6 sm:w-6 text-gray-400" }) }),
              /* @__PURE__ */ jsx("h3", { className: "text-base sm:text-lg font-medium text-gray-700 mb-2", children: "Aucune annonce légale trouvée" }),
              /* @__PURE__ */ jsx("p", { className: "text-sm sm:text-base text-gray-500 mb-4 max-w-md mx-auto px-4", children: "Vous n'avez pas encore publié d'annonces légales." })
            ] }) }) }),
            /* @__PURE__ */ jsxs("div", { className: "relative", children: [
              /* @__PURE__ */ jsx("div", { className: "absolute inset-0 bg-gray-100 opacity-50" }),
              /* @__PURE__ */ jsx("div", { className: "px-4 sm:px-6 py-4 sm:py-5 relative", children: /* @__PURE__ */ jsxs("div", { className: "flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4", children: [
                /* @__PURE__ */ jsxs("div", { className: "flex-1", children: [
                  /* @__PURE__ */ jsx("h3", { className: "font-semibold text-[#0F172A] text-sm sm:text-base", children: "Créer une nouvelle annonce" }),
                  /* @__PURE__ */ jsx("p", { className: "text-xs sm:text-sm text-gray-500 mt-1", children: "Publiez rapidement votre annonce légale en quelques étapes" })
                ] }),
                /* @__PURE__ */ jsx(Link, { href: route("client.annonces.create"), className: "w-full sm:w-auto", children: /* @__PURE__ */ jsxs("button", { className: "w-full sm:w-auto bg-red-600 hover:bg-red-700 text-white py-2 sm:py-2.5 px-4 sm:px-5 rounded-lg sm:rounded-xl transition-all flex items-center justify-center gap-2 shadow-md hover:shadow-lg hover:-translate-y-0.5 text-sm", children: [
                  /* @__PURE__ */ jsx(Plus, { className: "h-4 w-4" }),
                  /* @__PURE__ */ jsx("span", { children: "Publier une annonce" })
                ] }) })
              ] }) })
            ] })
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "bg-white rounded-xl sm:rounded-2xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-all", children: [
            /* @__PURE__ */ jsxs("div", { className: "relative", children: [
              /* @__PURE__ */ jsx("div", { className: "absolute top-0 right-0 w-32 h-32 bg-gray-100 rounded-full -mr-16 -mt-16 opacity-70" }),
              /* @__PURE__ */ jsx("div", { className: "absolute bottom-0 left-0 w-24 h-24 bg-gray-100 rounded-full -ml-12 -mb-12 opacity-70" }),
              /* @__PURE__ */ jsxs("div", { className: "relative px-4 sm:px-6 py-4 sm:py-5 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 sm:gap-0", children: [
                /* @__PURE__ */ jsxs("div", { className: "flex items-center", children: [
                  /* @__PURE__ */ jsx("div", { className: "bg-red-600 p-2 sm:p-3 rounded-lg sm:rounded-xl mr-3 sm:mr-4 shadow-md", children: /* @__PURE__ */ jsx(Briefcase, { className: "text-white h-4 w-4 sm:h-5 sm:w-5" }) }),
                  /* @__PURE__ */ jsxs("div", { children: [
                    /* @__PURE__ */ jsx("h2", { className: "text-lg sm:text-xl font-bold text-[#0F172A]", children: "Appels d'offres" }),
                    /* @__PURE__ */ jsx("p", { className: "text-xs sm:text-sm text-gray-500 mt-0.5 sm:mt-1", children: "Gérez vos appels d'offres" })
                  ] })
                ] }),
                /* @__PURE__ */ jsx(Link, { href: route("client.appel-offre.mes-appels-offres"), children: /* @__PURE__ */ jsxs("button", { className: "text-xs sm:text-sm text-white font-medium flex items-center transition-colors bg-red-600 px-3 sm:px-4 py-1.5 sm:py-2 rounded-lg sm:rounded-xl hover:bg-red-700 shadow-sm w-fit", children: [
                  "Voir tout",
                  /* @__PURE__ */ jsx(ArrowUpRight, { className: "h-3 w-3 sm:h-4 sm:w-4 ml-1" })
                ] }) })
              ] })
            ] }),
            /* @__PURE__ */ jsx("div", { className: "p-4 sm:p-6 grid grid-cols-1 gap-3 sm:gap-4", children: filteredAppelsOffres.length > 0 ? filteredAppelsOffres.slice(0, 5).map((appelOffre, index2) => {
              var _a2;
              const aoStatus = ((_a2 = appelOffre.status) == null ? void 0 : _a2.toLowerCase()) || "inconnu";
              return /* @__PURE__ */ jsx(
                "div",
                {
                  className: "bg-gray-100 rounded-lg sm:rounded-xl p-3 sm:p-4 border border-gray-200 hover:border-gray-300 transition-all hover:shadow-sm group",
                  children: /* @__PURE__ */ jsxs("div", { className: "flex flex-col sm:flex-row sm:items-center justify-between gap-3", children: [
                    /* @__PURE__ */ jsxs("div", { className: "flex items-start sm:items-center space-x-3 sm:space-x-4 flex-1 min-w-0", children: [
                      /* @__PURE__ */ jsx("div", { className: "flex-shrink-0 h-10 w-10 sm:h-12 sm:w-12 bg-white rounded-lg flex items-center justify-center shadow-sm border border-gray-100", children: /* @__PURE__ */ jsx(Briefcase, { className: "h-5 w-5 sm:h-6 sm:w-6 text-gray-600" }) }),
                      /* @__PURE__ */ jsxs("div", { className: "flex-1 min-w-0", children: [
                        /* @__PURE__ */ jsx("h3", { className: "font-medium text-[#0F172A] line-clamp-2 sm:line-clamp-1 text-sm sm:text-base", children: appelOffre.titre }),
                        /* @__PURE__ */ jsxs("div", { className: "flex flex-col sm:flex-row sm:flex-wrap sm:items-center gap-1 sm:gap-3 mt-1", children: [
                          /* @__PURE__ */ jsxs("div", { className: "flex items-center text-xs text-gray-500", children: [
                            /* @__PURE__ */ jsx(Tag, { className: "h-3 w-3 sm:h-3.5 sm:w-3.5 mr-1 flex-shrink-0" }),
                            /* @__PURE__ */ jsx("span", { className: "truncate", children: appelOffre.secteur })
                          ] }),
                          /* @__PURE__ */ jsxs("div", { className: "flex items-center text-xs text-gray-500", children: [
                            /* @__PURE__ */ jsx(MapPin, { className: "h-3 w-3 sm:h-3.5 sm:w-3.5 mr-1 flex-shrink-0" }),
                            /* @__PURE__ */ jsx("span", { className: "truncate", children: appelOffre.ville })
                          ] })
                        ] })
                      ] })
                    ] }),
                    /* @__PURE__ */ jsxs("div", { className: "flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-3", children: [
                      /* @__PURE__ */ jsx(
                        "span",
                        {
                          className: `inline-flex items-center justify-center px-2.5 py-1 rounded-full text-xs font-medium border ${getStatusBadge2(aoStatus)}`,
                          children: aoStatus === "approved" ? "Approuvé" : aoStatus === "pending" ? "En attente" : aoStatus === "rejected" ? "Rejeté" : aoStatus === "draft" ? "Brouillon" : "Inconnu"
                        }
                      ),
                      /* @__PURE__ */ jsx("div", { className: "flex space-x-2", children: aoStatus === "approved" ? /* @__PURE__ */ jsx(Link, { href: route("client.appel-offre.show", { slug: appelOffre.slug }), className: "flex-1 sm:flex-none", children: /* @__PURE__ */ jsxs("button", { className: "w-full bg-white hover:bg-gray-50 text-gray-700 border border-gray-300 px-3 py-1.5 rounded-lg text-xs font-medium flex items-center justify-center gap-1 transition-colors shadow-sm hover:shadow", children: [
                        /* @__PURE__ */ jsx("span", { children: "Consulter" }),
                        /* @__PURE__ */ jsx(ChevronRight, { className: "h-3 w-3" })
                      ] }) }) : /* @__PURE__ */ jsxs("button", { className: "flex-1 sm:flex-none w-full bg-white text-gray-400 border border-gray-200 px-3 py-1.5 rounded-lg text-xs font-medium flex items-center justify-center gap-1 cursor-not-allowed", disabled: true, children: [
                        /* @__PURE__ */ jsx("span", { children: "Consulter" }),
                        /* @__PURE__ */ jsx(ChevronRight, { className: "h-3 w-3" })
                      ] }) })
                    ] })
                  ] })
                },
                appelOffre.id
              );
            }) : /* @__PURE__ */ jsx("div", { className: "p-6 sm:p-8 text-center", children: /* @__PURE__ */ jsxs("div", { className: "flex flex-col items-center justify-center text-gray-500", children: [
              /* @__PURE__ */ jsx("div", { className: "bg-gray-100 p-3 sm:p-4 rounded-full mb-3 sm:mb-4 shadow-sm", children: /* @__PURE__ */ jsx(Search, { className: "h-5 w-5 sm:h-6 sm:w-6 text-gray-300" }) }),
              /* @__PURE__ */ jsx("h3", { className: "text-base sm:text-lg font-medium text-gray-700 mb-2", children: "Aucun appel d'offre trouvé" }),
              /* @__PURE__ */ jsx("p", { className: "text-sm sm:text-base text-gray-500 mb-4 max-w-md mx-auto px-4", children: "Aucun appel d'offre ne correspond à vos critères de recherche." })
            ] }) }) }),
            /* @__PURE__ */ jsxs("div", { className: "relative", children: [
              /* @__PURE__ */ jsx("div", { className: "absolute inset-0 bg-gray-100 opacity-50" }),
              /* @__PURE__ */ jsx("div", { className: "px-4 sm:px-6 py-4 sm:py-5 relative", children: /* @__PURE__ */ jsxs("div", { className: "flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4", children: [
                /* @__PURE__ */ jsxs("div", { className: "flex-1", children: [
                  /* @__PURE__ */ jsx("h3", { className: "font-semibold text-[#0F172A] text-sm sm:text-base", children: "Créer un nouvel appel d'offre" }),
                  /* @__PURE__ */ jsx("p", { className: "text-xs sm:text-sm text-gray-500 mt-1", children: "Publiez rapidement votre appel d'offre en quelques étapes" })
                ] }),
                /* @__PURE__ */ jsx(Link, { href: route("client.appel-offre.create"), className: "w-full sm:w-auto", children: /* @__PURE__ */ jsxs("button", { className: "w-full sm:w-auto bg-red-600 hover:bg-red-700 text-white py-2 sm:py-2.5 px-4 sm:px-5 rounded-lg sm:rounded-xl transition-all flex items-center justify-center gap-2 shadow-md hover:shadow-lg hover:-translate-y-0.5 text-sm", children: [
                  /* @__PURE__ */ jsx(Plus, { className: "h-4 w-4" }),
                  /* @__PURE__ */ jsx("span", { children: "Publier un appel d'offre" })
                ] }) })
              ] }) })
            ] })
          ] })
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "space-y-4 sm:space-y-6", children: [
          /* @__PURE__ */ jsxs("div", { className: "bg-white rounded-xl sm:rounded-2xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-all", children: [
            /* @__PURE__ */ jsx("div", { className: "px-4 sm:px-6 py-4 sm:py-5 border-b border-gray-100", children: /* @__PURE__ */ jsxs("h2", { className: "text-base sm:text-lg font-bold text-[#0F172A] flex items-center", children: [
              /* @__PURE__ */ jsx(FileText, { className: "text-red-500 h-4 w-4 sm:h-5 sm:w-5 mr-2" }),
              "Etapes pour publier une annonce"
            ] }) }),
            /* @__PURE__ */ jsx("div", { className: "p-4 sm:p-6", children: /* @__PURE__ */ jsxs("div", { className: "relative", children: [
              /* @__PURE__ */ jsx("div", { className: "absolute left-3 sm:left-4 top-0 bottom-0 w-0.5 bg-gray-200" }),
              /* @__PURE__ */ jsxs("div", { className: "space-y-4 sm:space-y-6", children: [
                /* @__PURE__ */ jsxs("div", { className: "relative flex items-start", children: [
                  /* @__PURE__ */ jsx("div", { className: "flex-shrink-0 h-7 w-7 sm:h-8 sm:w-8 bg-red-100 rounded-full flex items-center justify-center z-10 border-2 border-white shadow-sm", children: /* @__PURE__ */ jsx("div", { className: "font-bold text-red-600 text-sm sm:text-base", children: "1" }) }),
                  /* @__PURE__ */ jsxs("div", { className: "ml-3 sm:ml-4 flex-1", children: [
                    /* @__PURE__ */ jsx("div", { className: "font-medium text-[#0F172A] text-sm sm:text-base", children: "Cliquer sur Publier une annonce" }),
                    /* @__PURE__ */ jsx("div", { className: "text-xs sm:text-sm text-gray-500 mt-0.5", children: 'Commencez par cliquer sur le bouton "Publier une annonce"' })
                  ] })
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "relative flex items-start", children: [
                  /* @__PURE__ */ jsx("div", { className: "flex-shrink-0 h-7 w-7 sm:h-8 sm:w-8 bg-red-100 rounded-full flex items-center justify-center z-10 border-2 border-white shadow-sm", children: /* @__PURE__ */ jsx("div", { className: "font-bold text-red-600 text-sm sm:text-base", children: "2" }) }),
                  /* @__PURE__ */ jsxs("div", { className: "ml-3 sm:ml-4 flex-1", children: [
                    /* @__PURE__ */ jsx("div", { className: "font-medium text-[#0F172A] text-sm sm:text-base", children: "Remplir le formulaire" }),
                    /* @__PURE__ */ jsx("div", { className: "text-xs sm:text-sm text-gray-500 mt-0.5", children: "Complétez tous les champs requis du formulaire d'annonce" })
                  ] })
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "relative flex items-start", children: [
                  /* @__PURE__ */ jsx("div", { className: "flex-shrink-0 h-7 w-7 sm:h-8 sm:w-8 bg-red-100 rounded-full flex items-center justify-center z-10 border-2 border-white shadow-sm", children: /* @__PURE__ */ jsx("div", { className: "font-bold text-red-600 text-sm sm:text-base", children: "3" }) }),
                  /* @__PURE__ */ jsxs("div", { className: "ml-3 sm:ml-4 flex-1", children: [
                    /* @__PURE__ */ jsx("div", { className: "font-medium text-[#0F172A] text-sm sm:text-base", children: "Effectuer le paiement" }),
                    /* @__PURE__ */ jsx("div", { className: "text-xs sm:text-sm text-gray-500 mt-0.5", children: "Procédez au paiement pour finaliser la publication" })
                  ] })
                ] })
              ] })
            ] }) })
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "bg-white rounded-xl sm:rounded-2xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-all", children: [
            /* @__PURE__ */ jsxs("div", { className: "px-4 sm:px-6 py-4 sm:py-5 border-b border-gray-100 flex justify-between items-center", children: [
              /* @__PURE__ */ jsxs("div", { className: "flex items-center", children: [
                /* @__PURE__ */ jsx("div", { className: "bg-gray-100 p-1.5 sm:p-2 rounded-lg mr-2 sm:mr-3 shadow-sm", children: /* @__PURE__ */ jsx(MessageSquare, { className: "text-gray-600 h-4 w-4 sm:h-5 sm:w-5" }) }),
                /* @__PURE__ */ jsx("h2", { className: "text-base sm:text-lg font-bold text-[#0F172A]", children: "Tickets support" })
              ] }),
              /* @__PURE__ */ jsx(Link, { href: route("client.ticket.index"), children: /* @__PURE__ */ jsxs("button", { className: "text-xs sm:text-sm text-red-600 hover:text-red-700 font-medium flex items-center transition-colors bg-gray-100 px-2.5 sm:px-3 py-1 sm:py-1.5 rounded-lg hover:bg-gray-200", children: [
                "Voir tout",
                /* @__PURE__ */ jsx(ArrowUpRight, { className: "h-3 w-3 sm:h-4 sm:w-4 ml-1" })
              ] }) })
            ] }),
            /* @__PURE__ */ jsx("div", { className: "p-4 sm:p-6 space-y-3 sm:space-y-4", children: tickets.length > 0 ? tickets.slice(0, 3).map((ticket, index2) => {
              var _a2;
              const ticketStatus = ((_a2 = ticket.status) == null ? void 0 : _a2.toLowerCase()) || "open";
              return /* @__PURE__ */ jsx(
                "div",
                {
                  className: "bg-gray-100 rounded-lg sm:rounded-xl p-3 sm:p-4 border border-gray-200 hover:border-gray-300 transition-all hover:shadow-sm",
                  children: /* @__PURE__ */ jsxs("div", { className: "flex flex-col sm:flex-row sm:items-center justify-between gap-3", children: [
                    /* @__PURE__ */ jsxs("div", { className: "flex items-start sm:items-center space-x-2 sm:space-x-3 flex-1 min-w-0", children: [
                      /* @__PURE__ */ jsx("div", { className: "flex-shrink-0 h-9 w-9 sm:h-10 sm:w-10 bg-gray-200 rounded-lg flex items-center justify-center shadow-sm border border-gray-300", children: /* @__PURE__ */ jsx(MessageSquare, { className: "h-4 w-4 sm:h-5 sm:w-5 text-gray-600" }) }),
                      /* @__PURE__ */ jsxs("div", { className: "flex-1 min-w-0", children: [
                        /* @__PURE__ */ jsx("h3", { className: "font-medium text-[#0F172A] line-clamp-2 sm:line-clamp-1 text-sm sm:text-base", children: ticket.title }),
                        /* @__PURE__ */ jsxs("p", { className: "text-xs text-gray-500 mt-0.5", children: [
                          "Créé le ",
                          formatDate2(ticket.created_at)
                        ] })
                      ] })
                    ] }),
                    /* @__PURE__ */ jsxs("div", { className: "flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-3", children: [
                      /* @__PURE__ */ jsx(
                        "span",
                        {
                          className: `inline-flex items-center justify-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${getStatusBadge2(ticketStatus)}`,
                          children: ticketStatus === "open" ? "Ouvert" : ticketStatus === "in_progress" ? "En attente" : "Fermé"
                        }
                      ),
                      /* @__PURE__ */ jsx(Link, { href: route("client.ticket.show", { slug: ticket.slug }), className: "flex-1 sm:flex-none", children: /* @__PURE__ */ jsxs("button", { className: "w-full bg-white hover:bg-gray-50 text-gray-700 border border-gray-300 px-2.5 py-1 rounded-lg text-xs font-medium flex items-center justify-center gap-1 transition-colors shadow-sm hover:shadow", children: [
                        /* @__PURE__ */ jsx("span", { children: "Détails" }),
                        /* @__PURE__ */ jsx(ChevronRight, { className: "h-3 w-3" })
                      ] }) })
                    ] })
                  ] })
                },
                ticket.id
              );
            }) : /* @__PURE__ */ jsx("div", { className: "p-4 sm:p-6 text-center", children: /* @__PURE__ */ jsxs("div", { className: "flex flex-col items-center justify-center text-gray-500", children: [
              /* @__PURE__ */ jsx("div", { className: "bg-gray-100 p-2.5 sm:p-3 rounded-full mb-2 sm:mb-3 shadow-sm", children: /* @__PURE__ */ jsx(Search, { className: "h-4 w-4 sm:h-5 sm:w-5 text-gray-300" }) }),
              /* @__PURE__ */ jsx("h3", { className: "text-sm sm:text-base font-medium text-gray-700 mb-1", children: "Aucun ticket disponible" }),
              /* @__PURE__ */ jsx("p", { className: "text-xs sm:text-sm text-gray-500 mb-3 max-w-md mx-auto px-4", children: "Vous n'avez pas encore créé de tickets de support." })
            ] }) }) }),
            /* @__PURE__ */ jsx("div", { className: "px-4 sm:px-6 py-3 sm:py-4 bg-gradient-to-r from-gray-50 to-white border-t border-gray-100", children: /* @__PURE__ */ jsx(Link, { href: route("client.ticket.create"), children: /* @__PURE__ */ jsxs("button", { className: "w-full bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded-lg sm:rounded-xl transition-colors flex items-center justify-center gap-2 shadow-sm text-sm", children: [
              /* @__PURE__ */ jsx(Plus, { className: "h-4 w-4" }),
              /* @__PURE__ */ jsx("span", { children: "Créer un nouveau ticket" })
            ] }) }) })
          ] }),
          /* @__PURE__ */ jsx("div", { className: "bg-[#0F172A] rounded-xl sm:rounded-2xl shadow-lg overflow-hidden text-white", children: /* @__PURE__ */ jsxs("div", { className: "p-4 sm:p-6", children: [
            /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between mb-3 sm:mb-4", children: [
              /* @__PURE__ */ jsxs("h2", { className: "text-base sm:text-lg font-bold flex items-center", children: [
                /* @__PURE__ */ jsx(HelpCircle, { className: "h-4 w-4 sm:h-5 sm:w-5 mr-2" }),
                "Besoin d'aide ?"
              ] }),
              /* @__PURE__ */ jsx("div", { className: "bg-white/20 p-1.5 sm:p-2 rounded-lg backdrop-blur-sm", children: /* @__PURE__ */ jsx(Users, { className: "h-4 w-4 sm:h-5 sm:w-5 text-white" }) })
            ] }),
            /* @__PURE__ */ jsx("p", { className: "text-white/90 mb-3 sm:mb-4 text-sm sm:text-base", children: "Notre équipe de support est disponible pour répondre à toutes vos questions." }),
            /* @__PURE__ */ jsx(Link, { href: route("client.ticket.create"), children: /* @__PURE__ */ jsxs("button", { className: "w-full bg-white text-[#0F172A] py-2 sm:py-2.5 px-4 rounded-lg sm:rounded-xl transition-colors flex items-center justify-center gap-2 shadow-sm hover:bg-gray-100 text-sm", children: [
              /* @__PURE__ */ jsx(MessageSquare, { className: "h-4 w-4" }),
              /* @__PURE__ */ jsx("span", { children: "Contacter le support" })
            ] }) })
          ] }) })
        ] })
      ] })
    ] }) }),
    /* @__PURE__ */ jsx(Footer$1, {})
  ] });
}
const __vite_glob_0_30 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: Dashboard$1
}, Symbol.toStringTag, { value: "Module" }));
const Card = React.forwardRef(({ className, ...props }, ref) => /* @__PURE__ */ jsx(
  "div",
  {
    ref,
    className: cn(
      "rounded-lg border bg-card text-card-foreground shadow-sm",
      className
    ),
    ...props
  }
));
Card.displayName = "Card";
const CardHeader = React.forwardRef(({ className, ...props }, ref) => /* @__PURE__ */ jsx(
  "div",
  {
    ref,
    className: cn("flex flex-col space-y-1.5 p-6", className),
    ...props
  }
));
CardHeader.displayName = "CardHeader";
const CardTitle = React.forwardRef(({ className, ...props }, ref) => /* @__PURE__ */ jsx(
  "div",
  {
    ref,
    className: cn(
      "text-2xl font-semibold leading-none tracking-tight",
      className
    ),
    ...props
  }
));
CardTitle.displayName = "CardTitle";
const CardDescription = React.forwardRef(({ className, ...props }, ref) => /* @__PURE__ */ jsx(
  "div",
  {
    ref,
    className: cn("text-sm text-muted-foreground", className),
    ...props
  }
));
CardDescription.displayName = "CardDescription";
const CardContent = React.forwardRef(({ className, ...props }, ref) => /* @__PURE__ */ jsx("div", { ref, className: cn("p-6 pt-0", className), ...props }));
CardContent.displayName = "CardContent";
const CardFooter = React.forwardRef(({ className, ...props }, ref) => /* @__PURE__ */ jsx(
  "div",
  {
    ref,
    className: cn("flex items-center p-6 pt-0", className),
    ...props
  }
));
CardFooter.displayName = "CardFooter";
const Textarea = React.forwardRef(({ className, ...props }, ref) => {
  return /* @__PURE__ */ jsx(
    "textarea",
    {
      className: cn(
        "flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",
        className
      ),
      ref,
      ...props
    }
  );
});
Textarea.displayName = "Textarea";
const Checkbox = React.forwardRef(({ className, ...props }, ref) => /* @__PURE__ */ jsx(
  CheckboxPrimitive.Root,
  {
    ref,
    className: cn(
      "peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",
      className
    ),
    ...props,
    children: /* @__PURE__ */ jsx(
      CheckboxPrimitive.Indicator,
      {
        className: cn("flex items-center justify-center text-current"),
        children: /* @__PURE__ */ jsx(Check, { className: "h-4 w-4" })
      }
    )
  }
));
Checkbox.displayName = CheckboxPrimitive.Root.displayName;
const alertVariants = cva(
  "relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",
  {
    variants: {
      variant: {
        default: "bg-background text-foreground",
        destructive: "border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"
      }
    },
    defaultVariants: {
      variant: "default"
    }
  }
);
const Alert = React.forwardRef(({ className, variant, ...props }, ref) => /* @__PURE__ */ jsx(
  "div",
  {
    ref,
    role: "alert",
    className: cn(alertVariants({ variant }), className),
    ...props
  }
));
Alert.displayName = "Alert";
const AlertTitle = React.forwardRef(({ className, ...props }, ref) => /* @__PURE__ */ jsx(
  "h5",
  {
    ref,
    className: cn("mb-1 font-medium leading-none tracking-tight", className),
    ...props
  }
));
AlertTitle.displayName = "AlertTitle";
const AlertDescription = React.forwardRef(({ className, ...props }, ref) => /* @__PURE__ */ jsx(
  "div",
  {
    ref,
    className: cn("text-sm [&_p]:leading-relaxed", className),
    ...props
  }
));
AlertDescription.displayName = "AlertDescription";
const Footer = () => {
  return /* @__PURE__ */ jsxs("footer", { className: "bg-gray-800 text-slate-50 py-10 relative w-full px-4 sm:px-6 lg:px-8", children: [
    /* @__PURE__ */ jsxs("div", { className: "max-w-7xl mx-auto", children: [
      /* @__PURE__ */ jsxs("div", { className: "w-[calc(100%-0.25rem)] sm:w-[calc(100%-2rem)] max-w-[76rem] mx-auto bg-neutral-400 text-gray-700 mb-8 sm:mb-16 rounded-xl sm:rounded-3xl overflow-hidden relative flex items-center justify-center py-12 sm:py-16", children: [
        /* @__PURE__ */ jsx("div", { className: "absolute inset-0 bg-gradient-to-tr from-gray-50 to-gray-100 opacity-80" }),
        /* @__PURE__ */ jsxs("div", { className: "relative px-6 sm:px-10 md:px-16 flex flex-col md:flex-row items-center justify-between gap-8 w-full", children: [
          /* @__PURE__ */ jsxs("div", { className: "w-full md:w-1/2 text-center md:text-left", children: [
            /* @__PURE__ */ jsx("h2", { className: "text-2xl sm:text-3xl md:text-4xl font-extrabold mb-4", children: "Une annonce légale à publier ?" }),
            /* @__PURE__ */ jsx("p", { className: "text-sm sm:text-base max-w-lg mx-auto md:mx-0", children: "Ne perdez plus de temps, faites confiance à WePress pour la publication de vos annonces légales dès aujourd'hui!" })
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "flex flex-wrap gap-4 justify-center md:justify-end", children: [
            /* @__PURE__ */ jsx(
              Link,
              {
                href: route("client.annonces.create"),
                className: "bg-red-600 hover:bg-red-700 text-white px-4 sm:px-6 py-2.5 sm:py-3 rounded-md transition-colors font-extrabold whitespace-nowrap text-sm sm:text-base",
                children: "Publier une annonce"
              }
            ),
            /* @__PURE__ */ jsx(
              "a",
              {
                href: "#",
                className: "bg-gray-700 text-white hover:bg-black px-4 sm:px-6 py-2.5 sm:py-3 rounded-md transition-colors font-extrabold whitespace-nowrap text-sm sm:text-base",
                children: "Contact"
              }
            )
          ] })
        ] })
      ] }),
      /* @__PURE__ */ jsxs("div", { className: "max-w-6xl mx-auto", children: [
        /* @__PURE__ */ jsxs("div", { className: "flex flex-col items-center mb-12", children: [
          /* @__PURE__ */ jsx(
            "img",
            {
              src: "/wepress-light.png",
              alt: "Wepress Eco Logo",
              width: 340,
              height: 240,
              className: "mb-4 max-w-full h-auto"
            }
          ),
          /* @__PURE__ */ jsx("p", { className: "text-center max-w-lg px-4", children: "Wepress Eco est un journal spécialisé dans la publication d'annonces légales au Maroc." })
        ] }),
        /* @__PURE__ */ jsx("div", { className: "mb-12", children: /* @__PURE__ */ jsxs("div", { className: "grid md:grid-cols-2 gap-8 px-4", children: [
          /* @__PURE__ */ jsxs("div", { children: [
            /* @__PURE__ */ jsx("h3", { className: "font-bold mb-4", children: "Informations générales" }),
            /* @__PURE__ */ jsxs("ul", { className: "space-y-4", children: [
              /* @__PURE__ */ jsxs("li", { className: "flex items-center gap-3", children: [
                /* @__PURE__ */ jsx(FaPhone, { className: "text-red-600 text-lg flex-shrink-0" }),
                /* @__PURE__ */ jsx("span", { children: "+212 669 66 88 00" })
              ] }),
              /* @__PURE__ */ jsxs("li", { className: "flex items-center gap-3", children: [
                /* @__PURE__ */ jsx(FaEnvelope, { className: "text-red-600 text-lg flex-shrink-0" }),
                /* @__PURE__ */ jsx("a", { href: "mailto:Info@wepresseco.com", className: "hover:text-slate-300", children: "Info@wepresseco.com" })
              ] }),
              /* @__PURE__ */ jsxs("li", { className: "flex items-start gap-3", children: [
                /* @__PURE__ */ jsx(FaMapMarkerAlt, { className: "text-red-600 text-lg mt-1 flex-shrink-0" }),
                /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsx("div", { children: "Av. Moulay Ismail Res." }),
                  /* @__PURE__ */ jsx("div", { children: "Moulay Ismeil 4éme étage n 16" }),
                  /* @__PURE__ */ jsx("div", { children: "Tanger, Maroc" })
                ] })
              ] })
            ] })
          ] }),
          /* @__PURE__ */ jsxs("div", { children: [
            /* @__PURE__ */ jsx("h3", { className: "font-bold mb-4", children: "Horaires" }),
            /* @__PURE__ */ jsxs("ul", { className: "space-y-2", children: [
              /* @__PURE__ */ jsxs("li", { className: "flex items-center gap-2", children: [
                /* @__PURE__ */ jsx("span", { className: "font-medium", children: "Lundi – Vendredi:" }),
                " 09h00 – 17h00"
              ] }),
              /* @__PURE__ */ jsxs("li", { className: "flex items-center gap-2", children: [
                /* @__PURE__ */ jsx("span", { className: "font-medium", children: "Samedi:" }),
                " 09h00 - 13h00"
              ] }),
              /* @__PURE__ */ jsxs("li", { className: "flex items-center gap-2", children: [
                /* @__PURE__ */ jsx("span", { className: "font-medium", children: "Dimanche:" }),
                " Fermé"
              ] })
            ] })
          ] })
        ] }) }),
        /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-2 md:grid-cols-4 gap-8 mb-12 px-4", children: [
          /* @__PURE__ */ jsxs("div", { children: [
            /* @__PURE__ */ jsx("h3", { className: "font-bold mb-4", children: "Menu" }),
            /* @__PURE__ */ jsxs("ul", { className: "space-y-2", children: [
              /* @__PURE__ */ jsx("li", { children: /* @__PURE__ */ jsx(Link, { href: route("client.annonces.create"), className: "hover:text-gray-200", children: "Publier une annonce" }) }),
              /* @__PURE__ */ jsx("li", { children: /* @__PURE__ */ jsx(Link, { href: route("client.annonces.index"), className: "hover:text-gray-200", children: "Consulter les annonces" }) }),
              /* @__PURE__ */ jsx("li", { children: /* @__PURE__ */ jsx(Link, { href: route("client.appel-offres.index"), className: "hover:text-gray-200", children: "Consulter les appels d'offres" }) })
            ] })
          ] }),
          /* @__PURE__ */ jsxs("div", { children: [
            /* @__PURE__ */ jsx("h3", { className: "font-bold mb-4", children: "À propos de Wepress" }),
            /* @__PURE__ */ jsxs("ul", { className: "space-y-2", children: [
              /* @__PURE__ */ jsx("li", { children: /* @__PURE__ */ jsx(
                "a",
                {
                  href: route("client.apropos"),
                  className: "hover:text-slate-300 flex items-center gap-1",
                  children: "À propos"
                }
              ) }),
              /* @__PURE__ */ jsx("li", { children: /* @__PURE__ */ jsx(
                "a",
                {
                  href: route("client.contact"),
                  className: "hover:text-slate-300 flex items-center gap-1",
                  children: "Contactez-nous"
                }
              ) })
            ] })
          ] }),
          /* @__PURE__ */ jsxs("div", { children: [
            /* @__PURE__ */ jsx("h3", { className: "font-bold mb-4", children: "Compte" }),
            /* @__PURE__ */ jsxs("ul", { className: "space-y-2", children: [
              /* @__PURE__ */ jsx("li", { children: /* @__PURE__ */ jsx(Link, { href: route("login"), className: "hover:text-slate-300", children: "Se connecter" }) }),
              /* @__PURE__ */ jsx("li", { children: /* @__PURE__ */ jsx(Link, { href: route("register"), className: "hover:text-slate-300", children: "Créer un compte" }) })
            ] })
          ] }),
          /* @__PURE__ */ jsxs("div", { children: [
            /* @__PURE__ */ jsx("h3", { className: "font-bold mb-4", children: "Support" }),
            /* @__PURE__ */ jsxs("ul", { className: "space-y-2", children: [
              /* @__PURE__ */ jsx("li", { children: /* @__PURE__ */ jsx(Link, { href: route("client.ticket.index"), className: "hover:text-slate-300", children: "Tickets" }) }),
              /* @__PURE__ */ jsx("li", { children: /* @__PURE__ */ jsx("a", { href: "/sitemap", className: "hover:text-slate-300", children: "Sitemap" }) })
            ] })
          ] })
        ] })
      ] })
    ] }),
    /* @__PURE__ */ jsx("div", { className: "relative w-full mt-8 pb-4", children: /* @__PURE__ */ jsxs("div", { className: "w-[calc(100%-1rem)] sm:w-[calc(100%-2rem)] max-w-[76rem] h-auto min-h-[5rem] py-3 mx-auto bg-gray-50/90 backdrop-blur-md rounded-2xl border border-gray-300 shadow-sm px-2 sm:px-6 flex flex-col items-center justify-center gap-4 sm:flex-row sm:justify-between", children: [
      /* @__PURE__ */ jsxs("p", { className: "text-sm text-gray-700 text-center", children: [
        "© 2025 ",
        /* @__PURE__ */ jsx("span", { className: "text-red-600 font-bold", children: "Wepress Eco" })
      ] }),
      /* @__PURE__ */ jsxs("div", { className: "flex flex-col items-center gap-2 sm:flex-row sm:gap-6", children: [
        /* @__PURE__ */ jsx(
          "a",
          {
            href: route("client.mentions-legales"),
            className: "text-sm text-gray-700 hover:text-gray-500 text-center",
            children: "Mentions légales"
          }
        ),
        /* @__PURE__ */ jsx("span", { className: "hidden sm:inline", children: "|" }),
        /* @__PURE__ */ jsx(
          "a",
          {
            href: route("client.privacy-policy"),
            className: "text-sm text-gray-700 hover:text-gray-500 text-center",
            children: "Politique de Confidentialité"
          }
        ),
        /* @__PURE__ */ jsx("span", { className: "hidden sm:inline", children: "|" }),
        /* @__PURE__ */ jsx(
          "a",
          {
            href: route("client.condition-de-vente"),
            className: "text-sm text-gray-700 hover:text-gray-500 text-center",
            children: "Conditions générales"
          }
        ),
        /* @__PURE__ */ jsx("span", { className: "hidden sm:inline", children: "|" }),
        /* @__PURE__ */ jsx(
          "a",
          {
            href: route("client.conditions-utilisation"),
            className: "text-sm text-gray-700 hover:text-gray-500 text-center",
            children: "CGU"
          }
        )
      ] })
    ] }) }),
    /* @__PURE__ */ jsx("div", { className: "flex justify-center mt-8 pb-4", children: /* @__PURE__ */ jsx(
      "img",
      {
        src: "/payzone-1.webp",
        alt: "Payment methods",
        className: "h-12 w-auto object-contain opacity-80 hover:opacity-100 transition-opacity"
      }
    ) }),
    /* @__PURE__ */ jsx(
      "button",
      {
        className: "fixed right-6 bottom-6 bg-slate-800 text-slate-100 p-2 rounded shadow-md hover:scale-105 hover:bg-slate-700 transition-all",
        onClick: () => window.scrollTo({ top: 0, behavior: "smooth" }),
        "aria-label": "Scroll to top",
        children: /* @__PURE__ */ jsx(FiChevronUp, { size: 20 })
      }
    )
  ] });
};
function WePressContactPage({ auth, seo }) {
  const [formData, setFormData] = useState({
    message: "",
    acceptTerms: false
  });
  const [errors, setErrors] = useState({});
  const [isSubmitting, setIsSubmitting] = useState(false);
  const [submitStatus, setSubmitStatus] = useState("idle");
  const [submitMessage, setSubmitMessage] = useState("");
  const handleInputChange = (field, value) => {
    setFormData((prev) => ({ ...prev, [field]: value }));
    if (errors[field]) {
      setErrors((prev) => ({ ...prev, [field]: [] }));
    }
  };
  const validateForm = () => {
    const newErrors = {};
    if (!formData.message.trim()) {
      newErrors.message = ["Le message est requis"];
    } else if (formData.message.trim().length < 10) {
      newErrors.message = ["Le message doit contenir au moins 10 caractères"];
    }
    if (!formData.acceptTerms) {
      newErrors.acceptTerms = ["Vous devez accepter les conditions générales"];
    }
    setErrors(newErrors);
    return Object.keys(newErrors).length === 0;
  };
  const handleSubmit = async (e2) => {
    var _a2;
    e2.preventDefault();
    if (!validateForm()) {
      return;
    }
    setIsSubmitting(true);
    setSubmitStatus("idle");
    try {
      const response = await fetch("/contact", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
          Accept: "application/json",
          "X-CSRF-TOKEN": ((_a2 = document.querySelector('meta[name="csrf-token"]')) == null ? void 0 : _a2.getAttribute("content")) || ""
        },
        body: JSON.stringify(formData)
      });
      const data = await response.json();
      if (response.ok) {
        setSubmitStatus("success");
        setSubmitMessage("Merci pour votre message ! Nous vous répondrons bientôt.");
        setFormData({
          message: "",
          acceptTerms: false
        });
      } else {
        if (data.errors) {
          setErrors(data.errors);
        }
        setSubmitStatus("error");
        setSubmitMessage(data.message || "Une erreur s'est produite. Veuillez réessayer.");
      }
    } catch (error) {
      setSubmitStatus("error");
      setSubmitMessage("Erreur de réseau. Veuillez vérifier votre connexion et réessayer.");
    } finally {
      setIsSubmitting(false);
    }
  };
  return /* @__PURE__ */ jsxs(Fragment, { children: [
    /* @__PURE__ */ jsxs(Head, { children: [
      /* @__PURE__ */ jsx("title", { children: "Contacter le service clientèle de Wepress Eco" }),
      /* @__PURE__ */ jsx("meta", { name: "description", content: "Besoin d'aide ? Contactez notre équipe WePress. Nous sommes là pour répondre à vos questions sur les annonces légales et vous accompagner dans vos démarches." }),
      /* @__PURE__ */ jsx("link", { rel: "canonical", href: (seo == null ? void 0 : seo.canonical_url) || window.location.href })
    ] }),
    /* @__PURE__ */ jsx(Header, { auth }),
    /* @__PURE__ */ jsxs("div", { className: "min-h-screen bg-gray-800 pt-12", children: [
      /* @__PURE__ */ jsx("div", { className: "relative py-24", children: /* @__PURE__ */ jsxs("div", { className: "max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center", children: [
        /* @__PURE__ */ jsx("div", { className: "mb-4", children: /* @__PURE__ */ jsx("span", { className: "text-red-500 text-sm font-medium", children: "Contact" }) }),
        /* @__PURE__ */ jsxs("h1", { className: "text-4xl md:text-5xl font-bold text-white mb-6", children: [
          "N'hésitez pas à",
          /* @__PURE__ */ jsx("br", {}),
          "nous contacter"
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-center space-x-2 text-white/80 text-sm", children: [
          /* @__PURE__ */ jsx(Home$1, { className: "h-4 w-4" }),
          /* @__PURE__ */ jsx("a", { href: "/", children: "Accueil" }),
          /* @__PURE__ */ jsx("span", { children: "/" }),
          /* @__PURE__ */ jsx("span", { children: "Contact" })
        ] })
      ] }) }),
      /* @__PURE__ */ jsx("div", { className: "max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-24", children: /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 lg:grid-cols-2 gap-8", children: [
        /* @__PURE__ */ jsx(Card, { className: "bg-white shadow-xl border-0 rounded-2xl overflow-hidden", children: /* @__PURE__ */ jsxs(CardContent, { className: "p-10", children: [
          /* @__PURE__ */ jsxs("h2", { className: "text-3xl font-bold text-gray-900 mb-3", children: [
            "Envoyez nous ",
            /* @__PURE__ */ jsx("span", { className: "text-red-600", children: "un message" })
          ] }),
          /* @__PURE__ */ jsxs("p", { className: "text-gray-600 mb-8 text-lg leading-relaxed", children: [
            "Notre équipe est à votre écoute pour vous accompagner, Appelez le",
            " ",
            /* @__PURE__ */ jsx("span", { className: "font-semibold text-red-600", children: "+212 669 668800" }),
            " et confiez la publication de votre annonce légale à des experts."
          ] }),
          submitStatus === "success" && /* @__PURE__ */ jsxs(Alert, { className: "mb-8 border-green-200 bg-green-50 rounded-xl p-4", children: [
            /* @__PURE__ */ jsx(CheckCircle, { className: "h-5 w-5 text-green-600" }),
            /* @__PURE__ */ jsx(AlertDescription, { className: "text-green-800 font-medium", children: submitMessage })
          ] }),
          submitStatus === "error" && /* @__PURE__ */ jsxs(Alert, { className: "mb-8 border-red-200 bg-red-50 rounded-xl p-4", children: [
            /* @__PURE__ */ jsx(AlertCircle, { className: "h-5 w-5 text-red-600" }),
            /* @__PURE__ */ jsx(AlertDescription, { className: "text-red-800 font-medium", children: submitMessage })
          ] }),
          /* @__PURE__ */ jsxs("form", { onSubmit: handleSubmit, className: "space-y-8", children: [
            /* @__PURE__ */ jsxs("div", { className: "space-y-3", children: [
              /* @__PURE__ */ jsx(
                Textarea,
                {
                  placeholder: "Entrez votre texte",
                  value: formData.message,
                  onChange: (e2) => handleInputChange("message", e2.target.value),
                  rows: 8,
                  className: `resize-none border-2 rounded-xl px-4 py-4 text-base leading-relaxed transition-all duration-200 focus:ring-4 focus:ring-red-100 focus:border-red-500 hover:border-gray-400 ${errors.message ? "border-red-500 bg-red-50" : "border-gray-200 bg-gray-50 focus:bg-white"}`
                }
              ),
              errors.message && /* @__PURE__ */ jsxs("p", { className: "text-sm text-red-600 font-medium flex items-center gap-1", children: [
                /* @__PURE__ */ jsx(AlertCircle, { className: "h-4 w-4" }),
                errors.message[0]
              ] })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "space-y-3", children: [
              /* @__PURE__ */ jsxs("div", { className: "flex items-start space-x-4 p-4 bg-gray-50 rounded-xl border-2 border-gray-200 hover:border-gray-300 transition-colors duration-200", children: [
                /* @__PURE__ */ jsx(
                  Checkbox,
                  {
                    id: "terms",
                    checked: formData.acceptTerms,
                    onCheckedChange: (checked) => handleInputChange("acceptTerms", checked),
                    className: `mt-1 h-5 w-5 rounded-md border-2 transition-all duration-200 data-[state=checked]:bg-red-600 data-[state=checked]:border-red-600 data-[state=checked]:text-white focus:ring-4 focus:ring-red-100 ${errors.acceptTerms ? "border-red-500" : "border-gray-300 hover:border-red-400"}`
                  }
                ),
                /* @__PURE__ */ jsxs(
                  "label",
                  {
                    htmlFor: "terms",
                    className: "text-sm text-gray-700 leading-relaxed font-medium cursor-pointer",
                    children: [
                      "« En continuant, je confirme avoir lu et accepté les",
                      " ",
                      /* @__PURE__ */ jsx(
                        "a",
                        {
                          href: "#",
                          className: "text-red-600 hover:text-red-700 hover:underline font-semibold transition-colors duration-200",
                          children: "Conditions Générales d'Utilisation"
                        }
                      ),
                      " ",
                      "et les",
                      " ",
                      /* @__PURE__ */ jsx(
                        "a",
                        {
                          href: "#",
                          className: "text-red-600 hover:text-red-700 hover:underline font-semibold transition-colors duration-200",
                          children: "Conditions Générales de Vente"
                        }
                      ),
                      ". »"
                    ]
                  }
                )
              ] }),
              errors.acceptTerms && /* @__PURE__ */ jsxs("p", { className: "text-sm text-red-600 font-medium flex items-center gap-1", children: [
                /* @__PURE__ */ jsx(AlertCircle, { className: "h-4 w-4" }),
                errors.acceptTerms[0]
              ] })
            ] }),
            /* @__PURE__ */ jsx(
              Button,
              {
                type: "submit",
                disabled: isSubmitting,
                className: "w-full bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white py-4 px-8 text-lg font-semibold rounded-xl shadow-lg hover:shadow-xl transform hover:scale-[1.02] transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",
                children: isSubmitting ? /* @__PURE__ */ jsxs(Fragment, { children: [
                  /* @__PURE__ */ jsx("div", { className: "animate-spin rounded-full h-6 w-6 border-b-2 border-white mr-3" }),
                  "Envoi en cours..."
                ] }) : /* @__PURE__ */ jsxs(Fragment, { children: [
                  /* @__PURE__ */ jsx(Send, { className: "h-6 w-6 mr-3" }),
                  "Envoyer"
                ] })
              }
            )
          ] })
        ] }) }),
        /* @__PURE__ */ jsx(Card, { className: "bg-white shadow-xl border-0 rounded-2xl overflow-hidden", children: /* @__PURE__ */ jsxs(CardContent, { className: "p-10", children: [
          /* @__PURE__ */ jsx("h3", { className: "text-2xl font-bold text-gray-900 mb-6", children: "Des questions ? Nous sommes là pour vous aider !" }),
          /* @__PURE__ */ jsxs("p", { className: "text-gray-600 mb-6 text-lg leading-relaxed", children: [
            "Chez ",
            /* @__PURE__ */ jsx("span", { className: "font-semibold text-red-600", children: "WePress Eco" }),
            ", nous nous engageons à vous offrir un service client réactif et efficace."
          ] }),
          /* @__PURE__ */ jsx("p", { className: "text-gray-600 mb-10 text-lg leading-relaxed", children: "Que vous ayez des questions sur la publication de votre annonce légale, besoin d'assistance pour soumettre votre dossier, ou souhaitiez en savoir plus sur nos services, notre équipe est à votre disposition pour vous accompagner." }),
          /* @__PURE__ */ jsxs("div", { className: "bg-gradient-to-r from-gray-50 to-gray-100 rounded-xl border border-gray-200 p-6 space-y-6", children: [
            /* @__PURE__ */ jsxs("div", { className: "flex items-center space-x-4", children: [
              /* @__PURE__ */ jsx("div", { className: "flex-shrink-0 p-2 bg-red-600 rounded-full", children: /* @__PURE__ */ jsx(Phone, { className: "h-4 w-4 text-white" }) }),
              /* @__PURE__ */ jsxs("div", { children: [
                /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-600 font-medium mb-1", children: "Téléphone" }),
                /* @__PURE__ */ jsx("p", { className: "font-bold text-gray-900 text-base", children: "+212 669 66 88 00" })
              ] })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "flex items-center space-x-4", children: [
              /* @__PURE__ */ jsx("div", { className: "flex-shrink-0 p-2 bg-red-600 rounded-full", children: /* @__PURE__ */ jsx(Mail, { className: "h-4 w-4 text-white" }) }),
              /* @__PURE__ */ jsxs("div", { children: [
                /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-600 font-medium mb-1", children: "Email" }),
                /* @__PURE__ */ jsx("p", { className: "font-bold text-gray-900 text-base", children: "info@wepresseco.com" })
              ] })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "flex items-start space-x-4", children: [
              /* @__PURE__ */ jsx("div", { className: "flex-shrink-0 p-2 bg-red-600 rounded-full mt-1", children: /* @__PURE__ */ jsx(MapPin, { className: "h-4 w-4 text-white" }) }),
              /* @__PURE__ */ jsxs("div", { children: [
                /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-600 font-medium mb-2", children: "Adresse" }),
                /* @__PURE__ */ jsxs("p", { className: "font-bold text-gray-900 text-base leading-relaxed", children: [
                  "Avenue Moulay Ismail Res. Moulay Ismail",
                  /* @__PURE__ */ jsx("br", {}),
                  "4ème étage n°16",
                  /* @__PURE__ */ jsx("br", {}),
                  "Tanger, Maroc"
                ] })
              ] })
            ] })
          ] })
        ] }) })
      ] }) })
    ] }),
    /* @__PURE__ */ jsx(Footer, {})
  ] });
}
const __vite_glob_0_31 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: WePressContactPage
}, Symbol.toStringTag, { value: "Module" }));
function BankInfoPage({ auth }) {
  const [copiedField, setCopiedField] = useState("");
  const bankDetails = [
    { label: "Banque", value: "Attijariwafa Bank", icon: /* @__PURE__ */ jsx(BanknoteIcon, { className: "w-4 h-4" }) },
    { label: "Bénéficiaire", value: "Journal Wepress", icon: /* @__PURE__ */ jsx(FileText, { className: "w-4 h-4" }) },
    { label: "Numéro de compte", value: "007640001380900000032524", icon: /* @__PURE__ */ jsx(CreditCard, { className: "w-4 h-4" }) },
    { label: "Code SWIFT", value: "BCMAMAMC", icon: /* @__PURE__ */ jsx(Sparkles, { className: "w-4 h-4" }) }
  ];
  const copyToClipboard2 = (text, field) => {
    navigator.clipboard.writeText(text);
    setCopiedField(field);
    setTimeout(() => setCopiedField(""), 2e3);
  };
  const copyAllBankDetails = () => {
    const allDetails = bankDetails.map((detail) => `${detail.label}: ${detail.value}`).join("\n");
    navigator.clipboard.writeText(allDetails);
    setCopiedField("all");
    setTimeout(() => setCopiedField(""), 2e3);
  };
  return /* @__PURE__ */ jsxs("main", { className: "min-h-screen flex flex-col bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 relative overflow-hidden", children: [
    /* @__PURE__ */ jsxs("div", { className: "absolute inset-0 overflow-hidden pointer-events-none", children: [
      /* @__PURE__ */ jsx("div", { className: "absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-red-200/30 to-pink-200/30 rounded-full blur-3xl" }),
      /* @__PURE__ */ jsx("div", { className: "absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-br from-blue-200/30 to-purple-200/30 rounded-full blur-3xl" }),
      /* @__PURE__ */ jsx("div", { className: "absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-gradient-to-br from-yellow-200/20 to-orange-200/20 rounded-full blur-3xl" })
    ] }),
    /* @__PURE__ */ jsx(Header, { auth: { user: auth.user } }),
    /* @__PURE__ */ jsx("section", { className: "container mx-auto px-4 py-8 pt-32 flex-grow relative z-10", children: /* @__PURE__ */ jsxs("div", { className: "max-w-6xl mx-auto", children: [
      /* @__PURE__ */ jsxs("div", { className: "mb-12 text-center", children: [
        /* @__PURE__ */ jsxs("div", { className: "inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-red-100 to-pink-100 rounded-full text-red-700 text-sm font-medium mb-4 shadow-sm", children: [
          /* @__PURE__ */ jsx(Sparkles, { className: "w-4 h-4" }),
          "Informations sécurisées"
        ] }),
        /* @__PURE__ */ jsx("h1", { className: "text-4xl md:text-6xl font-bold bg-gradient-to-r from-gray-900 via-red-800 to-gray-900 bg-clip-text text-transparent mb-6 leading-tight", children: "Informations bancaires" }),
        /* @__PURE__ */ jsx("p", { className: "text-xl text-gray-600 max-w-2xl mx-auto leading-relaxed", children: "Coordonnées pour vos virements et paiements en toute sécurité" })
      ] }),
      /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 xl:grid-cols-3 gap-8", children: [
        /* @__PURE__ */ jsx("div", { className: "xl:col-span-2", children: /* @__PURE__ */ jsxs("div", { className: "bg-white/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/20 overflow-hidden hover:shadow-3xl transition-all duration-500", children: [
          /* @__PURE__ */ jsxs("div", { className: "p-8 bg-gradient-to-r from-red-600 to-red-700 text-white relative overflow-hidden", children: [
            /* @__PURE__ */ jsx("div", { className: "absolute inset-0 bg-gradient-to-r from-red-600/90 to-red-700/90" }),
            /* @__PURE__ */ jsx("div", { className: "absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -translate-y-16 translate-x-16" }),
            /* @__PURE__ */ jsx("div", { className: "absolute bottom-0 left-0 w-24 h-24 bg-white/10 rounded-full translate-y-12 -translate-x-12" }),
            /* @__PURE__ */ jsxs("div", { className: "relative z-10", children: [
              /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-4 mb-3", children: [
                /* @__PURE__ */ jsx("div", { className: "p-3 bg-white/20 rounded-xl backdrop-blur-sm", children: /* @__PURE__ */ jsx(BanknoteIcon, { className: "w-8 h-8 text-white" }) }),
                /* @__PURE__ */ jsx("h2", { className: "text-2xl font-bold", children: "Coordonnées bancaires" })
              ] }),
              /* @__PURE__ */ jsx("p", { className: "text-red-100 text-lg", children: "Utilisez ces informations pour vos virements" })
            ] })
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "p-8", children: [
            /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between mb-8", children: [
              /* @__PURE__ */ jsxs("h3", { className: "font-bold text-gray-900 flex items-center gap-3 text-lg", children: [
                /* @__PURE__ */ jsx("div", { className: "p-2 bg-gradient-to-r from-red-100 to-pink-100 rounded-lg", children: /* @__PURE__ */ jsx(Info, { className: "w-5 h-5 text-red-600" }) }),
                "Détails du compte"
              ] }),
              /* @__PURE__ */ jsx(
                Button,
                {
                  onClick: copyAllBankDetails,
                  variant: "outline",
                  size: "lg",
                  className: "flex items-center gap-2 border-2 border-red-200 hover:border-red-300 hover:bg-red-50 transition-all duration-300 rounded-xl px-6 py-3",
                  children: copiedField === "all" ? /* @__PURE__ */ jsxs(Fragment, { children: [
                    /* @__PURE__ */ jsx(Check, { className: "w-5 h-5 text-green-600" }),
                    /* @__PURE__ */ jsx("span", { className: "font-semibold text-green-600", children: "Copié!" })
                  ] }) : /* @__PURE__ */ jsxs(Fragment, { children: [
                    /* @__PURE__ */ jsx(Copy, { className: "w-5 h-5 text-red-600" }),
                    /* @__PURE__ */ jsx("span", { className: "font-semibold text-red-600", children: "Tout copier" })
                  ] })
                }
              )
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 xl:grid-cols-3 gap-8", children: [
              /* @__PURE__ */ jsx("div", { className: "xl:col-span-2", children: /* @__PURE__ */ jsx("div", { className: "space-y-5", children: bankDetails.map((detail, index2) => /* @__PURE__ */ jsx(
                "div",
                {
                  className: "group relative p-6 bg-gradient-to-r from-red-50 to-pink-50 rounded-2xl border-2 border-red-100 hover:border-red-200 transition-all duration-300 hover:shadow-lg hover:scale-[1.02]",
                  children: /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
                    /* @__PURE__ */ jsxs("div", { className: "flex-1", children: [
                      /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-3 mb-2", children: [
                        /* @__PURE__ */ jsx("div", { className: "p-2 bg-red-200 rounded-lg text-red-700", children: detail.icon }),
                        /* @__PURE__ */ jsx("span", { className: "text-sm font-bold text-red-700 uppercase tracking-wide", children: detail.label })
                      ] }),
                      /* @__PURE__ */ jsx("p", { className: "font-bold text-gray-900 text-lg break-all pl-11", children: detail.value })
                    ] }),
                    /* @__PURE__ */ jsx(
                      Button,
                      {
                        onClick: () => copyToClipboard2(detail.value, detail.label),
                        variant: "ghost",
                        size: "sm",
                        className: "p-3 text-gray-500 hover:text-red-600 hover:bg-red-100 rounded-xl transition-all duration-300 opacity-0 group-hover:opacity-100",
                        title: "Copier",
                        children: copiedField === detail.label ? /* @__PURE__ */ jsx(Check, { className: "w-5 h-5 text-green-600" }) : /* @__PURE__ */ jsx(Copy, { className: "w-5 h-5" })
                      }
                    )
                  ] })
                },
                index2
              )) }) }),
              /* @__PURE__ */ jsxs("div", { className: "flex flex-col items-center justify-center", children: [
                /* @__PURE__ */ jsxs("div", { className: "text-center mb-6", children: [
                  /* @__PURE__ */ jsxs("div", { className: "inline-flex items-center gap-2 px-3 py-1 bg-gradient-to-r from-blue-100 to-purple-100 rounded-full text-blue-700 text-sm font-medium mb-3", children: [
                    /* @__PURE__ */ jsx(Smartphone, { className: "w-4 h-4" }),
                    "Mobile"
                  ] }),
                  /* @__PURE__ */ jsx("h4", { className: "font-bold text-gray-900 mb-2 text-lg", children: "Paiement mobile" }),
                  /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-600", children: "Scannez le QR code" })
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "relative group", children: [
                  /* @__PURE__ */ jsx("div", { className: "absolute inset-0 bg-gradient-to-r from-red-400 to-pink-400 rounded-2xl blur-lg opacity-30 group-hover:opacity-50 transition-opacity duration-300" }),
                  /* @__PURE__ */ jsx("div", { className: "relative p-6 bg-white rounded-2xl shadow-xl border-2 border-gray-100 hover:border-red-200 transition-all duration-300", children: /* @__PURE__ */ jsx(
                    "img",
                    {
                      src: "/qr.webp",
                      alt: "QR Code pour paiement",
                      className: "w-28 h-28 object-contain"
                    }
                  ) })
                ] }),
                /* @__PURE__ */ jsxs("p", { className: "text-xs text-gray-500 mt-4 text-center leading-relaxed", children: [
                  "Compatible avec tous les",
                  /* @__PURE__ */ jsx("br", {}),
                  /* @__PURE__ */ jsx("span", { className: "font-semibold", children: "portefeuilles mobiles" })
                ] })
              ] })
            ] }),
            /* @__PURE__ */ jsx("div", { className: "mt-10 pt-8 border-t border-gray-200", children: /* @__PURE__ */ jsx("a", { href: route("client.ticket.index"), children: /* @__PURE__ */ jsxs(
              Button,
              {
                className: "w-full bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white py-4 rounded-2xl font-bold text-lg shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-[1.02]",
                children: [
                  /* @__PURE__ */ jsx(FileText, { className: "w-6 h-6 mr-3" }),
                  "Support - Besoin d'aide ?"
                ]
              }
            ) }) })
          ] })
        ] }) }),
        /* @__PURE__ */ jsxs("div", { className: "space-y-6", children: [
          /* @__PURE__ */ jsxs("div", { className: "bg-gradient-to-br from-red-50 via-pink-50 to-rose-50 rounded-3xl p-8 border-2 border-red-100 shadow-xl hover:shadow-2xl transition-all duration-300 relative overflow-hidden", children: [
            /* @__PURE__ */ jsx("div", { className: "absolute top-0 right-0 w-20 h-20 bg-red-200/30 rounded-full -translate-y-10 translate-x-10" }),
            /* @__PURE__ */ jsx("div", { className: "relative z-10", children: /* @__PURE__ */ jsxs("div", { className: "flex items-start gap-4", children: [
              /* @__PURE__ */ jsx("div", { className: "p-3 bg-gradient-to-r from-red-500 to-red-600 rounded-xl shadow-lg", children: /* @__PURE__ */ jsx(Shield, { className: "w-6 h-6 text-white" }) }),
              /* @__PURE__ */ jsxs("div", { children: [
                /* @__PURE__ */ jsx("h3", { className: "font-bold text-gray-900 mb-3 text-lg", children: "Sécurité maximale" }),
                /* @__PURE__ */ jsx("p", { className: "text-gray-700 mb-4 leading-relaxed", children: "Toutes les transactions sont sécurisées et protégées par nos systèmes avancés." }),
                /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-3 text-sm text-gray-600", children: [
                  /* @__PURE__ */ jsx("div", { className: "w-3 h-3 bg-gradient-to-r from-green-400 to-green-500 rounded-full shadow-sm" }),
                  /* @__PURE__ */ jsx("span", { className: "font-semibold", children: "Cryptage SSL 256-bit" })
                ] })
              ] })
            ] }) })
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "bg-white/80 backdrop-blur-xl rounded-3xl p-8 border-2 border-gray-100 shadow-xl hover:shadow-2xl transition-all duration-300", children: [
            /* @__PURE__ */ jsxs("h3", { className: "font-bold text-gray-900 mb-6 flex items-center gap-3 text-lg", children: [
              /* @__PURE__ */ jsx("div", { className: "p-2 bg-gradient-to-r from-blue-100 to-purple-100 rounded-lg", children: /* @__PURE__ */ jsx(Info, { className: "w-5 h-5 text-blue-600" }) }),
              "Instructions"
            ] }),
            /* @__PURE__ */ jsx("ul", { className: "space-y-4", children: [
              "Utilisez les coordonnées ci-contre pour vos virements",
              "Scannez le QR code pour un paiement mobile rapide",
              "Contactez le support pour toute assistance"
            ].map((instruction, index2) => /* @__PURE__ */ jsxs("li", { className: "flex items-start gap-3 group", children: [
              /* @__PURE__ */ jsx("div", { className: "w-2 h-2 bg-gradient-to-r from-red-500 to-red-600 rounded-full mt-2 group-hover:scale-125 transition-transform duration-300" }),
              /* @__PURE__ */ jsx("span", { className: "text-gray-700 leading-relaxed group-hover:text-gray-900 transition-colors duration-300", children: instruction })
            ] }, index2)) })
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "bg-gradient-to-br from-gray-50 to-slate-100 rounded-3xl p-8 border-2 border-gray-200 shadow-xl hover:shadow-2xl transition-all duration-300", children: [
            /* @__PURE__ */ jsx("h3", { className: "font-bold text-gray-900 mb-6 text-lg", children: "Contact & Support" }),
            /* @__PURE__ */ jsx("div", { className: "space-y-4", children: [
              { label: "Email", value: "support@wepresseco.com", icon: "📧" },
              { label: "Téléphone", value: "+212 669 66 88 00", icon: "📞" }
            ].map((contact, index2) => /* @__PURE__ */ jsxs(
              "div",
              {
                className: "flex items-center gap-4 p-3 bg-white rounded-xl hover:bg-gray-50 transition-colors duration-300",
                children: [
                  /* @__PURE__ */ jsx("span", { className: "text-xl", children: contact.icon }),
                  /* @__PURE__ */ jsxs("div", { children: [
                    /* @__PURE__ */ jsxs("p", { className: "text-sm font-semibold text-gray-600", children: [
                      contact.label,
                      ":"
                    ] }),
                    /* @__PURE__ */ jsx("p", { className: "font-bold text-gray-900", children: contact.value })
                  ] })
                ]
              },
              index2
            )) })
          ] })
        ] })
      ] })
    ] }) }),
    /* @__PURE__ */ jsx(Footer$1, {})
  ] });
}
const __vite_glob_0_32 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: BankInfoPage
}, Symbol.toStringTag, { value: "Module" }));
function PrivacyPolicyPage({ auth, seo }) {
  return /* @__PURE__ */ jsxs("div", { className: "min-h-screen bg-gray-800 flex flex-col", children: [
    /* @__PURE__ */ jsxs(Head, { children: [
      /* @__PURE__ */ jsx("title", { children: "Politique de confidentialité - Wepress Eco" }),
      /* @__PURE__ */ jsx(
        "meta",
        {
          name: "description",
          content: "Consultez la politique de confidentialité : collecte, utilisation et protection de vos données personnelles, conformément à la législation marocaine en vigueur."
        }
      )
    ] }),
    /* @__PURE__ */ jsx(Header, { auth }),
    /* @__PURE__ */ jsx("main", { className: "flex-1 pt-16 sm:pt-20 pb-8 sm:pb-12", children: /* @__PURE__ */ jsxs("div", { className: "w-[calc(100%-2rem)] max-w-[80rem] mx-auto px-4 sm:px-6 lg:px-8 pt-8", children: [
      /* @__PURE__ */ jsxs("nav", { className: "flex items-center space-x-1 sm:space-x-2 text-xs sm:text-sm mb-6 sm:mb-8 pt-6 sm:pt-8", children: [
        /* @__PURE__ */ jsxs("a", { href: "/", className: "text-gray-300 hover:text-white flex items-center transition-colors duration-200", children: [
          /* @__PURE__ */ jsx(Home$1, { className: "h-3 w-3 sm:h-4 sm:w-4 mr-1" }),
          /* @__PURE__ */ jsx("span", { className: "hidden xs:inline", children: "Accueil" })
        ] }),
        /* @__PURE__ */ jsx(ChevronRight, { className: "h-3 w-3 sm:h-4 sm:w-4 text-gray-500" }),
        /* @__PURE__ */ jsx("span", { className: "text-white font-medium", children: "Politique de confidentialité" })
      ] }),
      /* @__PURE__ */ jsxs("div", { className: "bg-white/5 backdrop-blur-sm rounded-xl sm:rounded-2xl p-4 sm:p-6 md:p-8 lg:p-12 border border-white/10", children: [
        /* @__PURE__ */ jsx("h1", { className: "text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold text-white mb-6 sm:mb-8", children: "Politique de confidentialité :" }),
        /* @__PURE__ */ jsxs("div", { className: "prose prose-sm sm:prose-base lg:prose-lg max-w-none text-gray-200 space-y-6 sm:space-y-8", children: [
          /* @__PURE__ */ jsxs("section", { children: [
            /* @__PURE__ */ jsxs("h2", { className: "text-xl sm:text-2xl font-bold text-white mb-3 sm:mb-4 flex items-start sm:items-center", children: [
              /* @__PURE__ */ jsx(FileText, { className: "h-5 w-5 sm:h-6 sm:w-6 mr-2 text-red-400 flex-shrink-0 mt-0.5 sm:mt-0" }),
              /* @__PURE__ */ jsx("span", { children: "Préambule :" })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "space-y-3 sm:space-y-4 text-sm sm:text-base text-gray-300 leading-relaxed", children: [
              /* @__PURE__ */ jsxs("p", { children: [
                "La société ",
                /* @__PURE__ */ jsx("span", { className: "text-red-400 font-semibold", children: "Journal WePress" }),
                ", SARL au capital de 100 000 DHS, immatriculée au",
                " ",
                /* @__PURE__ */ jsx("span", { className: "text-red-400 font-semibold", children: "Registre du Commerce" }),
                " de Tanger sous le numéro 150479, ICE : ",
                /* @__PURE__ */ jsx("span", { className: "font-mono text-xs sm:text-sm text-blue-400", children: "003516488000073" }),
                ", édite le site Internet www.wepresseco.com (ci-après « le Site »)."
              ] }),
              /* @__PURE__ */ jsxs("p", { children: [
                "La présente politique de confidentialité a pour objectif d'informer les utilisateurs sur les modalités de collecte, de traitement et de protection de leurs données personnelles conformément à la ",
                /* @__PURE__ */ jsx("span", { className: "text-yellow-400 font-semibold", children: "loi n° 09-08" }),
                " relative à la protection des personnes physiques à l'égard du traitement des données à caractère personnel."
              ] })
            ] })
          ] }),
          /* @__PURE__ */ jsxs("section", { children: [
            /* @__PURE__ */ jsxs("h2", { className: "text-xl sm:text-2xl font-bold text-white mb-3 sm:mb-4 flex items-start sm:items-center", children: [
              /* @__PURE__ */ jsx(Shield, { className: "h-5 w-5 sm:h-6 sm:w-6 mr-2 text-red-400 flex-shrink-0 mt-0.5 sm:mt-0" }),
              /* @__PURE__ */ jsx("span", { children: "1. Données collectées :" })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "space-y-3 sm:space-y-4 text-sm sm:text-base text-gray-300 leading-relaxed", children: [
              /* @__PURE__ */ jsx("p", { children: "WePress collecte uniquement les données personnelles strictement nécessaires à la fourniture de ses services, notamment :" }),
              /* @__PURE__ */ jsxs("ul", { className: "list-disc list-inside space-y-1.5 sm:space-y-2 ml-2 sm:ml-4", children: [
                /* @__PURE__ */ jsx("li", { children: "Nom et prénom" }),
                /* @__PURE__ */ jsx("li", { children: "Raison sociale" }),
                /* @__PURE__ */ jsx("li", { children: "Adresse email" }),
                /* @__PURE__ */ jsx("li", { children: "Numéro de téléphone" }),
                /* @__PURE__ */ jsx("li", { children: "Informations de facturation" }),
                /* @__PURE__ */ jsx("li", { children: "Données nécessaires à la publication d'annonces légales" })
              ] }),
              /* @__PURE__ */ jsx("div", { className: "bg-yellow-500/20 border border-yellow-500/30 rounded-lg p-3 sm:p-4 mt-3 sm:mt-4", children: /* @__PURE__ */ jsx("p", { className: "text-yellow-200 font-medium text-sm sm:text-base", children: "Aucune donnée sensible n'est collectée sans le consentement explicite de l'utilisateur." }) })
            ] })
          ] }),
          /* @__PURE__ */ jsxs("section", { children: [
            /* @__PURE__ */ jsxs("h2", { className: "text-xl sm:text-2xl font-bold text-white mb-3 sm:mb-4 flex items-start sm:items-center", children: [
              /* @__PURE__ */ jsx(Eye, { className: "h-5 w-5 sm:h-6 sm:w-6 mr-2 text-red-400 flex-shrink-0 mt-0.5 sm:mt-0" }),
              /* @__PURE__ */ jsx("span", { children: "2. Finalités du traitement :" })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "space-y-3 sm:space-y-4 text-sm sm:text-base text-gray-300 leading-relaxed", children: [
              /* @__PURE__ */ jsx("p", { children: "Les données collectées sont utilisées exclusivement pour :" }),
              /* @__PURE__ */ jsxs("ul", { className: "list-disc list-inside space-y-1.5 sm:space-y-2 ml-2 sm:ml-4", children: [
                /* @__PURE__ */ jsx("li", { children: "Fournir les services de rédaction et de publication d'annonces légales" }),
                /* @__PURE__ */ jsx("li", { children: "Gérer les comptes utilisateurs et commandes" }),
                /* @__PURE__ */ jsx("li", { children: "Assurer la communication avec les clients" }),
                /* @__PURE__ */ jsx("li", { children: "Respecter les obligations légales en vigueur" })
              ] })
            ] })
          ] }),
          /* @__PURE__ */ jsxs("section", { children: [
            /* @__PURE__ */ jsxs("h2", { className: "text-xl sm:text-2xl font-bold text-white mb-3 sm:mb-4 flex items-start sm:items-center", children: [
              /* @__PURE__ */ jsx(Users, { className: "h-5 w-5 sm:h-6 sm:w-6 mr-2 text-red-400 flex-shrink-0 mt-0.5 sm:mt-0" }),
              /* @__PURE__ */ jsx("span", { children: "3. Consentement et droits des utilisateurs :" })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "space-y-3 sm:space-y-4 text-sm sm:text-base text-gray-300 leading-relaxed", children: [
              /* @__PURE__ */ jsx("p", { children: "En utilisant le Site, l'utilisateur consent expressément à la collecte et au traitement de ses données personnelles." }),
              /* @__PURE__ */ jsxs("p", { children: [
                "Conformément à la ",
                /* @__PURE__ */ jsx("span", { className: "text-yellow-400 font-semibold", children: "loi n° 09-08" }),
                ", chaque utilisateur dispose des droits suivants :"
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "bg-blue-500/20 border border-blue-500/30 rounded-lg p-4 sm:p-6 mt-4 sm:mt-6", children: [
                /* @__PURE__ */ jsxs("h3", { className: "text-lg sm:text-xl font-semibold text-white mb-3 sm:mb-4 flex items-start sm:items-center", children: [
                  /* @__PURE__ */ jsx(CheckCircle, { className: "h-4 w-4 sm:h-5 sm:w-5 mr-2 text-green-400 flex-shrink-0 mt-0.5 sm:mt-0" }),
                  /* @__PURE__ */ jsx("span", { children: "Vos droits :" })
                ] }),
                /* @__PURE__ */ jsxs("ul", { className: "list-disc list-inside space-y-1.5 sm:space-y-2 text-sm sm:text-base text-blue-200", children: [
                  /* @__PURE__ */ jsx("li", { children: "Droit d'accès à ses données" }),
                  /* @__PURE__ */ jsx("li", { children: "Droit de rectification ou mise à jour" }),
                  /* @__PURE__ */ jsx("li", { children: "Droit d'opposition au traitement" }),
                  /* @__PURE__ */ jsx("li", { children: "Droit à la suppression de ses données" })
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "mt-3 sm:mt-4 p-3 sm:p-4 bg-white/10 rounded-lg", children: [
                  /* @__PURE__ */ jsx("p", { className: "text-xs sm:text-sm text-blue-100 mb-2", children: "Ces droits peuvent être exercés à tout moment en adressant une demande à :" }),
                  /* @__PURE__ */ jsx("p", { className: "text-sm sm:text-base text-white font-semibold break-all", children: "📧 info@wepresseco.com" })
                ] })
              ] })
            ] })
          ] }),
          /* @__PURE__ */ jsxs("section", { children: [
            /* @__PURE__ */ jsxs("h2", { className: "text-xl sm:text-2xl font-bold text-white mb-3 sm:mb-4 flex items-start sm:items-center", children: [
              /* @__PURE__ */ jsx(Lock, { className: "h-5 w-5 sm:h-6 sm:w-6 mr-2 text-red-400 flex-shrink-0 mt-0.5 sm:mt-0" }),
              /* @__PURE__ */ jsx("span", { children: "4. Durée de conservation :" })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "space-y-3 sm:space-y-4 text-sm sm:text-base text-gray-300 leading-relaxed", children: [
              /* @__PURE__ */ jsx("p", { children: "Les données sont conservées pendant la durée strictement nécessaire à la réalisation des services." }),
              /* @__PURE__ */ jsx("p", { children: "Passé ce délai, elles sont supprimées de façon définitive et sécurisée, sauf obligation légale contraire." })
            ] })
          ] }),
          /* @__PURE__ */ jsxs("section", { children: [
            /* @__PURE__ */ jsxs("h2", { className: "text-xl sm:text-2xl font-bold text-white mb-3 sm:mb-4 flex items-start sm:items-center", children: [
              /* @__PURE__ */ jsx(Shield, { className: "h-5 w-5 sm:h-6 sm:w-6 mr-2 text-red-400 flex-shrink-0 mt-0.5 sm:mt-0" }),
              /* @__PURE__ */ jsx("span", { children: "5. Sécurité des données :" })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "space-y-3 sm:space-y-4 text-sm sm:text-base text-gray-300 leading-relaxed", children: [
              /* @__PURE__ */ jsx("p", { children: "WePress met en œuvre toutes les mesures techniques et organisationnelles appropriées pour garantir la sécurité et la confidentialité des données personnelles :" }),
              /* @__PURE__ */ jsxs("ul", { className: "list-disc list-inside space-y-1.5 sm:space-y-2 ml-2 sm:ml-4", children: [
                /* @__PURE__ */ jsx("li", { children: "Hébergement sur des serveurs sécurisés localisés au Maroc" }),
                /* @__PURE__ */ jsx("li", { children: "Accès restreint aux données" }),
                /* @__PURE__ */ jsx("li", { children: "Protection contre les accès non autorisés, les pertes ou altérations" })
              ] })
            ] })
          ] }),
          /* @__PURE__ */ jsxs("section", { children: [
            /* @__PURE__ */ jsxs("h2", { className: "text-xl sm:text-2xl font-bold text-white mb-3 sm:mb-4 flex items-start sm:items-center", children: [
              /* @__PURE__ */ jsx(Users, { className: "h-5 w-5 sm:h-6 sm:w-6 mr-2 text-red-400 flex-shrink-0 mt-0.5 sm:mt-0" }),
              /* @__PURE__ */ jsx("span", { children: "6. Partage des données :" })
            ] }),
            /* @__PURE__ */ jsx("div", { className: "space-y-3 sm:space-y-4 text-sm sm:text-base text-gray-300 leading-relaxed", children: /* @__PURE__ */ jsx("div", { className: "bg-green-500/20 border border-green-500/30 rounded-lg p-3 sm:p-4", children: /* @__PURE__ */ jsx("p", { className: "text-green-200 font-medium text-sm sm:text-base", children: "Les données personnelles ne sont en aucun cas vendues, louées ou cédées à des tiers, sauf en cas d'obligation légale." }) }) })
          ] }),
          /* @__PURE__ */ jsxs("section", { children: [
            /* @__PURE__ */ jsxs("h2", { className: "text-xl sm:text-2xl font-bold text-white mb-3 sm:mb-4 flex items-start sm:items-center", children: [
              /* @__PURE__ */ jsx(FileText, { className: "h-5 w-5 sm:h-6 sm:w-6 mr-2 text-red-400 flex-shrink-0 mt-0.5 sm:mt-0" }),
              /* @__PURE__ */ jsx("span", { children: "7. Hébergement des données :" })
            ] }),
            /* @__PURE__ */ jsx("div", { className: "space-y-3 sm:space-y-4 text-sm sm:text-base text-gray-300 leading-relaxed", children: /* @__PURE__ */ jsxs("p", { children: [
              "Les données collectées via le Site sont hébergées sur des serveurs sécurisés fournis par",
              " ",
              /* @__PURE__ */ jsx("span", { className: "text-blue-400 font-semibold", children: "Lex Hosting" }),
              ", un hébergeur web marocain, dans le respect des normes en vigueur en matière de sécurité et de protection des données."
            ] }) })
          ] }),
          /* @__PURE__ */ jsxs("section", { children: [
            /* @__PURE__ */ jsxs("h2", { className: "text-xl sm:text-2xl font-bold text-white mb-3 sm:mb-4 flex items-start sm:items-center", children: [
              /* @__PURE__ */ jsx(CheckCircle, { className: "h-5 w-5 sm:h-6 sm:w-6 mr-2 text-red-400 flex-shrink-0 mt-0.5 sm:mt-0" }),
              /* @__PURE__ */ jsx("span", { children: "8. Notification à la CNDP :" })
            ] }),
            /* @__PURE__ */ jsx("div", { className: "space-y-3 sm:space-y-4 text-sm sm:text-base text-gray-300 leading-relaxed", children: /* @__PURE__ */ jsxs("p", { children: [
              "Le traitement des données personnelles a fait l'objet d'une notification auprès de la",
              " ",
              /* @__PURE__ */ jsx("span", { className: "text-purple-400 font-semibold", children: "CNDP" }),
              " (Commission Nationale de Contrôle de la Protection des Données à Caractère Personnel), sous le numéro de récépissé :",
              " ",
              /* @__PURE__ */ jsx("span", { className: "font-mono text-xs sm:text-sm text-yellow-400", children: "….." })
            ] }) })
          ] }),
          /* @__PURE__ */ jsxs("section", { children: [
            /* @__PURE__ */ jsxs("h2", { className: "text-xl sm:text-2xl font-bold text-white mb-3 sm:mb-4 flex items-start sm:items-center", children: [
              /* @__PURE__ */ jsx(Eye, { className: "h-5 w-5 sm:h-6 sm:w-6 mr-2 text-red-400 flex-shrink-0 mt-0.5 sm:mt-0" }),
              /* @__PURE__ */ jsx("span", { children: "9. Mise à jour de la politique :" })
            ] }),
            /* @__PURE__ */ jsx("div", { className: "space-y-3 sm:space-y-4 text-sm sm:text-base text-gray-300 leading-relaxed", children: /* @__PURE__ */ jsx("p", { children: "Cette politique de confidentialité peut être modifiée à tout moment en fonction de l'évolution des lois ou des services proposés. La version en vigueur est celle publiée sur le Site à la date de consultation." }) })
          ] }),
          /* @__PURE__ */ jsxs("section", { children: [
            /* @__PURE__ */ jsxs("h2", { className: "text-xl sm:text-2xl font-bold text-white mb-3 sm:mb-4 flex items-start sm:items-center", children: [
              /* @__PURE__ */ jsx(Users, { className: "h-5 w-5 sm:h-6 sm:w-6 mr-2 text-red-400 flex-shrink-0 mt-0.5 sm:mt-0" }),
              /* @__PURE__ */ jsx("span", { children: "10. Contact :" })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "bg-gray-800/50 rounded-lg p-4 sm:p-6 border border-gray-700", children: [
              /* @__PURE__ */ jsx("p", { className: "text-sm sm:text-base text-gray-300 mb-3 sm:mb-4", children: "Pour toute question relative à la protection des données personnelles, veuillez contacter :" }),
              /* @__PURE__ */ jsx("div", { className: "space-y-3 text-sm sm:text-base text-gray-300", children: /* @__PURE__ */ jsxs("div", { className: "bg-white/5 rounded-lg p-3 sm:p-4", children: [
                /* @__PURE__ */ jsx("h4", { className: "font-semibold text-white mb-2", children: "Journal WePress" }),
                /* @__PURE__ */ jsxs("div", { className: "space-y-2", children: [
                  /* @__PURE__ */ jsxs("p", { className: "break-all", children: [
                    /* @__PURE__ */ jsx("span", { className: "font-semibold text-red-400", children: "Email :" }),
                    " info@wepresseco.com"
                  ] }),
                  /* @__PURE__ */ jsxs("p", { children: [
                    /* @__PURE__ */ jsx("span", { className: "font-semibold text-red-400", children: "Adresse :" }),
                    " Avenue Moulay Ismail, Résidence Moulay Ismail, N°22, Étage 5, N°19 – Tanger, Maroc"
                  ] })
                ] })
              ] }) })
            ] })
          ] }),
          /* @__PURE__ */ jsx("div", { className: "border-t border-gray-600 pt-4 sm:pt-6 mt-6 sm:mt-8", children: /* @__PURE__ */ jsx("p", { className: "text-xs sm:text-sm text-gray-400 text-center", children: "Dernière mise à jour : Décembre 2024" }) })
        ] })
      ] })
    ] }) }),
    /* @__PURE__ */ jsx(Footer, {})
  ] });
}
const __vite_glob_0_33 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: PrivacyPolicyPage
}, Symbol.toStringTag, { value: "Module" }));
function TermsOfUsePage({ auth, seo }) {
  return /* @__PURE__ */ jsxs("div", { className: "min-h-screen bg-gray-800 flex flex-col", children: [
    /* @__PURE__ */ jsxs(Head, { children: [
      /* @__PURE__ */ jsx("title", { children: "Conditions Générales d'Utilisation - Wepress Eco" }),
      /* @__PURE__ */ jsx(
        "meta",
        {
          name: "description",
          content: "Consultez les Conditions Générales d'Utilisation : accès au site, droits et obligations des utilisateurs et respect de la législation marocaine en vigueur."
        }
      )
    ] }),
    /* @__PURE__ */ jsx(Header, { auth }),
    /* @__PURE__ */ jsx("main", { className: "flex-1 pt-16 sm:pt-20 pb-8 sm:pb-12", children: /* @__PURE__ */ jsxs("div", { className: "max-w-[80rem] mx-auto px-4 sm:px-6 lg:px-8 pt-8", children: [
      /* @__PURE__ */ jsxs("nav", { className: "flex flex-wrap items-center gap-2 text-xs sm:text-sm mb-6 sm:mb-8 pt-6 sm:pt-8", children: [
        /* @__PURE__ */ jsxs("a", { href: "/", className: "text-gray-300 hover:text-white flex items-center transition-colors duration-200", children: [
          /* @__PURE__ */ jsx(Home$1, { className: "h-3.5 w-3.5 sm:h-4 sm:w-4 mr-1 flex-shrink-0" }),
          /* @__PURE__ */ jsx("span", { children: "Accueil" })
        ] }),
        /* @__PURE__ */ jsx(ChevronRight, { className: "h-3.5 w-3.5 sm:h-4 sm:w-4 text-gray-500 flex-shrink-0" }),
        /* @__PURE__ */ jsx("span", { className: "text-white font-medium", children: "Conditions générales d'utilisation" })
      ] }),
      /* @__PURE__ */ jsxs("div", { className: "bg-white/5 backdrop-blur-sm rounded-xl sm:rounded-2xl p-4 sm:p-6 md:p-8 lg:p-12 border border-white/10", children: [
        /* @__PURE__ */ jsx("h1", { className: "text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold text-white mb-6 sm:mb-8 leading-tight", children: "Conditions Générales d'Utilisation :" }),
        /* @__PURE__ */ jsxs("div", { className: "prose prose-sm sm:prose-base lg:prose-lg max-w-none text-gray-200 space-y-6 sm:space-y-8", children: [
          /* @__PURE__ */ jsxs("section", { children: [
            /* @__PURE__ */ jsxs("h2", { className: "text-lg sm:text-xl md:text-2xl font-bold text-white mb-3 sm:mb-4 flex items-start sm:items-center", children: [
              /* @__PURE__ */ jsx(FileText, { className: "h-5 w-5 sm:h-6 sm:w-6 mr-2 text-red-400 flex-shrink-0 mt-0.5 sm:mt-0" }),
              /* @__PURE__ */ jsx("span", { children: "Préambule :" })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "space-y-3 sm:space-y-4 text-sm sm:text-base text-gray-300 leading-relaxed", children: [
              /* @__PURE__ */ jsxs("p", { children: [
                "Le site Internet ",
                /* @__PURE__ */ jsx("span", { className: "text-white font-semibold", children: "www.wepresseco.com" }),
                " (ci-après, le « Site ») est édité par la société ",
                /* @__PURE__ */ jsx("span", { className: "text-white font-semibold", children: "Journal WePress" }),
                ", une SARL au capital de ",
                /* @__PURE__ */ jsx("span", { className: "text-white font-semibold", children: "100 000 DHS" }),
                ", immatriculée au Registre du Commerce de Tanger sous le numéro",
                " ",
                /* @__PURE__ */ jsx("span", { className: "font-mono text-white", children: "150479" }),
                ", et identifiée par l'ICE :",
                " ",
                /* @__PURE__ */ jsx("span", { className: "font-mono text-white break-all", children: "003516488000073" }),
                " (ci-après, le « Prestataire »)."
              ] }),
              /* @__PURE__ */ jsx("p", { children: "L'accès et l'utilisation du Site sont strictement réglementés et soumis au respect des présentes Conditions Générales d'Utilisation (« CGU »). Toute utilisation du Site implique l'acceptation pleine et entière des CGU, lesquelles ont force obligatoire entre le Prestataire et l'Utilisateur." }),
              /* @__PURE__ */ jsx("p", { children: "Le Site propose des services en ligne de rédaction et de publication d'annonces légales, conformes aux exigences légales et administratives en vigueur au Maroc. Ces services sont destinés aux entreprises, professionnels et institutions souhaitant respecter les obligations de publication imposées par la loi." })
            ] })
          ] }),
          /* @__PURE__ */ jsxs("section", { children: [
            /* @__PURE__ */ jsxs("h2", { className: "text-lg sm:text-xl md:text-2xl font-bold text-white mb-3 sm:mb-4 flex items-start sm:items-center", children: [
              /* @__PURE__ */ jsx(Users, { className: "h-5 w-5 sm:h-6 sm:w-6 mr-2 text-red-400 flex-shrink-0 mt-0.5 sm:mt-0" }),
              /* @__PURE__ */ jsx("span", { children: "1. Définitions :" })
            ] }),
            /* @__PURE__ */ jsx("div", { className: "space-y-3 sm:space-y-4 text-sm sm:text-base text-gray-300 leading-relaxed", children: /* @__PURE__ */ jsx("div", { className: "bg-white/10 border border-white/20 rounded-lg sm:rounded-xl p-4 sm:p-6", children: /* @__PURE__ */ jsxs("ul", { className: "space-y-3 sm:space-y-4", children: [
              /* @__PURE__ */ jsxs("li", { children: [
                /* @__PURE__ */ jsx("span", { className: "text-white font-semibold", children: "CGU :" }),
                " Désigne les présentes Conditions Générales d'Utilisation, qui régissent l'accès et l'utilisation du Site par les Utilisateurs."
              ] }),
              /* @__PURE__ */ jsxs("li", { children: [
                /* @__PURE__ */ jsx("span", { className: "text-white font-semibold", children: "Utilisateur :" }),
                " Toute personne accédant au Site, qu'il soit simple visiteur ou Client."
              ] }),
              /* @__PURE__ */ jsxs("li", { children: [
                /* @__PURE__ */ jsx("span", { className: "text-white font-semibold", children: "Client :" }),
                " Toute personne physique ou morale utilisant les services du Site pour passer une Commande et bénéficier des prestations offertes."
              ] }),
              /* @__PURE__ */ jsxs("li", { children: [
                /* @__PURE__ */ jsx("span", { className: "text-white font-semibold", children: "Compte :" }),
                " Espace personnel créé par un Client, lui permettant d'accéder aux Services et de suivre ses Commandes."
              ] }),
              /* @__PURE__ */ jsxs("li", { children: [
                /* @__PURE__ */ jsx("span", { className: "text-white font-semibold", children: "Services :" }),
                " Prestations proposées par le Prestataire sur le Site, notamment la rédaction et la publication d'Annonces Légales, avec accompagnement juridique et administratif."
              ] }),
              /* @__PURE__ */ jsxs("li", { children: [
                /* @__PURE__ */ jsx("span", { className: "text-white font-semibold", children: "Annonce Légale :" }),
                " Publicité officielle requise pour certains événements juridiques affectant une entreprise, tels que la création, la modification ou la dissolution."
              ] }),
              /* @__PURE__ */ jsxs("li", { children: [
                /* @__PURE__ */ jsx("span", { className: "text-white font-semibold", children: "Contenu :" }),
                " Ensemble des informations publiées sur le Site, y compris textes, images, vidéos, bases de données, ainsi que les contributions des Utilisateurs."
              ] })
            ] }) }) })
          ] }),
          /* @__PURE__ */ jsxs("section", { children: [
            /* @__PURE__ */ jsxs("h2", { className: "text-lg sm:text-xl md:text-2xl font-bold text-white mb-3 sm:mb-4 flex items-start sm:items-center", children: [
              /* @__PURE__ */ jsx(FileText, { className: "h-5 w-5 sm:h-6 sm:w-6 mr-2 text-red-400 flex-shrink-0 mt-0.5 sm:mt-0" }),
              /* @__PURE__ */ jsx("span", { children: "2. Objet des CGU :" })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "space-y-3 sm:space-y-4 text-sm sm:text-base text-gray-300 leading-relaxed", children: [
              /* @__PURE__ */ jsx("p", { children: "Les présentes CGU ont pour objet de définir les conditions dans lesquelles les Utilisateurs peuvent accéder et utiliser le Site, ses contenus et ses Services. Elles encadrent les droits et obligations des parties, afin de garantir un cadre sécurisé et conforme aux règles juridiques en vigueur." }),
              /* @__PURE__ */ jsx("p", { children: "Le Prestataire met à disposition du Client un service de publication d'annonces conforme aux normes officielles. Il assure la mise en ligne et la diffusion des annonces dans les plus brefs délais." }),
              /* @__PURE__ */ jsx("p", { children: "Toute utilisation du Site implique l'adhésion sans réserve aux présentes CGU. Le Prestataire se réserve le droit de modifier ces CGU à tout moment, notamment pour les adapter aux évolutions légales et technologiques." })
            ] })
          ] }),
          /* @__PURE__ */ jsxs("section", { children: [
            /* @__PURE__ */ jsxs("h2", { className: "text-lg sm:text-xl md:text-2xl font-bold text-white mb-3 sm:mb-4 flex items-start sm:items-center", children: [
              /* @__PURE__ */ jsx(Eye, { className: "h-5 w-5 sm:h-6 sm:w-6 mr-2 text-red-400 flex-shrink-0 mt-0.5 sm:mt-0" }),
              /* @__PURE__ */ jsx("span", { children: "3. Accès au Site et Services :" })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "space-y-3 sm:space-y-4 text-sm sm:text-base text-gray-300 leading-relaxed", children: [
              /* @__PURE__ */ jsx("p", { children: "Le Site est accessible à toute personne disposant d'une connexion Internet et d'un équipement informatique compatible. Le Prestataire met en place toutes les mesures nécessaires pour assurer la disponibilité du Site, mais ne garantit pas une accessibilité continue en cas de maintenance ou de force majeure." }),
              /* @__PURE__ */ jsx("p", { children: "L'Utilisateur est seul responsable de son accès à Internet et des coûts associés. Il s'engage à ne pas tenter d'interrompre le fonctionnement du Site par des actes malveillants ou frauduleux, tels que l'injection de virus ou le piratage informatique." })
            ] })
          ] }),
          /* @__PURE__ */ jsxs("section", { children: [
            /* @__PURE__ */ jsxs("h2", { className: "text-lg sm:text-xl md:text-2xl font-bold text-white mb-3 sm:mb-4 flex items-start sm:items-center", children: [
              /* @__PURE__ */ jsx(Users, { className: "h-5 w-5 sm:h-6 sm:w-6 mr-2 text-red-400 flex-shrink-0 mt-0.5 sm:mt-0" }),
              /* @__PURE__ */ jsx("span", { children: "4. Obligations de l'Utilisateur :" })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "space-y-3 sm:space-y-4 text-sm sm:text-base text-gray-300 leading-relaxed", children: [
              /* @__PURE__ */ jsx("p", { children: "L'Utilisateur s'engage à :" }),
              /* @__PURE__ */ jsxs("ul", { className: "list-disc list-inside space-y-2 ml-2 sm:ml-4", children: [
                /* @__PURE__ */ jsx("li", { children: "Utiliser le Site de manière conforme à la réglementation en vigueur et aux bonnes pratiques d'utilisation d'Internet." }),
                /* @__PURE__ */ jsx("li", { children: "Ne pas publier de contenu diffamatoire, insultant, discriminatoire, menaçant ou portant atteinte à l'ordre public." }),
                /* @__PURE__ */ jsx("li", { children: "Ne pas usurper l'identité d'un tiers ou fournir de fausses informations dans le cadre de la création de son Compte." }),
                /* @__PURE__ */ jsx("li", { children: "Protéger ses informations de connexion et ne pas les partager avec des tiers." })
              ] }),
              /* @__PURE__ */ jsx("div", { className: "bg-white/10 border border-white/20 rounded-lg p-3 sm:p-4 mt-3 sm:mt-4", children: /* @__PURE__ */ jsx("p", { className: "text-white font-medium text-sm sm:text-base", children: "Le non-respect de ces obligations pourra entraîner la suspension immédiate du Compte de l'Utilisateur, sans préavis." }) })
            ] })
          ] }),
          /* @__PURE__ */ jsxs("section", { children: [
            /* @__PURE__ */ jsxs("h2", { className: "text-lg sm:text-xl md:text-2xl font-bold text-white mb-3 sm:mb-4 flex items-start sm:items-center", children: [
              /* @__PURE__ */ jsx(Shield, { className: "h-5 w-5 sm:h-6 sm:w-6 mr-2 text-red-400 flex-shrink-0 mt-0.5 sm:mt-0" }),
              /* @__PURE__ */ jsx("span", { children: "5. Responsabilités :" })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "space-y-3 sm:space-y-4 text-sm sm:text-base text-gray-300 leading-relaxed", children: [
              /* @__PURE__ */ jsx("p", { children: "Le Prestataire met tout en œuvre pour garantir la fiabilité des informations publiées sur le Site. Toutefois, il ne peut garantir l'absence totale d'erreurs, de virus ou d'interruptions techniques." }),
              /* @__PURE__ */ jsx("p", { children: "L'Utilisateur est seul responsable de l'usage qu'il fait du Site et de ses contenus. Le Prestataire ne pourra être tenu responsable de dommages indirects, tels que la perte de revenus ou d'opportunités commerciales." })
            ] })
          ] }),
          /* @__PURE__ */ jsxs("section", { children: [
            /* @__PURE__ */ jsxs("h2", { className: "text-lg sm:text-xl md:text-2xl font-bold text-white mb-3 sm:mb-4 flex items-start sm:items-center", children: [
              /* @__PURE__ */ jsx(FileText, { className: "h-5 w-5 sm:h-6 sm:w-6 mr-2 text-red-400 flex-shrink-0 mt-0.5 sm:mt-0" }),
              /* @__PURE__ */ jsx("span", { children: "6. Propriété Intellectuelle :" })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "space-y-3 sm:space-y-4 text-sm sm:text-base text-gray-300 leading-relaxed", children: [
              /* @__PURE__ */ jsx("p", { children: "Le Site et l'ensemble de ses contenus (textes, images, logos, bases de données, etc.) sont protégés par les lois sur la propriété intellectuelle. Toute reproduction, distribution ou modification non autorisée est strictement interdite." }),
              /* @__PURE__ */ jsx("p", { children: "L'Utilisateur reconnaît que l'accès au Site ne lui confère aucun droit de propriété sur les éléments qui y sont affichés." })
            ] })
          ] }),
          /* @__PURE__ */ jsxs("section", { children: [
            /* @__PURE__ */ jsxs("h2", { className: "text-lg sm:text-xl md:text-2xl font-bold text-white mb-3 sm:mb-4 flex items-start sm:items-center", children: [
              /* @__PURE__ */ jsx(Lock, { className: "h-5 w-5 sm:h-6 sm:w-6 mr-2 text-red-400 flex-shrink-0 mt-0.5 sm:mt-0" }),
              /* @__PURE__ */ jsx("span", { children: "7. Protection des Données à Caractère Personnel :" })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "space-y-3 sm:space-y-4 text-sm sm:text-base text-gray-300 leading-relaxed", children: [
              /* @__PURE__ */ jsx("p", { children: "Le respect de la vie privée des utilisateurs du Site constitue une priorité pour Journal Wepress. En accédant à la plateforme et en utilisant ses services, les utilisateurs consentent expressément à la collecte, au traitement et à la conservation de leurs données à caractère personnel, conformément à la loi marocaine n° 09-08 du 18 février 2009 relative à la protection des personnes physiques à l'égard du traitement des données personnelles." }),
              /* @__PURE__ */ jsx("p", { children: "Les informations personnelles fournies par les utilisateurs sont stockées de manière sécurisée sur des serveurs situés hors du territoire marocain, notamment en France. WePress s'assure que toutes les mesures techniques et organisationnelles appropriées sont mises en place pour protéger ces données contre tout accès non autorisé, perte, altération ou divulgation illicite." }),
              /* @__PURE__ */ jsx("p", { children: "Aucune donnée à caractère personnel n'est collectée à l'insu des utilisateurs. Journal Wepress garantit que ces informations ne seront ni vendues, ni cédées à des tiers sans le consentement explicite de l'utilisateur, sauf obligation légale ou réglementaire." }),
              /* @__PURE__ */ jsxs("div", { className: "bg-white/10 border border-white/20 rounded-lg p-4 sm:p-6", children: [
                /* @__PURE__ */ jsx("p", { className: "text-white font-medium mb-3 sm:mb-4 text-sm sm:text-base", children: "Conformément aux dispositions de la loi n° 09-08, tout utilisateur dispose d'un droit d'accès, de rectification, de suppression et d'opposition sur ses données personnelles." }),
                /* @__PURE__ */ jsxs("p", { className: "text-gray-300 text-sm sm:text-base", children: [
                  "Ces droits peuvent être exercés en envoyant une demande écrite à",
                  " ",
                  /* @__PURE__ */ jsx("span", { className: "text-white font-semibold break-all", children: "info@wepresseco.com" }),
                  ", en indiquant clairement l'objet de la requête ainsi que toute information permettant d'identifier l'utilisateur."
                ] })
              ] }),
              /* @__PURE__ */ jsx("p", { children: "Journal WePress s'engage à ne conserver les données personnelles des utilisateurs que pendant la durée strictement nécessaire à la fourniture des services, conformément aux obligations légales en vigueur. Une fois cette durée expirée, les données sont supprimées de manière définitive et irréversible." }),
              /* @__PURE__ */ jsxs("p", { children: [
                "Ce traitement a été dûment notifié et autorisé par la Commission Nationale de Contrôle de la Protection des Données à Caractère Personnel (CNDP) sous le numéro de récépissé",
                " ",
                /* @__PURE__ */ jsx("span", { className: "font-mono text-white", children: "……..." })
              ] })
            ] })
          ] }),
          /* @__PURE__ */ jsxs("section", { children: [
            /* @__PURE__ */ jsxs("h2", { className: "text-lg sm:text-xl md:text-2xl font-bold text-white mb-3 sm:mb-4 flex items-start sm:items-center", children: [
              /* @__PURE__ */ jsx(Scale, { className: "h-5 w-5 sm:h-6 sm:w-6 mr-2 text-red-400 flex-shrink-0 mt-0.5 sm:mt-0" }),
              /* @__PURE__ */ jsx("span", { children: "8. Droit Applicable et Litiges :" })
            ] }),
            /* @__PURE__ */ jsx("div", { className: "space-y-3 sm:space-y-4 text-sm sm:text-base text-gray-300 leading-relaxed", children: /* @__PURE__ */ jsx("p", { children: "Les présentes CGU sont régies par le droit marocain. En cas de litige, les parties s'efforceront de trouver une solution amiable. Si aucune solution n'est trouvée, la compétence exclusive reviendra aux tribunaux de Tanger." }) })
          ] }),
          /* @__PURE__ */ jsxs("section", { children: [
            /* @__PURE__ */ jsxs("h2", { className: "text-lg sm:text-xl md:text-2xl font-bold text-white mb-3 sm:mb-4 flex items-start sm:items-center", children: [
              /* @__PURE__ */ jsx(Mail, { className: "h-5 w-5 sm:h-6 sm:w-6 mr-2 text-red-400 flex-shrink-0 mt-0.5 sm:mt-0" }),
              /* @__PURE__ */ jsx("span", { children: "9. Contact :" })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "bg-white/10 border border-white/20 rounded-lg p-4 sm:p-6", children: [
              /* @__PURE__ */ jsx("p", { className: "text-gray-300 mb-3 sm:mb-4 text-sm sm:text-base", children: "Pour toute question ou réclamation, veuillez nous contacter :" }),
              /* @__PURE__ */ jsx("div", { className: "space-y-3 text-sm sm:text-base text-gray-300", children: /* @__PURE__ */ jsx("div", { className: "bg-white/5 rounded-lg p-3 sm:p-4", children: /* @__PURE__ */ jsxs("div", { className: "space-y-2", children: [
                /* @__PURE__ */ jsxs("p", { className: "break-all", children: [
                  /* @__PURE__ */ jsx("span", { className: "font-semibold text-white", children: "Email :" }),
                  " info@wepresseco.com"
                ] }),
                /* @__PURE__ */ jsxs("p", { children: [
                  /* @__PURE__ */ jsx("span", { className: "font-semibold text-white", children: "Adresse :" }),
                  " AVENUE MOULAY ISMAIL, RÉSIDENCE MOULAY ISMAIL, N°22, Étage 5, N°19, Tanger, Maroc"
                ] })
              ] }) }) })
            ] })
          ] })
        ] })
      ] })
    ] }) }),
    /* @__PURE__ */ jsx(Footer, {})
  ] });
}
const __vite_glob_0_34 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: TermsOfUsePage
}, Symbol.toStringTag, { value: "Module" }));
function ConditionsGeneralesVentePage({ auth, seo }) {
  return /* @__PURE__ */ jsxs("div", { className: "min-h-screen bg-gray-800 flex flex-col", children: [
    /* @__PURE__ */ jsxs(Head, { children: [
      /* @__PURE__ */ jsx("title", { children: "Conditions Générales de Vente | Wepress Eco" }),
      /* @__PURE__ */ jsx(
        "meta",
        {
          name: "description",
          content: "Découvrez nos Conditions Générales de Vente : droits et obligations, modalités de commande, paiement et livraison pour nos services d'annonces légales en ligne au Maroc."
        }
      )
    ] }),
    /* @__PURE__ */ jsx(Header, { auth }),
    /* @__PURE__ */ jsx("main", { className: "flex-1 pt-16 sm:pt-20 pb-8 sm:pb-12", children: /* @__PURE__ */ jsxs("div", { className: "w-full max-w-[80rem] mx-auto px-4 sm:px-6 lg:px-8 pt-8", children: [
      /* @__PURE__ */ jsxs("nav", { className: "flex flex-wrap items-center gap-2 text-xs sm:text-sm mb-6 sm:mb-8 pt-6 sm:pt-8", children: [
        /* @__PURE__ */ jsxs("a", { href: "/", className: "text-gray-300 hover:text-white flex items-center transition-colors duration-200", children: [
          /* @__PURE__ */ jsx(Home$1, { className: "h-3 w-3 sm:h-4 sm:w-4 mr-1 flex-shrink-0" }),
          /* @__PURE__ */ jsx("span", { className: "whitespace-nowrap", children: "Accueil" })
        ] }),
        /* @__PURE__ */ jsx(ChevronRight, { className: "h-3 w-3 sm:h-4 sm:w-4 text-gray-500 flex-shrink-0" }),
        /* @__PURE__ */ jsx("span", { className: "text-white font-medium break-words", children: "Conditions Générales de Vente" })
      ] }),
      /* @__PURE__ */ jsxs("div", { className: "bg-white/5 backdrop-blur-sm rounded-xl sm:rounded-2xl p-4 sm:p-6 md:p-8 lg:p-12 border border-white/10", children: [
        /* @__PURE__ */ jsx("h1", { className: "text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold text-white mb-6 sm:mb-8 leading-tight", children: "Conditions Générales de Vente :" }),
        /* @__PURE__ */ jsxs("div", { className: "prose prose-sm sm:prose-base lg:prose-lg max-w-none text-gray-200 space-y-6 sm:space-y-8", children: [
          /* @__PURE__ */ jsxs("section", { children: [
            /* @__PURE__ */ jsxs("h2", { className: "text-xl sm:text-2xl font-bold text-white mb-4 sm:mb-6 flex items-start sm:items-center", children: [
              /* @__PURE__ */ jsx(FileText, { className: "h-5 w-5 sm:h-6 sm:w-6 mr-2 text-red-400 flex-shrink-0 mt-1 sm:mt-0" }),
              /* @__PURE__ */ jsx("span", { children: "Préambule :" })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "space-y-4 sm:space-y-6 text-gray-300 leading-relaxed", children: [
              /* @__PURE__ */ jsxs("p", { className: "text-sm sm:text-base lg:text-lg", children: [
                "Le site Internet ",
                /* @__PURE__ */ jsx("span", { className: "text-red-400 font-semibold break-all", children: "www.wepresseco.com" }),
                " ",
                "(ci-après, le « Site ») est édité par la société",
                " ",
                /* @__PURE__ */ jsx("span", { className: "text-white font-semibold", children: "Journal WePress Eco" }),
                ", une SARL au capital de",
                " ",
                /* @__PURE__ */ jsx("span", { className: "text-white font-semibold", children: "100 000 DHS" }),
                ", immatriculée au",
                " ",
                /* @__PURE__ */ jsx("span", { className: "text-white font-semibold", children: "Registre du Commerce de Tanger" }),
                " sous le numéro",
                " ",
                /* @__PURE__ */ jsx("span", { className: "font-mono text-green-400", children: "150479" }),
                ", et identifiée par l'",
                " ",
                /* @__PURE__ */ jsx("span", { className: "text-white font-semibold", children: "ICE : 003516488000073" }),
                " (ci-après, le « Prestataire »)."
              ] }),
              /* @__PURE__ */ jsx("div", { className: "bg-white/10 border border-white/20 rounded-lg sm:rounded-xl p-4 sm:p-6", children: /* @__PURE__ */ jsxs("p", { className: "text-sm sm:text-base text-gray-300 leading-relaxed", children: [
                "Le Site commercialise des",
                " ",
                /* @__PURE__ */ jsx("span", { className: "text-white font-semibold", children: "services de rédaction et de publication d'annonces légales en ligne" }),
                ", permettant aux professionnels de se conformer aux obligations légales en vigueur au Maroc en matière de publicité des actes juridiques et administratifs. Les services incluent la rédaction, la mise en forme et la publication des annonces, avec un suivi administratif pour garantir leur validité légale."
              ] }) }),
              /* @__PURE__ */ jsx("p", { className: "text-sm sm:text-base text-gray-300 leading-relaxed", children: "Les présentes Conditions Générales de Vente (« CGV ») régissent exclusivement les relations entre le Prestataire et les Clients du Site. Elles ont pour objet de définir les droits et obligations des parties dans le cadre de l'utilisation des services fournis." })
            ] })
          ] }),
          /* @__PURE__ */ jsxs("section", { children: [
            /* @__PURE__ */ jsxs("h2", { className: "text-xl sm:text-2xl font-bold text-white mb-4 sm:mb-6 flex items-start sm:items-center", children: [
              /* @__PURE__ */ jsx(Users, { className: "h-5 w-5 sm:h-6 sm:w-6 mr-2 text-red-400 flex-shrink-0 mt-1 sm:mt-0" }),
              /* @__PURE__ */ jsx("span", { children: "1. Définitions :" })
            ] }),
            /* @__PURE__ */ jsx("div", { className: "grid grid-cols-1 gap-3 sm:gap-4", children: /* @__PURE__ */ jsx("div", { className: "bg-white/10 border border-white/20 rounded-lg sm:rounded-xl p-4 sm:p-6", children: /* @__PURE__ */ jsxs("div", { className: "space-y-3 sm:space-y-4 text-sm sm:text-base text-gray-300", children: [
              /* @__PURE__ */ jsxs("div", { children: [
                /* @__PURE__ */ jsx("span", { className: "text-white font-semibold", children: "CGV :" }),
                " Désigne les présentes Conditions Générales de Vente."
              ] }),
              /* @__PURE__ */ jsxs("div", { children: [
                /* @__PURE__ */ jsx("span", { className: "text-white font-semibold", children: "Client :" }),
                " Toute personne physique ou morale passant une Commande sur le Site."
              ] }),
              /* @__PURE__ */ jsxs("div", { children: [
                /* @__PURE__ */ jsx("span", { className: "text-white font-semibold", children: "Commande :" }),
                " Toute demande de Service(s) passée par un Client, impliquant un paiement et un engagement contractuel."
              ] }),
              /* @__PURE__ */ jsxs("div", { children: [
                /* @__PURE__ */ jsx("span", { className: "text-white font-semibold", children: "Compte :" }),
                " Espace personnel du Client sur le Site, permettant l'accès aux Services souscrits et au suivi des publications."
              ] }),
              /* @__PURE__ */ jsxs("div", { children: [
                /* @__PURE__ */ jsx("span", { className: "text-white font-semibold", children: "Services :" }),
                " Ensemble des prestations proposées sur le Site, notamment la rédaction et la publication d'Annonces Légales en ligne."
              ] }),
              /* @__PURE__ */ jsxs("div", { children: [
                /* @__PURE__ */ jsx("span", { className: "text-white font-semibold", children: "Annonce Légale :" }),
                " Publicité officielle requise pour certains événements juridiques d'une entreprise, devant être publiée dans un journal habilité."
              ] }),
              /* @__PURE__ */ jsxs("div", { children: [
                /* @__PURE__ */ jsx("span", { className: "text-white font-semibold", children: "Ordre de Publication :" }),
                " Contenu de l'Annonce Légale demandé par le Client, soumis à validation avant publication."
              ] })
            ] }) }) })
          ] }),
          /* @__PURE__ */ jsxs("section", { children: [
            /* @__PURE__ */ jsxs("h2", { className: "text-xl sm:text-2xl font-bold text-white mb-4 sm:mb-6 flex items-start sm:items-center", children: [
              /* @__PURE__ */ jsx(Shield, { className: "h-5 w-5 sm:h-6 sm:w-6 mr-2 text-red-400 flex-shrink-0 mt-1 sm:mt-0" }),
              /* @__PURE__ */ jsx("span", { children: "2. Objet et Acceptation des CGV :" })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "space-y-4 sm:space-y-6 text-sm sm:text-base text-gray-300 leading-relaxed", children: [
              /* @__PURE__ */ jsx("p", { children: "Les présentes CGV définissent les conditions dans lesquelles le Client peut utiliser les Services du Site et souscrire aux offres proposées. Elles précisent les règles contractuelles encadrant la relation entre le Prestataire et le Client, notamment les modalités de paiement, de livraison et de responsabilité." }),
              /* @__PURE__ */ jsx("div", { className: "bg-red-500/10 border border-red-500/20 rounded-lg sm:rounded-xl p-4 sm:p-6", children: /* @__PURE__ */ jsxs("div", { className: "flex flex-col sm:flex-row sm:items-start space-y-2 sm:space-y-0 sm:space-x-3", children: [
                /* @__PURE__ */ jsx(AlertTriangle, { className: "h-5 w-5 text-red-400 flex-shrink-0" }),
                /* @__PURE__ */ jsxs("div", { className: "flex-1 min-w-0", children: [
                  /* @__PURE__ */ jsx("p", { className: "text-white font-semibold mb-2", children: "Acceptation obligatoire" }),
                  /* @__PURE__ */ jsxs("p", { className: "text-sm sm:text-base text-gray-300", children: [
                    "L'acceptation des CGV est ",
                    /* @__PURE__ */ jsx("span", { className: "text-white font-semibold", children: "obligatoire" }),
                    " avant toute Commande. En passant Commande, le Client reconnaît avoir pris connaissance des CGV et les accepter sans réserve. Cette acceptation s'effectue lors de la validation de la Commande, par un clic sur la case prévue à cet effet."
                  ] })
                ] })
              ] }) }),
              /* @__PURE__ */ jsx("p", { children: "Le Prestataire peut modifier les CGV à tout moment afin de les adapter à évolutions réglementaires ou techniques. La version applicable est celle en vigueur au moment de la Commande." })
            ] })
          ] }),
          /* @__PURE__ */ jsxs("section", { children: [
            /* @__PURE__ */ jsxs("h2", { className: "text-xl sm:text-2xl font-bold text-white mb-4 sm:mb-6 flex items-start sm:items-center", children: [
              /* @__PURE__ */ jsx(Users, { className: "h-5 w-5 sm:h-6 sm:w-6 mr-2 text-red-400 flex-shrink-0 mt-1 sm:mt-0" }),
              /* @__PURE__ */ jsx("span", { children: "3. Utilisation Professionnelle :" })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "space-y-4 sm:space-y-6 text-sm sm:text-base text-gray-300 leading-relaxed", children: [
              /* @__PURE__ */ jsxs("div", { className: "bg-blue-500/10 border border-blue-500/20 rounded-lg sm:rounded-xl p-4 sm:p-6", children: [
                /* @__PURE__ */ jsx("p", { className: "text-white font-semibold mb-2", children: "Usage exclusivement professionnel" }),
                /* @__PURE__ */ jsxs("p", { className: "text-sm sm:text-base text-gray-300", children: [
                  "Les Services du Site sont",
                  " ",
                  /* @__PURE__ */ jsx("span", { className: "text-white font-semibold", children: "exclusivement destinés à un usage professionnel" }),
                  ". Le Client s'engage à utiliser les Services dans le cadre de son activité commerciale, industrielle, artisanale ou libérale, et non à titre personnel."
                ] })
              ] }),
              /* @__PURE__ */ jsx("p", { children: "Le Client déclare disposer des autorisations nécessaires pour effectuer les Commandes sur le Site et atteste que les informations transmises sont exactes, sincères et conformes aux obligations légales en vigueur." }),
              /* @__PURE__ */ jsx("p", { children: "Le Prestataire se réserve le droit de suspendre ou de refuser toute Commande si des indices de fraude ou d'utilisation abusive des Services sont détectés." })
            ] })
          ] }),
          /* @__PURE__ */ jsxs("section", { children: [
            /* @__PURE__ */ jsxs("h2", { className: "text-xl sm:text-2xl font-bold text-white mb-4 sm:mb-6 flex items-start sm:items-center", children: [
              /* @__PURE__ */ jsx(Globe, { className: "h-5 w-5 sm:h-6 sm:w-6 mr-2 text-red-400 flex-shrink-0 mt-1 sm:mt-0" }),
              /* @__PURE__ */ jsx("span", { children: "4. Accès au Site et Responsabilités Techniques :" })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "space-y-4 sm:space-y-6 text-sm sm:text-base text-gray-300 leading-relaxed", children: [
              /* @__PURE__ */ jsx("p", { children: "L'accès au Site requiert une connexion Internet et un équipement informatique approprié. Le Client est seul responsable de sa connexion et des moyens matériels et logiciels qu'il utilise pour accéder aux Services." }),
              /* @__PURE__ */ jsx("div", { className: "bg-yellow-500/10 border border-yellow-500/20 rounded-lg sm:rounded-xl p-4 sm:p-6", children: /* @__PURE__ */ jsx("p", { className: "text-sm sm:text-base text-gray-300", children: "Le Prestataire met tout en œuvre pour assurer un accès ininterrompu au Site, mais ne garantit pas l'absence totale d'erreurs, d'interruptions ou de dysfonctionnements pouvant résulter notamment de maintenance technique, de pannes réseaux ou d'attaques informatiques." }) }),
              /* @__PURE__ */ jsx("p", { children: "En cas d'interruption temporaire ou prolongée des Services, le Prestataire ne saurait être tenu responsable des conséquences directes ou indirectes sur l'activité du Client. Aucune indemnité ou compensation ne pourra être réclamée en cas de suspension des Services pour maintenance ou mise à jour." }),
              /* @__PURE__ */ jsx("p", { children: "Le Client s'engage à ne pas perturber le fonctionnement du Site, notamment par l'utilisation de scripts automatisés, de logiciels malveillants ou toute action susceptible de compromettre la sécurité du système informatique." })
            ] })
          ] }),
          /* @__PURE__ */ jsxs("section", { children: [
            /* @__PURE__ */ jsxs("h2", { className: "text-xl sm:text-2xl font-bold text-white mb-4 sm:mb-6 flex items-start sm:items-center", children: [
              /* @__PURE__ */ jsx(ShoppingCart, { className: "h-5 w-5 sm:h-6 sm:w-6 mr-2 text-red-400 flex-shrink-0 mt-1 sm:mt-0" }),
              /* @__PURE__ */ jsx("span", { children: "5. Commande et Validation :" })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "space-y-4 sm:space-y-6 text-sm sm:text-base text-gray-300 leading-relaxed", children: [
              /* @__PURE__ */ jsx("p", { children: "Avant de valider sa Commande, le Client dispose de la possibilité de vérifier son contenu et son prix total. La validation de la Commande implique une obligation de paiement de la part du Client." }),
              /* @__PURE__ */ jsx("div", { className: "bg-green-500/10 border border-green-500/20 rounded-lg sm:rounded-xl p-4 sm:p-6", children: /* @__PURE__ */ jsxs("p", { className: "text-sm sm:text-base text-gray-300", children: [
                "Une fois la Commande passée, le Client reçoit un",
                " ",
                /* @__PURE__ */ jsx("span", { className: "text-white font-semibold", children: "email de confirmation" }),
                " récapitulant les détails de sa demande. En cas de refus de paiement ou d'incident bancaire, la Commande ne sera pas validée."
              ] }) }),
              /* @__PURE__ */ jsx("p", { children: "Le Prestataire se réserve le droit de refuser ou d'annuler une Commande en cas de non-respect des CGV, d'informations erronées fournies par le Client ou de suspicion de fraude." })
            ] })
          ] }),
          /* @__PURE__ */ jsxs("section", { children: [
            /* @__PURE__ */ jsxs("h2", { className: "text-xl sm:text-2xl font-bold text-white mb-4 sm:mb-6 flex items-start sm:items-center", children: [
              /* @__PURE__ */ jsx(ShieldCheck, { className: "h-5 w-5 sm:h-6 sm:w-6 mr-2 text-red-400 flex-shrink-0 mt-1 sm:mt-0" }),
              /* @__PURE__ */ jsx("span", { children: "6. Droit de Rétractation et Remboursements :" })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "space-y-4 sm:space-y-6 text-sm sm:text-base text-gray-300 leading-relaxed", children: [
              /* @__PURE__ */ jsx("h3", { className: "text-base sm:text-lg font-semibold text-white", children: "6.1. Absence de droit de rétractation" }),
              /* @__PURE__ */ jsx("p", { children: "Conformément à la nature des Services proposés, qui consistent en la rédaction et la publication immédiate d'annonces légales, le Client reconnaît que, dès validation et paiement de sa Commande, le Service est réputé pleinement exécuté. Ainsi, aucune rétractation ni remboursement ne pourra être exigé une fois l'Annonce transmise et validée pour publication." }),
              /* @__PURE__ */ jsx("h3", { className: "text-base sm:text-lg font-semibold text-white", children: "6.2. Cas exceptionnels de remboursement" }),
              /* @__PURE__ */ jsx("p", { children: "Un remboursement partiel ou total pourra toutefois être accordé par le Prestataire uniquement dans les situations suivantes :" }),
              /* @__PURE__ */ jsx("p", { children: "Erreur imputable exclusivement au Prestataire (exemple : publication dans un format ou support non conforme aux obligations légales, omission d'éléments transmis par le Client alors que ceux-ci avaient été clairement fournis)." }),
              /* @__PURE__ */ jsx("p", { children: "Impossibilité technique avérée d'exécuter la Commande par le Prestataire (exemple : indisponibilité du support de publication habilité)." }),
              /* @__PURE__ */ jsx("p", { children: "Dans ces cas, le Client devra adresser une demande écrite et motivée à l'adresse email officielle du Prestataire dans un délai maximum de 7 jours ouvrés suivant la validation de la Commande. Après vérification et accord, le remboursement interviendra dans un délai de 30 jours selon le même mode de paiement utilisé lors de la Commande." }),
              /* @__PURE__ */ jsx("h3", { className: "text-base sm:text-lg font-semibold text-white", children: "6.3. Exclusion de responsabilité" }),
              /* @__PURE__ */ jsx("p", { children: "Aucun remboursement ne sera accordé dans les cas suivants :" }),
              /* @__PURE__ */ jsx("p", { children: "Erreur ou omission provenant des informations transmises par le Client." }),
              /* @__PURE__ */ jsx("p", { children: "Modification des informations demandées après validation de la Commande." }),
              /* @__PURE__ */ jsx("p", { children: "Refus de publication lié à une décision administrative ou judiciaire indépendante de la volonté du Prestataire." })
            ] })
          ] })
        ] })
      ] })
    ] }) }),
    /* @__PURE__ */ jsx(Footer, {})
  ] });
}
const __vite_glob_0_35 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: ConditionsGeneralesVentePage
}, Symbol.toStringTag, { value: "Module" }));
function LegalNoticesPage({ auth, seo }) {
  return /* @__PURE__ */ jsxs("div", { className: "min-h-screen bg-gray-800 flex flex-col", children: [
    /* @__PURE__ */ jsxs(Head, { children: [
      /* @__PURE__ */ jsx("title", { children: "Mentions légales | Wepress Eco" }),
      /* @__PURE__ */ jsx("meta", { name: "description", content: "Consultez les mentions légales : informations juridiques, conditions d'utilisation du site, responsabilité et respect de la législation en vigueur au Maroc.\n" })
    ] }),
    /* @__PURE__ */ jsx(Header, { auth }),
    /* @__PURE__ */ jsx("main", { className: "flex-1 pt-16 sm:pt-20 pb-8 sm:pb-12", children: /* @__PURE__ */ jsxs("div", { className: "max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-8", children: [
      /* @__PURE__ */ jsxs("nav", { className: "flex items-center space-x-1 sm:space-x-2 text-xs sm:text-sm mb-6 sm:mb-8 pt-6 sm:pt-8", children: [
        /* @__PURE__ */ jsxs("a", { href: "/", className: "text-gray-300 hover:text-white flex items-center transition-colors duration-200", children: [
          /* @__PURE__ */ jsx(Home$1, { className: "h-3 w-3 sm:h-4 sm:w-4 mr-1" }),
          /* @__PURE__ */ jsx("span", { className: "hidden xs:inline", children: "Accueil" })
        ] }),
        /* @__PURE__ */ jsx(ChevronRight, { className: "h-3 w-3 sm:h-4 sm:w-4 text-gray-500" }),
        /* @__PURE__ */ jsx("span", { className: "text-white font-medium", children: "Mentions légales" })
      ] }),
      /* @__PURE__ */ jsxs("div", { className: "bg-white/5 backdrop-blur-sm rounded-xl sm:rounded-2xl p-4 sm:p-6 md:p-8 lg:p-12 border border-white/10", children: [
        /* @__PURE__ */ jsx("h1", { className: "text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold text-white mb-6 sm:mb-8", children: "Mentions légales :" }),
        /* @__PURE__ */ jsxs("div", { className: "prose prose-sm sm:prose-base lg:prose-lg max-w-none text-gray-200 space-y-6 sm:space-y-8", children: [
          /* @__PURE__ */ jsxs("section", { children: [
            /* @__PURE__ */ jsxs("h2", { className: "text-xl sm:text-2xl font-bold text-white mb-4 sm:mb-6 flex items-center", children: [
              /* @__PURE__ */ jsx(Building, { className: "h-5 w-5 sm:h-6 sm:w-6 mr-2 text-red-400" }),
              "Éditeur du Site :"
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "space-y-4 sm:space-y-6 text-gray-300 leading-relaxed", children: [
              /* @__PURE__ */ jsxs("p", { className: "text-sm sm:text-base lg:text-lg", children: [
                "Le présent site web ",
                /* @__PURE__ */ jsx("span", { className: "text-white font-semibold", children: "Wepress Eco" }),
                " est édité par",
                " ",
                /* @__PURE__ */ jsx("span", { className: "text-white font-semibold", children: "Journal WePress" }),
                ", une société à responsabilité limitée (SARL) au capital de ",
                /* @__PURE__ */ jsx("span", { className: "text-white font-semibold", children: "100 000 DHS" }),
                ", immatriculée au ",
                /* @__PURE__ */ jsx("span", { className: "text-white font-semibold", children: "Registre du Commerce de Tanger" }),
                " ",
                "sous le numéro ",
                /* @__PURE__ */ jsx("span", { className: "font-mono text-green-400", children: "150479" }),
                ", et identifiée par l'",
                /* @__PURE__ */ jsx("span", { className: "text-white font-semibold", children: "ICE : 003516488000073" }),
                "."
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6 mt-6 sm:mt-8", children: [
                /* @__PURE__ */ jsxs("div", { className: "bg-white/10 border border-white/20 rounded-lg sm:rounded-xl p-4 sm:p-6", children: [
                  /* @__PURE__ */ jsxs("h3", { className: "text-base sm:text-lg font-semibold text-white mb-3 sm:mb-4 flex items-center", children: [
                    /* @__PURE__ */ jsx(FileText, { className: "h-4 w-4 sm:h-5 sm:w-5 mr-2 text-red-400" }),
                    "Informations légales"
                  ] }),
                  /* @__PURE__ */ jsxs("ul", { className: "space-y-2 sm:space-y-3 text-sm sm:text-base text-gray-300", children: [
                    /* @__PURE__ */ jsxs("li", { className: "flex flex-col xs:flex-row xs:justify-between gap-1", children: [
                      /* @__PURE__ */ jsx("span", { className: "font-medium", children: "Dossier de presse :" }),
                      /* @__PURE__ */ jsx("span", { className: "text-white font-mono text-xs sm:text-sm", children: "05/2024 جريدة" })
                    ] }),
                    /* @__PURE__ */ jsxs("li", { className: "flex flex-col xs:flex-row xs:justify-between gap-1", children: [
                      /* @__PURE__ */ jsx("span", { className: "font-medium", children: "Dépôt Légal :" }),
                      /* @__PURE__ */ jsx("span", { className: "text-white font-mono text-xs sm:text-sm", children: "2024PE0054" })
                    ] }),
                    /* @__PURE__ */ jsxs("li", { className: "flex flex-col xs:flex-row xs:justify-between gap-1", children: [
                      /* @__PURE__ */ jsx("span", { className: "font-medium", children: "ISSN :" }),
                      /* @__PURE__ */ jsx("span", { className: "text-white font-mono text-xs sm:text-sm", children: "3085-4636" })
                    ] })
                  ] })
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "bg-white/10 border border-white/20 rounded-lg sm:rounded-xl p-4 sm:p-6", children: [
                  /* @__PURE__ */ jsxs("h3", { className: "text-base sm:text-lg font-semibold text-white mb-3 sm:mb-4 flex items-center", children: [
                    /* @__PURE__ */ jsx(Building, { className: "h-4 w-4 sm:h-5 sm:w-5 mr-2 text-red-400" }),
                    "Siège social"
                  ] }),
                  /* @__PURE__ */ jsx("div", { className: "text-sm sm:text-base text-gray-300 space-y-2", children: /* @__PURE__ */ jsx("p", { className: "leading-relaxed", children: "Avenue Moulay Ismail, Res. Moulay Ismail, n°22, Étage 5, n°19, Tanger, Maroc." }) })
                ] })
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "bg-white/10 border border-white/20 rounded-lg sm:rounded-xl p-4 sm:p-6 mt-6 sm:mt-8", children: [
                /* @__PURE__ */ jsxs("h3", { className: "text-base sm:text-lg font-semibold text-white mb-3 sm:mb-4 flex items-center", children: [
                  /* @__PURE__ */ jsx(Users, { className: "h-4 w-4 sm:h-5 sm:w-5 mr-2 text-red-400" }),
                  "Contact"
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4", children: [
                  /* @__PURE__ */ jsxs("div", { className: "flex items-center space-x-2 sm:space-x-3", children: [
                    /* @__PURE__ */ jsx("div", { className: "p-1.5 sm:p-2 bg-white/20 rounded-lg flex-shrink-0", children: /* @__PURE__ */ jsx(Mail, { className: "h-3 w-3 sm:h-4 sm:w-4 text-red-400" }) }),
                    /* @__PURE__ */ jsxs("div", { className: "min-w-0", children: [
                      /* @__PURE__ */ jsx("p", { className: "text-xs sm:text-sm text-gray-400", children: "Email de contact :" }),
                      /* @__PURE__ */ jsx(
                        "a",
                        {
                          href: "mailto:info@wepresseco.com",
                          className: "text-sm sm:text-base text-white font-semibold hover:text-gray-200 transition-colors break-all",
                          children: "info@wepresseco.com"
                        }
                      )
                    ] })
                  ] }),
                  /* @__PURE__ */ jsxs("div", { className: "flex items-center space-x-2 sm:space-x-3", children: [
                    /* @__PURE__ */ jsx("div", { className: "p-1.5 sm:p-2 bg-white/20 rounded-lg flex-shrink-0", children: /* @__PURE__ */ jsx(Phone, { className: "h-3 w-3 sm:h-4 sm:w-4 text-red-400" }) }),
                    /* @__PURE__ */ jsxs("div", { className: "min-w-0", children: [
                      /* @__PURE__ */ jsx("p", { className: "text-xs sm:text-sm text-gray-400", children: "Téléphone :" }),
                      /* @__PURE__ */ jsx(
                        "a",
                        {
                          href: "tel:+212669668800",
                          className: "text-sm sm:text-base text-white font-semibold hover:text-gray-200 transition-colors",
                          children: "(+212) 669 668 800"
                        }
                      )
                    ] })
                  ] })
                ] })
              ] })
            ] })
          ] }),
          /* @__PURE__ */ jsxs("section", { children: [
            /* @__PURE__ */ jsxs("h2", { className: "text-xl sm:text-2xl font-bold text-white mb-3 sm:mb-4 flex items-center", children: [
              /* @__PURE__ */ jsx(Server, { className: "h-5 w-5 sm:h-6 sm:w-6 mr-2 text-red-400" }),
              "Hébergement du Site :"
            ] }),
            /* @__PURE__ */ jsx("div", { className: "bg-white/10 border border-white/20 rounded-lg sm:rounded-xl p-4 sm:p-6", children: /* @__PURE__ */ jsxs("p", { className: "text-sm sm:text-base text-gray-300 leading-relaxed", children: [
              "Le site est hébergé par ",
              /* @__PURE__ */ jsx("span", { className: "text-white font-semibold", children: "Lex Hosting" }),
              "."
            ] }) })
          ] })
        ] })
      ] })
    ] }) }),
    /* @__PURE__ */ jsx(Footer, {})
  ] });
}
const __vite_glob_0_36 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: LegalNoticesPage
}, Symbol.toStringTag, { value: "Module" }));
function Create$1({ categories = {}, auth }) {
  const { data, setData, post, processing, errors } = useForm({
    title: "",
    category: "",
    priority: "medium",
    description: "",
    attachment: null
  });
  const [formSubmitted, setFormSubmitted] = useState(false);
  const [user, setUser] = useState({
    nom: auth.user.name,
    email: auth.user.email,
    ville: "Casablanca",
    solde: 250
  });
  const [isDragging, setIsDragging] = useState(false);
  const fileInputRef = useRef(null);
  const handleSubmit = (e2) => {
    e2.preventDefault();
    setFormSubmitted(true);
    post(route$3("client.ticket.store").toString(), {
      onSuccess: (page) => {
      },
      onError: (errors2) => {
        setFormSubmitted(false);
      },
      onFinish: () => {
      }
    });
  };
  const handleFileChange = (e2) => {
    var _a2;
    const file = ((_a2 = e2.target.files) == null ? void 0 : _a2[0]) || null;
    setData("attachment", file);
  };
  const handleDragEnter = useCallback((e2) => {
    e2.preventDefault();
    e2.stopPropagation();
    setIsDragging(true);
  }, []);
  const handleDragLeave = useCallback((e2) => {
    e2.preventDefault();
    e2.stopPropagation();
    setIsDragging(false);
  }, []);
  const handleDragOver = useCallback((e2) => {
    e2.preventDefault();
    e2.stopPropagation();
  }, []);
  const handleDrop = useCallback(
    (e2) => {
      e2.preventDefault();
      e2.stopPropagation();
      setIsDragging(false);
      const files = e2.dataTransfer.files;
      if (files && files.length > 0) {
        setData("attachment", files[0]);
      }
    },
    [setData]
  );
  const removeFile = () => {
    setData("attachment", null);
    if (fileInputRef.current) {
      fileInputRef.current.value = "";
    }
  };
  return /* @__PURE__ */ jsxs("main", { className: "min-h-screen flex flex-col bg-gray-50", children: [
    /* @__PURE__ */ jsx(Header, { auth: { user: auth.user } }),
    /* @__PURE__ */ jsx("div", { className: "w-full to-white py-4 pt-32", children: /* @__PURE__ */ jsx("div", { className: "w-full max-w-[76rem] pt-8 mx-auto px-4", children: /* @__PURE__ */ jsxs("div", { className: "flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4", children: [
      /* @__PURE__ */ jsxs("div", { children: [
        /* @__PURE__ */ jsx("h2", { className: "text-2xl sm:text-3xl md:text-4xl font-bold text-[#0F172A]", children: "Créer un Nouveau Ticket" }),
        /* @__PURE__ */ jsx("p", { className: "text-gray-600 max-w-2xl text-sm sm:text-base mt-2", children: "Décrivez votre problème en détail pour que notre équipe puisse vous aider efficacement." })
      ] }),
      /* @__PURE__ */ jsxs(
        Link,
        {
          href: route$3("client.ticket.index").toString(),
          className: "flex items-center gap-2 px-4 sm:px-5 py-2 sm:py-2.5 bg-white border border-gray-200 rounded-lg shadow-sm text-sm sm:text-base font-medium text-[#1a2a4b] hover:bg-gray-100 w-fit",
          children: [
            /* @__PURE__ */ jsx(MdArrowBack, { className: "h-4 w-4 sm:h-5 sm:w-5 text-[#1a2a4b]" }),
            /* @__PURE__ */ jsx("span", { children: "Retour aux tickets" })
          ]
        }
      )
    ] }) }) }),
    /* @__PURE__ */ jsx("section", { className: "container mx-auto px-4 py-6 sm:py-8 md:py-10 flex-grow", children: /* @__PURE__ */ jsx("div", { className: "w-full max-w-[76rem] mx-auto", children: /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 lg:grid-cols-3 gap-6 sm:gap-8", children: [
      /* @__PURE__ */ jsxs(
        motion.div,
        {
          initial: { opacity: 0, y: 20 },
          animate: { opacity: 1, y: 0 },
          transition: { duration: 0.5 },
          className: "lg:col-span-2 bg-white rounded-xl shadow-lg border border-[#0F172A]/10 overflow-hidden",
          children: [
            /* @__PURE__ */ jsxs("div", { className: "bg-[#0F172A]/5 p-4 sm:p-6 border-b border-gray-100", children: [
              /* @__PURE__ */ jsxs("h3", { className: "text-lg sm:text-xl font-bold text-[#0F172A] flex items-center", children: [
                /* @__PURE__ */ jsx(MdDescription, { className: "mr-2 sm:mr-3 h-5 w-5 text-[#e63946]" }),
                "Informations du Ticket"
              ] }),
              /* @__PURE__ */ jsx("p", { className: "text-gray-600 text-sm mt-1", children: "Veuillez remplir tous les champs obligatoires" })
            ] }),
            /* @__PURE__ */ jsxs("form", { onSubmit: handleSubmit, className: "p-4 sm:p-6 space-y-4 sm:space-y-6", children: [
              /* @__PURE__ */ jsxs("div", { children: [
                /* @__PURE__ */ jsxs("label", { htmlFor: "title", className: "block text-[#0F172A] font-medium mb-1 sm:mb-2 text-sm sm:text-base", children: [
                  "Titre ",
                  /* @__PURE__ */ jsx("span", { className: "text-[#e63946]", children: "*" })
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "relative", children: [
                  /* @__PURE__ */ jsx("div", { className: "absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none", children: /* @__PURE__ */ jsx(MdTitle, { className: "text-gray-400 h-5 w-5" }) }),
                  /* @__PURE__ */ jsx(
                    "input",
                    {
                      type: "text",
                      id: "title",
                      name: "title",
                      value: data.title,
                      onChange: (e2) => setData("title", e2.target.value),
                      className: `pl-10 pr-4 py-2 sm:py-3 w-full border ${errors.title ? "border-[#e63946]" : "border-[#0F172A]/20"} rounded-lg focus:ring-2 focus:ring-[#e63946] focus:border-transparent shadow-sm text-sm sm:text-base`,
                      placeholder: "Ex: Problème de connexion à mon compte"
                    }
                  )
                ] }),
                errors.title && /* @__PURE__ */ jsxs("p", { className: "mt-1 text-sm text-[#e63946] flex items-center", children: [
                  /* @__PURE__ */ jsx(
                    "svg",
                    {
                      xmlns: "http://www.w3.org/2000/svg",
                      className: "h-4 w-4 mr-1",
                      fill: "none",
                      viewBox: "0 0 24 24",
                      stroke: "currentColor",
                      children: /* @__PURE__ */ jsx(
                        "path",
                        {
                          strokeLinecap: "round",
                          strokeLinejoin: "round",
                          strokeWidth: 2,
                          d: "M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"
                        }
                      )
                    }
                  ),
                  errors.title
                ] })
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6", children: [
                /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsxs(
                    "label",
                    {
                      htmlFor: "category",
                      className: "block text-[#0F172A] font-medium mb-1 sm:mb-2 flex items-center text-sm sm:text-base",
                      children: [
                        /* @__PURE__ */ jsx(MdCategory, { className: "mr-1 sm:mr-2 h-4 w-4 text-[#0F172A]/70" }),
                        "Catégorie ",
                        /* @__PURE__ */ jsx("span", { className: "text-[#e63946] ml-1", children: "*" })
                      ]
                    }
                  ),
                  /* @__PURE__ */ jsxs("div", { className: "relative", children: [
                    /* @__PURE__ */ jsxs(
                      "select",
                      {
                        id: "category",
                        name: "category",
                        value: data.category,
                        onChange: (e2) => setData("category", e2.target.value),
                        className: `p-2 sm:p-3 w-full border ${errors.category ? "border-[#e63946]" : "border-[#0F172A]/20"} rounded-lg focus:ring-2 focus:ring-[#e63946] focus:border-transparent shadow-sm text-sm sm:text-base`,
                        children: [
                          /* @__PURE__ */ jsx("option", { value: "", children: "Sélectionnez une catégorie" }),
                          Object.entries(categories).map(([value, label]) => /* @__PURE__ */ jsx("option", { value, children: label }, value))
                        ]
                      }
                    ),
                    /* @__PURE__ */ jsx("div", { className: "absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none", children: /* @__PURE__ */ jsx("svg", { className: "h-4 w-4 text-gray-400", fill: "none", viewBox: "0 0 24 24", stroke: "currentColor", children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M19 9l-7 7-7-7" }) }) })
                  ] }),
                  errors.category && /* @__PURE__ */ jsx("p", { className: "mt-1 text-sm text-[#e63946]", children: errors.category })
                ] }),
                /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsxs(
                    "label",
                    {
                      htmlFor: "priority",
                      className: "block text-[#0F172A] font-medium mb-1 sm:mb-2 flex items-center text-sm sm:text-base",
                      children: [
                        /* @__PURE__ */ jsx(MdPriorityHigh, { className: "mr-1 sm:mr-2 h-4 w-4 text-[#0F172A]/70" }),
                        "Priorité ",
                        /* @__PURE__ */ jsx("span", { className: "text-[#e63946] ml-1", children: "*" })
                      ]
                    }
                  ),
                  /* @__PURE__ */ jsxs("div", { className: "relative", children: [
                    /* @__PURE__ */ jsxs(
                      "select",
                      {
                        id: "priority",
                        name: "priority",
                        value: data.priority,
                        onChange: (e2) => setData("priority", e2.target.value),
                        className: `p-2 sm:p-3 w-full border ${errors.priority ? "border-[#e63946]" : "border-[#0F172A]/20"} rounded-lg focus:ring-2 focus:ring-[#e63946] focus:border-transparent shadow-sm text-sm sm:text-base`,
                        children: [
                          /* @__PURE__ */ jsx("option", { value: "low", children: "Basse" }),
                          /* @__PURE__ */ jsx("option", { value: "medium", children: "Moyenne" }),
                          /* @__PURE__ */ jsx("option", { value: "high", children: "Haute" })
                        ]
                      }
                    ),
                    /* @__PURE__ */ jsx("div", { className: "absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none", children: /* @__PURE__ */ jsx("svg", { className: "h-4 w-4 text-gray-400", fill: "none", viewBox: "0 0 24 24", stroke: "currentColor", children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M19 9l-7 7-7-7" }) }) })
                  ] }),
                  errors.priority && /* @__PURE__ */ jsx("p", { className: "mt-1 text-sm text-[#e63946]", children: errors.priority })
                ] })
              ] }),
              /* @__PURE__ */ jsxs("div", { children: [
                /* @__PURE__ */ jsxs(
                  "label",
                  {
                    htmlFor: "description",
                    className: "block text-[#0F172A] font-medium mb-1 sm:mb-2 text-sm sm:text-base",
                    children: [
                      "Description ",
                      /* @__PURE__ */ jsx("span", { className: "text-[#e63946]", children: "*" })
                    ]
                  }
                ),
                /* @__PURE__ */ jsx("div", { className: "relative", children: /* @__PURE__ */ jsx(
                  "textarea",
                  {
                    id: "description",
                    name: "description",
                    value: data.description,
                    onChange: (e2) => setData("description", e2.target.value),
                    rows: 6,
                    className: `p-3 sm:p-4 w-full border ${errors.description ? "border-[#e63946]" : "border-[#0F172A]/20"} rounded-lg focus:ring-2 focus:ring-[#e63946] focus:border-transparent shadow-sm text-sm sm:text-base`,
                    placeholder: "Décrivez votre problème en détail..."
                  }
                ) }),
                errors.description && /* @__PURE__ */ jsx("p", { className: "mt-1 text-sm text-[#e63946]", children: errors.description })
              ] }),
              /* @__PURE__ */ jsxs("div", { children: [
                /* @__PURE__ */ jsxs(
                  "label",
                  {
                    htmlFor: "attachment",
                    className: "block text-[#0F172A] font-medium mb-1 sm:mb-2 flex items-center text-sm sm:text-base",
                    children: [
                      /* @__PURE__ */ jsx(MdAttachFile, { className: "mr-1 sm:mr-2 h-4 w-4 text-[#0F172A]/70" }),
                      "Pièce jointe"
                    ]
                  }
                ),
                /* @__PURE__ */ jsx(
                  "div",
                  {
                    className: `mt-1 flex justify-center px-4 sm:px-6 pt-4 sm:pt-5 pb-4 sm:pb-6 border-2 ${isDragging ? "border-[#e63946] bg-[#e63946]/5" : "border-[#0F172A]/10"} ${errors.attachment ? "border-[#e63946]" : ""} border-dashed rounded-lg transition-colors duration-200`,
                    onDragEnter: handleDragEnter,
                    onDragLeave: handleDragLeave,
                    onDragOver: handleDragOver,
                    onDrop: handleDrop,
                    children: /* @__PURE__ */ jsxs("div", { className: "space-y-1 text-center", children: [
                      /* @__PURE__ */ jsx(
                        "svg",
                        {
                          className: "mx-auto h-8 w-8 sm:h-12 sm:w-12 text-[#0F172A]/30",
                          stroke: "currentColor",
                          fill: "none",
                          viewBox: "0 0 48 48",
                          "aria-hidden": "true",
                          children: /* @__PURE__ */ jsx(
                            "path",
                            {
                              d: "M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",
                              strokeWidth: 2,
                              strokeLinecap: "round",
                              strokeLinejoin: "round"
                            }
                          )
                        }
                      ),
                      " ",
                      /* @__PURE__ */ jsxs("div", { className: "flex text-xs sm:text-sm text-[#0F172A]/70 justify-center", children: [
                        /* @__PURE__ */ jsxs(
                          "label",
                          {
                            htmlFor: "file-upload",
                            className: "relative cursor-pointer bg-white rounded-md font-medium text-[#e63946]",
                            children: [
                              /* @__PURE__ */ jsx("span", { children: "Télécharger un fichier" }),
                              /* @__PURE__ */ jsx(
                                "input",
                                {
                                  id: "file-upload",
                                  name: "attachment",
                                  type: "file",
                                  ref: fileInputRef,
                                  className: "sr-only",
                                  onChange: handleFileChange
                                }
                              )
                            ]
                          }
                        ),
                        /* @__PURE__ */ jsx("p", { className: "pl-1", children: "ou glisser-déposer" })
                      ] }),
                      /* @__PURE__ */ jsx("p", { className: "text-xs text-[#0F172A]/50", children: "PNG, JPG, PDF, DOCX jusqu'à 10MB" })
                    ] })
                  }
                ),
                data.attachment && /* @__PURE__ */ jsxs("div", { className: "mt-2 sm:mt-3 flex items-center justify-between text-xs sm:text-sm text-[#0F172A] bg-[#0F172A]/5 p-2 rounded-lg", children: [
                  /* @__PURE__ */ jsxs("div", { className: "flex items-center", children: [
                    /* @__PURE__ */ jsx(MdAttachFile, { className: "h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2 text-[#0F172A]" }),
                    /* @__PURE__ */ jsx("span", { className: "truncate max-w-[200px] sm:max-w-xs", children: data.attachment.name }),
                    /* @__PURE__ */ jsxs("span", { className: "ml-2 text-[#0F172A]/60", children: [
                      "(",
                      Math.round(data.attachment.size / 1024),
                      " KB)"
                    ] })
                  ] }),
                  /* @__PURE__ */ jsx(
                    "button",
                    {
                      type: "button",
                      onClick: removeFile,
                      className: "text-[#e63946] hover:text-[#d32836] p-1 rounded-full hover:bg-[#e63946]/10 transition-colors",
                      children: /* @__PURE__ */ jsx(MdClose, { className: "h-4 w-4 sm:h-5 sm:w-5" })
                    }
                  )
                ] }),
                errors.attachment && /* @__PURE__ */ jsx("p", { className: "mt-1 text-sm text-[#e63946]", children: errors.attachment })
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "flex justify-end space-x-4 pt-2", children: [
                /* @__PURE__ */ jsx(
                  Link,
                  {
                    href: route$3("client.ticket.index").toString(),
                    className: "px-4 py-2 sm:py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 text-sm sm:text-base",
                    children: "Annuler"
                  }
                ),
                /* @__PURE__ */ jsx(
                  "button",
                  {
                    type: "submit",
                    disabled: processing,
                    className: "bg-[#e63946] hover:bg-[#d32836] text-white px-4 sm:px-6 py-2 sm:py-3 rounded-lg flex items-center transition-all disabled:opacity-70 text-sm sm:text-base",
                    children: processing ? /* @__PURE__ */ jsxs(Fragment, { children: [
                      /* @__PURE__ */ jsxs(
                        "svg",
                        {
                          className: "animate-spin -ml-1 mr-3 h-5 w-5 text-white",
                          xmlns: "http://www.w3.org/2000/svg",
                          fill: "none",
                          viewBox: "0 0 24 24",
                          children: [
                            /* @__PURE__ */ jsx(
                              "circle",
                              {
                                className: "opacity-25",
                                cx: "12",
                                cy: "12",
                                r: "10",
                                stroke: "currentColor",
                                strokeWidth: "4"
                              }
                            ),
                            /* @__PURE__ */ jsx(
                              "path",
                              {
                                className: "opacity-75",
                                fill: "currentColor",
                                d: "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
                              }
                            )
                          ]
                        }
                      ),
                      "Traitement..."
                    ] }) : /* @__PURE__ */ jsxs(Fragment, { children: [
                      /* @__PURE__ */ jsx(MdSend, { className: "mr-2 h-5 w-5" }),
                      "Soumettre"
                    ] })
                  }
                )
              ] })
            ] })
          ]
        }
      ),
      /* @__PURE__ */ jsxs(
        motion.div,
        {
          initial: { opacity: 0, y: 20 },
          animate: { opacity: 1, y: 0 },
          transition: { duration: 0.5, delay: 0.2 },
          className: "bg-white rounded-xl shadow-lg border border-[#0F172A]/10 overflow-hidden h-fit",
          children: [
            /* @__PURE__ */ jsxs("div", { className: "bg-[#0F172A]/5 p-4 sm:p-6 border-b border-gray-100", children: [
              /* @__PURE__ */ jsx("h3", { className: "text-lg sm:text-xl font-bold text-[#0F172A]", children: "Conseils pour un ticket efficace" }),
              /* @__PURE__ */ jsx("p", { className: "text-gray-600 text-sm mt-1", children: "Comment obtenir une réponse rapide et précise" })
            ] }),
            /* @__PURE__ */ jsx("div", { className: "p-4 sm:p-6", children: /* @__PURE__ */ jsxs("ul", { className: "space-y-3 sm:space-y-4", children: [
              /* @__PURE__ */ jsxs("li", { className: "flex items-start", children: [
                /* @__PURE__ */ jsx("div", { className: "rounded-full text-[#e63946] mr-3 flex-shrink-0", children: /* @__PURE__ */ jsx("span", { className: "font-bold text-sm", children: "1" }) }),
                /* @__PURE__ */ jsx("p", { className: "text-gray-700 text-sm sm:text-base", children: "Soyez précis dans le titre de votre ticket" })
              ] }),
              /* @__PURE__ */ jsxs("li", { className: "flex items-start", children: [
                /* @__PURE__ */ jsx("div", { className: "rounded-full text-[#e63946] mr-3 flex-shrink-0", children: /* @__PURE__ */ jsx("span", { className: "font-bold text-sm", children: "2" }) }),
                /* @__PURE__ */ jsx("p", { className: "text-gray-700 text-sm sm:text-base", children: "Incluez toutes les informations pertinentes dans la description" })
              ] }),
              /* @__PURE__ */ jsxs("li", { className: "flex items-start", children: [
                /* @__PURE__ */ jsx("div", { className: "rounded-full text-[#e63946] mr-3 flex-shrink-0", children: /* @__PURE__ */ jsx("span", { className: "font-bold text-sm", children: "3" }) }),
                /* @__PURE__ */ jsx("p", { className: "text-gray-700 text-sm sm:text-base", children: "Mentionnez les étapes que vous avez déjà essayées" })
              ] }),
              /* @__PURE__ */ jsxs("li", { className: "flex items-start", children: [
                /* @__PURE__ */ jsx("div", { className: " rounded-full text-[#e63946] mr-3 flex-shrink-0", children: /* @__PURE__ */ jsx("span", { className: "font-bold text-sm", children: "4" }) }),
                /* @__PURE__ */ jsx("p", { className: "text-gray-700 text-sm sm:text-base", children: "Choisissez la bonne catégorie pour votre problème" })
              ] }),
              /* @__PURE__ */ jsxs("li", { className: "flex items-start", children: [
                /* @__PURE__ */ jsx("div", { className: " rounded-full text-[#e63946] mr-3 flex-shrink-0", children: /* @__PURE__ */ jsx("span", { className: "font-bold text-sm", children: "5" }) }),
                /* @__PURE__ */ jsx("p", { className: "text-gray-700 text-sm sm:text-base", children: "Ajoutez des captures d'écran ou des fichiers pour illustrer le problème" })
              ] })
            ] }) })
          ]
        }
      )
    ] }) }) }),
    /* @__PURE__ */ jsx(Footer$1, {})
  ] });
}
const __vite_glob_0_37 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: Create$1
}, Symbol.toStringTag, { value: "Module" }));
const formatDate$2 = (dateString) => {
  const options = {
    day: "2-digit",
    month: "2-digit",
    year: "numeric",
    hour: "2-digit",
    minute: "2-digit"
  };
  return new Date(dateString).toLocaleDateString("fr-FR", options);
};
const getStatusBadge$1 = (status) => {
  switch (status) {
    case "new":
      return {
        bg: "bg-[#e63946]/10",
        text: "text-[#e63946]",
        icon: /* @__PURE__ */ jsx(MdOutlineWatchLater, { className: "w-4 h-4 mr-1" }),
        label: "Nouveau"
      };
    case "pending":
      return {
        bg: "bg-[#00377f]/10",
        text: "text-[#00377f]",
        icon: /* @__PURE__ */ jsx(MdErrorOutline, { className: "w-4 h-4 mr-1" }),
        label: "En attente"
      };
    case "resolved":
      return {
        bg: "bg-green-500/10",
        text: "text-green-600",
        icon: /* @__PURE__ */ jsx(MdCheckCircleOutline, { className: "w-4 h-4 mr-1" }),
        label: "Résolu"
      };
    default:
      return {
        bg: "bg-gray-200",
        text: "text-gray-700",
        icon: null,
        label: status
      };
  }
};
const getPriorityBadge = (priority) => {
  switch (priority) {
    case "low":
      return {
        bg: "bg-blue-500/10",
        text: "text-blue-600",
        label: "Basse"
      };
    case "medium":
      return {
        bg: "bg-[#00377f]/10",
        text: "text-[#00377f]",
        label: "Moyenne"
      };
    case "high":
      return {
        bg: "bg-[#e63946]/10",
        text: "text-[#e63946]",
        label: "Haute"
      };
    default:
      return {
        bg: "bg-gray-200",
        text: "text-gray-700",
        label: priority
      };
  }
};
function Show$1({ ticket, auth }) {
  const [canonicalUrl, setCanonicalUrl] = useState("");
  useEffect(() => {
    if (typeof window !== "undefined") {
      setCanonicalUrl(window.location.href);
    }
  }, []);
  const statusBadge = getStatusBadge$1(ticket.status);
  const priorityBadge = getPriorityBadge(ticket.priority);
  const [user, setUser] = useState({
    nom: auth.user.name,
    email: auth.user.email,
    ville: "Casablanca",
    solde: 250
  });
  return /* @__PURE__ */ jsxs("main", { className: "min-h-screen flex flex-col bg-white", children: [
    /* @__PURE__ */ jsxs(Head, { children: [
      /* @__PURE__ */ jsx("title", { children: ticket.title }),
      /* @__PURE__ */ jsx(
        "meta",
        {
          name: "description",
          content: "Besoin d’aide ? Créez un ticket pour contacter notre support. Suivi rapide et assistance personnalisée pour vos annonces légales et appels d’offres."
        }
      ),
      /* @__PURE__ */ jsx("meta", { name: "robots", content: "noindex, nofollow" }),
      /* @__PURE__ */ jsx("link", { rel: "canonical", href: canonicalUrl })
    ] }),
    /* @__PURE__ */ jsx(Header, { auth: { user: auth.user } }),
    /* @__PURE__ */ jsx("div", { className: "w-full py-4 pt-32 bg-white", children: /* @__PURE__ */ jsx("div", { className: "w-full max-w-[76rem] mx-auto px-4", children: /* @__PURE__ */ jsxs("div", { className: "flex flex-col sm:flex-row sm:justify-between sm:items-center", children: [
      /* @__PURE__ */ jsx("div", { className: "flex items-center mb-4 sm:mb-0", children: /* @__PURE__ */ jsx("h2", { className: "text-2xl sm:text-3xl md:text-4xl font-bold mb-2 sm:mb-3 text-black", children: "Détails du Ticket" }) }),
      /* @__PURE__ */ jsxs(
        "button",
        {
          type: "button",
          onClick: () => window.history.back(),
          className: "flex items-center gap-2 px-4 sm:px-5 py-2 sm:py-2.5 bg-white border border-gray-200 rounded-lg shadow-sm text-sm sm:text-base font-medium text-[#1a2a4b] hover:bg-gray-100 w-fit",
          children: [
            /* @__PURE__ */ jsx("div", { className: "bg-[#e63946]/10 p-1.5 rounded-md", children: /* @__PURE__ */ jsx(MdArrowBack, { className: "h-4 w-4 sm:h-5 sm:w-5 text-[#e63946]" }) }),
            /* @__PURE__ */ jsx("span", { children: "Retour aux tickets" })
          ]
        }
      )
    ] }) }) }),
    /* @__PURE__ */ jsx("section", { className: "container mx-auto px-4 py-6 sm:py-8 md:py-10 flex-grow", children: /* @__PURE__ */ jsxs("div", { className: "w-full max-w-[76rem] mx-auto", children: [
      /* @__PURE__ */ jsx("div", { className: "mb-6 sm:mb-8 md:mb-10", children: /* @__PURE__ */ jsx("p", { className: "text-gray-600 pl-4 max-w-2xl text-sm sm:text-base", children: "Consultez les détails de votre ticket et suivez son statut. Notre équipe examine votre demande et vous répondra dans les plus brefs délais." }) }),
      /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 lg:grid-cols-3 gap-6 sm:gap-8", children: [
        /* @__PURE__ */ jsxs(
          motion.div,
          {
            initial: { opacity: 0, y: 20 },
            animate: { opacity: 1, y: 0 },
            transition: { duration: 0.5 },
            className: "lg:col-span-2 bg-white rounded-xl shadow-lg border border-black/10 overflow-hidden",
            children: [
              /* @__PURE__ */ jsxs("div", { className: "bg-black/5 p-4 sm:p-6 border-b border-gray-100", children: [
                /* @__PURE__ */ jsxs("div", { className: "flex flex-col md:flex-row md:items-center justify-between gap-4", children: [
                  /* @__PURE__ */ jsxs("h3", { className: "text-lg sm:text-xl font-bold text-black flex items-center", children: [
                    /* @__PURE__ */ jsx(MdDescription, { className: "mr-2 sm:mr-3 h-5 w-5 text-[#e63946]" }),
                    ticket.title
                  ] }),
                  /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2", children: [
                    /* @__PURE__ */ jsxs(
                      "span",
                      {
                        className: `inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${statusBadge.bg} ${statusBadge.text}`,
                        children: [
                          statusBadge.icon,
                          statusBadge.label
                        ]
                      }
                    ),
                    /* @__PURE__ */ jsxs(
                      "span",
                      {
                        className: `inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${priorityBadge.bg} ${priorityBadge.text}`,
                        children: [
                          /* @__PURE__ */ jsx(MdPriorityHigh, { className: "w-4 h-4 mr-1" }),
                          priorityBadge.label
                        ]
                      }
                    )
                  ] })
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "mt-2 text-sm text-gray-500 flex items-center", children: [
                  /* @__PURE__ */ jsx(MdAccessTime, { className: "mr-1.5 h-4 w-4" }),
                  "Créé le ",
                  formatDate$2(ticket.created_at)
                ] })
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "p-4 sm:p-6 space-y-4 sm:space-y-6", children: [
                /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsxs("div", { className: "flex items-center mb-2", children: [
                    /* @__PURE__ */ jsx(MdCategory, { className: "text-black mr-2 h-4 w-4" }),
                    /* @__PURE__ */ jsx("span", { className: "text-sm font-medium text-black", children: "Catégorie:" })
                  ] }),
                  /* @__PURE__ */ jsx("p", { className: "text-gray-800 bg-black/5 p-3 rounded-lg text-sm sm:text-base", children: ticket.category })
                ] }),
                /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsxs("div", { className: "flex items-center mb-2", children: [
                    /* @__PURE__ */ jsx(MdDescription, { className: "text-black mr-2 h-4 w-4" }),
                    /* @__PURE__ */ jsx("span", { className: "text-sm font-medium text-black", children: "Description:" })
                  ] }),
                  /* @__PURE__ */ jsx("div", { className: "bg-black/5 p-4 rounded-lg", children: /* @__PURE__ */ jsx("p", { className: "text-gray-800 whitespace-pre-wrap text-sm sm:text-base", children: ticket.description }) })
                ] })
              ] })
            ]
          }
        ),
        /* @__PURE__ */ jsxs(
          motion.div,
          {
            initial: { opacity: 0, y: 20 },
            animate: { opacity: 1, y: 0 },
            transition: { duration: 0.5, delay: 0.2 },
            className: "bg-white rounded-xl shadow-lg border border-black/10 overflow-hidden h-fit",
            children: [
              /* @__PURE__ */ jsxs("div", { className: "bg-black/5 p-4 sm:p-6 border-b border-gray-100", children: [
                /* @__PURE__ */ jsxs("h3", { className: "text-lg sm:text-xl font-bold text-black flex items-center", children: [
                  /* @__PURE__ */ jsx(MdMessage, { className: "mr-2 sm:mr-3 h-5 w-5 text-[#e63946]" }),
                  "Réponses"
                ] }),
                /* @__PURE__ */ jsx("p", { className: "text-gray-600 text-sm mt-1", children: "Historique des communications sur ce ticket" })
              ] }),
              /* @__PURE__ */ jsx("div", { className: "p-4 sm:p-6", children: /* @__PURE__ */ jsx("div", { className: "flex items-center justify-center p-6 sm:p-8 text-center", children: /* @__PURE__ */ jsxs("div", { className: "text-gray-500", children: [
                /* @__PURE__ */ jsx("div", { className: "bg-[#e63946]/10 rounded-full p-4 inline-flex mb-4", children: /* @__PURE__ */ jsx(MdOutlineWatchLater, { className: "h-8 w-8 text-[#e63946]" }) }),
                /* @__PURE__ */ jsx("h3", { className: "text-lg font-medium text-[#1a2a4b] mb-2", children: "En attente de réponse" }),
                /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 max-w-md", children: "Notre équipe examine votre ticket et vous répondra dans les plus brefs délais. Merci de votre patience." })
              ] }) }) })
            ]
          }
        )
      ] }),
      /* @__PURE__ */ jsxs(
        motion.div,
        {
          initial: { opacity: 0, y: 20 },
          animate: { opacity: 1, y: 0 },
          transition: { duration: 0.5, delay: 0.3 },
          className: "mt-8 sm:mt-10 md:mt-12 bg-white rounded-xl shadow-lg border border-black/10 overflow-hidden",
          children: [
            /* @__PURE__ */ jsxs("div", { className: "bg-black/5 p-4 sm:p-6 border-b border-gray-100", children: [
              /* @__PURE__ */ jsx("h3", { className: "text-lg sm:text-xl font-bold text-black", children: "Informations du ticket" }),
              /* @__PURE__ */ jsx("p", { className: "text-gray-600 text-sm mt-1", children: "Détails techniques et historique" })
            ] }),
            /* @__PURE__ */ jsx("div", { className: "p-4 sm:p-6", children: /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6", children: [
              /* @__PURE__ */ jsxs("div", { className: "bg-black/5 p-4 rounded-lg", children: [
                /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 mb-1", children: "Dernière mise à jour" }),
                /* @__PURE__ */ jsx("p", { className: "font-medium text-[#1a2a4b]", children: formatDate$2(ticket.updated_at) })
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "bg-black/5 p-4 rounded-lg", children: [
                /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 mb-1", children: "Statut" }),
                /* @__PURE__ */ jsxs("p", { className: "font-medium text-[#1a2a4b] flex items-center", children: [
                  /* @__PURE__ */ jsx(
                    "span",
                    {
                      className: `inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium mr-2 ${statusBadge.bg} ${statusBadge.text}`,
                      children: statusBadge.icon
                    }
                  ),
                  statusBadge.label
                ] })
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "bg-black/5 p-4 rounded-lg", children: [
                /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 mb-1", children: "Priorité" }),
                /* @__PURE__ */ jsxs("p", { className: "font-medium text-[#1a2a4b] flex items-center", children: [
                  /* @__PURE__ */ jsx(
                    "span",
                    {
                      className: `inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium mr-2 ${priorityBadge.bg} ${priorityBadge.text}`,
                      children: /* @__PURE__ */ jsx(MdPriorityHigh, { className: "w-3 h-3 mr-0.5" })
                    }
                  ),
                  priorityBadge.label
                ] })
              ] })
            ] }) })
          ]
        }
      )
    ] }) }),
    /* @__PURE__ */ jsx(Footer$1, {})
  ] });
}
const __vite_glob_0_38 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: Show$1
}, Symbol.toStringTag, { value: "Module" }));
const formatDate$1 = (dateString) => {
  const options = {
    day: "2-digit",
    month: "2-digit",
    year: "numeric",
    hour: "2-digit",
    minute: "2-digit"
  };
  return new Date(dateString).toLocaleDateString("fr-FR", options);
};
const getStatusBadge = (status) => {
  switch (status) {
    case "new":
      return {
        bg: "bg-[#e63946]/10",
        text: "text-[#e63946]",
        icon: /* @__PURE__ */ jsx(MdOutlineWatchLater, { className: "w-3.5 h-3.5 sm:w-4 sm:h-4 mr-1" }),
        label: "Nouveau"
      };
    case "pending":
      return {
        bg: "bg-[#0F172A]/10",
        text: "text-[#0F172A]",
        icon: /* @__PURE__ */ jsx(MdErrorOutline, { className: "w-3.5 h-3.5 sm:w-4 sm:h-4 mr-1" }),
        label: "En attente"
      };
    case "resolved":
      return {
        bg: "bg-green-500/10",
        text: "text-green-600",
        icon: /* @__PURE__ */ jsx(MdCheckCircleOutline, { className: "w-3.5 h-3.5 sm:w-4 sm:h-4 mr-1" }),
        label: "Résolu"
      };
    default:
      return {
        bg: "bg-gray-200",
        text: "text-gray-700",
        icon: null,
        label: status
      };
  }
};
function Index$2({ tickets = [], debug, auth }) {
  const [canonicalUrl, setCanonicalUrl] = useState("");
  useEffect(() => {
    if (typeof window !== "undefined") {
      setCanonicalUrl(window.location.href);
    }
  }, []);
  const [activeTab, setActiveTab] = useState("all");
  const [searchQuery, setSearchQuery] = useState("");
  const [user, setUser] = useState({
    nom: auth.user.name,
    email: auth.user.email,
    ville: "Casablanca",
    solde: 250
  });
  const filteredTickets = useMemo(() => {
    if (!tickets || !Array.isArray(tickets)) {
      console.log("Tickets is not an array:", tickets);
      return [];
    }
    return tickets.filter((ticket) => {
      if (activeTab !== "all" && ticket.status !== activeTab) {
        return false;
      }
      if (searchQuery && !ticket.title.toLowerCase().includes(searchQuery.toLowerCase()) && !ticket.id.toString().toLowerCase().includes(searchQuery.toLowerCase())) {
        return false;
      }
      return true;
    });
  }, [tickets, activeTab, searchQuery]);
  const containerVariants = {
    hidden: { opacity: 0 },
    visible: {
      opacity: 1,
      transition: {
        staggerChildren: 0.1
      }
    }
  };
  const itemVariants = {
    hidden: { y: 20, opacity: 0 },
    visible: {
      y: 0,
      opacity: 1,
      transition: {
        type: "spring",
        stiffness: 100,
        damping: 12
      }
    }
  };
  return /* @__PURE__ */ jsxs("main", { className: "min-h-screen flex flex-col bg-gray-50", children: [
    /* @__PURE__ */ jsxs(Head, { children: [
      /* @__PURE__ */ jsx("title", { children: "Assistance & Tickets – Support client des annonces" }),
      /* @__PURE__ */ jsx(
        "meta",
        {
          name: "description",
          content: "Besoin d’aide ? Créez un ticket pour contacter notre support. Suivi rapide et assistance personnalisée pour vos annonces légales et appels d’offres."
        }
      ),
      /* @__PURE__ */ jsx("meta", { name: "robots", content: "noindex, nofollow" }),
      /* @__PURE__ */ jsx("link", { rel: "canonical", href: canonicalUrl })
    ] }),
    /* @__PURE__ */ jsx(Header, { auth: { user: auth.user } }),
    /* @__PURE__ */ jsx("section", { className: "container mx-auto  px-4 py-6 sm:py-8 md:py-10 flex-grow", children: /* @__PURE__ */ jsxs("div", { className: "w-full pt-32 max-w-[76rem] mx-auto", children: [
      /* @__PURE__ */ jsxs("div", { className: "mb-6 sm:mb-8 md:mb-10", children: [
        /* @__PURE__ */ jsx("h1", { className: "text-2xl sm:text-3xl md:text-4xl font-bold mb-2 sm:mb-3 text-[#0F172A]", children: "Mes Tickets" }),
        /* @__PURE__ */ jsx("p", { className: "text-gray-600 max-w-2xl text-sm sm:text-base", children: "Consultez et gérez vos tickets d'assistance. Notre équipe est là pour vous aider à résoudre vos problèmes." })
      ] }),
      /* @__PURE__ */ jsx("div", { className: "bg-white p-4 sm:p-6 rounded-xl shadow-lg border border-[#0F172A]/10 mb-6 sm:mb-8", children: /* @__PURE__ */ jsxs("div", { className: "flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between", children: [
        /* @__PURE__ */ jsx("div", { className: "overflow-x-auto pb-1 -mx-1 px-1 w-full sm:w-auto", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center space-x-1 bg-[#0F172A]/5 p-1 rounded-lg min-w-max", children: [
          /* @__PURE__ */ jsx(
            "button",
            {
              onClick: () => setActiveTab("all"),
              className: `px-3 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm font-medium rounded-md transition-all ${activeTab === "all" ? "bg-white text-[#0F172A] shadow-sm" : "text-gray-600 hover:text-gray-900"}`,
              children: "Tous"
            }
          ),
          /* @__PURE__ */ jsxs(
            "button",
            {
              onClick: () => setActiveTab("new"),
              className: `px-3 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm font-medium rounded-md transition-all flex items-center ${activeTab === "new" ? "bg-white text-[#e63946] shadow-sm" : "text-gray-600 hover:text-gray-900"}`,
              children: [
                /* @__PURE__ */ jsx(
                  MdOutlineWatchLater,
                  {
                    className: `mr-1 h-3.5 w-3.5 sm:h-4 sm:w-4 ${activeTab === "new" ? "text-[#e63946]" : ""}`
                  }
                ),
                "Nouveaux"
              ]
            }
          ),
          /* @__PURE__ */ jsxs(
            "button",
            {
              onClick: () => setActiveTab("pending"),
              className: `px-3 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm font-medium rounded-md transition-all flex items-center ${activeTab === "pending" ? "bg-white text-[#0F172A] shadow-sm" : "text-gray-600 hover:text-gray-900"}`,
              children: [
                /* @__PURE__ */ jsx(
                  MdErrorOutline,
                  {
                    className: `mr-1 h-3.5 w-3.5 sm:h-4 sm:w-4 ${activeTab === "pending" ? "text-[#0F172A]" : ""}`
                  }
                ),
                "En attente"
              ]
            }
          ),
          /* @__PURE__ */ jsxs(
            "button",
            {
              onClick: () => setActiveTab("resolved"),
              className: `px-3 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm font-medium rounded-md transition-all flex items-center ${activeTab === "resolved" ? "bg-white text-green-600 shadow-sm" : "text-gray-600 hover:text-gray-900"}`,
              children: [
                /* @__PURE__ */ jsx(
                  MdCheckCircleOutline,
                  {
                    className: `mr-1 h-3.5 w-3.5 sm:h-4 sm:w-4 ${activeTab === "resolved" ? "text-green-500" : ""}`
                  }
                ),
                "Résolus"
              ]
            }
          )
        ] }) }),
        /* @__PURE__ */ jsxs("div", { className: "flex w-full sm:w-auto gap-2 ml-auto", children: [
          /* @__PURE__ */ jsxs("div", { className: "relative w-full sm:w-64", children: [
            /* @__PURE__ */ jsx(MdSearch, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4 sm:h-5 sm:w-5" }),
            /* @__PURE__ */ jsx(
              "input",
              {
                type: "text",
                placeholder: "Rechercher un ticket...",
                className: "pl-10 pr-4 py-2 border border-[#0F172A]/20 rounded-lg w-full focus:ring-2 focus:ring-[#e63946] focus:border-transparent transition-all shadow-sm text-sm sm:text-base",
                value: searchQuery,
                onChange: (e2) => setSearchQuery(e2.target.value)
              }
            )
          ] }),
          /* @__PURE__ */ jsxs(
            Link,
            {
              href: route("client.ticket.create"),
              className: "w-2/6 sm:w-auto flex items-center justify-center gap-2 px-2 sm:px-5 py-2 sm:py-2.5 bg-[#e63946] text-white rounded-lg shadow-sm text-sm sm:text-base font-medium hover:bg-[#d32836] transition-colors",
              children: [
                /* @__PURE__ */ jsx(MdAdd, { className: "h-4 w-4 sm:h-5 sm:w-5" }),
                /* @__PURE__ */ jsx("span", { className: "sm:hidden", children: "Ticket" }),
                /* @__PURE__ */ jsx("span", { className: "hidden sm:inline", children: "Nouveau Ticket" })
              ]
            }
          )
        ] })
      ] }) }),
      /* @__PURE__ */ jsx(
        motion.div,
        {
          className: "grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",
          variants: containerVariants,
          initial: "hidden",
          animate: "visible",
          children: filteredTickets.length > 0 ? filteredTickets.map((ticket) => {
            const statusBadge = getStatusBadge(ticket.status);
            return /* @__PURE__ */ jsxs(
              motion.div,
              {
                variants: itemVariants,
                className: "bg-white rounded-xl shadow-lg border border-[#0F172A]/10 overflow-hidden hover:shadow-md transition-all duration-300",
                children: [
                  /* @__PURE__ */ jsx("div", { className: "p-4 sm:p-5 border-b border-gray-100", children: /* @__PURE__ */ jsx("div", { className: "flex justify-between items-start", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center", children: [
                    /* @__PURE__ */ jsx("div", { className: "bg-[#0F172A]/10 p-1.5 sm:p-2 rounded-lg mr-2 sm:mr-3", children: /* @__PURE__ */ jsx(MdConfirmationNumber, { className: "text-[#0F172A] text-base sm:text-lg" }) }),
                    /* @__PURE__ */ jsx("div", { children: /* @__PURE__ */ jsx("h2", { className: "font-semibold text-[#1a2a4b] text-sm sm:text-base line-clamp-1", children: ticket.title }) })
                  ] }) }) }),
                  /* @__PURE__ */ jsxs("div", { className: "p-4 sm:p-5", children: [
                    /* @__PURE__ */ jsxs("div", { className: "flex flex-wrap items-center gap-1.5 sm:gap-2 mb-3 sm:mb-4", children: [
                      /* @__PURE__ */ jsxs(
                        "span",
                        {
                          className: `inline-flex items-center px-2 sm:px-2.5 py-0.5 sm:py-1 rounded-full text-xs font-medium ${statusBadge.bg} ${statusBadge.text}`,
                          children: [
                            statusBadge.icon,
                            statusBadge.label
                          ]
                        }
                      ),
                      /* @__PURE__ */ jsx("span", { className: "inline-flex items-center px-2 sm:px-2.5 py-0.5 sm:py-1 rounded-full text-xs font-medium bg-[#0F172A]/5 text-[#0F172A]", children: ticket.category })
                    ] }),
                    /* @__PURE__ */ jsx("div", { className: "flex items-center justify-between text-xs sm:text-sm text-gray-500", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center", children: [
                      /* @__PURE__ */ jsx(MdAccessTime, { className: "mr-1 h-3.5 w-3.5 sm:h-4 sm:w-4" }),
                      formatDate$1(ticket.created_at)
                    ] }) })
                  ] }),
                  /* @__PURE__ */ jsxs("div", { className: "bg-gray-50 p-3 sm:p-4 flex flex-col sm:flex-row justify-between items-start sm:items-center border-t border-gray-100 gap-2 sm:gap-0", children: [
                    /* @__PURE__ */ jsxs("div", { className: "text-xs text-gray-500 flex items-center", children: [
                      /* @__PURE__ */ jsx(MdOutlineRefresh, { className: "mr-1 h-3.5 w-3.5" }),
                      /* @__PURE__ */ jsxs("span", { className: "line-clamp-1", children: [
                        "Mis à jour: ",
                        formatDate$1(ticket.updated_at)
                      ] })
                    ] }),
                    /* @__PURE__ */ jsx(
                      Link,
                      {
                        href: route("client.ticket.show", { ticket: ticket.slug }),
                        className: "bg-white border border-[#e63946] hover:bg-[#e63946] hover:text-white text-[#e63946] rounded-full flex items-center gap-1.5 transition-all px-3 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm font-medium shadow-sm hover:shadow w-full sm:w-auto justify-center sm:justify-start",
                        children: "Voir détails"
                      }
                    )
                  ] })
                ]
              },
              ticket.id
            );
          }) : /* @__PURE__ */ jsx("div", { className: "col-span-1 sm:col-span-2 lg:col-span-3 bg-white rounded-xl shadow-lg border border-[#0F172A]/10 p-6 sm:p-8 text-center", children: /* @__PURE__ */ jsxs("div", { className: "flex flex-col items-center", children: [
            /* @__PURE__ */ jsx("div", { className: "bg-[#0F172A]/5 rounded-full p-4 sm:p-6 mb-3 sm:mb-4", children: /* @__PURE__ */ jsx(MdSearch, { className: "text-[#0F172A] text-2xl sm:text-3xl" }) }),
            /* @__PURE__ */ jsx("h2", { className: "text-lg sm:text-xl font-semibold text-[#0F172A] mb-1 sm:mb-2", children: "Aucun ticket trouvé" }),
            /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 mb-4 sm:mb-6", children: "Vous n'avez pas encore de tickets correspondant à votre recherche." }),
            /* @__PURE__ */ jsxs(
              "button",
              {
                onClick: () => {
                  setActiveTab("all");
                  setSearchQuery("");
                },
                className: "bg-[#e63946] hover:bg-[#d32836] text-white px-3 sm:px-4 py-1.5 sm:py-2 rounded-lg flex items-center transition-all text-xs sm:text-sm",
                children: [
                  /* @__PURE__ */ jsx(MdFilterList, { className: "mr-1.5 sm:mr-2 h-4 w-4" }),
                  "Réinitialiser les filtres"
                ]
              }
            )
          ] }) })
        }
      ),
      /* @__PURE__ */ jsxs(
        motion.div,
        {
          initial: { opacity: 0, y: 20 },
          animate: { opacity: 1, y: 0 },
          transition: { duration: 0.5, delay: 0.2 },
          className: "mt-8 sm:mt-10 md:mt-12 bg-white rounded-xl shadow-lg border border-[#0F172A]/10 overflow-hidden",
          children: [
            /* @__PURE__ */ jsxs("div", { className: "bg-[#0F172A]/5 p-4 sm:p-6 border-b border-gray-100", children: [
              /* @__PURE__ */ jsx("p", { className: "text-lg sm:text-xl font-bold text-[#0F172A]", children: "Comment ça marche?" }),
              /* @__PURE__ */ jsx("p", { className: "text-xs sm:text-sm text-gray-600 mt-1", children: "Apprenez à utiliser notre système de tickets d'assistance" })
            ] }),
            /* @__PURE__ */ jsx("div", { className: "p-4 sm:p-6", children: /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6", children: [
              /* @__PURE__ */ jsxs("div", { className: "bg-[#0F172A]/5 p-4 sm:p-5 rounded-lg border border-[#0F172A]/10 hover:shadow-md transition-all duration-300", children: [
                /* @__PURE__ */ jsx("div", { className: "bg-white w-10 h-10 sm:w-12 sm:h-12 rounded-full flex items-center justify-center mb-3 sm:mb-4 border border-[#e63946]/20", children: /* @__PURE__ */ jsx("span", { className: "text-[#e63946] font-bold text-lg sm:text-xl", children: "1" }) }),
                /* @__PURE__ */ jsx("h2", { className: "font-semibold text-[#1a2a4b] mb-1 sm:mb-2 text-sm sm:text-base", children: "Créez un ticket" }),
                /* @__PURE__ */ jsx("p", { className: "text-gray-600 text-xs sm:text-sm", children: "Décrivez votre problème ou votre question en détail pour que notre équipe puisse vous aider efficacement." })
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "bg-[#0F172A]/5 p-4 sm:p-5 rounded-lg border border-[#0F172A]/10 hover:shadow-md transition-all duration-300", children: [
                /* @__PURE__ */ jsx("div", { className: "bg-white w-10 h-10 sm:w-12 sm:h-12 rounded-full flex items-center justify-center mb-3 sm:mb-4 border border-[#e63946]/20", children: /* @__PURE__ */ jsx("span", { className: "text-[#e63946] font-bold text-lg sm:text-xl", children: "2" }) }),
                /* @__PURE__ */ jsx("h2", { className: "font-semibold text-[#1a2a4b] mb-1 sm:mb-2 text-sm sm:text-base", children: "Suivez votre ticket" }),
                /* @__PURE__ */ jsx("p", { className: "text-gray-600 text-xs sm:text-sm", children: "Consultez régulièrement votre ticket pour voir les réponses de notre équipe et les mises à jour." })
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "bg-[#0F172A]/5 p-4 sm:p-5 rounded-lg border border-[#0F172A]/10 hover:shadow-md transition-all duration-300", children: [
                /* @__PURE__ */ jsx("div", { className: "bg-white w-10 h-10 sm:w-12 sm:h-12 rounded-full flex items-center justify-center mb-3 sm:mb-4 border border-[#e63946]/20", children: /* @__PURE__ */ jsx("span", { className: "text-[#e63946] font-bold text-lg sm:text-xl", children: "3" }) }),
                /* @__PURE__ */ jsx("h2", { className: "font-semibold text-[#1a2a4b] mb-1 sm:mb-2 text-sm sm:text-base", children: "Problème résolu" }),
                /* @__PURE__ */ jsx("p", { className: "text-gray-600 text-xs sm:text-sm", children: 'Une fois votre problème résolu, le ticket sera marqué comme "Résolu" et vous pourrez le consulter ultérieurement.' })
              ] })
            ] }) })
          ]
        }
      )
    ] }) }),
    /* @__PURE__ */ jsx(Footer$1, {})
  ] });
}
const __vite_glob_0_39 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: Index$2
}, Symbol.toStringTag, { value: "Module" }));
const PaiementConfirmation = ({ annonce, auth }) => {
  const [canonicalUrl, setCanonicalUrl] = useState("");
  useEffect(() => {
    if (typeof window !== "undefined") {
      setCanonicalUrl(window.location.href);
    }
  }, []);
  const handleRetourAccueil = () => {
    window.location.href = "/";
  };
  const handleRetourAnnonces = () => {
    window.location.href = "/annonces-legales";
  };
  const handleReessayer = () => {
    window.location.reload();
  };
  return /* @__PURE__ */ jsxs("main", { className: "min-h-screen flex flex-col bg-gray-50", children: [
    /* @__PURE__ */ jsxs(Head, { children: [
      /* @__PURE__ */ jsx("title", { children: "Confirmation de Paiement - Annonce Légale" }),
      /* @__PURE__ */ jsx(
        "meta",
        {
          name: "description",
          content: "Confirmation de votre paiement pour la publication d'annonce légale au Maroc."
        }
      ),
      /* @__PURE__ */ jsx("meta", { name: "robots", content: "noindex, nofollow" })
    ] }),
    /* @__PURE__ */ jsx(Header, { auth: { user: auth.user } }),
    /* @__PURE__ */ jsx("div", { className: "w-full pt-32 py-8 bg-gradient-to-b from-white to-gray-50", children: /* @__PURE__ */ jsx("div", { className: "w-full max-w-4xl mx-auto px-4", children: /* @__PURE__ */ jsxs("div", { className: "text-center", children: [
      /* @__PURE__ */ jsx("h1", { className: "text-3xl sm:text-4xl font-bold text-[#0F172A] mb-4", children: "Confirmation de Paiement" }),
      /* @__PURE__ */ jsx("p", { className: "text-gray-600 text-lg max-w-2xl mx-auto", children: "Statut de votre transaction pour l'annonce légale" })
    ] }) }) }),
    /* @__PURE__ */ jsx("section", { className: "container mx-auto px-4 py-8 flex-grow", children: /* @__PURE__ */ jsx("div", { className: "w-full max-w-4xl mx-auto", children: /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 lg:grid-cols-3 gap-8", children: [
      /* @__PURE__ */ jsx("div", { className: "lg:col-span-2", children: /* @__PURE__ */ jsxs("div", { className: "bg-white rounded-xl shadow-lg border border-[#0F172A]/10 overflow-hidden", children: [
        /* @__PURE__ */ jsx(
          "div",
          {
            className: `px-6 sm:px-8 py-6 ${annonce.is_transaction_paid ? "bg-gradient-to-r from-green-50 to-emerald-50 border-b border-green-200" : "bg-gradient-to-r from-yellow-50 to-amber-50 border-b border-yellow-200"}`,
            children: /* @__PURE__ */ jsx("div", { className: "flex items-center justify-center mb-4", children: annonce.is_transaction_paid ? /* @__PURE__ */ jsxs("div", { className: "flex items-center space-x-3", children: [
              /* @__PURE__ */ jsx("div", { className: "w-12 h-12 bg-green-100 rounded-full flex items-center justify-center", children: /* @__PURE__ */ jsx(CheckCircle, { className: "h-6 w-6 text-green-600" }) }),
              /* @__PURE__ */ jsxs("div", { children: [
                /* @__PURE__ */ jsx("h2", { className: "text-xl font-bold text-green-800", children: "Paiement Confirmé" }),
                /* @__PURE__ */ jsx("p", { className: "text-green-600 text-sm", children: "Transaction réussie" })
              ] })
            ] }) : /* @__PURE__ */ jsxs("div", { className: "flex items-center space-x-3", children: [
              /* @__PURE__ */ jsx("div", { className: "w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center", children: /* @__PURE__ */ jsx(Clock, { className: "h-6 w-6 text-yellow-600" }) }),
              /* @__PURE__ */ jsxs("div", { children: [
                /* @__PURE__ */ jsx("h2", { className: "text-xl font-bold text-yellow-800", children: "Paiement en Attente" }),
                /* @__PURE__ */ jsx("p", { className: "text-yellow-600 text-sm", children: "Traitement en cours" })
              ] })
            ] }) })
          }
        ),
        /* @__PURE__ */ jsxs("div", { className: "p-6 sm:p-8", children: [
          /* @__PURE__ */ jsxs("div", { className: "bg-[#0F172A]/5 rounded-lg p-6 mb-6", children: [
            /* @__PURE__ */ jsxs("h3", { className: "text-lg font-semibold text-[#0F172A] mb-4 flex items-center", children: [
              /* @__PURE__ */ jsx(FileText, { className: "h-5 w-5 mr-2 text-[#e63946]" }),
              "Détails de l'Annonce"
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "space-y-3", children: [
              /* @__PURE__ */ jsxs("div", { className: "flex justify-between items-center", children: [
                /* @__PURE__ */ jsx("span", { className: "text-gray-600", children: "Société:" }),
                /* @__PURE__ */ jsx("span", { className: "font-semibold text-[#0F172A]", children: annonce.nameSociete })
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "flex justify-between items-center", children: [
                /* @__PURE__ */ jsx("span", { className: "text-gray-600", children: "ID Annonce:" }),
                /* @__PURE__ */ jsxs("span", { className: "font-mono text-sm bg-gray-100 px-2 py-1 rounded", children: [
                  "#",
                  annonce.order_id
                ] })
              ] })
            ] })
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "bg-gradient-to-r from-[#e63946]/5 to-[#e63946]/10 rounded-lg p-6 mb-6", children: [
            /* @__PURE__ */ jsxs("h3", { className: "text-lg font-semibold text-[#0F172A] mb-4 flex items-center", children: [
              /* @__PURE__ */ jsx(CreditCard, { className: "h-5 w-5 mr-2 text-[#e63946]" }),
              "Montant de la Transaction"
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "text-center", children: [
              /* @__PURE__ */ jsxs("div", { className: "text-3xl font-bold text-[#0F172A] mb-2", children: [
                annonce.price.toLocaleString("fr-FR"),
                " MAD"
              ] }),
              /* @__PURE__ */ jsxs("p", { className: "text-gray-600 text-sm", children: [
                "Montant ",
                annonce.is_transaction_paid ? "payé" : "à payer"
              ] })
            ] })
          ] }),
          annonce.is_transaction_paid ? /* @__PURE__ */ jsx("div", { className: "bg-green-50 border border-green-200 rounded-lg p-4 mb-6", children: /* @__PURE__ */ jsxs("div", { className: "flex items-start space-x-3", children: [
            /* @__PURE__ */ jsx(CheckCircle, { className: "h-5 w-5 text-green-600 mt-0.5" }),
            /* @__PURE__ */ jsxs("div", { children: [
              /* @__PURE__ */ jsx("h4", { className: "font-semibold text-green-800 mb-1", children: "Transaction Réussie" }),
              /* @__PURE__ */ jsx("p", { className: "text-green-700 text-sm", children: "Votre paiement a été traité avec succès. Votre annonce légale sera publiée selon les délais convenus. Vous recevrez une confirmation par email." })
            ] })
          ] }) }) : /* @__PURE__ */ jsx("div", { className: "bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6", children: /* @__PURE__ */ jsxs("div", { className: "flex items-start space-x-3", children: [
            /* @__PURE__ */ jsx(AlertCircle, { className: "h-5 w-5 text-yellow-600 mt-0.5" }),
            /* @__PURE__ */ jsxs("div", { children: [
              /* @__PURE__ */ jsx("h4", { className: "font-semibold text-yellow-800 mb-1", children: "Paiement en Cours de Traitement" }),
              /* @__PURE__ */ jsx("p", { className: "text-yellow-700 text-sm mb-2", children: "Votre paiement est en cours de vérification. Cette opération peut prendre quelques minutes." }),
              /* @__PURE__ */ jsx("p", { className: "text-yellow-700 text-sm", children: "💡 Vous recevrez une notification par email dès que le paiement sera confirmé." })
            ] })
          ] }) }),
          /* @__PURE__ */ jsxs("div", { className: "space-y-3 sm:space-y-0 sm:flex sm:space-x-4", children: [
            /* @__PURE__ */ jsxs(
              "button",
              {
                onClick: handleRetourAccueil,
                className: "w-full sm:w-auto flex items-center justify-center px-6 py-3 bg-[#e63946] text-white font-medium rounded-lg hover:bg-[#e63946]/90 transition-colors duration-200",
                children: [
                  /* @__PURE__ */ jsx(Home$1, { className: "h-4 w-4 mr-2" }),
                  "Retour à l'accueil"
                ]
              }
            ),
            /* @__PURE__ */ jsxs(
              "button",
              {
                onClick: handleRetourAnnonces,
                className: "w-full sm:w-auto flex items-center justify-center px-6 py-3 bg-[#0F172A] text-white font-medium rounded-lg hover:bg-[#0F172A]/90 transition-colors duration-200",
                children: [
                  /* @__PURE__ */ jsx(List, { className: "h-4 w-4 mr-2" }),
                  "Mes annonces"
                ]
              }
            ),
            !annonce.is_transaction_paid && /* @__PURE__ */ jsxs(
              "button",
              {
                onClick: handleReessayer,
                className: "w-full sm:w-auto flex items-center justify-center px-6 py-3 bg-gray-600 text-white font-medium rounded-lg hover:bg-gray-700 transition-colors duration-200",
                children: [
                  /* @__PURE__ */ jsx(RefreshCw, { className: "h-4 w-4 mr-2" }),
                  "Actualiser"
                ]
              }
            )
          ] })
        ] })
      ] }) }),
      /* @__PURE__ */ jsx("div", { className: "lg:col-span-1", children: /* @__PURE__ */ jsxs("div", { className: "bg-white rounded-xl shadow-lg border border-[#0F172A]/10 p-6 sticky top-24", children: [
        /* @__PURE__ */ jsx("h3", { className: "text-lg font-semibold text-[#0F172A] mb-4", children: "Prochaines Étapes" }),
        /* @__PURE__ */ jsx("div", { className: "space-y-4", children: annonce.is_transaction_paid ? /* @__PURE__ */ jsxs(Fragment, { children: [
          /* @__PURE__ */ jsxs("div", { className: "flex items-start space-x-3", children: [
            /* @__PURE__ */ jsx("div", { className: "w-6 h-6 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5", children: /* @__PURE__ */ jsx(CheckCircle, { className: "h-3 w-3 text-green-600" }) }),
            /* @__PURE__ */ jsxs("div", { children: [
              /* @__PURE__ */ jsx("h4", { className: "font-medium text-[#0F172A] text-sm", children: "Paiement confirmé" }),
              /* @__PURE__ */ jsx("p", { className: "text-gray-600 text-xs mt-1", children: "Transaction réussie" })
            ] })
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "flex items-start space-x-3", children: [
            /* @__PURE__ */ jsx("div", { className: "w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5", children: /* @__PURE__ */ jsx("span", { className: "text-blue-600 text-xs font-bold", children: "2" }) }),
            /* @__PURE__ */ jsxs("div", { children: [
              /* @__PURE__ */ jsx("h4", { className: "font-medium text-[#0F172A] text-sm", children: "Vérification" }),
              /* @__PURE__ */ jsx("p", { className: "text-gray-600 text-xs mt-1", children: "Révision de votre annonce" })
            ] })
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "flex items-start space-x-3", children: [
            /* @__PURE__ */ jsx("div", { className: "w-6 h-6 bg-gray-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5", children: /* @__PURE__ */ jsx("span", { className: "text-gray-600 text-xs font-bold", children: "3" }) }),
            /* @__PURE__ */ jsxs("div", { children: [
              /* @__PURE__ */ jsx("h4", { className: "font-medium text-[#0F172A] text-sm", children: "Publication" }),
              /* @__PURE__ */ jsx("p", { className: "text-gray-600 text-xs mt-1", children: "Mise en ligne de l'annonce" })
            ] })
          ] })
        ] }) : /* @__PURE__ */ jsxs(Fragment, { children: [
          /* @__PURE__ */ jsxs("div", { className: "flex items-start space-x-3", children: [
            /* @__PURE__ */ jsx("div", { className: "w-6 h-6 bg-yellow-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5", children: /* @__PURE__ */ jsx(Clock, { className: "h-3 w-3 text-yellow-600" }) }),
            /* @__PURE__ */ jsxs("div", { children: [
              /* @__PURE__ */ jsx("h4", { className: "font-medium text-[#0F172A] text-sm", children: "Traitement du paiement" }),
              /* @__PURE__ */ jsx("p", { className: "text-gray-600 text-xs mt-1", children: "Vérification en cours" })
            ] })
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "flex items-start space-x-3", children: [
            /* @__PURE__ */ jsx("div", { className: "w-6 h-6 bg-gray-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5", children: /* @__PURE__ */ jsx("span", { className: "text-gray-600 text-xs font-bold", children: "2" }) }),
            /* @__PURE__ */ jsxs("div", { children: [
              /* @__PURE__ */ jsx("h4", { className: "font-medium text-gray-400 text-sm", children: "Confirmation" }),
              /* @__PURE__ */ jsx("p", { className: "text-gray-400 text-xs mt-1", children: "En attente du paiement" })
            ] })
          ] })
        ] }) }),
        /* @__PURE__ */ jsxs("div", { className: "mt-6 pt-6 border-t border-gray-200", children: [
          /* @__PURE__ */ jsx("h4", { className: "font-medium text-[#0F172A] text-sm mb-2", children: "Besoin d'aide ?" }),
          /* @__PURE__ */ jsx("p", { className: "text-gray-600 text-xs mb-3", children: "Notre équipe support est disponible pour vous aider." }),
          /* @__PURE__ */ jsx("button", { className: "w-full px-4 py-2 bg-gray-100 text-gray-700 text-sm rounded-lg hover:bg-gray-200 transition-colors", children: "Contacter le support" })
        ] })
      ] }) })
    ] }) }) }),
    /* @__PURE__ */ jsx(Footer$1, {})
  ] });
};
const __vite_glob_0_40 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: PaiementConfirmation
}, Symbol.toStringTag, { value: "Module" }));
const PurchaseNotComplete = ({ auth }) => {
  const [canonicalUrl, setCanonicalUrl] = useState("");
  useEffect(() => {
    if (typeof window !== "undefined") {
      setCanonicalUrl(window.location.href);
    }
  }, []);
  const handleRetourAccueil = () => {
    window.location.href = "/";
  };
  const handleRetourAnnonces = () => {
    window.location.href = "/annonces-legales";
  };
  const handleGoBack = () => {
    window.history.back();
  };
  return /* @__PURE__ */ jsxs("main", { className: "min-h-screen flex flex-col bg-gray-50", children: [
    /* @__PURE__ */ jsx(Header, { auth: { user: auth.user } }),
    /* @__PURE__ */ jsx("div", { className: "w-full pt-32 py-8 bg-gradient-to-b from-white to-gray-50", children: /* @__PURE__ */ jsx("div", { className: "w-full max-w-7xl mx-auto px-6", children: /* @__PURE__ */ jsxs("div", { className: "text-center", children: [
      /* @__PURE__ */ jsx("h1", { className: "text-3xl sm:text-4xl font-bold text-[#0F172A] mb-4", children: "Achat Non Complété" }),
      /* @__PURE__ */ jsx("p", { className: "text-gray-600 text-lg max-w-2xl mx-auto", children: "Votre transaction n'a pas pu être finalisée" })
    ] }) }) }),
    /* @__PURE__ */ jsx("section", { className: "container mx-auto px-6 py-12 flex-grow", children: /* @__PURE__ */ jsx("div", { className: "w-full max-w-3xl mx-auto", children: /* @__PURE__ */ jsxs("div", { className: "bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden", children: [
      /* @__PURE__ */ jsx("div", { className: "px-8 py-8 bg-gradient-to-r from-red-50 to-rose-50 border-b border-red-100", children: /* @__PURE__ */ jsxs("div", { className: "flex flex-col items-center text-center", children: [
        /* @__PURE__ */ jsx("div", { className: "w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4", children: /* @__PURE__ */ jsx(XCircle, { className: "h-8 w-8 text-red-600" }) }),
        /* @__PURE__ */ jsx("h2", { className: "text-2xl font-bold text-red-800 mb-2", children: "Paiement Échoué" }),
        /* @__PURE__ */ jsx("p", { className: "text-red-600", children: "Aucun montant n'a été débité de votre compte" })
      ] }) }),
      /* @__PURE__ */ jsxs("div", { className: "p-8", children: [
        /* @__PURE__ */ jsx("p", { className: "text-center text-gray-600 mb-8", children: "Votre paiement n'a pas pu être traité. Veuillez vérifier vos informations et réessayer." }),
        /* @__PURE__ */ jsxs("div", { className: "flex flex-col sm:flex-row gap-4", children: [
          /* @__PURE__ */ jsxs(
            "button",
            {
              onClick: handleGoBack,
              className: "flex-1 flex items-center justify-center px-6 py-4 bg-[#0F172A] text-white font-medium rounded-lg hover:bg-[#0F172A]/90 transition-colors duration-200 shadow-md",
              children: [
                /* @__PURE__ */ jsx(ArrowLeft, { className: "h-5 w-5 mr-2" }),
                "Réessayer le Paiement"
              ]
            }
          ),
          /* @__PURE__ */ jsxs(
            "button",
            {
              onClick: handleRetourAnnonces,
              className: "flex-1 flex items-center justify-center px-6 py-4 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors duration-200 shadow-md",
              children: [
                /* @__PURE__ */ jsx(FileText, { className: "h-5 w-5 mr-2" }),
                "Voir les Annonces"
              ]
            }
          ),
          /* @__PURE__ */ jsxs(
            "button",
            {
              onClick: handleRetourAccueil,
              className: "flex-1 flex items-center justify-center px-6 py-4 bg-gray-600 text-white font-medium rounded-lg hover:bg-gray-700 transition-colors duration-200 shadow-md",
              children: [
                /* @__PURE__ */ jsx(Home$1, { className: "h-5 w-5 mr-2" }),
                "Accueil"
              ]
            }
          )
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "mt-8 pt-6 border-t border-gray-200 text-center", children: [
          /* @__PURE__ */ jsx("p", { className: "text-gray-600 text-sm mb-4", children: "Besoin d'aide ?" }),
          /* @__PURE__ */ jsx("button", { className: "px-6 py-3 bg-gray-100 text-gray-700 text-sm font-medium rounded-lg hover:bg-gray-200 transition-colors", children: "Contacter le support" })
        ] })
      ] })
    ] }) }) }),
    /* @__PURE__ */ jsx(Footer$1, {})
  ] });
};
const __vite_glob_0_41 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: PurchaseNotComplete
}, Symbol.toStringTag, { value: "Module" }));
const PDFDownloadButton = ({
  annonceId,
  className = "p-1.5 bg-emerald-50 text-emerald-700 rounded-lg hover:bg-emerald-100 transition-colors",
  title = "Télécharger l'attestation",
  disabled = false
}) => {
  const isBrowser2 = typeof window !== "undefined";
  if (disabled || !isBrowser2) {
    return /* @__PURE__ */ jsx(
      "button",
      {
        className: "p-1.5 bg-gray-100 text-gray-400 rounded-lg cursor-not-allowed",
        title: "Attestation non disponible",
        disabled: true,
        children: /* @__PURE__ */ jsx(Download, { className: "h-4 w-4" })
      }
    );
  }
  const downloadUrl = String(route$3("annonces.download", { id: annonceId }));
  return /* @__PURE__ */ jsx(
    "a",
    {
      href: downloadUrl,
      download: `attestation_${annonceId}.pdf`,
      className,
      title,
      target: "_blank",
      rel: "noopener noreferrer",
      children: /* @__PURE__ */ jsx(Download, { className: "h-4 w-4" })
    }
  );
};
function UserAnnoncesPage({ annonces, auth }) {
  const [search, setSearch] = useState("");
  const [selectedCategory, setSelectedCategory] = useState("");
  const [isScrolled, setIsScrolled] = useState(false);
  const [sortBy, setSortBy] = useState("date-desc");
  const [isMobileFiltersOpen, setIsMobileFiltersOpen] = useState(false);
  useEffect(() => {
    if (typeof window === "undefined") return;
    const handleScroll = () => {
      setIsScrolled(window.scrollY > 10);
    };
    window.addEventListener("scroll", handleScroll);
    return () => window.removeEventListener("scroll", handleScroll);
  }, []);
  const annoncesData = (annonces == null ? void 0 : annonces.data) ?? [];
  const [user, setUser] = useState({
    nom: auth.user.name,
    email: auth.user.email,
    city: auth.user.city,
    solde: 250
  });
  const filteredAnnonces = annoncesData.filter((annonce) => {
    const matchesSearch = annonce.title.toLowerCase().includes(search.toLowerCase()) || annonce.RC.includes(search) || annonce.category.toLowerCase().includes(search.toLowerCase());
    const matchesCategory = selectedCategory === "" || annonce.category === selectedCategory;
    return matchesSearch && matchesCategory;
  }).sort((a, b) => {
    switch (sortBy) {
      case "date-desc":
        return new Date(b.date || "").getTime() - new Date(a.date || "").getTime();
      case "date-asc":
        return new Date(a.date || "").getTime() - new Date(b.date || "").getTime();
      case "status":
        return a.status.localeCompare(b.status);
      case "category":
        return a.category.localeCompare(b.category);
      default:
        return 0;
    }
  });
  const getStatusBadge2 = (status) => {
    switch (status) {
      case "APPROVED":
        return {
          bg: "bg-emerald-50",
          text: "text-emerald-700",
          border: "border-emerald-200",
          icon: /* @__PURE__ */ jsx(CheckCircle2, { className: "h-3.5 w-3.5 sm:h-4 sm:w-4 mr-1 sm:mr-1.5 text-emerald-500" }),
          label: "Approuvée"
        };
      case "PENDING":
        return {
          bg: "bg-amber-50",
          text: "text-amber-700",
          border: "border-amber-200",
          icon: /* @__PURE__ */ jsx(Clock, { className: "h-3.5 w-3.5 sm:h-4 sm:w-4 mr-1 sm:mr-1.5 text-amber-500" }),
          label: "En attente"
        };
      case "REJECTED":
        return {
          bg: "bg-rose-50",
          text: "text-rose-700",
          border: "border-rose-200",
          icon: /* @__PURE__ */ jsx(XCircle, { className: "h-3.5 w-3.5 sm:h-4 sm:w-4 mr-1 sm:mr-1.5 text-rose-500" }),
          label: "Rejetée"
        };
      default:
        return {
          bg: "bg-gray-50",
          text: "text-gray-700",
          border: "border-gray-200",
          icon: /* @__PURE__ */ jsx(AlertTriangle, { className: "h-3.5 w-3.5 sm:h-4 sm:w-4 mr-1 sm:mr-1.5 text-gray-500" }),
          label: status
        };
    }
  };
  const getCategoryBadge = (category) => {
    switch (category) {
      case "CONSTITUTION":
        return {
          bg: "bg-blue-50",
          text: "text-blue-700",
          border: "border-blue-200"
        };
      case "MODIFICATION":
        return {
          bg: "bg-blue-50",
          text: "text-blue-700",
          border: "border-blue-200"
        };
      case "DISSOLUTION":
        return {
          bg: "bg-blue-50",
          text: "text-blue-700",
          border: "border-blue-200"
        };
      default:
        return {
          bg: "bg-gray-50",
          text: "text-gray-700",
          border: "border-gray-200"
        };
    }
  };
  const clearSearch = () => {
    setSearch("");
    setSelectedCategory("");
  };
  return /* @__PURE__ */ jsxs("main", { className: "min-h-screen flex flex-col bg-gray-50", children: [
    /* @__PURE__ */ jsx(Head, { children: /* @__PURE__ */ jsx("link", { rel: "canonical", href: window.location.href }) }),
    /* @__PURE__ */ jsx(Header, { auth: { user: auth.user } }),
    /* @__PURE__ */ jsx(ProfileSection, { user: auth.user, setUser: (user2) => console.log("User updated:", user2) }),
    /* @__PURE__ */ jsx("div", { className: "bg-gray-50 w-full py-6 sm:py-8  relative overflow-hidden", children: /* @__PURE__ */ jsxs("div", { className: "w-full max-w-[78rem] mx-auto px-4 relative z-10", children: [
      /* @__PURE__ */ jsxs("div", { className: "flex flex-col md:flex-row md:items-center justify-between gap-4 sm:gap-6 mb-4 sm:mb-6", children: [
        /* @__PURE__ */ jsxs("div", { children: [
          /* @__PURE__ */ jsx("h2", { className: "text-xl sm:text-2xl md:text-3xl font-bold text-black mb-1 sm:mb-2", children: "Mes annonces légales" }),
          /* @__PURE__ */ jsx("p", { className: "text-black/80 max-w-2xl text-xs sm:text-sm", children: "Gérez vos annonces légales, suivez leur statut et téléchargez les documents associés." })
        ] }),
        /* @__PURE__ */ jsx(Link, { href: "#", className: "block shrink-0", children: /* @__PURE__ */ jsxs(Button, { className: "bg-red-600 hover:bg-red-700 text-white py-2 sm:py-2.5 px-3 sm:px-5 rounded-lg transition-all duration-300 shadow-md hover:shadow-lg transform hover:-translate-y-0.5 flex items-center gap-1 sm:gap-2 text-xs sm:text-sm w-full sm:w-auto justify-center", children: [
          /* @__PURE__ */ jsx("span", { children: "Publier une annonce légale" }),
          /* @__PURE__ */ jsx(ArrowUpRight, { className: "w-3.5 h-3.5 sm:w-4 sm:h-4" })
        ] }) })
      ] }),
      /* @__PURE__ */ jsx(
        motion.div,
        {
          initial: { y: 20, opacity: 0 },
          animate: { y: 0, opacity: 1 },
          transition: { duration: 0.5 },
          className: "bg-white backdrop-blur-md rounded-xl sm:rounded-2xl shadow-md border border-gray-400 px-3 sm:px-6 py-3",
          children: /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 md:grid-cols-12 gap-3 sm:gap-4 items-center", children: [
            /* @__PURE__ */ jsxs("div", { className: "relative md:col-span-6", children: [
              /* @__PURE__ */ jsx(Search, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-3.5 w-3.5 sm:h-4 sm:w-4" }),
              /* @__PURE__ */ jsx(
                Input,
                {
                  type: "text",
                  placeholder: "Rechercher par titre, RC ou catégorie...",
                  value: search,
                  onChange: (e2) => setSearch(e2.target.value),
                  className: "pl-8 sm:pl-10 pr-4 py-1.5 sm:py-2 border border-gray-200 rounded-lg w-full focus:ring-2 focus:ring-[#1a2a4b] focus:border-transparent transition-all text-xs sm:text-sm"
                }
              ),
              search && /* @__PURE__ */ jsx(
                "button",
                {
                  onClick: clearSearch,
                  className: "absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",
                  children: /* @__PURE__ */ jsx(XCircle, { className: "h-3.5 w-3.5 sm:h-4 sm:w-4" })
                }
              )
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "relative md:col-span-4", children: [
              /* @__PURE__ */ jsx(Filter, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-3.5 w-3.5 sm:h-4 sm:w-4" }),
              /* @__PURE__ */ jsxs(
                "select",
                {
                  value: selectedCategory,
                  onChange: (e2) => setSelectedCategory(e2.target.value),
                  className: "pl-8 sm:pl-10 pr-4 py-1.5 sm:py-2 border border-gray-200 rounded-lg w-full focus:ring-2 focus:ring-[#1a2a4b] focus:border-transparent transition-all appearance-none bg-white text-xs sm:text-sm",
                  children: [
                    /* @__PURE__ */ jsx("option", { value: "", children: "Toutes catégories" }),
                    /* @__PURE__ */ jsx("option", { value: "CONSTITUTION", children: "Constitution" }),
                    /* @__PURE__ */ jsx("option", { value: "MODIFICATION", children: "Modification" }),
                    /* @__PURE__ */ jsx("option", { value: "DISSOLUTION", children: "Dissolution" })
                  ]
                }
              ),
              /* @__PURE__ */ jsx("div", { className: "absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none", children: /* @__PURE__ */ jsx(
                "svg",
                {
                  className: "h-3.5 w-3.5 sm:h-4 sm:w-4 text-gray-400",
                  fill: "none",
                  viewBox: "0 0 24 24",
                  stroke: "currentColor",
                  children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M19 9l-7 7-7-7" })
                }
              ) })
            ] }),
            /* @__PURE__ */ jsx("div", { className: "md:col-span-2", children: /* @__PURE__ */ jsxs("div", { className: "bg-gray-50 rounded-lg p-2 sm:p-2.5 text-center", children: [
              /* @__PURE__ */ jsx("p", { className: "text-xs text-gray-500 mb-0.5 sm:mb-1", children: "Total" }),
              /* @__PURE__ */ jsx("p", { className: "text-base sm:text-lg font-bold text-[#1a2a4b]", children: annoncesData.length })
            ] }) })
          ] })
        }
      )
    ] }) }),
    /* @__PURE__ */ jsxs("section", { className: "flex-grow py-4 sm:py-6", children: [
      /* @__PURE__ */ jsx("div", { className: "mb-3 sm:mb-4 w-full max-w-[78rem] mx-auto px-4", children: /* @__PURE__ */ jsx("div", { className: "flex flex-col sm:flex-row sm:items-center justify-between gap-3 sm:gap-4", children: /* @__PURE__ */ jsx("div", { className: "flex items-center", children: /* @__PURE__ */ jsxs("div", { className: "px-2 sm:px-4 py-1 sm:py-1.5 bg-blue-50 text-blue-700 rounded-full text-xs sm:text-sm font-medium flex items-center", children: [
        /* @__PURE__ */ jsx(FileText, { className: "h-3.5 w-3.5 sm:h-4 sm:w-4 mr-1 sm:mr-2" }),
        filteredAnnonces.length,
        " ",
        filteredAnnonces.length === 1 ? "annonce" : "annonces",
        " trouvée",
        filteredAnnonces.length !== 1 ? "s" : ""
      ] }) }) }) }),
      /* @__PURE__ */ jsx("div", { className: "w-full max-w-[78rem] mx-auto px-4", children: filteredAnnonces.length > 0 ? /* @__PURE__ */ jsxs(
        motion.div,
        {
          initial: { opacity: 0, y: 20 },
          animate: { opacity: 1, y: 0 },
          transition: { duration: 0.5 },
          className: "bg-white/90 backdrop-blur-md rounded-xl sm:rounded-2xl shadow-md border border-gray-200 overflow-hidden",
          children: [
            /* @__PURE__ */ jsx("div", { className: "hidden md:block overflow-x-auto", children: /* @__PURE__ */ jsxs("table", { className: "w-full", children: [
              /* @__PURE__ */ jsx("thead", { children: /* @__PURE__ */ jsxs("tr", { className: "bg-gray-50 border border-gray text-gray-500", children: [
                /* @__PURE__ */ jsx("th", { className: "px-4 sm:px-6 py-3 sm:py-4 text-left text-xs sm:text-sm font-semibold", children: "Annonce" }),
                /* @__PURE__ */ jsx("th", { className: "px-4 sm:px-6 py-3 sm:py-4 text-left text-xs sm:text-sm font-semibold", children: "Catégorie" }),
                /* @__PURE__ */ jsx("th", { className: "px-4 sm:px-6 py-3 sm:py-4 text-left text-xs sm:text-sm font-semibold", children: "Statut" }),
                /* @__PURE__ */ jsx("th", { className: "px-4 sm:px-6 py-3 sm:py-4 text-left text-xs sm:text-sm font-semibold", children: "Paiement" }),
                /* @__PURE__ */ jsx("th", { className: "px-4 sm:px-6 py-3 sm:py-4 text-right text-xs sm:text-sm font-semibold", children: "Actions" })
              ] }) }),
              /* @__PURE__ */ jsx("tbody", { className: "divide-y divide-gray-100", children: filteredAnnonces.map((annonce, index2) => {
                const statusStyle = getStatusBadge2(annonce.status);
                const categoryStyle = getCategoryBadge(annonce.category);
                return /* @__PURE__ */ jsxs(
                  "tr",
                  {
                    className: `hover:bg-gray-50 transition-colors ${index2 % 2 === 0 ? "bg-white" : "bg-gray-50/50"}`,
                    children: [
                      /* @__PURE__ */ jsx("td", { className: "px-4 sm:px-6 py-3 sm:py-4", children: /* @__PURE__ */ jsxs("div", { className: "flex flex-col", children: [
                        /* @__PURE__ */ jsx(
                          "p",
                          {
                            className: "text-[#1a2a4b] font-medium hover:text-blue-700 transition-colors line-clamp-1 text-xs sm:text-sm",
                            children: annonce.title
                          }
                        ),
                        /* @__PURE__ */ jsxs("div", { className: "flex items-center text-gray-500 text-xs mt-1", children: [
                          /* @__PURE__ */ jsx(Building, { className: "h-3 w-3 sm:h-3.5 sm:w-3.5 mr-1 sm:mr-1.5 text-gray-400" }),
                          "RC: ",
                          annonce.RC,
                          "  ",
                          /* @__PURE__ */ jsx("br", {})
                        ] }),
                        /* @__PURE__ */ jsxs("div", { className: "flex items-center text-gray-500 text-xs mt-1", children: [
                          "Date: ",
                          annonce.date || "Non disponible"
                        ] })
                      ] }) }),
                      /* @__PURE__ */ jsx("td", { className: "px-4 sm:px-6 py-3 sm:py-4", children: /* @__PURE__ */ jsx(
                        "span",
                        {
                          className: `inline-flex items-center px-2 sm:px-2.5 py-0.5 sm:py-1 rounded-full text-xs font-medium ${categoryStyle.bg} ${categoryStyle.text} ${categoryStyle.border}`,
                          children: annonce.category
                        }
                      ) }),
                      /* @__PURE__ */ jsx("td", { className: "px-4 sm:px-6 py-3 sm:py-4", children: /* @__PURE__ */ jsxs(
                        "span",
                        {
                          className: `inline-flex items-center px-2 sm:px-2.5 py-0.5 sm:py-1 rounded-full text-xs font-medium ${statusStyle.bg} ${statusStyle.text} ${statusStyle.border}`,
                          children: [
                            statusStyle.icon,
                            statusStyle.label
                          ]
                        }
                      ) }),
                      /* @__PURE__ */ jsx("td", { className: "px-4 sm:px-6 py-3 sm:py-4", children: annonce.is_transaction_paid ? /* @__PURE__ */ jsxs("span", { className: "inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-green-50 text-green-700 border border-green-200", children: [
                        /* @__PURE__ */ jsx(BadgeDollarSign, { className: "h-4 w-4 mr-1 text-green-500" }),
                        "Payée"
                      ] }) : /* @__PURE__ */ jsxs("span", { className: "inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-red-50 text-red-700 border border-red-200", children: [
                        /* @__PURE__ */ jsx(BadgeDollarSign, { className: "h-4 w-4 mr-1 text-red-500" }),
                        "Non payée"
                      ] }) }),
                      /* @__PURE__ */ jsx("td", { className: "px-4 sm:px-6 py-3 sm:py-4 text-right", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-end space-x-1 sm:space-x-2", children: [
                        /* @__PURE__ */ jsx(
                          Link,
                          {
                            href: annonce.status === "APPROVED" ? `/annonces-legales/${annonce.slug}` : "#",
                            onClick: (e2) => {
                              if (annonce.status !== "APPROVED") e2.preventDefault();
                            },
                            className: `p-1 sm:p-1.5 rounded-lg transition-colors flex items-center justify-center ${annonce.status === "APPROVED" ? "bg-blue-50 text-blue-700 hover:bg-blue-100" : "bg-gray-100 text-gray-400 cursor-not-allowed"}`,
                            title: annonce.status === "APPROVED" ? "Voir l'annonce" : "Disponible uniquement après approbation",
                            children: /* @__PURE__ */ jsx(Eye, { className: "h-3.5 w-3.5 sm:h-4 sm:w-4" })
                          }
                        ),
                        /* @__PURE__ */ jsx(PDFDownloadButton, { annonceId: annonce.id, disabled: annonce.status !== "APPROVED" }),
                        /* @__PURE__ */ jsx(
                          Link,
                          {
                            href: annonce.status === "PENDING" ? `/annonces-legales/modifier/${annonce.slug}` : "#",
                            className: `p-1 sm:p-1.5 rounded-lg transition-colors ${annonce.status === "PENDING" ? "bg-amber-50 text-amber-700 hover:bg-amber-100" : "bg-gray-100 text-gray-400 cursor-not-allowed"}`,
                            title: annonce.status === "PENDING" ? "Modifier l'annonce" : "Modification impossible",
                            onClick: (e2) => annonce.status !== "PENDING" && e2.preventDefault(),
                            children: /* @__PURE__ */ jsx(Edit$2, { className: "h-3.5 w-3.5 sm:h-4 sm:w-4" })
                          }
                        ),
                        /* @__PURE__ */ jsx(
                          Link,
                          {
                            href: annonce.status === "BROUILLON" ? `/publier/${annonce.slug}` : "#",
                            onClick: (e2) => {
                              if (annonce.status !== "BROUILLON") e2.preventDefault();
                            },
                            className: `p-1 sm:p-1.5 rounded-lg transition-colors flex items-center justify-center 
                                ${annonce.status === "BROUILLON" ? "bg-green-50 text-green-700 hover:bg-green-100" : "bg-gray-100 text-gray-400 cursor-not-allowed"}
          `,
                            title: annonce.status === "BROUILLON" ? "Payer cette annonce" : "Paiement disponible uniquement pour les brouillons",
                            children: /* @__PURE__ */ jsx(FileText, { className: "h-3.5 w-3.5 sm:h-4 sm:w-4" })
                          }
                        )
                      ] }) })
                    ]
                  },
                  annonce.id
                );
              }) })
            ] }) }),
            /* @__PURE__ */ jsx("div", { className: "md:hidden", children: /* @__PURE__ */ jsx("div", { className: "divide-y divide-gray-100", children: filteredAnnonces.map((annonce) => {
              const statusStyle = getStatusBadge2(annonce.status);
              const categoryStyle = getCategoryBadge(annonce.category);
              return /* @__PURE__ */ jsxs("div", { className: "p-4 hover:bg-gray-50 transition-colors", children: [
                /* @__PURE__ */ jsx("div", { className: "flex justify-between items-start mb-2", children: /* @__PURE__ */ jsxs(
                  "span",
                  {
                    className: `inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${statusStyle.bg} ${statusStyle.text} ${statusStyle.border} whitespace-nowrap`,
                    children: [
                      statusStyle.icon,
                      statusStyle.label
                    ]
                  }
                ) }),
                /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-2 gap-2 mb-3", children: [
                  /* @__PURE__ */ jsxs("div", { className: "flex items-center text-gray-500 text-xs", children: [
                    /* @__PURE__ */ jsx(Building, { className: "h-3 w-3 mr-1 text-gray-400" }),
                    "RC: ",
                    annonce.RC
                  ] }),
                  /* @__PURE__ */ jsxs("div", { className: "flex items-center text-gray-700 text-xs justify-end", children: [
                    /* @__PURE__ */ jsx(Calendar$2, { className: "h-3 w-3 mr-1 text-gray-400" }),
                    annonce.date || "Non disponible"
                  ] })
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
                  /* @__PURE__ */ jsx(
                    "span",
                    {
                      className: `inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${categoryStyle.bg} ${categoryStyle.text} ${categoryStyle.border}`,
                      children: annonce.category
                    }
                  ),
                  /* @__PURE__ */ jsxs("div", { className: "flex items-center space-x-1", children: [
                    /* @__PURE__ */ jsx(
                      Link,
                      {
                        href: `/annonces-legales/${annonce.slug}`,
                        className: "p-1 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors",
                        title: "Voir l'annonce",
                        children: /* @__PURE__ */ jsx(Eye, { className: "h-3.5 w-3.5" })
                      }
                    ),
                    /* @__PURE__ */ jsx(PDFDownloadButton, { annonceId: annonce.id, disabled: annonce.status !== "APPROVED" }),
                    /* @__PURE__ */ jsx(
                      Link,
                      {
                        href: annonce.status === "PENDING" ? `/annonces-legales/modifier/${annonce.id}` : "#",
                        className: `p-1 rounded-lg transition-colors ${annonce.status === "PENDING" ? "bg-amber-50 text-amber-700 hover:bg-amber-100" : "bg-gray-100 text-gray-400 cursor-not-allowed"}`,
                        title: annonce.status === "PENDING" ? "Modifier l'annonce" : "Modification impossible",
                        onClick: (e2) => annonce.status !== "PENDING" && e2.preventDefault(),
                        children: /* @__PURE__ */ jsx(Edit$2, { className: "h-3.5 w-3.5" })
                      }
                    )
                  ] })
                ] })
              ] }, annonce.id);
            }) }) }),
            /* @__PURE__ */ jsx("div", { className: "bg-gray-50 px-4 sm:px-6 py-2 sm:py-3 border-t border-gray-100 flex flex-col sm:flex-row items-center justify-between gap-2 sm:gap-0", children: annonces && annonces.last_page > 1 && /* @__PURE__ */ jsxs("div", { className: "flex items-center space-x-1 sm:space-x-2", children: [
              /* @__PURE__ */ jsxs(
                Link,
                {
                  href: annonces.current_page > 1 ? `?page=${annonces.current_page - 1}` : "#",
                  className: `px-2 sm:px-3 py-1 border border-gray-200 rounded-md text-gray-500 hover:bg-gray-100 text-xs sm:text-sm flex items-center ${annonces.current_page <= 1 ? "opacity-50 cursor-not-allowed pointer-events-none" : ""}`,
                  preserveScroll: true,
                  preserveState: true,
                  children: [
                    /* @__PURE__ */ jsx(ChevronLeft, { className: "h-3.5 w-3.5 sm:h-4 sm:w-4 mr-1" }),
                    "Précédent"
                  ]
                }
              ),
              /* @__PURE__ */ jsx("div", { className: "hidden sm:flex space-x-1", children: Array.from({ length: annonces.last_page }, (_, i2) => i2 + 1).map((page) => {
                if (page === 1 || page === annonces.last_page || page >= annonces.current_page - 1 && page <= annonces.current_page + 1) {
                  return /* @__PURE__ */ jsx(
                    Link,
                    {
                      href: `?page=${page}`,
                      className: `px-2 sm:px-3 py-1 rounded-md text-xs sm:text-sm ${page === annonces.current_page ? "bg-[#1a2a4b] text-white" : "border border-gray-200 text-gray-500 hover:bg-gray-100"}`,
                      preserveScroll: true,
                      preserveState: true,
                      children: page
                    },
                    page
                  );
                }
                if (page === 2 && annonces.current_page > 3 || page === annonces.last_page - 1 && annonces.current_page < annonces.last_page - 2) {
                  return /* @__PURE__ */ jsx(
                    "span",
                    {
                      className: "px-2 sm:px-3 py-1 text-gray-500 text-xs sm:text-sm",
                      children: "..."
                    },
                    `ellipsis-${page}`
                  );
                }
                return null;
              }) }),
              /* @__PURE__ */ jsxs("span", { className: "sm:hidden px-2 sm:px-3 py-1 bg-[#1a2a4b] text-white rounded-md text-xs sm:text-sm", children: [
                annonces.current_page,
                " / ",
                annonces.last_page
              ] }),
              /* @__PURE__ */ jsxs(
                Link,
                {
                  href: annonces.current_page < annonces.last_page ? `?page=${annonces.current_page + 1}` : "#",
                  className: `px-2 sm:px-3 py-1 border border-gray-200 rounded-md text-gray-500 hover:bg-gray-100 text-xs sm:text-sm flex items-center ${annonces.current_page >= annonces.last_page ? "opacity-50 cursor-not-allowed pointer-events-none" : ""}`,
                  preserveScroll: true,
                  preserveState: true,
                  children: [
                    "Suivant",
                    /* @__PURE__ */ jsx(ChevronRight, { className: "h-3.5 w-3.5 sm:h-4 sm:w-4 ml-1" })
                  ]
                }
              )
            ] }) })
          ]
        }
      ) : /* @__PURE__ */ jsx(
        motion.div,
        {
          initial: { opacity: 0, y: 20 },
          animate: { opacity: 1, y: 0 },
          transition: { duration: 0.5 },
          className: "bg-white/90 backdrop-blur-md rounded-xl sm:rounded-2xl shadow-md border border-gray-200 px-4 sm:px-6 py-8 sm:py-16 text-center",
          children: /* @__PURE__ */ jsxs("div", { className: "flex flex-col items-center justify-center text-gray-500", children: [
            /* @__PURE__ */ jsx("div", { className: "w-16 h-16 sm:w-20 sm:h-20 bg-gray-50 rounded-full flex items-center justify-center mb-4 sm:mb-6", children: /* @__PURE__ */ jsx(AlertCircle, { className: "h-8 w-8 sm:h-10 sm:w-10 text-gray-300" }) }),
            /* @__PURE__ */ jsx("h3", { className: "text-xl sm:text-2xl font-bold text-gray-700 mb-2", children: "Aucune annonce légale trouvée" }),
            /* @__PURE__ */ jsx("p", { className: "text-gray-500 max-w-md mx-auto mb-6 sm:mb-8 text-sm sm:text-base", children: "Nous n'avons trouvé aucune annonce légale correspondant à vos critères de recherche. Essayez d'ajuster vos filtres ou créez une nouvelle annonce légale." }),
            /* @__PURE__ */ jsxs("div", { className: "flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center", children: [
              /* @__PURE__ */ jsxs(
                Button,
                {
                  onClick: clearSearch,
                  className: "bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 sm:px-5 py-2 sm:py-2.5 rounded-lg transition-colors flex items-center gap-2 text-xs sm:text-sm justify-center",
                  children: [
                    /* @__PURE__ */ jsx(Filter, { className: "h-3.5 w-3.5 sm:h-4 sm:w-4" }),
                    "Réinitialiser les filtres"
                  ]
                }
              ),
              /* @__PURE__ */ jsx(Link, { href: "#", className: "w-full sm:w-auto", children: /* @__PURE__ */ jsxs(Button, { className: "bg-[#1a2a4b] hover:bg-[#08203f] text-white px-4 sm:px-5 py-2 sm:py-2.5 rounded-lg transition-colors flex items-center gap-2 text-xs sm:text-sm w-full justify-center", children: [
                /* @__PURE__ */ jsx("span", { children: "Créer une nouvelle annonce légale" }),
                /* @__PURE__ */ jsx(ChevronRight, { className: "h-3.5 w-3.5 sm:h-4 sm:w-4" })
              ] }) })
            ] })
          ] })
        }
      ) })
    ] }),
    /* @__PURE__ */ jsx(Footer$1, {})
  ] });
}
const __vite_glob_0_42 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: UserAnnoncesPage
}, Symbol.toStringTag, { value: "Module" }));
function SuccessPopupDetailed({
  isOpen,
  onClose,
  title = "Modifications enregistrées",
  message = "Votre annonce a été mis à jour avec succès.",
  redirectUrl = "/mes-annonces-legales",
  redirectLabel = "Voir mes annonces legales",
  data
}) {
  const [animationClass, setAnimationClass] = useState("opacity-0 translate-y-4");
  const [showDetails, setShowDetails] = useState(false);
  useEffect(() => {
    if (isOpen) {
      document.body.style.overflow = "hidden";
      setTimeout(() => {
        setAnimationClass("opacity-100 translate-y-0");
      }, 10);
    } else {
      setAnimationClass("opacity-0 translate-y-4");
      document.body.style.overflow = "auto";
      setShowDetails(false);
    }
  }, [isOpen]);
  if (!isOpen) return null;
  const formattedDate = (data == null ? void 0 : data.date) ? new Date(data.date).toLocaleDateString("fr-FR", {
    year: "numeric",
    month: "long",
    day: "numeric"
  }) : null;
  return /* @__PURE__ */ jsxs("div", { className: "fixed inset-0 z-[100] flex items-center justify-center p-4", children: [
    /* @__PURE__ */ jsx(
      "div",
      {
        className: "fixed inset-0 bg-black/50 backdrop-blur-sm transition-opacity duration-300",
        onClick: onClose
      }
    ),
    /* @__PURE__ */ jsxs(
      "div",
      {
        className: `relative z-[101] bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden transform transition-all duration-300 ${animationClass}`,
        children: [
          /* @__PURE__ */ jsx("div", { className: "relative overflow-hidden", children: /* @__PURE__ */ jsxs("div", { className: "bg-white border-b border-gray-100 p-8", children: [
            /* @__PURE__ */ jsx("div", { className: "absolute top-2 right-2", children: /* @__PURE__ */ jsx("button", { onClick: onClose, className: "text-gray-600 hover:bg-gray-100 rounded-full p-1 transition-colors", children: /* @__PURE__ */ jsx(X, { className: "h-5 w-5" }) }) }),
            /* @__PURE__ */ jsx("div", { className: "flex justify-center", children: /* @__PURE__ */ jsx("div", { className: "bg-green-50 rounded-full p-4 shadow-sm", children: /* @__PURE__ */ jsx(CheckCircle, { className: "h-14 w-14 text-[#22c55e]" }) }) })
          ] }) }),
          /* @__PURE__ */ jsxs("div", { className: "p-6 pt-4 bg-white", children: [
            /* @__PURE__ */ jsx("h3", { className: "text-xl font-bold text-center text-[#0F172A] mb-2", children: title }),
            /* @__PURE__ */ jsx("p", { className: "text-center text-[#1a2a4b]/80 mb-6", children: message }),
            data && /* @__PURE__ */ jsx("div", { className: `overflow-hidden transition-all duration-300 ${showDetails ? "max-h-60" : "max-h-0"}`, children: /* @__PURE__ */ jsxs("div", { className: "bg-gray-50 rounded-xl p-4 mb-6 border border-gray-100", children: [
              /* @__PURE__ */ jsx("h4", { className: "font-semibold text-[#0F172A] mb-3", children: "Détails de l'annonce legale" }),
              data.title && /* @__PURE__ */ jsxs("div", { className: "flex items-start mb-2", children: [
                /* @__PURE__ */ jsx("div", { className: "bg-[#22c55e]/10 p-1.5 rounded-md mr-3", children: /* @__PURE__ */ jsx(FileText, { className: "h-4 w-4 text-[#22c55e]" }) }),
                /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsx("p", { className: "text-xs text-[#1a2a4b]/70", children: "Titre" }),
                  /* @__PURE__ */ jsx("p", { className: "text-sm font-medium text-[#1a2a4b]", children: data.title })
                ] })
              ] }),
              data.nameSociete && /* @__PURE__ */ jsxs("div", { className: "flex items-start mb-2", children: [
                /* @__PURE__ */ jsx("div", { className: "bg-[#22c55e]/10 p-1.5 rounded-md mr-3", children: /* @__PURE__ */ jsx(Building2, { className: "h-4 w-4 text-[#22c55e]" }) }),
                /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsx("p", { className: "text-xs text-[#1a2a4b]/70", children: "Société" }),
                  /* @__PURE__ */ jsx("p", { className: "text-sm font-medium text-[#1a2a4b]", children: data.nameSociete })
                ] })
              ] }),
              formattedDate && /* @__PURE__ */ jsxs("div", { className: "flex items-start mb-2", children: [
                /* @__PURE__ */ jsx("div", { className: "bg-[#22c55e]/10 p-1.5 rounded-md mr-3", children: /* @__PURE__ */ jsx(Calendar$2, { className: "h-4 w-4 text-[#22c55e]" }) }),
                /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsx("p", { className: "text-xs text-[#1a2a4b]/70", children: "Date limite" }),
                  /* @__PURE__ */ jsx("p", { className: "text-sm font-medium text-[#1a2a4b]", children: formattedDate })
                ] })
              ] }),
              data.category && /* @__PURE__ */ jsxs("div", { className: "flex items-start", children: [
                /* @__PURE__ */ jsx("div", { className: "bg-[#22c55e]/10 p-1.5 rounded-md mr-3", children: /* @__PURE__ */ jsx(Tag, { className: "h-4 w-4 text-[#22c55e]" }) }),
                /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsx("p", { className: "text-xs text-[#1a2a4b]/70", children: "Catégorie" }),
                  /* @__PURE__ */ jsx("p", { className: "text-sm font-medium text-[#1a2a4b]", children: data.category })
                ] })
              ] })
            ] }) }),
            data && /* @__PURE__ */ jsxs(
              "button",
              {
                onClick: () => setShowDetails(!showDetails),
                className: "w-full text-center text-sm text-[#1a2a4b]/70 hover:text-[#1a2a4b] mb-6 flex items-center justify-center",
                children: [
                  showDetails ? "Masquer les détails" : "Afficher les détails",
                  /* @__PURE__ */ jsx(
                    "svg",
                    {
                      className: `ml-1 h-4 w-4 transition-transform duration-200 ${showDetails ? "rotate-180" : ""}`,
                      fill: "none",
                      viewBox: "0 0 24 24",
                      stroke: "currentColor",
                      children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M19 9l-7 7-7-7" })
                    }
                  )
                ]
              }
            ),
            /* @__PURE__ */ jsx("div", { children: /* @__PURE__ */ jsx("a", { href: redirectUrl, className: "block w-full", children: /* @__PURE__ */ jsxs(Button, { className: "w-full py-3 bg-green-600 hover:bg-[#1a2a4b] text-white rounded-lg flex items-center justify-center transition-colors", children: [
              redirectLabel,
              /* @__PURE__ */ jsx(ArrowRight, { className: "ml-2 h-4 w-4" })
            ] }) }) }),
            /* @__PURE__ */ jsxs("div", { className: "mt-4 text-center text-xs text-[#1a2a4b]/50 flex items-center justify-center", children: [
              /* @__PURE__ */ jsx(Clock, { className: "h-3 w-3 mr-1" }),
              "Enregistré le",
              " ",
              (/* @__PURE__ */ new Date()).toLocaleDateString("fr-FR", {
                hour: "2-digit",
                minute: "2-digit"
              })
            ] })
          ] })
        ]
      }
    )
  ] });
}
function ModifierAnnoncePage({ annonce, auth }) {
  const [user, setUser] = useState({
    nom: auth.user.name,
    email: auth.user.email,
    ville: "Casablanca",
    solde: 250
  });
  const [cities, setCities] = useState([]);
  const [showSuccessPopup, setShowSuccessPopup] = useState(false);
  const initialFormData = {
    title: (annonce == null ? void 0 : annonce.title) ?? "",
    nameSociete: (annonce == null ? void 0 : annonce.nameSociete) ?? "",
    RC: (annonce == null ? void 0 : annonce.RC) ?? "",
    category: (annonce == null ? void 0 : annonce.category) ?? "",
    content: (annonce == null ? void 0 : annonce.content) ?? "",
    date: (annonce == null ? void 0 : annonce.date) ? annonce.date.split(" ")[0] : "",
    status: (annonce == null ? void 0 : annonce.status) ?? "PENDING",
    ville: (annonce == null ? void 0 : annonce.ville) ?? "",
    canal_de_publication: (annonce == null ? void 0 : annonce.canal_de_publication) ?? "Digital"
  };
  const { data, setData, put, processing, errors } = useForm(initialFormData);
  useEffect(() => {
    console.log("showSuccessPopup state changed:", showSuccessPopup);
  }, [showSuccessPopup]);
  useEffect(() => {
    axios.get("/api/cities").then((response) => {
      setCities(response.data);
      if (!data.ville && response.data.length > 0) {
        setData("ville", response.data[0]);
      }
    }).catch((error) => {
      console.error("Erreur lors de la récupération des villes:", error);
    });
  }, []);
  const handleSubmit = (e2) => {
    e2.preventDefault();
    console.log("Form submitted");
    if (annonce) {
      setShowSuccessPopup(true);
      put(`/client/annonces/update/${annonce.slug}`, {
        preserveScroll: true,
        onSuccess: () => {
          console.log("Form submission successful, showing popup");
        },
        onError: (errors2) => {
          console.error("Erreur lors de la mise à jour:", errors2);
          setShowSuccessPopup(false);
        }
      });
    } else {
      console.error("Annonce ID is missing.");
    }
  };
  const getCategoryBadge = (category) => {
    switch (category) {
      case "CONSTITUTION":
        return "bg-[#0F172A]/10 text-[#0F172A]";
      case "MODIFICATION":
        return "bg-[#0F172A]/10 text-[#0F172A]";
      case "DISSOLUTION":
        return "bg-[#e63946]/10 text-[#e63946]";
      case "OTHER":
        return "bg-gray-100 text-gray-800";
      default:
        return "bg-gray-100 text-gray-800";
    }
  };
  const getStatusBadge2 = (status) => {
    switch (status) {
      case "APPROVED":
        return "bg-green-500/10 text-green-600";
      case "PENDING":
        return "bg-[#0F172A]/10 text-[#0F172A]";
      case "REJECTED":
        return "bg-[#e63946]/10 text-[#e63946]";
      default:
        return "bg-gray-100 text-gray-800";
    }
  };
  return /* @__PURE__ */ jsxs("main", { className: "min-h-screen flex flex-col bg-gray-50", children: [
    /* @__PURE__ */ jsx(Header, { auth: { user: auth.user } }),
    /* @__PURE__ */ jsx("div", { className: "w-full py-4 pt-32 bg-gray-50", children: /* @__PURE__ */ jsx("div", { className: "w-full max-w-[76rem] mx-auto px-4", children: /* @__PURE__ */ jsxs("div", { className: "flex flex-col sm:flex-row sm:justify-between sm:items-center", children: [
      /* @__PURE__ */ jsx("div", { className: "flex items-center mb-4 sm:mb-0", children: /* @__PURE__ */ jsx("h2", { className: "text-2xl sm:text-3xl font-bold text-[#0F172A]", children: "Modifier l'annonce" }) }),
      /* @__PURE__ */ jsxs(
        "button",
        {
          type: "button",
          onClick: () => window.history.back(),
          className: "flex items-center gap-2 px-4 sm:px-5 py-2 sm:py-2.5 bg-white border border-gray-200 rounded-lg shadow-sm text-sm sm:text-base font-medium text-[#1a2a4b] hover:bg-gray-100 w-fit",
          children: [
            /* @__PURE__ */ jsx("div", { className: "bg-[#e63946]/10 p-1.5 rounded-md", children: /* @__PURE__ */ jsx(ArrowLeft, { className: "h-4 w-4 sm:h-5 sm:w-5 text-[#e63946]" }) }),
            /* @__PURE__ */ jsx("span", { children: "Retour aux annonces" })
          ]
        }
      )
    ] }) }) }),
    /* @__PURE__ */ jsx("section", { className: "container mx-auto px-4 py-6 sm:py-8 md:py-10 flex-grow", children: /* @__PURE__ */ jsxs("div", { className: "w-full max-w-[76rem] mx-auto", children: [
      /* @__PURE__ */ jsx("div", { className: "mb-6 sm:mb-8 md:mb-10", children: /* @__PURE__ */ jsx("p", { className: "text-gray-600 max-w-2xl text-sm sm:text-base", children: "Modifiez les informations de votre annonce et prévisualisez les changements avant de les enregistrer." }) }),
      /* @__PURE__ */ jsxs("form", { onSubmit: handleSubmit, className: "transition-all duration-300", children: [
        /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 lg:grid-cols-3 gap-6 sm:gap-8", children: [
          /* @__PURE__ */ jsx("div", { className: "lg:col-span-2 space-y-6", children: /* @__PURE__ */ jsxs("div", { className: "bg-white rounded-xl shadow-lg border border-[#0F172A]/10 overflow-hidden", children: [
            /* @__PURE__ */ jsx("div", { className: "bg-[#0F172A]/5 p-4 sm:p-6 border-b border-gray-100", children: /* @__PURE__ */ jsxs("h3", { className: "text-lg sm:text-xl font-bold text-[#0F172A] flex items-center", children: [
              /* @__PURE__ */ jsx(FileText, { className: "mr-2 sm:mr-3 h-5 w-5 text-[#e63946]" }),
              "Informations de l'annonce"
            ] }) }),
            /* @__PURE__ */ jsxs("div", { className: "p-4 sm:p-6 space-y-4 sm:space-y-5", children: [
              /* @__PURE__ */ jsxs("div", { children: [
                /* @__PURE__ */ jsx("label", { className: "block text-[#1a2a4b] font-medium mb-1 sm:mb-2 text-sm sm:text-base", children: "Titre" }),
                /* @__PURE__ */ jsx(
                  Input,
                  {
                    type: "text",
                    value: data.title,
                    onChange: (e2) => setData("title", e2.target.value),
                    className: "w-full p-2 sm:p-3 border border-[#0F172A]/20 rounded-lg focus:ring-2 focus:ring-[#e63946] focus:border-transparent transition-all text-sm sm:text-base"
                  }
                ),
                errors.title && /* @__PURE__ */ jsxs("p", { className: "text-[#e63946] text-xs sm:text-sm mt-1 flex items-center", children: [
                  /* @__PURE__ */ jsx(AlertCircle, { className: "h-3 w-3 sm:h-4 sm:w-4 mr-1" }),
                  errors.title
                ] })
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-5", children: [
                /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsxs("label", { className: "block text-[#1a2a4b] font-medium mb-1 sm:mb-2 flex items-center text-sm sm:text-base", children: [
                    /* @__PURE__ */ jsx(Building2, { className: "mr-1 sm:mr-2 h-3 w-3 sm:h-4 sm:w-4 text-[#0F172A]" }),
                    "Nom de l'entreprise"
                  ] }),
                  /* @__PURE__ */ jsx(
                    Input,
                    {
                      type: "text",
                      value: data.nameSociete,
                      onChange: (e2) => setData("nameSociete", e2.target.value),
                      className: "w-full p-2 sm:p-3 border border-[#0F172A]/20 rounded-lg text-sm sm:text-base"
                    }
                  ),
                  errors.nameSociete && /* @__PURE__ */ jsx("p", { className: "text-[#e63946] text-xs sm:text-sm mt-1", children: errors.nameSociete })
                ] }),
                /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsxs("label", { className: "block text-[#1a2a4b] font-medium mb-1 sm:mb-2 flex items-center text-sm sm:text-base", children: [
                    /* @__PURE__ */ jsx(Tag, { className: "mr-1 sm:mr-2 h-3 w-3 sm:h-4 sm:w-4 text-[#0F172A]" }),
                    "RC"
                  ] }),
                  /* @__PURE__ */ jsx(
                    Input,
                    {
                      type: "text",
                      value: data.RC,
                      onChange: (e2) => setData("RC", e2.target.value),
                      className: "w-full p-2 sm:p-3 border border-[#0F172A]/20 rounded-lg text-sm sm:text-base"
                    }
                  ),
                  errors.RC && /* @__PURE__ */ jsx("p", { className: "text-[#e63946] text-xs sm:text-sm mt-1", children: errors.RC })
                ] })
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-5", children: [
                /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsx("label", { className: "block text-[#1a2a4b] font-medium mb-1 sm:mb-2 text-sm sm:text-base", children: "Catégorie" }),
                  /* @__PURE__ */ jsxs(
                    "select",
                    {
                      value: data.category,
                      onChange: (e2) => setData("category", e2.target.value),
                      className: "w-full p-2 sm:p-3 border border-[#0F172A]/20 rounded-lg bg-white text-sm sm:text-base",
                      children: [
                        /* @__PURE__ */ jsx("option", { value: "", children: "Sélectionner une catégorie" }),
                        /* @__PURE__ */ jsx("option", { value: "CONSTITUTION", children: "Constitution" }),
                        /* @__PURE__ */ jsx("option", { value: "MODIFICATION", children: "Modification" }),
                        /* @__PURE__ */ jsx("option", { value: "DISSOLUTION", children: "Dissolution" }),
                        /* @__PURE__ */ jsx("option", { value: "OTHER", children: "Autre" })
                      ]
                    }
                  ),
                  errors.category && /* @__PURE__ */ jsx("p", { className: "text-[#e63946] text-xs sm:text-sm mt-1", children: errors.category })
                ] }),
                /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsx("label", { className: "block text-[#1a2a4b] font-medium mb-1 sm:mb-2 text-sm sm:text-base", children: "Canal de Publication" }),
                  /* @__PURE__ */ jsxs(
                    "select",
                    {
                      value: data.canal_de_publication,
                      onChange: (e2) => setData("canal_de_publication", e2.target.value),
                      className: "w-full p-2 sm:p-3 border border-[#0F172A]/20 rounded-lg bg-white text-sm sm:text-base",
                      children: [
                        /* @__PURE__ */ jsx("option", { value: "Digital", children: "Digital" }),
                        /* @__PURE__ */ jsx("option", { value: "Papier+Digital", children: "Papier+Digital" })
                      ]
                    }
                  ),
                  errors.canal_de_publication && /* @__PURE__ */ jsx("p", { className: "text-[#e63946] text-xs sm:text-sm mt-1", children: errors.canal_de_publication })
                ] })
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-5", children: [
                /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsxs("label", { className: "block text-[#1a2a4b] font-medium mb-1 sm:mb-2 flex items-center text-sm sm:text-base", children: [
                    /* @__PURE__ */ jsx(Calendar$2, { className: "mr-1 sm:mr-2 h-3 w-3 sm:h-4 sm:w-4 text-[#0F172A]" }),
                    "Date de parution"
                  ] }),
                  /* @__PURE__ */ jsx(
                    Input,
                    {
                      type: "date",
                      value: data.date,
                      onChange: (e2) => setData("date", e2.target.value),
                      min: (/* @__PURE__ */ new Date()).toISOString().split("T")[0],
                      className: "w-full p-2 sm:p-3 border border-[#0F172A]/20 rounded-lg text-sm sm:text-base"
                    }
                  ),
                  errors.date && /* @__PURE__ */ jsx("p", { className: "text-[#e63946] text-xs sm:text-sm mt-1", children: errors.date })
                ] }),
                /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsxs("label", { className: "block text-[#1a2a4b] font-medium mb-1 sm:mb-2 flex items-center text-sm sm:text-base", children: [
                    /* @__PURE__ */ jsx(MapPin, { className: "mr-1 sm:mr-2 h-3 w-3 sm:h-4 sm:w-4 text-[#0F172A]" }),
                    "Ville"
                  ] }),
                  /* @__PURE__ */ jsx(
                    "select",
                    {
                      value: data.ville,
                      onChange: (e2) => setData("ville", e2.target.value),
                      className: "w-full p-2 sm:p-3 border border-[#0F172A]/20 rounded-lg bg-white text-sm sm:text-base",
                      children: cities.length > 0 ? cities.map((city, index2) => /* @__PURE__ */ jsx("option", { value: city, children: city }, index2)) : /* @__PURE__ */ jsx("option", { children: "Chargement..." })
                    }
                  ),
                  errors.ville && /* @__PURE__ */ jsx("p", { className: "text-[#e63946] text-xs sm:text-sm mt-1", children: errors.ville })
                ] })
              ] }),
              /* @__PURE__ */ jsxs("div", { children: [
                /* @__PURE__ */ jsx("label", { className: "block text-[#1a2a4b] font-medium mb-1 sm:mb-2 text-sm sm:text-base", children: "Contenu" }),
                /* @__PURE__ */ jsx(
                  "textarea",
                  {
                    value: data.content,
                    onChange: (e2) => setData("content", e2.target.value),
                    className: "w-full p-2 sm:p-3 border border-[#0F172A]/20 rounded-lg h-24 sm:h-32 md:h-40 focus:ring-2 focus:ring-[#e63946] focus:border-transparent transition-all text-sm sm:text-base"
                  }
                ),
                errors.content && /* @__PURE__ */ jsx("p", { className: "text-[#e63946] text-xs sm:text-sm mt-1", children: errors.content })
              ] })
            ] })
          ] }) }),
          /* @__PURE__ */ jsx("div", { className: "lg:col-span-1", children: /* @__PURE__ */ jsxs("div", { className: "bg-white rounded-xl shadow-lg border border-[#0F172A]/10 overflow-hidden sticky top-24", children: [
            /* @__PURE__ */ jsx("div", { className: "bg-[#0F172A]/5 p-4 sm:p-6 border-b border-gray-100", children: /* @__PURE__ */ jsxs("h3", { className: "text-lg sm:text-xl font-bold text-[#0F172A] flex items-center", children: [
              /* @__PURE__ */ jsx(FileText, { className: "mr-2 sm:mr-3 h-5 w-5 text-[#e63946]" }),
              "Aperçu de l'annonce"
            ] }) }),
            /* @__PURE__ */ jsxs("div", { className: "p-4 sm:p-6", children: [
              /* @__PURE__ */ jsxs("div", { className: "space-y-3 sm:space-y-4 mb-4 sm:mb-6", children: [
                /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
                  /* @__PURE__ */ jsx("span", { className: "text-xs sm:text-sm font-medium text-[#1a2a4b]/70", children: "Date:" }),
                  /* @__PURE__ */ jsx("span", { className: "text-xs sm:text-sm font-medium text-[#1a2a4b]", children: data.date || "Non spécifiée" })
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
                  /* @__PURE__ */ jsx("span", { className: "text-xs sm:text-sm font-medium text-[#1a2a4b]/70", children: "Ville:" }),
                  /* @__PURE__ */ jsx("span", { className: "text-xs sm:text-sm font-medium text-[#1a2a4b]", children: data.ville || "Non spécifiée" })
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
                  /* @__PURE__ */ jsx("span", { className: "text-xs sm:text-sm font-medium text-[#1a2a4b]/70", children: "Catégorie:" }),
                  /* @__PURE__ */ jsx(
                    "span",
                    {
                      className: `text-xs sm:text-sm font-medium px-1.5 sm:px-2 py-0.5 sm:py-1 rounded-full ${getCategoryBadge(
                        data.category
                      )}`,
                      children: data.category || "Non spécifiée"
                    }
                  )
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
                  /* @__PURE__ */ jsx("span", { className: "text-xs sm:text-sm font-medium text-[#1a2a4b]/70", children: "Canal:" }),
                  /* @__PURE__ */ jsx("span", { className: "text-xs sm:text-sm font-medium text-[#1a2a4b]", children: data.canal_de_publication })
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
                  /* @__PURE__ */ jsx("span", { className: "text-xs sm:text-sm font-medium text-[#1a2a4b]/70", children: "Statut:" }),
                  /* @__PURE__ */ jsx(
                    "span",
                    {
                      className: `text-xs sm:text-sm font-medium px-1.5 sm:px-2 py-0.5 sm:py-1 rounded-full ${getStatusBadge2(
                        data.status
                      )}`,
                      children: data.status
                    }
                  )
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "pt-2 sm:pt-3 border-t border-[#0F172A]/10", children: [
                  /* @__PURE__ */ jsx("h4", { className: "text-base sm:text-lg font-bold text-[#1a2a4b]", children: data.title || "Titre de l'annonce" }),
                  /* @__PURE__ */ jsxs("p", { className: "text-xs sm:text-sm text-[#1a2a4b]/80 mt-1", children: [
                    /* @__PURE__ */ jsx("span", { className: "font-medium", children: "Société:" }),
                    " ",
                    data.nameSociete || "Non spécifiée"
                  ] }),
                  /* @__PURE__ */ jsxs("p", { className: "text-xs sm:text-sm text-[#1a2a4b]/80", children: [
                    /* @__PURE__ */ jsx("span", { className: "font-medium", children: "RC:" }),
                    " ",
                    data.RC || "Non spécifié"
                  ] })
                ] }),
                /* @__PURE__ */ jsx("div", { className: "pt-2 sm:pt-3 border-t border-[#0F172A]/10", children: /* @__PURE__ */ jsx("p", { className: "text-xs sm:text-sm text-[#1a2a4b]/80 max-h-[200px] overflow-y-auto", children: data.content || "Le contenu de l'annonce apparaîtra ici." }) })
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "mt-4 sm:mt-6 space-y-2 sm:space-y-3", children: [
                /* @__PURE__ */ jsxs(
                  Button,
                  {
                    type: "submit",
                    className: "w-full py-2 sm:py-3 bg-[#e63946] hover:bg-[#e63946]/90 text-white rounded-lg flex items-center justify-center transition-colors text-xs sm:text-sm",
                    disabled: processing,
                    children: [
                      /* @__PURE__ */ jsx(Save, { className: "mr-1 sm:mr-2 h-3.5 w-3.5 sm:h-4 sm:w-4" }),
                      processing ? "Enregistrement..." : "Enregistrer les modifications"
                    ]
                  }
                ),
                /* @__PURE__ */ jsx(Link, { href: "/mes-annonces-legales", className: "block", children: /* @__PURE__ */ jsxs(
                  Button,
                  {
                    type: "button",
                    variant: "outline",
                    className: "w-full py-2 sm:py-3 border border-[#0F172A]/20 text-[#1a2a4b] hover:bg-[#0F172A]/5 rounded-lg flex items-center justify-center transition-colors text-xs sm:text-sm",
                    children: [
                      /* @__PURE__ */ jsx(ArrowLeft, { className: "mr-1 sm:mr-2 h-3.5 w-3.5 sm:h-4 sm:w-4" }),
                      "Retour à mes annonces"
                    ]
                  }
                ) })
              ] })
            ] })
          ] }) })
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-3 flex gap-2 lg:hidden z-10", children: [
          /* @__PURE__ */ jsxs(
            Button,
            {
              type: "submit",
              className: "flex-1 py-2 bg-[#e63946] hover:bg-[#e63946]/90 text-white rounded-lg flex items-center justify-center transition-colors text-xs",
              disabled: processing,
              children: [
                /* @__PURE__ */ jsx(Save, { className: "mr-1 h-3.5 w-3.5" }),
                processing ? "..." : "Enregistrer"
              ]
            }
          ),
          /* @__PURE__ */ jsx(Link, { href: "/mes-annonces-legales", className: "flex-1", children: /* @__PURE__ */ jsx(
            Button,
            {
              type: "button",
              variant: "outline",
              className: "w-full py-2 border border-[#0F172A]/20 text-[#1a2a4b] hover:bg-[#0F172A]/5 rounded-lg flex items-center justify-center transition-colors text-xs",
              children: "Annuler"
            }
          ) })
        ] }),
        /* @__PURE__ */ jsx("div", { className: "h-16 lg:hidden" })
      ] })
    ] }) }),
    /* @__PURE__ */ jsx(
      SuccessPopupDetailed,
      {
        isOpen: showSuccessPopup,
        onClose: () => setShowSuccessPopup(false),
        data: {
          title: data.title,
          date: data.date,
          category: data.category,
          nameSociete: data.nameSociete
        }
      }
    ),
    /* @__PURE__ */ jsx(Footer$1, {})
  ] });
}
const __vite_glob_0_43 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: ModifierAnnoncePage
}, Symbol.toStringTag, { value: "Module" }));
function AnnoncesPage({ annonces, auth, seo }) {
  const [search, setSearch] = useState("");
  const [selectedCategory, setSelectedCategory] = useState("");
  const filteredAnnonces = annonces.data;
  const handleSearch = () => {
    router.get(route("client.annonces.index"), { search, category: selectedCategory, page: 1 }, {
      preserveState: true,
      preserveScroll: true,
      only: ["annonces"]
    });
  };
  const handleCategoryChange = (value) => {
    setSelectedCategory(value);
    router.get(route("client.annonces.index"), { category: value, search, page: 1 }, {
      preserveState: true,
      preserveScroll: true,
      only: ["annonces"]
    });
  };
  const getCategoryBadge = (category) => {
    switch (category) {
      case "CONSTITUTION":
        return {
          bg: "bg-[#1a2a4b]/10",
          text: "text-[#1a2a4b]",
          border: "border-[#1a2a4b]/20",
          icon: /* @__PURE__ */ jsx("div", { className: "w-2 h-2 rounded-full bg-[#1a2a4b] mr-1.5" })
        };
      case "MODIFICATION":
        return {
          bg: "bg-[#1a2a4b]/10",
          text: "text-[#1a2a4b]",
          border: "border-[#1a2a4b]/20",
          icon: /* @__PURE__ */ jsx("div", { className: "w-2 h-2 rounded-full bg-[#1a2a4b] mr-1.5" })
        };
      case "DISSOLUTION":
        return {
          bg: "bg-[#1a2a4b]/10",
          text: "text-[#1a2a4b]",
          border: "border-[#1a2a4b]/20",
          icon: /* @__PURE__ */ jsx("div", { className: "w-2 h-2 rounded-full bg-[#1a2a4b] mr-1.5" })
        };
      case "OTHER":
        return {
          bg: "bg-[#1a2a4b]/10",
          text: "text-[#1a2a4b]",
          border: "border-[#1a2a4b]/20",
          icon: /* @__PURE__ */ jsx("div", { className: "w-2 h-2 rounded-full bg-[#1a2a4b] mr-1.5" })
        };
      default:
        return {
          bg: "bg-[#1a2a4b]/10",
          text: "text-[#1a2a4b]",
          border: "border-[#1a2a4b]/20",
          icon: /* @__PURE__ */ jsx("div", { className: "w-2 h-2 rounded-full bg-[#1a2a4b] mr-1.5" })
        };
    }
  };
  const handlePageChange = (page) => {
    router.get(
      route("client.annonces.index"),
      { page, category: selectedCategory, search },
      {
        preserveState: true,
        preserveScroll: true,
        only: ["annonces"],
        onFinish: () => {
          if (typeof window !== "undefined") {
            window.scrollTo({ top: 0, behavior: "smooth" });
          }
        }
      }
    );
  };
  const renderPaginationButtons = () => {
    const { current_page, last_page } = annonces;
    const buttons = [];
    buttons.push(
      /* @__PURE__ */ jsx(
        "button",
        {
          onClick: () => current_page > 1 && handlePageChange(current_page - 1),
          disabled: current_page === 1,
          className: `w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center rounded-full border border-gray-200 ${current_page === 1 ? "bg-gray-100 text-gray-400 cursor-not-allowed" : "bg-white text-gray-500 hover:bg-gray-50"}`,
          children: /* @__PURE__ */ jsx(
            "svg",
            {
              className: "w-4 h-4 sm:w-5 sm:h-5",
              fill: "none",
              stroke: "currentColor",
              viewBox: "0 0 24 24",
              xmlns: "http://www.w3.org/2000/svg",
              children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: "2", d: "M15 19l-7-7 7-7" })
            }
          )
        },
        "prev"
      )
    );
    buttons.push(
      /* @__PURE__ */ jsx(
        "button",
        {
          onClick: () => handlePageChange(1),
          className: `w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center rounded-full border border-gray-200 ${current_page === 1 ? "bg-red-500 text-white" : "bg-white text-gray-700 hover:bg-gray-50"}`,
          children: "1"
        },
        1
      )
    );
    if (current_page > 3) {
      buttons.push(
        /* @__PURE__ */ jsx(
          "span",
          {
            className: "hidden sm:flex w-8 h-8 sm:w-10 sm:h-10 items-center justify-center text-gray-500",
            children: "..."
          },
          "ellipsis1"
        )
      );
    }
    const mobileRange = typeof window !== "undefined" && window.innerWidth < 640 ? 0 : 1;
    for (let i2 = Math.max(2, current_page - mobileRange); i2 <= Math.min(last_page - 1, current_page + mobileRange); i2++) {
      if (i2 <= last_page - 1 && i2 >= 2) {
        buttons.push(
          /* @__PURE__ */ jsx(
            "button",
            {
              onClick: () => handlePageChange(i2),
              className: `w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center rounded-full border border-gray-200 ${current_page === i2 ? "bg-red-500 text-white" : "bg-white text-gray-700 hover:bg-gray-50"}`,
              children: i2
            },
            i2
          )
        );
      }
    }
    if (current_page < last_page - 2) {
      buttons.push(
        /* @__PURE__ */ jsx(
          "span",
          {
            className: "hidden sm:flex w-8 h-8 sm:w-10 sm:h-10 items-center justify-center text-gray-500",
            children: "..."
          },
          "ellipsis2"
        )
      );
    }
    if (last_page > 1) {
      buttons.push(
        /* @__PURE__ */ jsx(
          "button",
          {
            onClick: () => handlePageChange(last_page),
            className: `w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center rounded-full border border-gray-200 ${current_page === last_page ? "bg-red-500 text-white" : "bg-white text-gray-700 hover:bg-gray-50"}`,
            children: last_page
          },
          last_page
        )
      );
    }
    buttons.push(
      /* @__PURE__ */ jsx(
        "button",
        {
          onClick: () => current_page < last_page && handlePageChange(current_page + 1),
          disabled: current_page === last_page,
          className: `w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center rounded-full border border-gray-200 ${current_page === last_page ? "bg-gray-100 text-gray-400 cursor-not-allowed" : "bg-white text-gray-500 hover:bg-gray-50"}`,
          children: /* @__PURE__ */ jsx(
            "svg",
            {
              className: "w-4 h-4 sm:w-5 sm:h-5",
              fill: "none",
              stroke: "currentColor",
              viewBox: "0 0 24 24",
              xmlns: "http://www.w3.org/2000/svg",
              children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: "2", d: "M9 5l7 7-7 7" })
            }
          )
        },
        "next"
      )
    );
    return buttons;
  };
  return /* @__PURE__ */ jsxs("main", { className: "min-h-screen flex flex-col bg-gray-50", children: [
    /* @__PURE__ */ jsxs(Head, { children: [
      /* @__PURE__ */ jsx("title", { children: "Consulter les annonces légales publiées au Maroc" }),
      /* @__PURE__ */ jsx("meta", { name: "description", content: "Accédez facilement à toutes les annonces légales publiées au Maroc. Consultez les avis de constitution, modification, dissolution d’entreprises et plus encore." })
    ] }),
    /* @__PURE__ */ jsx(Header, { auth: { user: auth.user } }),
    /* @__PURE__ */ jsxs("section", { className: "flex-grow pt-16 sm:pt-20 md:pt-24 pb-12 sm:pb-16", children: [
      /* @__PURE__ */ jsx("div", { className: "w-full py-6 pt-16 sm:py-8 md:py-12", children: /* @__PURE__ */ jsxs("div", { className: "w-full max-w-[79rem] mx-auto px-4 sm:px-6", children: [
        /* @__PURE__ */ jsx("h1", { className: "text-2xl sm:text-3xl font-bold mb-4 sm:mb-6 text-[#08203f]", children: "Consulter les annonces légales au Maroc" }),
        /* @__PURE__ */ jsx("div", { className: "bg-white p-3 sm:p-4 rounded-xl shadow", children: /* @__PURE__ */ jsxs("div", { className: "flex flex-col sm:flex-row gap-3 sm:gap-4 items-center", children: [
          /* @__PURE__ */ jsxs("div", { className: "relative w-full sm:w-1/3", children: [
            /* @__PURE__ */ jsx(Search, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4" }),
            /* @__PURE__ */ jsx(
              Input,
              {
                type: "text",
                placeholder: "Rechercher par titre ou ville...",
                value: search,
                onChange: (e2) => setSearch(e2.target.value),
                onKeyDown: (e2) => e2.key === "Enter" && handleSearch(),
                className: "pl-10 pr-4 py-2 border border-gray-200 rounded-lg w-full focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all"
              }
            )
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "relative w-full sm:w-1/3", children: [
            /* @__PURE__ */ jsx(Filter, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4" }),
            /* @__PURE__ */ jsxs(
              "select",
              {
                value: selectedCategory,
                onChange: (e2) => handleCategoryChange(e2.target.value),
                className: "pl-10 pr-4 py-2 border border-gray-200 rounded-lg w-full focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all appearance-none bg-white",
                children: [
                  /* @__PURE__ */ jsx("option", { value: "", children: "Toutes catégories" }),
                  /* @__PURE__ */ jsx("option", { value: "CONSTITUTION", children: "Constitution" }),
                  /* @__PURE__ */ jsx("option", { value: "MODIFICATION", children: "Modification" }),
                  /* @__PURE__ */ jsx("option", { value: "DISSOLUTION", children: "Dissolution" }),
                  /* @__PURE__ */ jsx("option", { value: "OTHER", children: "Autre" })
                ]
              }
            ),
            /* @__PURE__ */ jsx("div", { className: "absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none", children: /* @__PURE__ */ jsx("svg", { className: "h-4 w-4 text-gray-400", fill: "none", viewBox: "0 0 24 24", stroke: "currentColor", children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M19 9l-7 7-7-7" }) }) })
          ] }),
          /* @__PURE__ */ jsx("div", { className: "w-full sm:w-1/3", children: /* @__PURE__ */ jsx(Link, { href: route("client.annonces.create"), className: "block", children: /* @__PURE__ */ jsxs(Button, { className: "w-full bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded-lg transition-colors flex items-center justify-center gap-2", children: [
            /* @__PURE__ */ jsx("span", { children: "Publier une annonce légale" }),
            /* @__PURE__ */ jsx(
              "svg",
              {
                xmlns: "http://www.w3.org/2000/svg",
                fill: "none",
                viewBox: "0 0 24 24",
                strokeWidth: "1.5",
                stroke: "currentColor",
                className: "w-5 h-5",
                children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M12 4.5v15m7.5-7.5h-15" })
              }
            )
          ] }) }) })
        ] }) })
      ] }) }),
      /* @__PURE__ */ jsxs("div", { className: "w-full max-w-[79rem] mx-auto px-4 sm:px-6 pb-8", children: [
        filteredAnnonces.length > 0 ? /* @__PURE__ */ jsx("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6", children: filteredAnnonces.map((annonce) => {
          const categoryStyle = getCategoryBadge(annonce.category);
          return /* @__PURE__ */ jsxs(
            "div",
            {
              className: "group bg-white rounded-xl border border-gray-300 shadow-sm hover:shadow-md transition-all duration-300 overflow-hidden",
              children: [
                /* @__PURE__ */ jsx("div", { className: "h-1.5 bg-white" }),
                /* @__PURE__ */ jsxs("div", { className: "px-4 sm:px-6 pt-4 sm:pt-5 pb-3 sm:pb-4 flex flex-wrap sm:flex-nowrap justify-between items-center gap-2 text-white", children: [
                  /* @__PURE__ */ jsxs(
                    "span",
                    {
                      className: `inline-flex items-center px-2.5 sm:px-3 py-1 text-xs font-medium rounded-full border bg-white ${categoryStyle.text} ${categoryStyle.border}`,
                      children: [
                        categoryStyle.icon,
                        annonce.category
                      ]
                    }
                  ),
                  /* @__PURE__ */ jsxs("div", { className: "flex items-center text-white/80 text-xs sm:text-sm", children: [
                    /* @__PURE__ */ jsx(Clock, { className: "h-3 w-3 sm:h-3.5 sm:w-3.5 mr-1 sm:mr-1.5 text-white/60" }),
                    annonce.date
                  ] })
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "px-4 sm:px-6 py-4 sm:py-5", children: [
                  /* @__PURE__ */ jsx("h2", { className: "text-lg sm:text-xl font-semibold text-[#1a2a4b] mb-2 sm:mb-3 transition-colors duration-200 line-clamp-2", children: annonce.title }),
                  /* @__PURE__ */ jsxs("div", { className: "flex items-start space-x-2 mb-3 sm:mb-4", children: [
                    /* @__PURE__ */ jsx(FileText, { className: "h-4 w-4 sm:h-5 sm:w-5 text-[#1a2a4b]/50 mt-0.5 flex-shrink-0" }),
                    /* @__PURE__ */ jsxs("p", { className: "text-[#1a2a4b]/70 text-xs sm:text-sm line-clamp-2", children: [
                      "Annonce légale concernant ",
                      annonce.category.toLowerCase(),
                      " d'une entreprise. Consultez les détails complets pour plus d'informations."
                    ] })
                  ] })
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "px-4 sm:px-6 py-3 sm:py-4 border-t border-gray-100 flex flex-wrap sm:flex-nowrap justify-between items-center gap-2", children: [
                  /* @__PURE__ */ jsxs("div", { className: "flex items-center text-xs sm:text-sm text-[#1a2a4b]/60 gap-4", children: [
                    /* @__PURE__ */ jsx("div", { className: "flex items-center" }),
                    /* @__PURE__ */ jsxs("div", { className: "flex items-center", children: [
                      /* @__PURE__ */ jsx(Clock, { className: "h-3.5 w-3.5 sm:h-4 sm:w-4 mr-1 text-[#1a2a4b]/40" }),
                      annonce.ville,
                      " - ",
                      annonce.date
                    ] })
                  ] }),
                  /* @__PURE__ */ jsx(Link, { href: route("annonces.single", annonce.slug), children: /* @__PURE__ */ jsxs(Button, { className: "bg-white border border-[#e63946] hover:bg-red-600 hover:text-white text-red rounded-full flex items-center gap-1.5 transition-all duration-200 px-3 sm:px-5 py-1.5 sm:py-2 text-xs sm:text-sm font-medium shadow-sm hover:shadow group", children: [
                    /* @__PURE__ */ jsx("span", { children: "Consulter" }),
                    /* @__PURE__ */ jsx(ArrowRight, { className: "h-3 w-3 sm:h-3.5 sm:w-3.5 transition-transform duration-200 group-hover:translate-x-0.5" })
                  ] }) })
                ] })
              ]
            },
            annonce.id
          );
        }) }) : /* @__PURE__ */ jsx("div", { className: "bg-white rounded-xl border border-gray-100 shadow-sm p-6 sm:p-10 text-center mt-6 sm:mt-8", children: /* @__PURE__ */ jsxs("div", { className: "flex flex-col items-center justify-center text-gray-500 max-w-md mx-auto", children: [
          /* @__PURE__ */ jsx("div", { className: "bg-gray-50 p-3 sm:p-4 rounded-full mb-4 sm:mb-6", children: /* @__PURE__ */ jsx(
            "svg",
            {
              xmlns: "http://www.w3.org/2000/svg",
              fill: "none",
              viewBox: "0 0 24 24",
              strokeWidth: "1.5",
              stroke: "currentColor",
              className: "w-12 h-12 sm:w-16 sm:h-16 text-red-300",
              children: /* @__PURE__ */ jsx(
                "path",
                {
                  strokeLinecap: "round",
                  strokeLinejoin: "round",
                  d: "M15.75 15.75l-2.489-2.489m0 0a3.375 3.375 0 10-4.773-4.773 3.375 3.375 0 004.774 4.774zM21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                }
              )
            }
          ) }),
          /* @__PURE__ */ jsx("h2", { className: "text-lg sm:text-xl font-semibold mb-2 sm:mb-3 text-gray-700", children: "Aucune annonce légale trouvée" }),
          /* @__PURE__ */ jsx("p", { className: "text-gray-500 mb-4 sm:mb-6 text-xs sm:text-sm", children: "Aucune annonce ne correspond à vos critères de recherche. Essayez de modifier vos filtres ou effectuez une nouvelle recherche." }),
          /* @__PURE__ */ jsx(
            Button,
            {
              onClick: () => {
                setSearch("");
                setSelectedCategory("");
              },
              className: "bg-red-500 hover:bg-red-600 text-white px-4 sm:px-6 py-2 sm:py-2.5 rounded-full text-sm font-medium transition-all duration-200",
              children: "Réinitialiser les filtres"
            }
          )
        ] }) }),
        filteredAnnonces.length > 0 && annonces.last_page > 1 && /* @__PURE__ */ jsx("div", { className: "mt-6 sm:mt-8 md:mt-10 flex justify-center", children: /* @__PURE__ */ jsx("nav", { className: "flex items-center gap-1", children: renderPaginationButtons() }) })
      ] })
    ] }),
    /* @__PURE__ */ jsx(Footer$1, {})
  ] });
}
const __vite_glob_0_44 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: AnnoncesPage
}, Symbol.toStringTag, { value: "Module" }));
function PaymentPage$1({ annonce, auth }) {
  const [showSuccessModal, setShowSuccessModal] = useState(false);
  const [copiedField, setCopiedField] = useState("");
  const amountToPay = 120;
  const { data, setData, post, processing } = useForm({ payment_method: "" });
  const paymentMethods = [
    {
      id: "credit_card",
      label: "Paiement par carte bancaire",
      icon: /* @__PURE__ */ jsx(CreditCard, { className: "w-5 h-5 text-red-600" }),
      description: "Payez en ligne avec votre carte bancaire de manière sécurisée"
    }
  ];
  const bankDetails = [
    { label: "Banque", value: "Attijariwafa Bank" },
    { label: "Bénéficiaire", value: "Journal Wepress" },
    { label: "Numéro de compte", value: "007640001380900000032524" },
    { label: "Code SWIFT", value: "BCMAMAMC" }
  ];
  const copyToClipboard2 = (text, field) => {
    navigator.clipboard.writeText(text);
    setCopiedField(field);
    setTimeout(() => setCopiedField(""), 2e3);
  };
  const copyAllBankDetails = () => {
    const allDetails = bankDetails.map((detail) => `${detail.label}: ${detail.value}`).join("\n");
    navigator.clipboard.writeText(allDetails);
    setCopiedField("all");
    setTimeout(() => setCopiedField(""), 2e3);
  };
  const handlePayment = () => {
    if (!data.payment_method) {
      alert("Veuillez sélectionner un mode de paiement");
      return;
    }
    if (data.payment_method === "credit_card" && (annonce == null ? void 0 : annonce.id)) {
      window.location.href = `https://annonce.wepresseco.com/launch_paywall.php?order_id=${annonce.order_id}`;
      return;
    }
    post(`/annonce-legale/paiement/${annonce == null ? void 0 : annonce.id}/confirmer`, {
      onSuccess: () => {
        setShowSuccessModal(true);
        document.body.style.overflow = "hidden";
      },
      onError: () => {
      }
    });
  };
  const handleCloseSuccessModal = () => {
    setShowSuccessModal(false);
    document.body.style.overflow = "auto";
    window.location.href = "/mes-annonces-legales";
  };
  useEffect(() => {
    if (annonce == null ? void 0 : annonce.is_paid) {
      window.location.href = "/mes-annonces-legales";
    }
  }, [annonce]);
  return /* @__PURE__ */ jsxs("main", { className: "min-h-screen flex flex-col bg-gradient-to-br from-gray-50 to-gray-100", children: [
    /* @__PURE__ */ jsx(Header, { auth: { user: auth.user } }),
    /* @__PURE__ */ jsx("section", { className: "container mx-auto px-3 sm:px-4 py-4 sm:py-8 pt-20 sm:pt-24 md:pt-32 lg:pt-40 flex-grow", children: /* @__PURE__ */ jsxs("div", { className: "max-w-7xl mx-auto", children: [
      /* @__PURE__ */ jsx("div", { className: "mb-6 sm:mb-8", children: /* @__PURE__ */ jsxs("div", { className: "flex flex-col gap-4 mb-4 sm:mb-6 pt-8", children: [
        /* @__PURE__ */ jsxs(
          "button",
          {
            type: "button",
            onClick: () => window.history.back(),
            className: "flex items-center gap-2 px-3 sm:px-4 py-2 sm:py-2.5 bg-white border border-gray-200 rounded-lg sm:rounded-xl shadow-sm text-gray-700 hover:bg-gray-50 transition-colors w-fit text-sm sm:text-base",
            children: [
              /* @__PURE__ */ jsx(ArrowLeft, { className: "h-4 w-4 sm:h-5 sm:w-5" }),
              /* @__PURE__ */ jsx("span", { className: "font-medium", children: "Retour" })
            ]
          }
        ),
        /* @__PURE__ */ jsxs("div", { children: [
          /* @__PURE__ */ jsx("h1", { className: "text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 mb-1 sm:mb-2", children: "Paiement de l'annonce légale" }),
          /* @__PURE__ */ jsx("p", { className: "text-gray-600 text-base sm:text-lg", children: "Finalisez votre commande en toute sécurité" })
        ] })
      ] }) }),
      /* @__PURE__ */ jsxs("div", { className: "flex flex-col lg:grid lg:grid-cols-3 gap-6 lg:gap-8", children: [
        /* @__PURE__ */ jsx("div", { className: "lg:col-span-2 order-2 lg:order-1", children: /* @__PURE__ */ jsxs("div", { className: "bg-white rounded-xl sm:rounded-2xl shadow-lg border border-gray-200 overflow-hidden", children: [
          /* @__PURE__ */ jsxs("div", { className: "p-4 sm:p-6 border-b border-gray-100", children: [
            /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-3 mb-2", children: [
              /* @__PURE__ */ jsx("div", { className: "w-7 h-7 sm:w-8 sm:h-8 bg-red-100 text-red-600 rounded-full flex items-center justify-center font-semibold text-sm sm:text-base", children: "1" }),
              /* @__PURE__ */ jsx("h2", { className: "text-lg sm:text-xl font-bold text-gray-900", children: "Mode de paiement" })
            ] }),
            /* @__PURE__ */ jsx("p", { className: "text-gray-600 ml-10 sm:ml-11 text-sm sm:text-base", children: "Choisissez votre méthode de paiement préférée" })
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "p-4 sm:p-6", children: [
            /* @__PURE__ */ jsx("div", { className: "space-y-4", children: paymentMethods.map((method) => /* @__PURE__ */ jsxs(
              "div",
              {
                className: `relative p-4 sm:p-6 border-2 rounded-lg sm:rounded-xl cursor-pointer transition-all duration-200 ${data.payment_method === method.id ? "border-red-500 bg-red-50 shadow-md" : "border-gray-200 hover:border-gray-300 hover:shadow-sm"}`,
                onClick: () => setData("payment_method", method.id),
                children: [
                  /* @__PURE__ */ jsxs("div", { className: "flex items-start sm:items-center gap-3 sm:gap-4", children: [
                    /* @__PURE__ */ jsx(
                      "div",
                      {
                        className: `w-5 h-5 rounded-full border-2 flex items-center justify-center mt-0.5 sm:mt-0 flex-shrink-0 ${data.payment_method === method.id ? "border-red-500" : "border-gray-300"}`,
                        children: data.payment_method === method.id && /* @__PURE__ */ jsx("div", { className: "w-2.5 h-2.5 bg-red-500 rounded-full" })
                      }
                    ),
                    /* @__PURE__ */ jsxs("div", { className: "flex items-start sm:items-center gap-3 flex-1 min-w-0", children: [
                      /* @__PURE__ */ jsx("div", { className: "p-2 bg-red-100 rounded-lg flex-shrink-0", children: method.icon }),
                      /* @__PURE__ */ jsxs("div", { className: "min-w-0 flex-1", children: [
                        /* @__PURE__ */ jsx("h3", { className: "font-semibold text-gray-900 text-sm sm:text-base", children: method.label }),
                        /* @__PURE__ */ jsx("p", { className: "text-xs sm:text-sm text-gray-600 mt-1", children: method.description })
                      ] })
                    ] })
                  ] }),
                  data.payment_method === method.id && method.id === "bank_transfer" && /* @__PURE__ */ jsx("div", { className: "mt-4 sm:mt-6 pt-4 sm:pt-6 border-t border-gray-200", children: /* @__PURE__ */ jsxs("div", { className: "space-y-4 lg:space-y-0 lg:grid lg:grid-cols-3 lg:gap-6", children: [
                    /* @__PURE__ */ jsxs("div", { className: "lg:col-span-2", children: [
                      /* @__PURE__ */ jsxs("div", { className: "flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-0 mb-4", children: [
                        /* @__PURE__ */ jsxs("h4", { className: "font-semibold text-gray-900 flex items-center gap-2 text-sm sm:text-base", children: [
                          /* @__PURE__ */ jsx(Info, { className: "w-4 h-4 text-red-600" }),
                          "Coordonnées bancaires"
                        ] }),
                        /* @__PURE__ */ jsx(
                          "button",
                          {
                            onClick: copyAllBankDetails,
                            className: "flex items-center gap-2 px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-xs sm:text-sm font-medium w-fit",
                            children: copiedField === "all" ? /* @__PURE__ */ jsxs(Fragment, { children: [
                              /* @__PURE__ */ jsx(Check, { className: "w-4 h-4" }),
                              "Copié!"
                            ] }) : /* @__PURE__ */ jsxs(Fragment, { children: [
                              /* @__PURE__ */ jsx(Copy, { className: "w-4 h-4" }),
                              "Tout copier"
                            ] })
                          }
                        )
                      ] }),
                      /* @__PURE__ */ jsx("div", { className: "space-y-3", children: bankDetails.map((detail, index2) => /* @__PURE__ */ jsxs(
                        "div",
                        {
                          className: "flex items-start sm:items-center justify-between p-3 bg-red-50 rounded-lg border border-red-200 gap-3",
                          children: [
                            /* @__PURE__ */ jsxs("div", { className: "min-w-0 flex-1", children: [
                              /* @__PURE__ */ jsxs("span", { className: "text-xs sm:text-sm text-red-700", children: [
                                detail.label,
                                ":"
                              ] }),
                              /* @__PURE__ */ jsx("p", { className: "font-medium text-gray-900 break-all text-sm sm:text-base", children: detail.value })
                            ] }),
                            /* @__PURE__ */ jsx(
                              "button",
                              {
                                onClick: () => copyToClipboard2(detail.value, detail.label),
                                className: "p-2 text-gray-500 hover:text-red-600 transition-colors flex-shrink-0",
                                title: "Copier",
                                children: copiedField === detail.label ? /* @__PURE__ */ jsx(Check, { className: "w-4 h-4 text-green-600" }) : /* @__PURE__ */ jsx(Copy, { className: "w-4 h-4" })
                              }
                            )
                          ]
                        },
                        index2
                      )) }),
                      /* @__PURE__ */ jsx("div", { className: "mt-4 p-3 bg-amber-50 border border-amber-200 rounded-lg", children: /* @__PURE__ */ jsxs("p", { className: "text-xs sm:text-sm text-amber-800 flex items-start gap-2", children: [
                        /* @__PURE__ */ jsx(Info, { className: "w-4 h-4 mt-0.5 flex-shrink-0" }),
                        "Vous devez répondre à ce mail en joignant une capture d'écran de votre virement, ainsi que le numéro de référence que vous recevrez par email."
                      ] }) })
                    ] }),
                    /* @__PURE__ */ jsxs("div", { className: "flex flex-col items-center justify-center p-4 bg-gray-50 rounded-lg lg:bg-transparent lg:p-0", children: [
                      /* @__PURE__ */ jsxs("div", { className: "text-center mb-3", children: [
                        /* @__PURE__ */ jsx("h4", { className: "font-semibold text-gray-900 mb-1 text-sm sm:text-base", children: "Paiement mobile" }),
                        /* @__PURE__ */ jsx("p", { className: "text-xs sm:text-sm text-gray-600", children: "Scannez le QR code" })
                      ] }),
                      /* @__PURE__ */ jsx("div", { className: "p-3 bg-white border-2 border-gray-200 rounded-xl shadow-sm", children: /* @__PURE__ */ jsx(
                        "img",
                        {
                          src: "/placeholder.svg?width=96&height=96",
                          alt: "QR Code pour paiement",
                          className: "w-20 h-20 sm:w-24 sm:h-24 object-contain"
                        }
                      ) }),
                      /* @__PURE__ */ jsxs("p", { className: "text-xs text-gray-500 mt-2 text-center", children: [
                        "Compatible avec tous les ",
                        /* @__PURE__ */ jsx("br", {}),
                        "portefeuilles mobiles"
                      ] })
                    ] })
                  ] }) })
                ]
              },
              method.id
            )) }),
            /* @__PURE__ */ jsx(
              "button",
              {
                onClick: handlePayment,
                disabled: !data.payment_method || processing,
                className: `w-full mt-6 py-3 sm:py-4 px-4 sm:px-6 rounded-lg sm:rounded-xl font-semibold text-base sm:text-lg transition-all duration-200 ${!data.payment_method || processing ? "bg-gray-200 text-gray-500 cursor-not-allowed" : "bg-red-600 hover:bg-red-700 text-white shadow-lg hover:shadow-xl"}`,
                children: /* @__PURE__ */ jsx("div", { className: "flex items-center justify-center gap-2", children: processing ? "Traitement..." : /* @__PURE__ */ jsxs(Fragment, { children: [
                  /* @__PURE__ */ jsx(CheckCircle, { className: "w-5 h-5" }),
                  "Confirmer le paiement",
                  data.payment_method && /* @__PURE__ */ jsx(ChevronRight, { className: "w-5 h-5" })
                ] }) })
              }
            )
          ] })
        ] }) }),
        /* @__PURE__ */ jsxs("div", { className: "space-y-4 sm:space-y-6 order-1 lg:order-2", children: [
          /* @__PURE__ */ jsxs("div", { className: "bg-white rounded-xl sm:rounded-2xl shadow-lg border border-gray-200 overflow-hidden", children: [
            /* @__PURE__ */ jsx("div", { className: "p-4 sm:p-6 border-b border-gray-100", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-3 mb-2", children: [
              /* @__PURE__ */ jsx("div", { className: "w-7 h-7 sm:w-8 sm:h-8 bg-green-100 text-green-600 rounded-full flex items-center justify-center font-semibold text-sm sm:text-base", children: "2" }),
              /* @__PURE__ */ jsx("h2", { className: "text-lg sm:text-xl font-bold text-gray-900", children: "Récapitulatif" })
            ] }) }),
            /* @__PURE__ */ jsx("div", { className: "p-4 sm:p-6", children: /* @__PURE__ */ jsxs("div", { className: "space-y-4", children: [
              /* @__PURE__ */ jsxs("div", { children: [
                /* @__PURE__ */ jsx("span", { className: "text-gray-600 font-bold text-sm sm:text-base", children: "Annonce légale : " }),
                /* @__PURE__ */ jsx("p", { className: "text-gray-600 text-sm sm:text-base mt-1", children: annonce == null ? void 0 : annonce.title })
              ] }),
              /* @__PURE__ */ jsx("div", { className: "border-t border-gray-200 pt-4", children: /* @__PURE__ */ jsxs("div", { className: "flex justify-between items-center", children: [
                /* @__PURE__ */ jsx("span", { className: "text-base sm:text-lg font-bold text-gray-900", children: "Total" }),
                /* @__PURE__ */ jsx("span", { className: "text-xl sm:text-2xl font-bold text-red-600", children: (annonce == null ? void 0 : annonce.canal_de_publication) === "Digital" ? /* @__PURE__ */ jsx("span", { className: "font-medium", children: "100.00 MAD" }) : (annonce == null ? void 0 : annonce.canal_de_publication) === "Papier+Digital" ? /* @__PURE__ */ jsx("span", { className: "font-medium", children: "140.00 MAD" }) : /* @__PURE__ */ jsx("span", { className: "font-medium", children: "—" }) })
              ] }) })
            ] }) })
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "bg-gradient-to-br from-red-50 to-pink-50 rounded-xl sm:rounded-2xl p-4 sm:p-6 border border-red-200", children: [
            /* @__PURE__ */ jsxs("div", { className: "flex items-start gap-3", children: [
              /* @__PURE__ */ jsx("div", { className: "p-2 bg-red-100 rounded-lg flex-shrink-0", children: /* @__PURE__ */ jsx(Shield, { className: "w-4 h-4 sm:w-5 sm:h-5 text-red-600" }) }),
              /* @__PURE__ */ jsxs("div", { className: "min-w-0 flex-1", children: [
                /* @__PURE__ */ jsx("h3", { className: "font-semibold text-gray-900 mb-2 text-sm sm:text-base", children: "Paiement sécurisé" }),
                /* @__PURE__ */ jsx("p", { className: "text-xs sm:text-sm text-gray-700 mb-3", children: "Vos données sont protégées par un cryptage de niveau bancaire." }),
                /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2 text-xs text-gray-600", children: [
                  /* @__PURE__ */ jsx("div", { className: "w-2 h-2 bg-green-500 rounded-full" }),
                  /* @__PURE__ */ jsx("span", { children: "SSL 256-bit" })
                ] })
              ] })
            ] }),
            /* @__PURE__ */ jsx("div", { className: "mt-4 pt-4 border-t border-red-200", children: /* @__PURE__ */ jsx("img", { src: "/payzone-1.webp", alt: "Payzone", className: "w-full h-auto max-w-32 sm:max-w-none mx-auto" }) })
          ] })
        ] })
      ] })
    ] }) }),
    showSuccessModal && /* @__PURE__ */ jsxs("div", { className: "fixed inset-0 z-50 flex items-center justify-center p-3 sm:p-4 transition-opacity duration-300", children: [
      /* @__PURE__ */ jsx("div", { className: "fixed inset-0 bg-black/60 backdrop-blur-sm", onClick: handleCloseSuccessModal }),
      /* @__PURE__ */ jsx("div", { className: "bg-white rounded-xl sm:rounded-2xl shadow-2xl w-full max-w-sm sm:max-w-md relative z-10 overflow-hidden mx-3 sm:mx-0", children: /* @__PURE__ */ jsxs("div", { className: "p-6 sm:p-8 text-center", children: [
        /* @__PURE__ */ jsx("div", { className: "w-14 h-14 sm:w-16 sm:h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4", children: /* @__PURE__ */ jsx(CheckCircle, { className: "h-7 w-7 sm:h-8 sm:w-8 text-green-600" }) }),
        /* @__PURE__ */ jsx("h3", { className: "text-xl sm:text-2xl font-bold text-gray-900 mb-2", children: "Demande confirmé !" }),
        /* @__PURE__ */ jsxs("p", { className: "text-gray-600 mb-6 text-sm sm:text-base", children: [
          "Votre Demande de ",
          /* @__PURE__ */ jsxs("span", { className: "font-bold text-red-600", children: [
            amountToPay.toFixed(2),
            " MAD"
          ] }),
          " a été traité avec succès."
        ] }),
        /* @__PURE__ */ jsx("div", { className: "bg-gray-50 rounded-lg sm:rounded-xl p-4 mb-6 text-left", children: /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 text-sm", children: [
          /* @__PURE__ */ jsxs("div", { children: [
            /* @__PURE__ */ jsx("span", { className: "text-gray-600", children: "Référence:" }),
            /* @__PURE__ */ jsx("p", { className: "font-medium text-xs sm:text-sm", children: `REF-${Math.floor(Math.random() * 1e6)}` })
          ] }),
          /* @__PURE__ */ jsxs("div", { children: [
            /* @__PURE__ */ jsx("span", { className: "text-gray-600", children: "Date:" }),
            /* @__PURE__ */ jsx("p", { className: "font-medium text-xs sm:text-sm", children: (/* @__PURE__ */ new Date()).toLocaleDateString() })
          ] })
        ] }) }),
        /* @__PURE__ */ jsx(
          Link,
          {
            href: "/mes-annonces-legales",
            className: "w-full h-11 sm:h-12 bg-red-600 hover:bg-red-700 text-white py-3 px-4 sm:px-6 rounded-lg sm:rounded-xl font-semibold transition-colors inline-flex justify-center items-center text-sm sm:text-base",
            children: "Retour à mes annonces"
          }
        )
      ] }) })
    ] }),
    /* @__PURE__ */ jsx(Footer$1, {})
  ] });
}
const __vite_glob_0_45 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: PaymentPage$1
}, Symbol.toStringTag, { value: "Module" }));
function SimpleToast({ message, type = "error", isVisible, onClose, duration = 4e3 }) {
  useEffect(() => {
    if (isVisible && duration > 0) {
      const timer = setTimeout(() => {
        onClose();
      }, duration);
      return () => clearTimeout(timer);
    }
  }, [isVisible, duration, onClose]);
  if (!isVisible) return null;
  const getTypeStyles = () => {
    switch (type) {
      case "error":
        return "bg-red-50 border-red-200 text-red-800";
      case "success":
        return "bg-green-50 border-green-200 text-green-800";
      case "warning":
        return "bg-amber-50 border-amber-200 text-amber-800";
      default:
        return "bg-red-50 border-red-200 text-red-800";
    }
  };
  const getIconColor = () => {
    switch (type) {
      case "error":
        return "text-red-500";
      case "success":
        return "text-green-500";
      case "warning":
        return "text-amber-500";
      default:
        return "text-red-500";
    }
  };
  return /* @__PURE__ */ jsx("div", { className: "fixed top-24 right-4 z-50 animate-in slide-in-from-top-2 duration-300", children: /* @__PURE__ */ jsx("div", { className: `max-w-md w-full ${getTypeStyles()} border rounded-lg shadow-lg p-4`, children: /* @__PURE__ */ jsxs("div", { className: "flex items-start", children: [
    /* @__PURE__ */ jsx("div", { className: "flex-shrink-0", children: /* @__PURE__ */ jsx(AlertCircle, { className: `h-5 w-5 ${getIconColor()}` }) }),
    /* @__PURE__ */ jsx("div", { className: "ml-3 flex-1", children: /* @__PURE__ */ jsx("p", { className: "text-sm font-medium", children: message }) }),
    /* @__PURE__ */ jsx("div", { className: "ml-4 flex-shrink-0", children: /* @__PURE__ */ jsx(
      "button",
      {
        onClick: onClose,
        className: `inline-flex rounded-md p-1.5 hover:bg-opacity-20 focus:outline-none focus:ring-2 focus:ring-offset-2 ${type === "error" ? "text-red-500 hover:bg-red-100 focus:ring-red-500" : type === "success" ? "text-green-500 hover:bg-green-100 focus:ring-green-500" : "text-amber-500 hover:bg-amber-100 focus:ring-amber-500"}`,
        children: /* @__PURE__ */ jsx(X, { className: "h-4 w-4" })
      }
    ) })
  ] }) }) });
}
function PublierAnnoncePage({
  auth,
  annonce
}) {
  const [showToast, setShowToast] = useState(false);
  const [toastMessage, setToastMessage] = useState("");
  const { data, setData, post, processing, errors } = useForm({
    nameSociete: (annonce == null ? void 0 : annonce.nameSociete) || "",
    RC: (annonce == null ? void 0 : annonce.RC) || "",
    category: (annonce == null ? void 0 : annonce.category) || "",
    content: (annonce == null ? void 0 : annonce.content) || "",
    status: (annonce == null ? void 0 : annonce.status) || "PENDING",
    canal_de_publication: (annonce == null ? void 0 : annonce.canal_de_publication) || "Digital",
    pdf: null,
    date: (annonce == null ? void 0 : annonce.date) || "",
    user_id: auth.user.id,
    ville: (annonce == null ? void 0 : annonce.ville) || auth.user.ville || "",
    is_anonyme: (annonce == null ? void 0 : annonce.is_anonyme) || false,
    adresse: (annonce == null ? void 0 : annonce.adresse) || "",
    price: (annonce == null ? void 0 : annonce.price) || ""
  });
  const [isAccepted, setIsAccepted] = useState(false);
  const getPreviewTitle = () => {
    if (!data.category || !data.nameSociete) return "Titre de l'annonce";
    const labelMap = {
      CONSTITUTION: "constitution",
      MODIFICATION: "modification",
      DISSOLUTION: "dissolution",
      OTHER: "opération"
    };
    const label = labelMap[data.category || "OTHER"];
    return `Avis de ${label} de la société ${data.nameSociete}`;
  };
  const [isAnonymous, setIsAnonymous] = useState(false);
  const handleSubmit = (e2) => {
    e2.preventDefault();
    if (!isAccepted) return;
    post("/client/annonces/store");
  };
  const [cities, setCities] = useState([]);
  const handleFileChange = (e2) => {
    var _a2;
    const file = ((_a2 = e2.target.files) == null ? void 0 : _a2[0]) || null;
    setData("pdf", file);
  };
  useEffect(() => {
    axios.get("/api/cities").then((response) => {
      setCities(response.data);
    }).catch((error) => {
      console.error("Erreur lors de la récupération des villes:", error);
    });
  }, []);
  const [villeSearch, setVilleSearch] = useState("");
  const [showVilleDropdown, setShowVilleDropdown] = useState(false);
  const filteredCities = cities.filter((city) => city.toLowerCase().includes(villeSearch.toLowerCase()));
  const handleDateChange = (e2) => {
    const selectedDate = new Date(e2.target.value);
    const day = selectedDate.getDay();
    if (day === 0 || day === 6) {
      setToastMessage("Veuillez sélectionner un jour de semaine (lundi à vendredi).");
      setShowToast(true);
      return;
    }
    setData("date", e2.target.value);
  };
  return /* @__PURE__ */ jsxs("main", { className: "min-h-screen flex flex-col bg-gray-50", children: [
    /* @__PURE__ */ jsxs(Head, { children: [
      /* @__PURE__ */ jsx("title", { children: "Publier une annonce légale au Maroc" }),
      /* @__PURE__ */ jsx(
        "meta",
        {
          name: "description",
          content: "Publiez votre annonce légale en ligne en quelques minutes. Création, modification ou dissolution d'entreprise : service rapide, légal et 100 % digital."
        }
      ),
      /* @__PURE__ */ jsx("meta", { name: "robots", content: "noindex, nofollow" })
    ] }),
    /* @__PURE__ */ jsx(SimpleToast, { message: toastMessage, type: "error", isVisible: showToast, onClose: () => setShowToast(false) }),
    /* @__PURE__ */ jsx(Header, { auth: { user: auth.user } }),
    /* @__PURE__ */ jsx("div", { className: "w-full pt-32 to-white py-4", children: /* @__PURE__ */ jsx("div", { className: "w-full max-w-[76rem] mx-auto px-4", children: /* @__PURE__ */ jsxs("div", { className: "flex flex-col sm:flex-row sm:justify-between sm:items-center", children: [
      /* @__PURE__ */ jsxs("div", { className: "flex flex-col mb-4 sm:mb-0", children: [
        /* @__PURE__ */ jsx("h1", { className: "text-2xl sm:text-3xl font-bold text-[#0F172A]", children: "Publier une annonce légale" }),
        /* @__PURE__ */ jsx("p", { className: "text-gray-600 max-w-2xl text-sm sm:text-base mt-2", children: "Remplissez le formulaire ci-dessous pour publier votre annonce légale. Notre équipe la vérifiera avant publication." })
      ] }),
      /* @__PURE__ */ jsxs(
        Link,
        {
          href: route("client.annonces.my-annonces"),
          className: "flex items-center gap-2 px-4 sm:px-5 py-2 sm:py-2.5 bg-white border border-gray-200 rounded-lg shadow-sm text-sm sm:text-base font-medium text-[#1a2a4b] hover:bg-gray-100 w-fit",
          children: [
            /* @__PURE__ */ jsx("div", { className: "bg-[#e63946]/10 p-1.5 rounded-md", children: /* @__PURE__ */ jsx(FileText, { className: " h-4 w-4 sm:h-5 sm:w-5 text-[#e63946]" }) }),
            /* @__PURE__ */ jsx("span", { children: "Mes annonces légale" }),
            /* @__PURE__ */ jsx("div", { className: "hidden sm:flex items-center justify-center w-5 h-5 bg-[#1a2a4b] rounded-full text-white text-xs ml-1", children: /* @__PURE__ */ jsx(ChevronRight, { className: "h-3 w-3" }) })
          ]
        }
      )
    ] }) }) }),
    /* @__PURE__ */ jsx("section", { className: "container mx-auto px-4 py-6 sm:py-8 md:py-10 flex-grow", children: /* @__PURE__ */ jsxs("div", { className: "w-full max-w-[76rem] mx-auto", children: [
      /* @__PURE__ */ jsx("div", { className: "mb-6 sm:mb-8 md:mb-10", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between max-w-xs sm:max-w-md mx-auto", children: [
        /* @__PURE__ */ jsxs("div", { className: "flex flex-col items-center", children: [
          /* @__PURE__ */ jsx("div", { className: "w-8 h-8 sm:w-10 sm:h-10 rounded-full flex items-center justify-center mb-1 sm:mb-2 bg-[#e63946] text-white", children: /* @__PURE__ */ jsx(FileText, { className: "h-4 w-4 sm:h-5 sm:w-5" }) }),
          /* @__PURE__ */ jsx("span", { className: "text-xs sm:text-sm font-medium text-[#0F172A]", children: "Détails" })
        ] }),
        /* @__PURE__ */ jsx("div", { className: "w-24 sm:w-32 h-0.5 bg-[#0F172A]/20" }),
        /* @__PURE__ */ jsxs("div", { className: "flex flex-col items-center", children: [
          /* @__PURE__ */ jsx("div", { className: "w-8 h-8 sm:w-10 sm:h-10 rounded-full flex items-center justify-center mb-1 sm:mb-2 bg-[#e63946] text-white", children: /* @__PURE__ */ jsx(Eye, { className: "h-4 w-4 sm:h-5 sm:w-5" }) }),
          /* @__PURE__ */ jsx("span", { className: "text-xs sm:text-sm font-medium text-[#0F172A]", children: "Aperçu" })
        ] })
      ] }) }),
      /* @__PURE__ */ jsx("form", { onSubmit: handleSubmit, encType: "multipart/form-data", children: /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6 md:gap-8", children: [
        /* @__PURE__ */ jsx("div", { className: "lg:col-span-2 space-y-4 sm:space-y-6", children: /* @__PURE__ */ jsxs("div", { className: "bg-white p-4 sm:p-6 md:p-8 rounded-xl shadow-lg border border-[#0F172A]/10", children: [
          /* @__PURE__ */ jsx("div", { className: "flex items-center justify-between mb-4 sm:mb-6 md:mb-8", children: /* @__PURE__ */ jsxs("h2", { className: "text-lg sm:text-xl font-bold text-[#0F172A] flex items-center", children: [
            /* @__PURE__ */ jsx(FileText, { className: "mr-2 sm:mr-3 h-4 w-4 sm:h-5 sm:w-5 text-[#e63946]" }),
            "Informations de l'annonce légale"
          ] }) }),
          /* @__PURE__ */ jsxs("div", { className: "space-y-4 sm:space-y-6", children: [
            /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6", children: [
              /* @__PURE__ */ jsxs("div", { className: "group", children: [
                /* @__PURE__ */ jsxs("label", { className: "block text-[#0F172A] font-medium mb-1 sm:mb-2 flex items-center text-sm sm:text-base", children: [
                  /* @__PURE__ */ jsx(Building2, { className: "mr-1 sm:mr-2 h-3 w-3 sm:h-4 sm:w-4 text-[#0F172A]/70" }),
                  "Nom de la société"
                ] }),
                /* @__PURE__ */ jsx("div", { className: "relative", children: /* @__PURE__ */ jsx(
                  Input,
                  {
                    type: "text",
                    placeholder: "Entrez le nom de la société",
                    value: data.nameSociete,
                    onChange: (e2) => setData("nameSociete", e2.target.value),
                    className: "w-full p-2 sm:p-3 border border-[#0F172A]/20 rounded-lg focus:ring-2 focus:ring-[#e63946] focus:border-transparent shadow-sm text-sm sm:text-base"
                  }
                ) }),
                errors.nameSociete && /* @__PURE__ */ jsx("p", { className: "text-[#e63946] text-xs sm:text-sm mt-1", children: errors.nameSociete })
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "group", children: [
                /* @__PURE__ */ jsxs("label", { className: "block text-[#0F172A] font-medium mb-1 sm:mb-2 flex items-center text-sm sm:text-base", children: [
                  /* @__PURE__ */ jsx(Tag, { className: "mr-1 sm:mr-2 h-3 w-3 sm:h-4 sm:w-4 text-[#0F172A]/70" }),
                  "RC"
                ] }),
                /* @__PURE__ */ jsx("div", { className: "relative", children: /* @__PURE__ */ jsx(
                  Input,
                  {
                    type: "text",
                    placeholder: "Entrez le numéro RC",
                    value: data.RC,
                    onChange: (e2) => setData("RC", e2.target.value),
                    className: "w-full p-2 sm:p-3 border border-[#0F172A]/20 rounded-lg focus:ring-2 focus:ring-[#e63946] focus:border-transparent shadow-sm text-sm sm:text-base"
                  }
                ) }),
                errors.RC && /* @__PURE__ */ jsx("p", { className: "text-[#e63946] text-xs sm:text-sm mt-1", children: errors.RC })
              ] })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6", children: [
              /* @__PURE__ */ jsxs("div", { className: "group", children: [
                /* @__PURE__ */ jsx("label", { className: "block text-[#0F172A] font-medium mb-1 sm:mb-2 text-sm sm:text-base", children: "Catégorie" }),
                /* @__PURE__ */ jsxs("div", { className: "relative", children: [
                  /* @__PURE__ */ jsxs(
                    "select",
                    {
                      value: data.category,
                      onChange: (e2) => setData("category", e2.target.value),
                      className: "w-full p-2 sm:p-3 border border-[#0F172A]/20 rounded-lg bg-white focus:ring-2 focus:ring-[#e63946] focus:border-transparent shadow-sm appearance-none text-sm sm:text-base",
                      children: [
                        /* @__PURE__ */ jsx("option", { value: "", children: "Sélectionner une catégorie" }),
                        /* @__PURE__ */ jsx("option", { value: "CONSTITUTION", children: "Constitution" }),
                        /* @__PURE__ */ jsx("option", { value: "MODIFICATION", children: "Modification" }),
                        /* @__PURE__ */ jsx("option", { value: "DISSOLUTION", children: "Dissolution" }),
                        /* @__PURE__ */ jsx("option", { value: "OTHER", children: "Autre" })
                      ]
                    }
                  ),
                  /* @__PURE__ */ jsx("div", { className: "absolute inset-y-0 right-0 flex items-center pr-2 sm:pr-3 pointer-events-none" })
                ] }),
                errors.category && /* @__PURE__ */ jsx("p", { className: "text-[#e63946] text-xs sm:text-sm mt-1", children: errors.category })
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "group", children: [
                /* @__PURE__ */ jsx("label", { className: "block text-[#0F172A] font-medium mb-1 sm:mb-2 text-sm sm:text-base", children: "Canal de Publication" }),
                /* @__PURE__ */ jsxs("div", { className: "relative", children: [
                  /* @__PURE__ */ jsxs(
                    "select",
                    {
                      value: data.canal_de_publication,
                      onChange: (e2) => setData("canal_de_publication", e2.target.value),
                      className: "w-full p-2 sm:p-3 border border-[#0F172A]/20 rounded-lg bg-white focus:ring-2 focus:ring-[#e63946] focus:border-transparent shadow-sm appearance-none text-sm sm:text-base",
                      children: [
                        /* @__PURE__ */ jsx("option", { value: "Digital", children: "Digital" }),
                        /* @__PURE__ */ jsx("option", { value: "Papier+Digital", children: "Papier+Digital" })
                      ]
                    }
                  ),
                  /* @__PURE__ */ jsx("div", { className: "absolute inset-y-0 right-0 flex items-center pr-2 sm:pr-3 pointer-events-none" })
                ] }),
                errors.canal_de_publication && /* @__PURE__ */ jsx("p", { className: "text-[#e63946] text-xs sm:text-sm mt-1", children: errors.canal_de_publication })
              ] })
            ] }),
            /* @__PURE__ */ jsx("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6", children: /* @__PURE__ */ jsxs("div", { className: "group", children: [
              /* @__PURE__ */ jsxs("label", { className: "block text-[#0F172A] font-medium mb-1 sm:mb-2 flex items-center text-sm sm:text-base", children: [
                /* @__PURE__ */ jsx(Calendar$2, { className: "mr-1 sm:mr-2 h-3 w-3 sm:h-4 sm:w-4 text-[#0F172A]/70" }),
                "Date de parution"
              ] }),
              /* @__PURE__ */ jsx("div", { className: "relative", children: /* @__PURE__ */ jsx(
                Input,
                {
                  type: "date",
                  value: data.date,
                  onChange: handleDateChange,
                  min: new Date(Date.now() + 864e5).toISOString().split("T")[0],
                  className: "w-full p-2 sm:p-3 border border-[#0F172A]/20 rounded-lg focus:ring-2 focus:ring-[#e63946] focus:border-transparent shadow-sm text-sm sm:text-base"
                }
              ) }),
              errors.date && /* @__PURE__ */ jsx("p", { className: "text-[#e63946] text-xs sm:text-sm mt-1", children: errors.date })
            ] }) }),
            /* @__PURE__ */ jsxs("div", { className: "group", children: [
              /* @__PURE__ */ jsxs("div", { className: "relative", children: [
                /* @__PURE__ */ jsxs("label", { className: "block text-[#0F172A] font-medium mb-1 sm:mb-2 flex items-center text-sm sm:text-base", children: [
                  /* @__PURE__ */ jsx(MapPin, { className: "mr-1 sm:mr-2 h-4 w-4 sm:h-5 sm:w-5 text-[#0F172A]/70" }),
                  "Ville"
                ] }),
                /* @__PURE__ */ jsx(
                  "input",
                  {
                    type: "text",
                    placeholder: "Rechercher une ville",
                    className: "w-full p-2 sm:p-3 border border-[#0F172A]/20 rounded-lg focus:ring-2 focus:ring-[#e63946] focus:border-transparent shadow-sm text-sm sm:text-base",
                    value: villeSearch || data.ville,
                    onFocus: () => setShowVilleDropdown(true),
                    onChange: (e2) => {
                      setVilleSearch(e2.target.value);
                      setData("ville", "");
                    }
                  }
                ),
                showVilleDropdown && filteredCities.length > 0 && /* @__PURE__ */ jsx("ul", { className: "absolute z-10 mt-1 w-full bg-white border border-gray-200 rounded-md max-h-48 overflow-auto shadow-lg", children: filteredCities.map((city, index2) => /* @__PURE__ */ jsx(
                  "li",
                  {
                    onClick: () => {
                      setData("ville", city);
                      setVilleSearch("");
                      setShowVilleDropdown(false);
                    },
                    className: "px-4 py-2 text-sm cursor-pointer hover:bg-gray-100",
                    children: city
                  },
                  index2
                )) }),
                errors.ville && /* @__PURE__ */ jsx("p", { className: "text-[#e63946] text-xs sm:text-sm mt-1", children: errors.ville })
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "group", children: [
                /* @__PURE__ */ jsx("label", { className: "block text-[#0F172A] font-medium mb-1 sm:mb-2 pt-4 text-sm sm:text-base", children: "Contenu" }),
                /* @__PURE__ */ jsx("div", { className: "relative", children: /* @__PURE__ */ jsx(
                  "textarea",
                  {
                    placeholder: "Détails de l'annonce...",
                    value: data.content,
                    onChange: (e2) => setData("content", e2.target.value),
                    className: "w-full p-3 sm:p-4 border border-[#0F172A]/20 rounded-lg h-32 sm:h-40 focus:ring-2 focus:ring-[#e63946] focus:border-transparent shadow-sm resize-none text-sm sm:text-base whitespace-pre-wrap font-mono"
                  }
                ) }),
                errors.content && /* @__PURE__ */ jsx("p", { className: "text-[#e63946] text-xs sm:text-sm mt-1", children: errors.content })
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "group", children: [
                /* @__PURE__ */ jsxs("label", { className: "block text-[#0F172A] font-medium mb-1 sm:mb-2 pt-4 flex items-center text-sm sm:text-base", children: [
                  /* @__PURE__ */ jsx(Upload, { className: "mr-1 sm:mr-2 h-3 w-3 sm:h-4 sm:w-4 text-[#0F172A]/70" }),
                  "Document PDF (optionnel)"
                ] }),
                /* @__PURE__ */ jsx("div", { className: "mt-1 flex justify-center px-4 sm:px-6 pt-4 sm:pt-5 pb-4 sm:pb-6 border-2 border-[#0F172A]/10 border-dashed rounded-lg", children: /* @__PURE__ */ jsxs("div", { className: "space-y-1 text-center", children: [
                  /* @__PURE__ */ jsx(
                    "svg",
                    {
                      className: "mx-auto h-8 w-8 sm:h-12 sm:w-12 text-[#0F172A]/30",
                      stroke: "currentColor",
                      fill: "none",
                      viewBox: "0 0 48 48",
                      "aria-hidden": "true",
                      children: /* @__PURE__ */ jsx(
                        "path",
                        {
                          d: "M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",
                          strokeWidth: 2,
                          strokeLinecap: "round",
                          strokeLinejoin: "round"
                        }
                      )
                    }
                  ),
                  /* @__PURE__ */ jsxs("div", { className: "flex text-xs sm:text-sm text-[#0F172A]/70 justify-center", children: [
                    /* @__PURE__ */ jsxs(
                      "label",
                      {
                        htmlFor: "file-upload",
                        className: "relative cursor-pointer bg-white rounded-md font-medium text-[#e63946]",
                        children: [
                          /* @__PURE__ */ jsx("span", { children: "Télécharger un fichier" }),
                          /* @__PURE__ */ jsx(
                            "input",
                            {
                              id: "file-upload",
                              name: "file-upload",
                              type: "file",
                              className: "sr-only",
                              onChange: handleFileChange,
                              accept: ".pdf"
                            }
                          )
                        ]
                      }
                    ),
                    /* @__PURE__ */ jsx("p", { className: "pl-1", children: "ou glisser-déposer" })
                  ] }),
                  /* @__PURE__ */ jsx("p", { className: "text-xs text-[#0F172A]/50", children: "PDF jusqu'à 10MB" })
                ] }) }),
                data.pdf && /* @__PURE__ */ jsxs("div", { className: "mt-2 sm:mt-3 flex items-center text-xs sm:text-sm text-[#0F172A] bg-[#0F172A]/5 p-2 rounded-lg", children: [
                  /* @__PURE__ */ jsx(FileText, { className: "h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2 text-[#0F172A]" }),
                  /* @__PURE__ */ jsxs("span", { children: [
                    "Fichier sélectionné: ",
                    /* @__PURE__ */ jsx("span", { className: "font-medium", children: data.pdf.name })
                  ] })
                ] }),
                errors.pdf && /* @__PURE__ */ jsx("p", { className: "text-[#e63946] text-xs sm:text-sm mt-1", children: errors.pdf })
              ] })
            ] })
          ] })
        ] }) }),
        /* @__PURE__ */ jsx("div", { className: "lg:col-span-1", children: /* @__PURE__ */ jsxs("div", { className: "bg-white p-4 sm:p-6 rounded-xl shadow-lg border border-[#0F172A]/10 sticky top-24", children: [
          /* @__PURE__ */ jsx("div", { className: "flex items-center justify-between mb-4 sm:mb-6", children: /* @__PURE__ */ jsxs("h2", { className: "text-lg sm:text-xl font-bold text-[#0F172A] flex items-center", children: [
            /* @__PURE__ */ jsx(Eye, { className: "mr-1 sm:mr-2 h-4 w-4 sm:h-5 sm:w-5 text-[#e63946]" }),
            "Aperçu"
          ] }) }),
          /* @__PURE__ */ jsx("div", { className: "bg-[#0F172A]/5 p-3 sm:p-5 rounded-lg mb-4 sm:mb-6", children: /* @__PURE__ */ jsxs("div", { className: "space-y-3 sm:space-y-4", children: [
            /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
              /* @__PURE__ */ jsx("span", { className: "text-xs sm:text-sm font-medium text-[#0F172A]/70", children: "Date:" }),
              /* @__PURE__ */ jsx("span", { className: "text-xs sm:text-sm font-medium text-[#0F172A] break-words", children: data.date || "Non spécifiée" })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
              /* @__PURE__ */ jsx("span", { className: "text-xs sm:text-sm font-medium text-[#0F172A]/70", children: "Ville:" }),
              /* @__PURE__ */ jsx("span", { className: "text-xs sm:text-sm font-medium text-[#0F172A] break-words", children: data.ville || "Non spécifiée" })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
              /* @__PURE__ */ jsx("span", { className: "text-xs sm:text-sm font-medium text-[#0F172A]/70", children: "Catégorie:" }),
              /* @__PURE__ */ jsx(
                "span",
                {
                  className: `text-xs sm:text-sm font-medium px-1.5 sm:px-2 py-0.5 sm:py-1 rounded-full break-words ${data.category === "CONSTITUTION" ? "bg-[#0F172A]/10 text-[#0F172A]" : data.category === "MODIFICATION" ? "bg-[#0F172A]/10 text-[#0F172A]" : data.category === "DISSOLUTION" ? "bg-[#e63946]/10 text-[#e63946]" : data.category ? "bg-[#0F172A]/10 text-[#0F172A]" : ""}`,
                  children: data.category || "Non spécifiée"
                }
              )
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
              /* @__PURE__ */ jsx("span", { className: "text-xs sm:text-sm font-medium text-[#0F172A]/70", children: "Canal:" }),
              /* @__PURE__ */ jsx("span", { className: "text-xs sm:text-sm font-medium text-[#0F172A] break-words", children: data.canal_de_publication })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "pt-2 sm:pt-3 border-t border-[#0F172A]/10", children: [
              /* @__PURE__ */ jsx("h3", { className: "text-base sm:text-lg font-bold text-[#0F172A] break-words", children: getPreviewTitle() || "Titre de l'annonce" }),
              /* @__PURE__ */ jsxs("p", { className: "text-xs sm:text-sm text-[#0F172A]/80 mt-1", children: [
                /* @__PURE__ */ jsx("span", { className: "font-medium", children: "Société:" }),
                " ",
                /* @__PURE__ */ jsx("span", { className: "break-words", children: data.nameSociete || "Non spécifiée" })
              ] }),
              /* @__PURE__ */ jsxs("p", { className: "text-xs sm:text-sm text-[#0F172A]/80", children: [
                /* @__PURE__ */ jsx("span", { className: "font-medium", children: "RC:" }),
                " ",
                /* @__PURE__ */ jsx("span", { className: "break-words", children: data.RC || "Non spécifiée" })
              ] }),
              /* @__PURE__ */ jsx("p", { className: "text-xs sm:text-sm text-[#0F172A]/80 mt-1 whitespace-pre-wrap break-words", children: data.content || "Aucun contenu n'a été saisi." })
            ] })
          ] }) }),
          /* @__PURE__ */ jsxs("div", { className: "mb-3 sm:mb-4", children: [
            /* @__PURE__ */ jsx("h3", { className: "text-sm sm:text-md font-bold text-[#0F172A] mb-1 sm:mb-2", children: "Prix" }),
            /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between font-bold text-xs sm:text-sm", children: [
              /* @__PURE__ */ jsx("span", { children: "Total:" }),
              /* @__PURE__ */ jsx("span", { children: data.canal_de_publication === "Digital" ? "100 DH" : data.canal_de_publication === "Papier+Digital" ? "140 DH" : "—" })
            ] }),
            /* @__PURE__ */ jsx("div", { className: "mt-3 p-2 bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-lg", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-center gap-2 text-xs sm:text-sm text-green-700 font-medium", children: [
              /* @__PURE__ */ jsx("svg", { className: "w-4 h-4 text-green-600", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: /* @__PURE__ */ jsx(
                "path",
                {
                  strokeLinecap: "round",
                  strokeLinejoin: "round",
                  strokeWidth: 2,
                  d: "M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"
                }
              ) }),
              /* @__PURE__ */ jsx("span", { children: "livraison partout au Maroc" }),
              /* @__PURE__ */ jsx("svg", { className: "w-4 h-4 text-green-600", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M5 13l4 4L19 7" }) })
            ] }) })
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "mt-4 sm:mt-6 pt-3 sm:pt-4 border-t border-[#0F172A]/10", children: [
            /* @__PURE__ */ jsxs("label", { className: "flex items-center space-x-2 sm:space-x-3 cursor-pointer group mb-3 sm:mb-4", children: [
              /* @__PURE__ */ jsxs("div", { className: "relative", children: [
                /* @__PURE__ */ jsx(
                  "input",
                  {
                    type: "checkbox",
                    checked: isAnonymous,
                    onChange: (e2) => {
                      setIsAnonymous(e2.target.checked);
                      setData("is_anonyme", e2.target.checked);
                    },
                    className: "sr-only"
                  }
                ),
                /* @__PURE__ */ jsx(
                  "div",
                  {
                    className: `w-4 h-4 sm:w-5 sm:h-5 border-2 rounded ${isAnonymous ? "bg-[#e63946] border-[#e63946]" : "border-[#0F172A]/30"}`
                  }
                ),
                isAnonymous && /* @__PURE__ */ jsx(CheckCircle, { className: "absolute inset-0 w-4 h-4 sm:w-5 sm:h-5 text-white" })
              ] }),
              /* @__PURE__ */ jsx("span", { className: "text-xs sm:text-sm text-[#0F172A]", children: "Publier comme anonyme" })
            ] }),
            /* @__PURE__ */ jsxs("label", { className: "flex items-center space-x-2 sm:space-x-3 cursor-pointer mb-4 sm:mb-6 group", children: [
              /* @__PURE__ */ jsxs("div", { className: "relative", children: [
                /* @__PURE__ */ jsx(
                  "input",
                  {
                    type: "checkbox",
                    id: "acceptTerms",
                    className: "sr-only",
                    checked: isAccepted,
                    onChange: () => setIsAccepted(!isAccepted)
                  }
                ),
                /* @__PURE__ */ jsx(
                  "div",
                  {
                    className: `w-4 h-4 sm:w-5 sm:h-5 border-2 rounded ${isAccepted ? "bg-[#e63946] border-[#e63946]" : "border-[#0F172A]/30"}`
                  }
                ),
                isAccepted && /* @__PURE__ */ jsx(CheckCircle, { className: "absolute inset-0 w-4 h-4 sm:w-5 sm:h-5 text-white" })
              ] }),
              /* @__PURE__ */ jsx("span", { className: "text-xs sm:text-sm text-[#0F172A] font-medium", children: "J'accepte les termes et conditions" })
            ] }),
            /* @__PURE__ */ jsx(
              "button",
              {
                type: "submit",
                className: `w-full bg-[#e63946] text-white py-2 sm:py-3 px-4 sm:px-6 rounded-lg text-sm sm:text-base ${processing ? "cursor-wait opacity-70" : ""}`,
                disabled: processing || !isAccepted,
                children: /* @__PURE__ */ jsxs("span", { className: "flex items-center justify-center", children: [
                  processing ? "Envoi en cours..." : "Soumettre l'annonce",
                  /* @__PURE__ */ jsx(Send, { className: "ml-1 sm:ml-2 h-4 w-4 sm:h-5 sm:w-5" })
                ] })
              }
            ),
            /* @__PURE__ */ jsx(
              "button",
              {
                type: "button",
                className: "w-full bg-gray-500 text-white py-2 sm:py-3 px-4 sm:px-6 rounded-lg text-sm sm:text-base mt-3 hover:bg-gray-600 transition-colors",
                onClick: () => router.post(route("client.annonces.store.draft"), data),
                children: /* @__PURE__ */ jsxs("span", { className: "flex items-center justify-center", children: [
                  "Enregistrer comme Brouillon",
                  /* @__PURE__ */ jsx(FileText, { className: "ml-1 sm:ml-2 h-4 w-4 sm:h-5 sm:w-5" })
                ] })
              }
            )
          ] })
        ] }) })
      ] }) })
    ] }) }),
    /* @__PURE__ */ jsx(Footer$1, {})
  ] });
}
const __vite_glob_0_46 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: PublierAnnoncePage
}, Symbol.toStringTag, { value: "Module" }));
const getCategoryColor = (category) => {
  switch (category) {
    case "CONSTITUTION":
      return "bg-[#0F172A] text-white border-[#1a2a4b]/20";
    case "MODIFICATION":
      return "bg-[#0F172A] text-white border-[#1a2a4b]/20";
    case "DISSOLUTION":
      return "bg-[#0F172A] text-white border-[#1a2a4b]/20";
    default:
      return "bg-[#0F172A] text-white border-[#1a2a4b]/20";
  }
};
function SingleAnnonce({ annonce, relatedAnnonces, auth, seo }) {
  var _a2;
  const [canonicalUrl, setCanonicalUrl] = useState("");
  useEffect(() => {
    if (typeof window !== "undefined") {
      setCanonicalUrl(window.location.href);
    }
  }, []);
  const filteredRelatedAnnonces = Array.isArray(relatedAnnonces) ? relatedAnnonces.filter((item) => item.id !== annonce.id) : [];
  return /* @__PURE__ */ jsxs(Fragment, { children: [
    /* @__PURE__ */ jsxs(Head, { children: [
      /* @__PURE__ */ jsx("title", { children: seo.title }),
      /* @__PURE__ */ jsx(
        "meta",
        {
          name: "description",
          content: annonce.content ? annonce.content.slice(0, 160) : ""
        }
      )
    ] }),
    /* @__PURE__ */ jsxs("main", { className: "min-h-screen flex flex-col bg-gray-50", children: [
      /* @__PURE__ */ jsx(Header, { auth: { user: auth.user } }),
      /* @__PURE__ */ jsx("div", { className: "w-full py-4 pt-32 bg-gray-50", children: /* @__PURE__ */ jsx("div", { className: "w-full max-w-[79rem] mx-auto px-4", children: /* @__PURE__ */ jsxs("div", { className: "flex flex-col sm:flex-row sm:justify-between sm:items-center", children: [
        /* @__PURE__ */ jsx("div", { className: "flex items-center mb-4 sm:mb-0", children: /* @__PURE__ */ jsx("h1", { className: "text-2xl sm:text-3xl font-bold text-[#0F172A]", children: annonce.title }) }),
        /* @__PURE__ */ jsxs(
          "button",
          {
            type: "button",
            onClick: () => window.history.back(),
            className: "flex items-center gap-2 px-4 sm:px-5 py-2 sm:py-2.5 bg-white border border-gray-200 rounded-lg shadow-sm text-sm sm:text-base font-medium text-[#1a2a4b] hover:bg-gray-100 w-fit",
            children: [
              /* @__PURE__ */ jsx("div", { className: "bg-[#e63946]/10 p-1.5 rounded-md", children: /* @__PURE__ */ jsx(ArrowLeft, { className: "h-4 w-4 sm:h-5 sm:w-5 text-[#e63946]" }) }),
              /* @__PURE__ */ jsx("span", { children: "Retour" })
            ]
          }
        )
      ] }) }) }),
      /* @__PURE__ */ jsx("section", { className: "relative flex-grow pt-6 bg-gray-50", children: /* @__PURE__ */ jsxs("div", { className: "w-full max-w-[79rem] mx-auto px-4 sm:px-6", children: [
        /* @__PURE__ */ jsx("div", { className: "mb-6 sm:mb-8", children: /* @__PURE__ */ jsx("p", { className: "text-gray-600 max-w-2xl text-sm sm:text-base", children: "Consultez les détails de cette annonce légale et découvrez d'autres annonces similaires." }) }),
        /* @__PURE__ */ jsxs("div", { className: "flex flex-col lg:flex-row gap-6 sm:gap-8", children: [
          /* @__PURE__ */ jsx("div", { className: "w-full lg:w-2/3", children: /* @__PURE__ */ jsxs("div", { className: "bg-white rounded-xl shadow-lg border border-[#0F172A]/10 overflow-hidden transform transition-all hover:shadow-md", children: [
            /* @__PURE__ */ jsxs("div", { className: "bg-[#0F172A]/5 p-4 sm:p-6 border-b border-gray-100", children: [
              /* @__PURE__ */ jsxs("h2", { className: "text-lg sm:text-xl font-bold text-[#0F172A] flex items-center", children: [
                /* @__PURE__ */ jsx(FileText, { className: "mr-2 sm:mr-3 h-5 w-5 text-[#e63946]" }),
                "Informations de l'annonce"
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "flex flex-wrap items-center gap-2 sm:gap-3 mt-3 sm:mt-4", children: [
                /* @__PURE__ */ jsxs(
                  "span",
                  {
                    className: `${getCategoryColor(annonce.category)} text-xs sm:text-sm font-medium px-2.5 sm:px-3 py-0.5 sm:py-1 rounded-full border flex items-center`,
                    children: [
                      /* @__PURE__ */ jsx("div", { className: "w-1.5 h-1.5 sm:w-2 sm:h-2 rounded-full bg-current mr-1 sm:mr-1.5" }),
                      annonce.category === "OTHER" ? "Autres" : annonce.category
                    ]
                  }
                ),
                /* @__PURE__ */ jsxs("span", { className: "text-gray-500 text-xs sm:text-sm flex items-center bg-gray-50 px-2.5 sm:px-3 py-0.5 sm:py-1 rounded-full", children: [
                  /* @__PURE__ */ jsx(Clock, { className: "h-3.5 w-3.5 sm:h-4 sm:w-4 mr-1 sm:mr-1.5" }),
                  annonce.date
                ] })
              ] })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "p-4 sm:p-6", children: [
              /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 mb-5 sm:mb-6 bg-gray-50 p-3 sm:p-4 rounded-lg border border-gray-100", children: [
                /* @__PURE__ */ jsxs("div", { className: "flex items-center text-gray-600 text-xs sm:text-sm", children: [
                  /* @__PURE__ */ jsx(User$1, { className: "h-3.5 w-3.5 sm:h-4 sm:w-4 mr-1.5 sm:mr-2 text-[#0F172A]" }),
                  /* @__PURE__ */ jsx("span", { className: "font-medium mr-1", children: "Publié par:" }),
                  " ",
                  /* @__PURE__ */ jsx("span", { className: "truncate", children: annonce.is_anonyme ? "Anonyme" : ((_a2 = annonce.user) == null ? void 0 : _a2.name) || "Utilisateur inconnu" })
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "flex items-center text-gray-600 text-xs sm:text-sm", children: [
                  /* @__PURE__ */ jsx(MapPin, { className: "h-3.5 w-3.5 sm:h-4 sm:w-4 mr-1.5 sm:mr-2 text-[#0F172A]" }),
                  /* @__PURE__ */ jsx("span", { className: "font-medium mr-1", children: "Ville:" }),
                  " ",
                  annonce.ville
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "flex items-center text-gray-600 text-xs sm:text-sm", children: [
                  /* @__PURE__ */ jsx(Building, { className: "h-3.5 w-3.5 sm:h-4 sm:w-4 mr-1.5 sm:mr-2 text-[#0F172A]" }),
                  /* @__PURE__ */ jsx("span", { className: "font-medium mr-1", children: "Société:" }),
                  /* @__PURE__ */ jsx("span", { className: "truncate", children: annonce.nameSociete })
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "flex items-center text-gray-600 text-xs sm:text-sm", children: [
                  /* @__PURE__ */ jsx(FileText, { className: "h-3.5 w-3.5 sm:h-4 sm:w-4 mr-1.5 sm:mr-2 text-[#0F172A]" }),
                  /* @__PURE__ */ jsx("span", { className: "font-medium mr-1", children: "RC:" }),
                  " ",
                  annonce.RC
                ] })
              ] }),
              /* @__PURE__ */ jsxs("h3", { className: "text-base sm:text-lg font-semibold text-[#1a2a4b] mb-3 sm:mb-4 flex items-center", children: [
                /* @__PURE__ */ jsx("span", { className: "bg-[#e63946] text-white rounded-full w-6 h-6 sm:w-7 sm:h-7 inline-flex items-center justify-center mr-2 sm:mr-2.5 shadow-sm", children: /* @__PURE__ */ jsx(FileText, { className: "h-3.5 w-3.5 sm:h-4 sm:w-4" }) }),
                "Contenu de l'annonce"
              ] }),
              /* @__PURE__ */ jsx("div", { className: "prose max-w-none bg-gray-50 p-3 sm:p-5 rounded-lg border border-gray-100 shadow-sm", children: annonce.content.split("\n").map((paragraph, index2) => /* @__PURE__ */ jsx(
                "p",
                {
                  className: "mb-2 sm:mb-3 text-sm sm:text-base text-gray-700 last:mb-0 leading-relaxed",
                  children: paragraph
                },
                index2
              )) })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "p-4 sm:p-5 bg-gray-50 border-t border-gray-100 flex flex-wrap justify-between items-center gap-3", children: [
              /* @__PURE__ */ jsxs("div", { className: "flex items-center text-gray-500 text-xs sm:text-sm", children: [
                /* @__PURE__ */ jsx(Calendar$2, { className: "h-3.5 w-3.5 sm:h-4 sm:w-4 mr-1 sm:mr-1.5" }),
                "Publié le: ",
                annonce.date
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "flex flex-wrap items-center gap-2 sm:gap-3", children: [
                /* @__PURE__ */ jsxs(
                  Button,
                  {
                    variant: "outline",
                    size: "sm",
                    className: "text-gray-600 border-gray-300 hover:bg-gray-100 transition-colors text-xs sm:text-sm h-8 sm:h-9",
                    onClick: () => window.print(),
                    children: [
                      /* @__PURE__ */ jsx(Printer, { className: "h-3.5 w-3.5 sm:h-4 sm:w-4 mr-1.5 sm:mr-2" }),
                      "Imprimer"
                    ]
                  }
                ),
                /* @__PURE__ */ jsxs(
                  Button,
                  {
                    variant: "outline",
                    size: "sm",
                    className: "text-gray-600 border-gray-300 hover:bg-gray-100 transition-colors text-xs sm:text-sm h-8 sm:h-9",
                    onClick: () => {
                      if (navigator.share) {
                        navigator.share({
                          title: annonce.title,
                          text: `Annonce légale: ${annonce.title}`,
                          url: window.location.href
                        });
                      } else {
                        navigator.clipboard.writeText(window.location.href);
                        alert("Lien copié dans le presse-papier!");
                      }
                    },
                    children: [
                      /* @__PURE__ */ jsx(Share2, { className: "h-3.5 w-3.5 sm:h-4 sm:w-4 mr-1.5 sm:mr-2" }),
                      "Partager"
                    ]
                  }
                )
              ] })
            ] })
          ] }) }),
          /* @__PURE__ */ jsx("div", { className: "w-full lg:w-1/3 mt-4 lg:mt-0", children: /* @__PURE__ */ jsxs("div", { className: "bg-white rounded-xl shadow-lg border border-[#0F172A]/10 overflow-hidden lg:sticky lg:top-28", children: [
            /* @__PURE__ */ jsxs("div", { className: "p-4 sm:p-5 bg-[#0F172A] text-white", children: [
              /* @__PURE__ */ jsx(Link, { href: route("client.annonces.create"), className: "block", children: /* @__PURE__ */ jsxs(Button, { className: "w-full bg-[#e63946] hover:bg-[#e63946]/90 text-white rounded-lg flex items-center justify-center transition-colors py-3 sm:py-3.5", children: [
                /* @__PURE__ */ jsx(PlusCircle, { className: "mr-2 h-4 w-4 sm:h-5 sm:w-5" }),
                /* @__PURE__ */ jsx("span", { className: "font-medium", children: "Publier une annonce legale" })
              ] }) }),
              /* @__PURE__ */ jsx("p", { className: "text-white/70 text-xs sm:text-sm mt-2 text-center", children: "Publiez votre annonce et touchez des milliers de professionnels" })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "relative overflow-hidden", children: [
              /* @__PURE__ */ jsx("div", { className: "absolute inset-0 bg-gray-100 opacity-90" }),
              /* @__PURE__ */ jsxs("div", { className: "relative p-4 sm:p-5 text-black\n", children: [
                /* @__PURE__ */ jsx("h2", { className: "text-base sm:text-lg font-bold mb-0.5 sm:mb-1", children: "Annonces similaires" }),
                /* @__PURE__ */ jsxs("p", { className: "text-xs sm:text-sm text-black/80", children: [
                  "Autres annonces de type ",
                  /* @__PURE__ */ jsx("span", { className: "font-semibold", children: annonce.category })
                ] })
              ] })
            ] }),
            /* @__PURE__ */ jsx("div", { className: "divide-y divide-gray-100", children: filteredRelatedAnnonces.length > 0 ? filteredRelatedAnnonces.slice(0, 3).map((relatedAnnonce) => /* @__PURE__ */ jsx("div", { className: "p-3 sm:p-4 hover:bg-gray-50 transition-colors", children: /* @__PURE__ */ jsx(Link, { href: `/annonces-legales/${relatedAnnonce.slug}`, className: "block", children: /* @__PURE__ */ jsxs("div", { className: "flex items-start gap-2 sm:gap-3", children: [
              /* @__PURE__ */ jsx("div", { className: "flex-shrink-0 w-8 h-8 sm:w-9 sm:h-9 bg-[#1a2a4b]/10 rounded-lg flex items-center justify-center text-[#1a2a4b]", children: /* @__PURE__ */ jsx(FileText, { className: "w-3.5 h-3.5 sm:w-4 sm:h-4" }) }),
              /* @__PURE__ */ jsxs("div", { className: "flex-grow", children: [
                /* @__PURE__ */ jsx("h3", { className: "font-medium text-sm sm:text-base text-[#1a2a4b] line-clamp-1 hover:text-[#e63946] transition-colors", children: relatedAnnonce.title }),
                /* @__PURE__ */ jsxs("div", { className: "flex items-center text-xs text-gray-500 mt-0.5 sm:mt-1", children: [
                  /* @__PURE__ */ jsx(Building, { className: "w-3 h-3 mr-1" }),
                  /* @__PURE__ */ jsx("span", { className: "line-clamp-1", children: relatedAnnonce.nameSociete })
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "flex flex-col sm:flex-row sm:items-center sm:justify-between mt-1 sm:mt-1.5 gap-1 sm:gap-0", children: [
                  /* @__PURE__ */ jsxs("span", { className: "text-xs text-gray-500 flex items-center", children: [
                    /* @__PURE__ */ jsx(Calendar$2, { className: "w-3 h-3 mr-1" }),
                    relatedAnnonce.date
                  ] }),
                  /* @__PURE__ */ jsxs("span", { className: "text-xs text-gray-500 flex items-center", children: [
                    /* @__PURE__ */ jsx(MapPin, { className: "w-3 h-3 mr-1" }),
                    relatedAnnonce.ville
                  ] })
                ] })
              ] })
            ] }) }) }, relatedAnnonce.id)) : /* @__PURE__ */ jsxs("div", { className: "p-4 sm:p-6 text-center text-gray-500", children: [
              /* @__PURE__ */ jsx("div", { className: "bg-gray-50 w-12 h-12 sm:w-14 sm:h-14 mx-auto rounded-full flex items-center justify-center mb-2 sm:mb-3", children: /* @__PURE__ */ jsx(Tag, { className: "w-5 h-5 sm:w-6 sm:h-6 text-gray-400" }) }),
              /* @__PURE__ */ jsx("p", { className: "font-medium text-sm sm:text-base text-gray-600", children: "Aucune annonce similaire" }),
              /* @__PURE__ */ jsxs("p", { className: "text-xs sm:text-sm mt-1", children: [
                "Il n'y a pas d'autres annonces dans la catégorie ",
                annonce.category,
                " pour le moment."
              ] })
            ] }) }),
            filteredRelatedAnnonces.length > 0 && /* @__PURE__ */ jsx("div", { className: "p-3 sm:p-4 bg-gray-50 border-t border-gray-100", children: /* @__PURE__ */ jsx(Link, { href: `/annonces-legales?category=${annonce.category}`, children: /* @__PURE__ */ jsxs(
              Button,
              {
                variant: "outline",
                size: "sm",
                className: "w-full border-[#1a2a4b]/20 hover:bg-[#0f172a] text-[#1a2a4b] hover:text-white text-xs sm:text-sm h-8 sm:h-9",
                children: [
                  /* @__PURE__ */ jsxs("span", { children: [
                    "Voir toutes les annonces ",
                    annonce.category
                  ] }),
                  /* @__PURE__ */ jsx(ChevronRight, { className: "w-3.5 h-3.5 sm:w-4 sm:h-4 ml-1" })
                ]
              }
            ) }) }),
            /* @__PURE__ */ jsx("div", { className: "border-t border-gray-100", children: /* @__PURE__ */ jsx("div", { className: "bg-[#0f172a] p-4 sm:p-5 text-white", children: /* @__PURE__ */ jsxs("div", { className: "flex items-start", children: [
              /* @__PURE__ */ jsx("div", { className: "bg-white/20 p-2 sm:p-2.5 rounded-lg mr-3 sm:mr-4", children: /* @__PURE__ */ jsx(Eye, { className: "w-4 h-4 sm:w-5 sm:h-5 text-white" }) }),
              /* @__PURE__ */ jsxs("div", { children: [
                /* @__PURE__ */ jsx("h2", { className: "text-base sm:text-lg font-bold mb-1.5 sm:mb-2", children: "Besoin de plus de visibilité?" }),
                /* @__PURE__ */ jsx("p", { className: "text-white/80 text-xs sm:text-sm mb-3 sm:mb-4", children: "Publiez votre annonce légale avec nous et bénéficiez d'une visibilité maximale auprès des professionnels." })
              ] })
            ] }) }) })
          ] }) })
        ] })
      ] }) }),
      /* @__PURE__ */ jsx(Footer$1, {})
    ] })
  ] });
}
const __vite_glob_0_47 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: SingleAnnonce
}, Symbol.toStringTag, { value: "Module" }));
function AppelsOffresPage({ appelsOffres, auth, seo }) {
  var _a2;
  const [canonicalUrl, setCanonicalUrl] = useState("");
  useEffect(() => {
    if (typeof window !== "undefined") {
      setCanonicalUrl(window.location.href);
    }
  }, []);
  const [search, setSearch] = useState("");
  const [selectedType, setSelectedType] = useState("");
  const [selectedSecteur, setSelectedSecteur] = useState("");
  const filteredAppelsOffres = ((_a2 = appelsOffres == null ? void 0 : appelsOffres.data) == null ? void 0 : _a2.filter(
    (appelOffre) => {
      var _a3, _b, _c;
      return (((_a3 = appelOffre == null ? void 0 : appelOffre.titre) == null ? void 0 : _a3.toLowerCase().includes(search.toLowerCase())) || ((_b = appelOffre == null ? void 0 : appelOffre.date) == null ? void 0 : _b.includes(search)) || ((_c = appelOffre == null ? void 0 : appelOffre.ville) == null ? void 0 : _c.toLowerCase().includes(search.toLowerCase()))) && (selectedType ? (appelOffre == null ? void 0 : appelOffre.type) === selectedType : true) && (selectedSecteur ? (appelOffre == null ? void 0 : appelOffre.secteur) === selectedSecteur : true);
    }
  )) || [];
  const getTypeBadge = (type) => {
    switch (type) {
      case "Public":
        return {
          bg: "bg-green-100",
          text: "text-green-800",
          border: "border-green-200",
          icon: /* @__PURE__ */ jsx("div", { className: "w-2 h-2 rounded-full bg-green-500 mr-1.5" })
        };
      case "Prive":
        return {
          bg: "bg-blue-100",
          text: "text-blue-800",
          border: "border-blue-200",
          icon: /* @__PURE__ */ jsx("div", { className: "w-2 h-2 rounded-full bg-blue-500 mr-1.5" })
        };
      case "International":
        return {
          bg: "bg-purple-100",
          text: "text-purple-800",
          border: "border-purple-200",
          icon: /* @__PURE__ */ jsx("div", { className: "w-2 h-2 rounded-full bg-purple-500 mr-1.5" })
        };
      case "Autres":
        return {
          bg: "bg-orange-100",
          text: "text-orange-800",
          border: "border-orange-200",
          icon: /* @__PURE__ */ jsx("div", { className: "w-2 h-2 rounded-full bg-orange-500 mr-1.5" })
        };
      default:
        return {
          bg: "bg-[#1a2a4b]/10",
          text: "text-[#1a2a4b]",
          border: "border-[#1a2a4b]/20",
          icon: /* @__PURE__ */ jsx("div", { className: "w-2 h-2 rounded-full bg-[#1a2a4b] mr-1.5" })
        };
    }
  };
  const handlePageChange = (page) => {
    router.get(
      route("client.appel-offres.index"),
      { page },
      {
        preserveState: true,
        preserveScroll: true,
        only: ["appelsOffres"],
        onFinish: () => window.scrollTo({ top: 0, behavior: "smooth" })
        // 👈 smooth scroll
      }
    );
  };
  const renderPaginationButtons = () => {
    var _a3, _b;
    const current_page = ((_a3 = appelsOffres == null ? void 0 : appelsOffres.meta) == null ? void 0 : _a3.current_page) || 1;
    const last_page = ((_b = appelsOffres == null ? void 0 : appelsOffres.meta) == null ? void 0 : _b.last_page) || 1;
    const buttons = [];
    buttons.push(
      /* @__PURE__ */ jsx(
        "button",
        {
          onClick: () => {
            if (current_page > 1) handlePageChange(current_page - 1);
          },
          disabled: current_page === 1,
          className: `w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center rounded-full border border-gray-200 ${current_page === 1 ? "bg-gray-100 text-gray-400 cursor-not-allowed" : "bg-white text-gray-500 hover:bg-gray-50"}`,
          children: /* @__PURE__ */ jsx(
            "svg",
            {
              className: "w-4 h-4 sm:w-5 sm:h-5",
              fill: "none",
              stroke: "currentColor",
              viewBox: "0 0 24 24",
              xmlns: "http://www.w3.org/2000/svg",
              children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: "2", d: "M15 19l-7-7 7-7" })
            }
          )
        },
        "prev"
      )
    );
    buttons.push(
      /* @__PURE__ */ jsx(
        "button",
        {
          onClick: () => handlePageChange(1),
          className: `w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center rounded-full border border-gray-200 ${current_page === 1 ? "bg-red-500 text-white" : "bg-white text-gray-700 hover:bg-gray-50"}`,
          children: "1"
        },
        1
      )
    );
    if (current_page > 3) {
      buttons.push(
        /* @__PURE__ */ jsx(
          "span",
          {
            className: "hidden sm:flex w-8 h-8 sm:w-10 sm:h-10 items-center justify-center text-gray-500",
            children: "..."
          },
          "ellipsis1"
        )
      );
    }
    const mobileRange = window.innerWidth < 640 ? 0 : 1;
    for (let i2 = Math.max(2, current_page - mobileRange); i2 <= Math.min(last_page - 1, current_page + mobileRange); i2++) {
      if (i2 <= last_page - 1 && i2 >= 2) {
        buttons.push(
          /* @__PURE__ */ jsx(
            "button",
            {
              onClick: () => handlePageChange(i2),
              className: `w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center rounded-full border border-gray-200 ${current_page === i2 ? "bg-red-500 text-white" : "bg-white text-gray-700 hover:bg-gray-50"}`,
              children: i2
            },
            i2
          )
        );
      }
    }
    if (current_page < last_page - 2) {
      buttons.push(
        /* @__PURE__ */ jsx(
          "span",
          {
            className: "hidden sm:flex w-8 h-8 sm:w-10 sm:h-10 items-center justify-center text-gray-500",
            children: "..."
          },
          "ellipsis2"
        )
      );
    }
    if (last_page > 1) {
      buttons.push(
        /* @__PURE__ */ jsx(
          "button",
          {
            onClick: () => handlePageChange(last_page),
            className: `w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center rounded-full border border-gray-200 ${current_page === last_page ? "bg-red-500 text-white" : "bg-white text-gray-700 hover:bg-gray-50"}`,
            children: last_page
          },
          last_page
        )
      );
    }
    buttons.push(
      /* @__PURE__ */ jsx(
        "button",
        {
          onClick: () => {
            if (current_page < last_page) handlePageChange(current_page + 1);
          },
          disabled: current_page === last_page,
          className: `w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center rounded-full border border-gray-200 ${current_page === last_page ? "bg-gray-100 text-gray-400 cursor-not-allowed" : "bg-white text-gray-500 hover:bg-gray-50"}`,
          children: /* @__PURE__ */ jsx(
            "svg",
            {
              className: "w-4 h-4 sm:w-5 sm:h-5",
              fill: "none",
              stroke: "currentColor",
              viewBox: "0 0 24 24",
              xmlns: "http://www.w3.org/2000/svg",
              children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: "2", d: "M9 5l7 7-7 7" })
            }
          )
        },
        "next"
      )
    );
    return buttons;
  };
  return /* @__PURE__ */ jsxs("main", { className: "min-h-screen flex flex-col bg-gray-50", children: [
    /* @__PURE__ */ jsxs(Head, { children: [
      /* @__PURE__ */ jsx("title", { children: "Consulter les appels d’offres en ligne au Maroc" }),
      /* @__PURE__ */ jsx("meta", { name: "description", content: "Consultez tous les appels d’offres publics et privés au Maroc. Recherche par secteur, région ou organisme. Accès en ligne rapide et mises à jour quotidiennes." })
    ] }),
    /* @__PURE__ */ jsx(Header, { auth: { user: auth.user } }),
    /* @__PURE__ */ jsxs("section", { className: "flex-grow pt-16 sm:pt-20 md:pt-24 pb-12 sm:pb-16", children: [
      /* @__PURE__ */ jsx("div", { className: "w-full py-6 pt-16 sm:py-8 md:py-12", children: /* @__PURE__ */ jsxs("div", { className: "w-full max-w-[79rem] mx-auto px-4 sm:px-6", children: [
        /* @__PURE__ */ jsx("h1", { className: "text-2xl sm:text-3xl font-bold mb-4 sm:mb-6 text-[#08203f]", children: "Consulter les Appels d'offres au Maroc " }),
        /* @__PURE__ */ jsx("div", { className: "bg-white p-3 sm:p-4 rounded-xl shadow", children: /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 sm:grid-cols-12 gap-3 sm:gap-4 items-center", children: [
          /* @__PURE__ */ jsxs("div", { className: "relative sm:col-span-5", children: [
            /* @__PURE__ */ jsx(Search, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4" }),
            /* @__PURE__ */ jsx(
              Input,
              {
                type: "text",
                placeholder: "Rechercher par titre, ville ou date...",
                value: search,
                onChange: (e2) => setSearch(e2.target.value),
                className: "pl-10 pr-4 py-2 border border-gray-200 rounded-lg w-full focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all"
              }
            )
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "relative sm:col-span-3", children: [
            /* @__PURE__ */ jsx(Globe, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4" }),
            /* @__PURE__ */ jsxs(
              "select",
              {
                value: selectedSecteur,
                onChange: (e2) => setSelectedSecteur(e2.target.value),
                className: "pl-10 pr-4 py-2 border border-gray-200 rounded-lg w-full focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all appearance-none bg-white",
                children: [
                  /* @__PURE__ */ jsx("option", { value: "", children: "Tous secteurs" }),
                  /* @__PURE__ */ jsx("option", { value: "Construction", children: "Construction" }),
                  /* @__PURE__ */ jsx("option", { value: "Informatique", children: "Informatique" }),
                  /* @__PURE__ */ jsx("option", { value: "Santé", children: "Santé" }),
                  /* @__PURE__ */ jsx("option", { value: "Éducation", children: "Éducation" }),
                  /* @__PURE__ */ jsx("option", { value: "Transport", children: "Transport" }),
                  /* @__PURE__ */ jsx("option", { value: "Énergie", children: "Énergie" }),
                  /* @__PURE__ */ jsx("option", { value: "Agriculture", children: "Agriculture" }),
                  /* @__PURE__ */ jsx("option", { value: "Télécommunication", children: "Télécommunication" }),
                  /* @__PURE__ */ jsx("option", { value: "Finance", children: "Finance" }),
                  /* @__PURE__ */ jsx("option", { value: "Autre", children: "Autre" })
                ]
              }
            ),
            /* @__PURE__ */ jsx("div", { className: "absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none", children: /* @__PURE__ */ jsx("svg", { className: "h-4 w-4 text-gray-400", fill: "none", viewBox: "0 0 24 24", stroke: "currentColor", children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M19 9l-7 7-7-7" }) }) })
          ] }),
          /* @__PURE__ */ jsx("div", { className: "sm:col-span-4", children: /* @__PURE__ */ jsx(Link, { href: route("client.appel-offre.create"), className: "block", children: /* @__PURE__ */ jsxs(Button, { className: "w-full bg-red-600 hover:bg-red-700 text-white py-3 px-6 rounded-lg transition-colors flex items-center justify-center gap-2 font-medium", children: [
            /* @__PURE__ */ jsx("span", { children: "Publier un appel d'offre" }),
            /* @__PURE__ */ jsx(
              "svg",
              {
                xmlns: "http://www.w3.org/2000/svg",
                fill: "none",
                viewBox: "0 0 24 24",
                strokeWidth: "1.5",
                stroke: "currentColor",
                className: "w-5 h-5",
                children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M12 4.5v15m7.5-7.5h-15" })
              }
            )
          ] }) }) })
        ] }) })
      ] }) }),
      /* @__PURE__ */ jsxs("div", { className: "w-full max-w-[79rem] mx-auto px-4 sm:px-6 pb-8", children: [
        filteredAppelsOffres.length > 0 ? /* @__PURE__ */ jsx("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6", children: filteredAppelsOffres.map((appelOffre) => {
          const typeStyle = getTypeBadge(appelOffre.type);
          return /* @__PURE__ */ jsxs(
            "div",
            {
              className: "group bg-white rounded-xl border border-gray-300 shadow-sm hover:shadow-md transition-all duration-300 overflow-hidden",
              children: [
                /* @__PURE__ */ jsx("div", { className: "h-1.5 bg-white" }),
                /* @__PURE__ */ jsxs("div", { className: "px-4 sm:px-6 pt-4 sm:pt-5 pb-3 sm:pb-4 flex flex-wrap sm:flex-nowrap justify-between items-center gap-2 text-white", children: [
                  /* @__PURE__ */ jsxs(
                    "span",
                    {
                      className: `inline-flex items-center px-2.5 sm:px-3 py-1 text-xs font-medium rounded-full border bg-white ${typeStyle.text} ${typeStyle.border}`,
                      children: [
                        typeStyle.icon,
                        appelOffre.type
                      ]
                    }
                  ),
                  /* @__PURE__ */ jsxs("div", { className: "flex items-center text-white/80 text-xs sm:text-sm", children: [
                    /* @__PURE__ */ jsx(Calendar$2, { className: "h-3 w-3 sm:h-3.5 sm:w-3.5 mr-1 sm:mr-1.5 text-white/60" }),
                    appelOffre.date
                  ] })
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "px-4 sm:px-6 py-4 sm:py-5", children: [
                  /* @__PURE__ */ jsx("h3", { className: "text-lg sm:text-xl font-semibold text-[#1a2a4b] mb-2 sm:mb-3 transition-colors duration-200 line-clamp-2", children: appelOffre.titre }),
                  /* @__PURE__ */ jsxs("div", { className: "flex items-start space-x-2 mb-3 sm:mb-4", children: [
                    /* @__PURE__ */ jsx(Briefcase, { className: "h-4 w-4 sm:h-5 sm:w-5 text-[#1a2a4b]/50 mt-0.5 flex-shrink-0" }),
                    /* @__PURE__ */ jsxs("p", { className: "text-[#1a2a4b]/70 text-xs sm:text-sm line-clamp-2", children: [
                      "Appel d'offre dans le secteur ",
                      appelOffre.secteur.toLowerCase(),
                      ". Consultez les détails complets pour plus d'informations."
                    ] })
                  ] }),
                  /* @__PURE__ */ jsxs("div", { className: "flex flex-wrap gap-2 mt-2", children: [
                    /* @__PURE__ */ jsxs("div", { className: "flex items-center text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full", children: [
                      /* @__PURE__ */ jsx(Globe, { className: "h-3 w-3 mr-1 text-gray-400" }),
                      appelOffre.secteur
                    ] }),
                    /* @__PURE__ */ jsxs("div", { className: "flex items-center text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full", children: [
                      /* @__PURE__ */ jsx(Tag, { className: "h-3 w-3 mr-1 text-gray-400" }),
                      "ICE: ",
                      appelOffre.ICE
                    ] })
                  ] })
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "px-4 sm:px-6 py-3 sm:py-4 border-t border-gray-100 flex flex-wrap sm:flex-nowrap justify-between items-center gap-2", children: [
                  /* @__PURE__ */ jsxs("div", { className: "flex items-center text-xs sm:text-sm text-[#1a2a4b]/60", children: [
                    /* @__PURE__ */ jsx(Clock, { className: "h-3.5 w-3.5 sm:h-4 sm:w-4 mr-1 sm:mr-1.5 text-[#1a2a4b]/40" }),
                    /* @__PURE__ */ jsxs("span", { children: [
                      appelOffre.date,
                      " - ",
                      appelOffre.ville
                    ] })
                  ] }),
                  /* @__PURE__ */ jsx(
                    Link,
                    {
                      href: route("client.appel-offre.show", appelOffre.slug),
                      children: /* @__PURE__ */ jsxs(Button, { className: "bg-white border border-[#e63946] hover:bg-red-600 hover:text-white text-red-600 rounded-full flex items-center gap-1.5 transition-all duration-200 px-3 sm:px-5 py-1.5 sm:py-2 text-xs sm:text-sm font-medium shadow-sm hover:shadow group", children: [
                        /* @__PURE__ */ jsx("span", { children: "Consulter" }),
                        /* @__PURE__ */ jsx(ArrowRight, { className: "h-3 w-3 sm:h-3.5 sm:w-3.5 transition-transform duration-200 group-hover:translate-x-0.5" })
                      ] })
                    }
                  )
                ] })
              ]
            },
            appelOffre.id
          );
        }) }) : /* @__PURE__ */ jsx("div", { className: "bg-white rounded-xl border border-gray-100 shadow-sm p-6 sm:p-10 text-center mt-6 sm:mt-8 pt-32", children: /* @__PURE__ */ jsxs("div", { className: "flex flex-col items-center justify-center text-gray-500 max-w-md mx-auto", children: [
          /* @__PURE__ */ jsx("div", { className: "bg-gray-50 p-3 sm:p-4 rounded-full mb-4 sm:mb-6", children: /* @__PURE__ */ jsx(
            "svg",
            {
              xmlns: "http://www.w3.org/2000/svg",
              fill: "none",
              viewBox: "0 0 24 24",
              strokeWidth: "1.5",
              stroke: "currentColor",
              className: "w-12 h-12 sm:w-16 sm:h-16 text-red-300",
              children: /* @__PURE__ */ jsx(
                "path",
                {
                  strokeLinecap: "round",
                  strokeLinejoin: "round",
                  d: "M15.75 15.75l-2.489-2.489m0 0a3.375 3.375 0 10-4.773-4.773 3.375 3.375 0 004.774 4.774zM21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                }
              )
            }
          ) }),
          /* @__PURE__ */ jsx("h3", { className: "text-lg sm:text-xl font-semibold mb-2 sm:mb-3 text-gray-700", children: "Aucun appel d'offre trouvé" }),
          /* @__PURE__ */ jsx("p", { className: "text-gray-500 mb-4 sm:mb-6 text-xs sm:text-sm", children: "Aucun appel d'offre ne correspond à vos critères de recherche. Essayez de modifier vos filtres ou effectuez une nouvelle recherche." }),
          /* @__PURE__ */ jsx(
            Button,
            {
              onClick: () => {
                setSearch("");
                setSelectedType("");
                setSelectedSecteur("");
              },
              className: "bg-red-500 hover:bg-red-600 text-white px-4 sm:px-6 py-2 sm:py-2.5 rounded-full text-sm font-medium transition-all duration-200",
              children: "Réinitialiser les filtres"
            }
          )
        ] }) }),
        filteredAppelsOffres.length > 0 && appelsOffres.meta.last_page > 1 && /* @__PURE__ */ jsx("div", { className: "mt-6 sm:mt-8 md:mt-10 flex justify-center", children: /* @__PURE__ */ jsx("nav", { className: "flex items-center gap-1", children: renderPaginationButtons() }) })
      ] })
    ] }),
    /* @__PURE__ */ jsx(Footer$1, {})
  ] });
}
const __vite_glob_0_48 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: AppelsOffresPage
}, Symbol.toStringTag, { value: "Module" }));
function AppelOffrePage({
  auth,
  appelOffre
}) {
  const [showToast, setShowToast] = useState(false);
  const [toastMessage, setToastMessage] = useState("");
  const [toastType, setToastType] = useState("success");
  const { data, setData, post, processing, errors } = useForm({
    titre: (appelOffre == null ? void 0 : appelOffre.titre) || "",
    ICE: (appelOffre == null ? void 0 : appelOffre.ICE) || "",
    type: (appelOffre == null ? void 0 : appelOffre.type) || "",
    custom_type: (appelOffre == null ? void 0 : appelOffre.custom_type) || "",
    objet: (appelOffre == null ? void 0 : appelOffre.objet) || "",
    ville: (appelOffre == null ? void 0 : appelOffre.ville) || "",
    secteur: (appelOffre == null ? void 0 : appelOffre.secteur) || "",
    pdf: null,
    // File cannot be prefilled
    date: (appelOffre == null ? void 0 : appelOffre.date) || "",
    user_id: auth.user.id,
    is_anonyme: (appelOffre == null ? void 0 : appelOffre.is_anonyme) || false
  });
  const [isAccepted, setIsAccepted] = useState(false);
  const [user, setUser] = useState({
    nom: auth.user.name,
    email: auth.user.email,
    ville: "Casablanca",
    solde: 250
  });
  const [isAnonymous, setIsAnonymous] = useState(false);
  const prixBase = 300;
  const tvaRate = 0.2;
  const tva = prixBase * tvaRate;
  const total = prixBase + tva;
  useEffect(() => {
    const savedDraft = localStorage.getItem("appelOffreDraft");
    if (savedDraft) {
      const draft = JSON.parse(savedDraft);
      setData((prev) => ({ ...prev, ...draft }));
    }
  }, [setData]);
  const saveDraft = () => {
    router.post(
      route("client.appel-offre.store.draft"),
      data,
      {
        onSuccess: () => {
          setToastMessage("Brouillon sauvegardé avec succès !");
          setToastType("success");
          setShowToast(true);
        },
        onError: (errors2) => {
          setToastMessage("Erreur lors de la sauvegarde du brouillon.");
          setToastType("error");
          setShowToast(true);
          console.error("Erreur lors de la sauvegarde du brouillon:", errors2);
        },
        preserveScroll: true,
        forceFormData: true
        // ensure file upload works
      }
    );
  };
  const handleSubmit = (e2) => {
    e2.preventDefault();
    if (!isAccepted) return;
    post(route("client.appel-offre.store"), {
      onSuccess: () => {
        localStorage.setItem("pendingAppelOffre", JSON.stringify(data));
      },
      onError: (errors2) => {
        console.error("Error during submission:", errors2);
      }
    });
  };
  const [cities, setCities] = useState([]);
  const [sectors, setSectors] = useState([
    "Construction",
    "Informatique",
    "Santé",
    "Éducation",
    "Transport",
    "Énergie",
    "Agriculture",
    "Télécommunication",
    "Finance",
    "Autre"
  ]);
  useEffect(() => {
    if (sectors.length > 0 && !data.secteur) {
      setData("secteur", sectors[0]);
    }
  }, [sectors]);
  const handleFileChange = (e2) => {
    var _a2;
    const file = ((_a2 = e2.target.files) == null ? void 0 : _a2[0]) || null;
    setData("pdf", file);
  };
  useEffect(() => {
    axios.get("/api/cities").then((response) => {
      setCities(response.data);
    }).catch((error) => {
      console.error("Erreur lors de la récupération des villes:", error);
    });
  }, []);
  useEffect(() => {
    if (Array.isArray(sectors) && sectors.length > 0) {
      setSectors(sectors);
      if (!data.secteur) {
        setData("secteur", sectors[0]);
      }
    }
  }, [sectors]);
  const typeOptions = [
    "Avis d'appel d'offre",
    "Programme prévisionnel",
    "Avis rectificatif",
    "Communiqué de presse",
    "Communication Financière",
    "Autres"
  ];
  const [villeSearch, setVilleSearch] = useState("");
  const [showVilleDropdown, setShowVilleDropdown] = useState(false);
  const filteredCities = cities.filter((city) => city.toLowerCase().includes(villeSearch.toLowerCase()));
  const handleDateChange = (e2) => {
    const selectedDate = new Date(e2.target.value);
    const day = selectedDate.getDay();
    if (day === 0 || day === 6) {
      setToastMessage("Veuillez sélectionner un jour de semaine (lundi à vendredi).");
      setToastType("error");
      setShowToast(true);
      return;
    }
    setData("date", e2.target.value);
  };
  return /* @__PURE__ */ jsxs("main", { className: "min-h-screen flex flex-col bg-gray-50", children: [
    /* @__PURE__ */ jsxs(Head, { children: [
      /* @__PURE__ */ jsx("title", { children: "Publier une annonce d'appel d'offres au Maroc" }),
      /* @__PURE__ */ jsx(
        "meta",
        {
          name: "description",
          content: "Diffusez votre appel d'offres en ligne rapidement et en toute conformité. Plateforme dédiée aux marchés publics, prestations de services et travaux au Maroc."
        }
      ),
      /* @__PURE__ */ jsx("meta", { name: "robots", content: "noindex, nofollow" }),
      /* @__PURE__ */ jsx("link", { rel: "canonical", href: "http://annonce.wepresseco.com/appel-offre/publier" })
    ] }),
    /* @__PURE__ */ jsx(SimpleToast, { message: toastMessage, type: toastType, isVisible: showToast, onClose: () => setShowToast(false) }),
    /* @__PURE__ */ jsx(Header, { auth: { user: auth.user } }),
    /* @__PURE__ */ jsx("div", { className: "w-full pt-32 to-white py-4", children: /* @__PURE__ */ jsx("div", { className: "w-full max-w-[76rem] mx-auto px-4", children: /* @__PURE__ */ jsxs("div", { className: "flex flex-col sm:flex-row sm:justify-between sm:items-center", children: [
      /* @__PURE__ */ jsx("div", { className: "flex items-center mb-4 sm:mb-0", children: /* @__PURE__ */ jsx("h1", { className: "text-2xl sm:text-3xl font-bold text-[#0F172A]", children: "Publier un appel d'offre" }) }),
      /* @__PURE__ */ jsxs(
        Link,
        {
          href: route("client.appel-offre.mes-appels-offres"),
          className: "flex items-center gap-2 px-4 sm:px-5 py-2 sm:py-2.5 bg-white border border-gray-200 rounded-lg shadow-sm text-sm sm:text-base font-medium text-[#1a2a4b] hover:bg-gray-100 w-fit",
          children: [
            /* @__PURE__ */ jsx("div", { className: "bg-[#e63946]/10 p-1.5 rounded-md", children: /* @__PURE__ */ jsx(Briefcase, { className: " h-4 w-4 sm:h-5 sm:w-5 text-[#e63946]" }) }),
            /* @__PURE__ */ jsx("span", { children: "Mes appels d'offres" }),
            /* @__PURE__ */ jsx("div", { className: "hidden sm:flex items-center justify-center w-5 h-5 bg-[#1a2a4b] rounded-full text-white text-xs ml-1", children: /* @__PURE__ */ jsx(ChevronRight, { className: "h-3 w-3" }) })
          ]
        }
      )
    ] }) }) }),
    /* @__PURE__ */ jsx("section", { className: "container mx-auto px-4 py-6 sm:py-8 md:py-10 flex-grow", children: /* @__PURE__ */ jsxs("div", { className: "w-full max-w-[76rem] mx-auto", children: [
      /* @__PURE__ */ jsx("div", { className: "mb-6 sm:mb-8 md:mb-10", children: /* @__PURE__ */ jsx("p", { className: "text-gray-600 max-w-2xl text-sm sm:text-base", children: "Remplissez le formulaire ci-dessous pour publier votre appel d'offre. Notre équipe le vérifiera avant publication." }) }),
      /* @__PURE__ */ jsx("div", { className: "mb-6 sm:mb-8 md:mb-10", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between max-w-xs sm:max-w-md mx-auto", children: [
        /* @__PURE__ */ jsxs("div", { className: "flex flex-col items-center", children: [
          /* @__PURE__ */ jsx("div", { className: "w-8 h-8 sm:w-10 sm:h-10 rounded-full flex items-center justify-center mb-1 sm:mb-2 bg-[#e63946] text-white", children: /* @__PURE__ */ jsx(FileText, { className: "h-4 w-4 sm:h-5 sm:w-5" }) }),
          /* @__PURE__ */ jsx("span", { className: "text-xs sm:text-sm font-medium text-[#0F172A]", children: "Détails" })
        ] }),
        /* @__PURE__ */ jsx("div", { className: "w-24 sm:w-32 h-0.5 bg-[#0F172A]/20" }),
        /* @__PURE__ */ jsxs("div", { className: "flex flex-col items-center", children: [
          /* @__PURE__ */ jsx("div", { className: "w-8 h-8 sm:w-10 sm:h-10 rounded-full flex items-center justify-center mb-1 sm:mb-2 bg-[#e63946] text-white", children: /* @__PURE__ */ jsx(Eye, { className: "h-4 w-4 sm:h-5 sm:w-5" }) }),
          /* @__PURE__ */ jsx("span", { className: "text-xs sm:text-sm font-medium text-[#0F172A]", children: "Aperçu" })
        ] })
      ] }) }),
      /* @__PURE__ */ jsx("form", { onSubmit: handleSubmit, encType: "multipart/form-data", children: /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6 md:gap-8", children: [
        /* @__PURE__ */ jsx("div", { className: "lg:col-span-2 space-y-4 sm:space-y-6", children: /* @__PURE__ */ jsxs("div", { className: "bg-white p-4 sm:p-6 md:p-8 rounded-xl shadow-lg border border-[#0F172A]/10", children: [
          /* @__PURE__ */ jsx("div", { className: "flex items-center justify-between mb-4 sm:mb-6 md:mb-8", children: /* @__PURE__ */ jsxs("h2", { className: "text-lg sm:text-xl font-bold text-[#0F172A] flex items-center", children: [
            /* @__PURE__ */ jsx(Briefcase, { className: "mr-2 sm:mr-3 h-4 w-4 sm:h-5 sm:w-5 text-[#e63946]" }),
            "Informations de l'appel d'offre"
          ] }) }),
          /* @__PURE__ */ jsxs("div", { className: "space-y-4 sm:space-y-6", children: [
            /* @__PURE__ */ jsxs("div", { className: "group", children: [
              /* @__PURE__ */ jsx("label", { className: "block text-[#0F172A] font-medium mb-1 sm:mb-2 text-sm sm:text-base", children: "Titre de l'appel d'offre" }),
              /* @__PURE__ */ jsx("div", { className: "relative", children: /* @__PURE__ */ jsx(
                Input,
                {
                  type: "text",
                  placeholder: "Entrez le titre",
                  value: data.titre,
                  onChange: (e2) => setData("titre", e2.target.value),
                  className: "w-full p-2 sm:p-3 border border-[#0F172A]/20 rounded-lg focus:ring-2 focus:ring-[#e63946] focus:border-transparent shadow-sm text-sm sm:text-base"
                }
              ) }),
              errors.titre && /* @__PURE__ */ jsxs("p", { className: "text-[#e63946] text-xs sm:text-sm mt-1 sm:mt-2 flex items-center", children: [
                /* @__PURE__ */ jsx(AlertCircle, { className: "h-3 w-3 sm:h-4 sm:w-4 mr-1" }),
                errors.titre
              ] })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6", children: [
              /* @__PURE__ */ jsxs("div", { className: "group", children: [
                /* @__PURE__ */ jsxs("label", { className: "block text-[#0F172A] font-medium mb-1 sm:mb-2 flex items-center text-sm sm:text-base", children: [
                  /* @__PURE__ */ jsx(Tag, { className: "mr-1 sm:mr-2 h-3 w-3 sm:h-4 sm:w-4 text-[#0F172A]/70" }),
                  "ICE"
                ] }),
                /* @__PURE__ */ jsx("div", { className: "relative", children: /* @__PURE__ */ jsx(
                  Input,
                  {
                    type: "text",
                    placeholder: "Entrez le numéro ICE",
                    value: data.ICE,
                    onChange: (e2) => setData("ICE", e2.target.value),
                    className: "w-full p-2 sm:p-3 border border-[#0F172A]/20 rounded-lg focus:ring-2 focus:ring-[#e63946] focus:border-transparent shadow-sm text-sm sm:text-base"
                  }
                ) }),
                errors.ICE && /* @__PURE__ */ jsx("p", { className: "text-[#e63946] text-xs sm:text-sm mt-1", children: errors.ICE })
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "group", children: [
                /* @__PURE__ */ jsx("label", { className: "block text-[#0F172A] font-medium mb-1 sm:mb-2 text-sm sm:text-base", children: "Type d'appel d'offre" }),
                /* @__PURE__ */ jsxs("div", { className: "relative", children: [
                  /* @__PURE__ */ jsxs(
                    "select",
                    {
                      value: data.type,
                      onChange: (e2) => setData("type", e2.target.value),
                      className: "w-full p-2 sm:p-3 border border-[#0F172A]/20 rounded-lg bg-white focus:ring-2 focus:ring-[#e63946] focus:border-transparent shadow-sm appearance-none text-sm sm:text-base",
                      children: [
                        /* @__PURE__ */ jsx("option", { value: "", children: "Sélectionner un type" }),
                        typeOptions.map((option, index2) => /* @__PURE__ */ jsx("option", { value: option, children: option }, index2))
                      ]
                    }
                  ),
                  /* @__PURE__ */ jsx("div", { className: "absolute inset-y-0 right-0 flex items-center pr-2 sm:pr-3 pointer-events-none" })
                ] }),
                errors.type && /* @__PURE__ */ jsx("p", { className: "text-[#e63946] text-xs sm:text-sm mt-1", children: errors.type })
              ] })
            ] }),
            data.type === "Autres" && /* @__PURE__ */ jsxs("div", { className: "group", children: [
              /* @__PURE__ */ jsx("label", { className: "block text-[#0F172A] font-medium mb-1 sm:mb-2 text-sm sm:text-base", children: "Précisez le type" }),
              /* @__PURE__ */ jsx("div", { className: "relative", children: /* @__PURE__ */ jsx(
                Input,
                {
                  type: "text",
                  placeholder: "Entrez le type personnalisé",
                  value: data.custom_type,
                  onChange: (e2) => setData("custom_type", e2.target.value),
                  className: "w-full p-2 sm:p-3 border border-[#0F172A]/20 rounded-lg focus:ring-2 focus:ring-[#e63946] focus:border-transparent shadow-sm text-sm sm:text-base"
                }
              ) }),
              errors.custom_type && /* @__PURE__ */ jsx("p", { className: "text-[#e63946] text-xs sm:text-sm mt-1", children: errors.custom_type })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6", children: [
              /* @__PURE__ */ jsxs("div", { className: "group", children: [
                /* @__PURE__ */ jsxs("label", { className: "block text-[#0F172A] font-medium mb-1 sm:mb-2 flex items-center text-sm sm:text-base", children: [
                  /* @__PURE__ */ jsx(Calendar$2, { className: "mr-1 sm:mr-2 h-3 w-3 sm:h-4 sm:w-4 text-[#0F172A]/70" }),
                  "Date limite"
                ] }),
                /* @__PURE__ */ jsx("div", { className: "relative", children: /* @__PURE__ */ jsx(
                  Input,
                  {
                    type: "date",
                    value: data.date,
                    onChange: handleDateChange,
                    min: new Date(Date.now() + 864e5).toISOString().split("T")[0],
                    className: "w-full p-2 sm:p-3 border border-[#0F172A]/20 rounded-lg focus:ring-2 focus:ring-[#e63946] focus:border-transparent shadow-sm text-sm sm:text-base"
                  }
                ) }),
                errors.date && /* @__PURE__ */ jsx("p", { className: "text-[#e63946] text-xs sm:text-sm mt-1", children: errors.date })
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "group", children: [
                /* @__PURE__ */ jsxs("label", { className: "block text-[#0F172A] font-medium mb-1 sm:mb-2 flex items-center text-sm sm:text-base", children: [
                  /* @__PURE__ */ jsx(MapPin, { className: "mr-1 sm:mr-2 h-4 w-4 sm:h-5 sm:w-5 text-[#0F172A]/70" }),
                  "Ville"
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "relative", children: [
                  /* @__PURE__ */ jsx(
                    "input",
                    {
                      type: "text",
                      placeholder: "Rechercher une ville",
                      className: "w-full p-2 sm:p-3 border border-[#0F172A]/20 rounded-lg focus:ring-2 focus:ring-[#e63946] focus:border-transparent shadow-sm text-sm sm:text-base",
                      value: villeSearch || data.ville,
                      onFocus: () => setShowVilleDropdown(true),
                      onChange: (e2) => {
                        setVilleSearch(e2.target.value);
                        setData("ville", "");
                      }
                    }
                  ),
                  showVilleDropdown && filteredCities.length > 0 && /* @__PURE__ */ jsx("ul", { className: "absolute z-10 mt-1 w-full bg-white border border-gray-200 rounded-md max-h-48 overflow-auto shadow-lg", children: filteredCities.map((city, index2) => /* @__PURE__ */ jsx(
                    "li",
                    {
                      onClick: () => {
                        setData("ville", city);
                        setVilleSearch("");
                        setShowVilleDropdown(false);
                      },
                      className: "px-4 py-2 text-sm cursor-pointer hover:bg-gray-100",
                      children: city
                    },
                    index2
                  )) })
                ] }),
                errors.ville && /* @__PURE__ */ jsx("p", { className: "text-[#e63946] text-xs sm:text-sm mt-1", children: errors.ville })
              ] })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "group", children: [
              /* @__PURE__ */ jsxs("label", { className: "block text-[#0F172A] font-medium mb-1 sm:mb-2 flex items-center text-sm sm:text-base", children: [
                /* @__PURE__ */ jsx(Globe, { className: "mr-1 sm:mr-2 h-3 w-3 sm:h-4 sm:w-4 text-[#0F172A]/70" }),
                "Secteur d'activité"
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "relative", children: [
                /* @__PURE__ */ jsxs(
                  "select",
                  {
                    value: data.secteur || (sectors.length > 0 ? sectors[0] : ""),
                    onChange: (e2) => setData("secteur", e2.target.value),
                    className: "w-full p-2 sm:p-3 border border-[#0F172A]/20 rounded-lg bg-white focus:ring-2 focus:ring-[#e63946] focus:border-transparent shadow-sm appearance-none text-sm sm:text-base",
                    children: [
                      /* @__PURE__ */ jsx("option", { value: "", children: "Selectionnez un secteur" }),
                      sectors.length > 0 ? sectors.map((sector, index2) => /* @__PURE__ */ jsx("option", { value: sector, children: sector }, index2)) : /* @__PURE__ */ jsx("option", { value: "", children: "Aucun secteur disponible" })
                    ]
                  }
                ),
                /* @__PURE__ */ jsx("div", { className: "absolute inset-y-0 right-0 flex items-center pr-2 sm:pr-3 pointer-events-none" })
              ] }),
              errors.secteur && /* @__PURE__ */ jsx("p", { className: "text-[#e63946] text-xs sm:text-sm mt-1", children: errors.secteur })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "group", children: [
              /* @__PURE__ */ jsx("label", { className: "block text-[#0F172A] font-medium mb-1 sm:mb-2 flex items-center text-sm sm:text-base", children: "Objet de l'appel d'offre" }),
              /* @__PURE__ */ jsx("div", { className: "relative", children: /* @__PURE__ */ jsx(
                "textarea",
                {
                  placeholder: "Détails de l'appel d'offre...",
                  value: data.objet,
                  onChange: (e2) => setData("objet", e2.target.value),
                  className: "w-full p-3 sm:p-4 border border-[#0F172A]/20 rounded-lg h-32 sm:h-40 focus:ring-2 focus:ring-[#e63946] focus:border-transparent shadow-sm resize-none text-sm sm:text-base"
                }
              ) }),
              errors.objet && /* @__PURE__ */ jsx("p", { className: "text-[#e63946] text-xs sm:text-sm mt-1", children: errors.objet })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "group", children: [
              /* @__PURE__ */ jsxs("label", { className: "block text-[#0F172A] font-medium mb-1 sm:mb-2 flex items-center text-sm sm:text-base", children: [
                /* @__PURE__ */ jsx(Upload, { className: "mr-1 sm:mr-2 h-3 w-3 sm:h-4 sm:w-4 text-[#0F172A]/70" }),
                "Document PDF (optionnel)"
              ] }),
              /* @__PURE__ */ jsx("div", { className: "mt-1 flex justify-center px-4 sm:px-6 pt-4 sm:pt-5 pb-4 sm:pb-6 border-2 border-[#0F172A]/10 border-dashed rounded-lg", children: /* @__PURE__ */ jsxs("div", { className: "space-y-1 text-center", children: [
                /* @__PURE__ */ jsx(
                  "svg",
                  {
                    className: "mx-auto h-8 w-8 sm:h-12 sm:w-12 text-[#0F172A]/30",
                    stroke: "currentColor",
                    fill: "none",
                    viewBox: "0 0 48 48",
                    "aria-hidden": "true",
                    children: /* @__PURE__ */ jsx(
                      "path",
                      {
                        d: "M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",
                        strokeWidth: 2,
                        strokeLinecap: "round",
                        strokeLinejoin: "round"
                      }
                    )
                  }
                ),
                /* @__PURE__ */ jsxs("div", { className: "flex text-xs sm:text-sm text-[#0F172A]/70 justify-center", children: [
                  /* @__PURE__ */ jsxs(
                    "label",
                    {
                      htmlFor: "file-upload",
                      className: "relative cursor-pointer bg-white rounded-md font-medium text-[#e63946]",
                      children: [
                        /* @__PURE__ */ jsx("span", { children: "Télécharger un fichier" }),
                        /* @__PURE__ */ jsx(
                          "input",
                          {
                            id: "file-upload",
                            name: "file-upload",
                            type: "file",
                            className: "sr-only",
                            onChange: handleFileChange,
                            accept: ".pdf"
                          }
                        )
                      ]
                    }
                  ),
                  /* @__PURE__ */ jsx("p", { className: "pl-1", children: "ou glisser-déposer" })
                ] }),
                /* @__PURE__ */ jsx("p", { className: "text-xs text-[#0F172A]/50", children: "PDF jusqu'à 10MB" })
              ] }) }),
              data.pdf && /* @__PURE__ */ jsxs("div", { className: "mt-2 sm:mt-3 flex items-center text-xs sm:text-sm text-[#0F172A] bg-[#0F172A]/5 p-2 rounded-lg", children: [
                /* @__PURE__ */ jsx(FileText, { className: "h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2 text-[#0F172A]" }),
                /* @__PURE__ */ jsxs("span", { children: [
                  "Fichier sélectionné: ",
                  /* @__PURE__ */ jsx("span", { className: "font-medium", children: data.pdf.name })
                ] })
              ] }),
              errors.pdf && /* @__PURE__ */ jsx("p", { className: "text-[#e63946] text-xs sm:text-sm mt-1", children: errors.pdf })
            ] })
          ] })
        ] }) }),
        /* @__PURE__ */ jsx("div", { className: "lg:col-span-1", children: /* @__PURE__ */ jsxs("div", { className: "bg-white p-4 sm:p-6 rounded-xl shadow-lg border border-[#0F172A]/10 sticky top-24", children: [
          /* @__PURE__ */ jsx("div", { className: "flex items-center justify-between mb-4 sm:mb-6", children: /* @__PURE__ */ jsxs("h2", { className: "text-lg sm:text-xl font-bold text-[#0F172A] flex items-center", children: [
            /* @__PURE__ */ jsx(Eye, { className: "mr-1 sm:mr-2 h-4 w-4 sm:h-5 sm:w-5 text-[#e63946]" }),
            "Aperçu"
          ] }) }),
          /* @__PURE__ */ jsx("div", { className: "bg-[#0F172A]/5 p-3 sm:p-5 rounded-lg mb-4 sm:mb-6", children: /* @__PURE__ */ jsxs("div", { className: "space-y-3 sm:space-y-4", children: [
            /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
              /* @__PURE__ */ jsx("span", { className: "text-xs sm:text-sm font-medium text-[#0F172A]/70", children: "Date limite:" }),
              /* @__PURE__ */ jsx("span", { className: "text-xs sm:text-sm font-medium text-[#0F172A] break-words", children: data.date || "Non spécifiée" })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
              /* @__PURE__ */ jsx("span", { className: "text-xs sm:text-sm font-medium text-[#0F172A]/70", children: "Ville:" }),
              /* @__PURE__ */ jsx("span", { className: "text-xs sm:text-sm font-medium text-[#0F172A] break-words", children: data.ville || "Non spécifiée" })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
              /* @__PURE__ */ jsx("span", { className: "text-xs sm:text-sm font-medium text-[#0F172A]/70", children: "Type:" }),
              /* @__PURE__ */ jsx("span", { className: "text-xs sm:text-sm font-medium px-1.5 sm:px-2 py-0.5 sm:py-1 rounded-full break-words bg-[#0F172A]/10 text-[#0F172A]", children: data.type === "Autres" && data.custom_type ? data.custom_type : data.type || "Non spécifié" })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
              /* @__PURE__ */ jsx("span", { className: "text-xs sm:text-sm font-medium text-[#0F172A]/70", children: "Secteur:" }),
              /* @__PURE__ */ jsx("span", { className: "text-xs sm:text-sm font-medium text-[#0F172A] break-words", children: data.secteur || "Non spécifié" })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "pt-2 sm:pt-3 border-t border-[#0F172A]/10", children: [
              /* @__PURE__ */ jsx("h3", { className: "text-base sm:text-lg font-bold text-[#0F172A] break-words", children: data.titre || "Titre de l'appel d'offre" }),
              /* @__PURE__ */ jsxs("p", { className: "text-xs sm:text-sm text-[#0F172A]/80 mt-1", children: [
                /* @__PURE__ */ jsx("span", { className: "font-medium", children: "ICE:" }),
                " ",
                /* @__PURE__ */ jsx("span", { className: "break-words", children: data.ICE || "Non spécifié" })
              ] }),
              /* @__PURE__ */ jsx("p", { className: "text-xs sm:text-sm text-[#0F172A]/80 mt-1 whitespace-pre-wrap break-words", children: data.objet || "Aucun objet n'a été saisi." })
            ] })
          ] }) }),
          /* @__PURE__ */ jsxs("div", { className: "mb-3 sm:mb-4", children: [
            /* @__PURE__ */ jsx("h3", { className: "text-sm sm:text-md font-bold text-[#0F172A] mb-1 sm:mb-2", children: "Prix" }),
            /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between text-xs sm:text-sm", children: [
              /* @__PURE__ */ jsx("span", { children: "Prix de base:" }),
              /* @__PURE__ */ jsxs("span", { children: [
                prixBase,
                " DH"
              ] })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between text-xs sm:text-sm", children: [
              /* @__PURE__ */ jsx("span", { children: "TVA (20%):" }),
              /* @__PURE__ */ jsxs("span", { children: [
                tva,
                " DH"
              ] })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between font-bold text-xs sm:text-sm", children: [
              /* @__PURE__ */ jsx("span", { children: "Total:" }),
              /* @__PURE__ */ jsxs("span", { children: [
                total,
                " DH"
              ] })
            ] })
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "mt-4 sm:mt-6 pt-3 sm:pt-4 border-t border-[#0F172A]/10", children: [
            /* @__PURE__ */ jsxs("label", { className: "flex items-center space-x-2 sm:space-x-3 cursor-pointer group mb-3 sm:mb-4", children: [
              /* @__PURE__ */ jsxs("div", { className: "relative", children: [
                /* @__PURE__ */ jsx(
                  "input",
                  {
                    type: "checkbox",
                    checked: isAnonymous,
                    onChange: (e2) => {
                      setIsAnonymous(e2.target.checked);
                      setData("is_anonyme", e2.target.checked);
                    },
                    className: "sr-only"
                  }
                ),
                /* @__PURE__ */ jsx(
                  "div",
                  {
                    className: `w-4 h-4 sm:w-5 sm:h-5 border-2 rounded ${isAnonymous ? "bg-[#e63946] border-[#e63946]" : "border-[#0F172A]/30"}`
                  }
                ),
                isAnonymous && /* @__PURE__ */ jsx(CheckCircle, { className: "absolute inset-0 w-4 h-4 sm:w-5 sm:h-5 text-white" })
              ] }),
              /* @__PURE__ */ jsx("span", { className: "text-xs sm:text-sm text-[#0F172A]", children: "Publier comme anonyme" })
            ] }),
            /* @__PURE__ */ jsxs("label", { className: "flex items-center space-x-2 sm:space-x-3 cursor-pointer mb-4 sm:mb-6 group", children: [
              /* @__PURE__ */ jsxs("div", { className: "relative", children: [
                /* @__PURE__ */ jsx(
                  "input",
                  {
                    type: "checkbox",
                    id: "acceptTerms",
                    className: "sr-only",
                    checked: isAccepted,
                    onChange: () => setIsAccepted(!isAccepted)
                  }
                ),
                /* @__PURE__ */ jsx(
                  "div",
                  {
                    className: `w-4 h-4 sm:w-5 sm:h-5 border-2 rounded ${isAccepted ? "bg-[#e63946] border-[#e63946]" : "border-[#0F172A]/30"}`
                  }
                ),
                isAccepted && /* @__PURE__ */ jsx(CheckCircle, { className: "absolute inset-0 w-4 h-4 sm:w-5 sm:h-5 text-white" })
              ] }),
              /* @__PURE__ */ jsx("span", { className: "text-xs sm:text-sm text-[#0F172A] font-medium", children: "J'accepte les termes et conditions" })
            ] }),
            /* @__PURE__ */ jsx(
              "button",
              {
                type: "submit",
                className: `w-full bg-[#e63946] text-white py-2 sm:py-3 px-4 sm:px-6 rounded-lg text-sm sm:text-base ${processing ? "cursor-wait opacity-70" : ""}`,
                disabled: processing || !isAccepted,
                children: /* @__PURE__ */ jsxs("span", { className: "flex items-center justify-center", children: [
                  processing ? "Envoi en cours..." : "Soumettre l'appel d'offre",
                  /* @__PURE__ */ jsx(Send, { className: "ml-1 sm:ml-2 h-4 w-4 sm:h-5 sm:w-5" })
                ] })
              }
            ),
            /* @__PURE__ */ jsx("div", { className: "h-3" }),
            " ",
            /* @__PURE__ */ jsxs(
              "button",
              {
                type: "button",
                onClick: saveDraft,
                className: "w-full pt-4 bg-gray-500 hover:bg-gray-200 hover:text-black text-white py-2 sm:py-3 px-4 sm:px-6 rounded-lg text-sm sm:text-base flex items-center justify-center gap-2 border border-gray-200 shadow-sm mb-3 transition-colors",
                disabled: processing,
                children: [
                  /* @__PURE__ */ jsx(Save, { className: "h-4 w-4" }),
                  /* @__PURE__ */ jsx("span", { children: "Enregistrer comme brouillon" })
                ]
              }
            )
          ] })
        ] }) })
      ] }) })
    ] }) }),
    /* @__PURE__ */ jsx(Footer$1, {})
  ] });
}
const __vite_glob_0_49 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: AppelOffrePage
}, Symbol.toStringTag, { value: "Module" }));
function SuccessPopup({
  isOpen,
  onClose,
  title = "Modifications enregistrées",
  message = "Votre appel d'offre a été mis à jour avec succès.",
  redirectUrl = "/mes-appels-offres",
  redirectLabel = "Voir mes appels d'offres",
  data
}) {
  const [animationClass, setAnimationClass] = useState("opacity-0 translate-y-4");
  const [showDetails, setShowDetails] = useState(false);
  console.log("SuccessPopup rendered with isOpen:", isOpen);
  useEffect(() => {
    console.log("SuccessPopup useEffect triggered with isOpen:", isOpen);
    if (isOpen) {
      document.body.style.overflow = "hidden";
      setTimeout(() => {
        setAnimationClass("opacity-100 translate-y-0");
      }, 10);
    } else {
      setAnimationClass("opacity-0 translate-y-4");
      document.body.style.overflow = "auto";
      setShowDetails(false);
    }
  }, [isOpen]);
  if (!isOpen) return null;
  const formattedDate = (data == null ? void 0 : data.date) ? new Date(data.date).toLocaleDateString("fr-FR", {
    year: "numeric",
    month: "long",
    day: "numeric"
  }) : null;
  return /* @__PURE__ */ jsxs("div", { className: "fixed inset-0 z-[100] flex items-center justify-center p-4", children: [
    /* @__PURE__ */ jsx(
      "div",
      {
        className: "fixed inset-0 bg-black/50 backdrop-blur-sm transition-opacity duration-300",
        onClick: onClose
      }
    ),
    /* @__PURE__ */ jsxs(
      "div",
      {
        className: `relative z-[101] bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden transform transition-all duration-300 ${animationClass}`,
        children: [
          /* @__PURE__ */ jsx("div", { className: "relative overflow-hidden", children: /* @__PURE__ */ jsxs("div", { className: "bg-white p-8 border-b border-gray-100", children: [
            /* @__PURE__ */ jsx("div", { className: "absolute top-2 right-2", children: /* @__PURE__ */ jsx("button", { onClick: onClose, className: "text-gray-600 hover:bg-gray-100 rounded-full p-1 transition-colors", children: /* @__PURE__ */ jsx(X, { className: "h-5 w-5" }) }) }),
            /* @__PURE__ */ jsx("div", { className: "flex justify-center", children: /* @__PURE__ */ jsx("div", { className: "bg-green-50 rounded-full p-4 shadow-lg", children: /* @__PURE__ */ jsx(CheckCircle, { className: "h-14 w-14 text-[#22c55e]" }) }) })
          ] }) }),
          /* @__PURE__ */ jsxs("div", { className: "p-6 pt-4", children: [
            /* @__PURE__ */ jsx("h3", { className: "text-xl font-bold text-center text-[#0F172A] mb-2", children: title }),
            /* @__PURE__ */ jsx("p", { className: "text-center text-[#1a2a4b]/80 mb-6", children: message }),
            data && /* @__PURE__ */ jsx("div", { className: `overflow-hidden transition-all duration-300 ${showDetails ? "max-h-60" : "max-h-0"}`, children: /* @__PURE__ */ jsxs("div", { className: "bg-gray-50 rounded-xl p-4 mb-6 border border-gray-100", children: [
              /* @__PURE__ */ jsx("h4", { className: "font-semibold text-[#0F172A] mb-3", children: "Détails de l'appel d'offre" }),
              data.title && /* @__PURE__ */ jsxs("div", { className: "flex items-start mb-2", children: [
                /* @__PURE__ */ jsx("div", { className: "bg-[#22c55e]/10 p-1.5 rounded-md mr-3", children: /* @__PURE__ */ jsx(FileText, { className: "h-4 w-4 text-[#22c55e]" }) }),
                /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsx("p", { className: "text-xs text-[#1a2a4b]/70", children: "Titre" }),
                  /* @__PURE__ */ jsx("p", { className: "text-sm font-medium text-[#1a2a4b]", children: data.title })
                ] })
              ] }),
              data.nameSociete && /* @__PURE__ */ jsxs("div", { className: "flex items-start mb-2", children: [
                /* @__PURE__ */ jsx("div", { className: "bg-[#22c55e]/10 p-1.5 rounded-md mr-3", children: /* @__PURE__ */ jsx(Building2, { className: "h-4 w-4 text-[#22c55e]" }) }),
                /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsx("p", { className: "text-xs text-[#1a2a4b]/70", children: "Société" }),
                  /* @__PURE__ */ jsx("p", { className: "text-sm font-medium text-[#1a2a4b]", children: data.nameSociete })
                ] })
              ] }),
              formattedDate && /* @__PURE__ */ jsxs("div", { className: "flex items-start mb-2", children: [
                /* @__PURE__ */ jsx("div", { className: "bg-[#22c55e]/10 p-1.5 rounded-md mr-3", children: /* @__PURE__ */ jsx(Calendar$2, { className: "h-4 w-4 text-[#22c55e]" }) }),
                /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsx("p", { className: "text-xs text-[#1a2a4b]/70", children: "Date limite" }),
                  /* @__PURE__ */ jsx("p", { className: "text-sm font-medium text-[#1a2a4b]", children: formattedDate })
                ] })
              ] }),
              data.category && /* @__PURE__ */ jsxs("div", { className: "flex items-start", children: [
                /* @__PURE__ */ jsx("div", { className: "bg-[#22c55e]/10 p-1.5 rounded-md mr-3", children: /* @__PURE__ */ jsx(Tag, { className: "h-4 w-4 text-[#22c55e]" }) }),
                /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsx("p", { className: "text-xs text-[#1a2a4b]/70", children: "Catégorie" }),
                  /* @__PURE__ */ jsx("p", { className: "text-sm font-medium text-[#1a2a4b]", children: data.category })
                ] })
              ] })
            ] }) }),
            data && /* @__PURE__ */ jsxs(
              "button",
              {
                onClick: () => setShowDetails(!showDetails),
                className: "w-full text-center text-sm text-[#1a2a4b]/70 hover:text-[#1a2a4b] mb-6 flex items-center justify-center",
                children: [
                  showDetails ? "Masquer les détails" : "Afficher les détails",
                  /* @__PURE__ */ jsx(
                    "svg",
                    {
                      className: `ml-1 h-4 w-4 transition-transform duration-200 ${showDetails ? "rotate-180" : ""}`,
                      fill: "none",
                      viewBox: "0 0 24 24",
                      stroke: "currentColor",
                      children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M19 9l-7 7-7-7" })
                    }
                  )
                ]
              }
            ),
            /* @__PURE__ */ jsx("div", { children: /* @__PURE__ */ jsxs(
              Button,
              {
                onClick: onClose,
                className: "w-full py-3 bg-green-600 hover:bg-[#1a2a4b] text-white rounded-lg flex items-center justify-center transition-colors",
                children: [
                  "Fermer",
                  /* @__PURE__ */ jsx(X, { className: "ml-2 h-4 w-4" })
                ]
              }
            ) }),
            /* @__PURE__ */ jsxs("div", { className: "mt-4 text-center text-xs text-[#1a2a4b]/50 flex items-center justify-center", children: [
              /* @__PURE__ */ jsx(Clock, { className: "h-3 w-3 mr-1" }),
              "Enregistré le",
              " ",
              (/* @__PURE__ */ new Date()).toLocaleDateString("fr-FR", {
                hour: "2-digit",
                minute: "2-digit"
              })
            ] })
          ] })
        ]
      }
    )
  ] });
}
function ModifierAppelOffrePage({ appelOffre, auth }) {
  const [user, setUser] = useState({
    nom: auth.user.name,
    email: auth.user.email,
    ville: "Casablanca",
    solde: 250
  });
  const [cities, setCities] = useState([]);
  const [showSuccessPopup, setShowSuccessPopup] = useState(false);
  const secteurs = [
    "Construction",
    "Informatique",
    "Santé",
    "Éducation",
    "Transport",
    "Énergie",
    "Agriculture",
    "Télécommunication",
    "Finance",
    "Autre"
  ];
  const initialFormData = {
    titre: appelOffre.titre,
    ICE: appelOffre.ICE,
    type: appelOffre.type,
    objet: appelOffre.objet,
    date: appelOffre.date ? appelOffre.date.split(" ")[0] : "",
    // ✅ Fix: prevent null.split
    status: appelOffre.status,
    ville: appelOffre.ville,
    secteur: appelOffre.secteur
  };
  const { data, setData, put, processing, errors } = useForm(initialFormData);
  useEffect(() => {
    axios.get("/api/cities").then((response) => {
      setCities(response.data);
      if (!data.ville && response.data.length > 0) {
        setData("ville", response.data[0]);
      }
      if (appelOffre == null ? void 0 : appelOffre.date) {
        const formattedDate = appelOffre.date.split(" ")[0];
        setData("date", formattedDate);
      }
      if (appelOffre == null ? void 0 : appelOffre.type) {
        setData("type", appelOffre.type);
      }
    }).catch((error) => {
      console.error("Erreur lors de la récupération des villes:", error);
    });
  }, []);
  const handleSubmit = (e2) => {
    e2.preventDefault();
    if (appelOffre) {
      setShowSuccessPopup(true);
      put(`/client/appel-offres/update/${appelOffre.id}`, {
        preserveScroll: true,
        onSuccess: () => {
          console.log("Form submission successful");
        },
        onError: (errors2) => {
          console.error("Erreur lors de la mise à jour:", errors2);
          setShowSuccessPopup(false);
        }
      });
    } else {
      console.error("Appel d'offre ID is missing.");
    }
  };
  const getTypeBadge = (type) => {
    switch (type) {
      case "Communiqué de presse":
        return "bg-green-100 text-green-800";
      case "Appel d'offre privé":
        return "bg-blue-100 text-blue-800";
      case "INTERNATIONAL":
        return "bg-purple-100 text-purple-800";
      case "RESTREINT":
        return "bg-orange-100 text-orange-800";
      default:
        return "bg-gray-100 text-gray-800";
    }
  };
  const getStatusBadge2 = (status) => {
    switch (status) {
      case "APPROVED":
        return "bg-green-500/10 text-green-600";
      case "PENDING":
        return "bg-[#0F172A]/10 text-[#0F172A]";
      case "REJECTED":
        return "bg-[#e63946]/10 text-[#e63946]";
      default:
        return "bg-gray-100 text-gray-800";
    }
  };
  return /* @__PURE__ */ jsxs("main", { className: "min-h-screen flex flex-col bg-gray-50", children: [
    /* @__PURE__ */ jsx(Header, { auth: { user: auth.user } }),
    /* @__PURE__ */ jsx("div", { className: "w-full py-4 pt-32 bg-gray-50", children: /* @__PURE__ */ jsx("div", { className: "w-full max-w-[76rem] mx-auto px-4", children: /* @__PURE__ */ jsxs("div", { className: "flex flex-col sm:flex-row sm:justify-between sm:items-center", children: [
      /* @__PURE__ */ jsx("div", { className: "flex items-center mb-4 sm:mb-0", children: /* @__PURE__ */ jsx("h2", { className: "text-2xl sm:text-3xl font-bold text-[#0F172A]", children: "Modifier l'appel d'offre" }) }),
      /* @__PURE__ */ jsxs(
        "button",
        {
          type: "button",
          onClick: () => window.history.back(),
          className: "flex items-center gap-2 px-4 sm:px-5 py-2 sm:py-2.5 bg-white border border-gray-200 rounded-lg shadow-sm text-sm sm:text-base font-medium text-[#1a2a4b] hover:bg-gray-100 w-fit",
          children: [
            /* @__PURE__ */ jsx("div", { className: "bg-[#e63946]/10 p-1.5 rounded-md", children: /* @__PURE__ */ jsx(ArrowLeft, { className: "h-4 w-4 sm:h-5 sm:w-5 text-[#e63946]" }) }),
            /* @__PURE__ */ jsx("span", { children: "Retour aux appels d'offres" })
          ]
        }
      )
    ] }) }) }),
    /* @__PURE__ */ jsx("section", { className: "container mx-auto px-4 py-6 sm:py-8 md:py-10 flex-grow", children: /* @__PURE__ */ jsxs("div", { className: "w-full max-w-[76rem] mx-auto", children: [
      /* @__PURE__ */ jsx("div", { className: "mb-6 sm:mb-8 md:mb-10", children: /* @__PURE__ */ jsx("p", { className: "text-gray-600 max-w-2xl text-sm sm:text-base", children: "Modifiez les informations de votre appel d'offre et prévisualisez les changements avant de les enregistrer." }) }),
      /* @__PURE__ */ jsxs("form", { onSubmit: handleSubmit, className: "transition-all duration-300", children: [
        /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 lg:grid-cols-3 gap-6 sm:gap-8", children: [
          /* @__PURE__ */ jsx("div", { className: "lg:col-span-2 space-y-6", children: /* @__PURE__ */ jsxs("div", { className: "bg-white rounded-xl shadow-lg border border-[#0F172A]/10 overflow-hidden", children: [
            /* @__PURE__ */ jsx("div", { className: "bg-[#0F172A]/5 p-4 sm:p-6 border-b border-gray-100", children: /* @__PURE__ */ jsxs("h3", { className: "text-lg sm:text-xl font-bold text-[#0F172A] flex items-center", children: [
              /* @__PURE__ */ jsx(Briefcase, { className: "mr-2 sm:mr-3 h-5 w-5 text-[#e63946]" }),
              "Informations de l'appel d'offre"
            ] }) }),
            /* @__PURE__ */ jsxs("div", { className: "p-4 sm:p-6 space-y-4 sm:space-y-5", children: [
              /* @__PURE__ */ jsxs("div", { children: [
                /* @__PURE__ */ jsx("label", { className: "block text-[#1a2a4b] font-medium mb-1 sm:mb-2 text-sm sm:text-base", children: "Titre" }),
                /* @__PURE__ */ jsx(
                  Input,
                  {
                    type: "text",
                    value: data.titre,
                    onChange: (e2) => setData("titre", e2.target.value),
                    className: "w-full p-2 sm:p-3 border border-[#0F172A]/20 rounded-lg focus:ring-2 focus:ring-[#e63946] focus:border-transparent transition-all text-sm sm:text-base"
                  }
                ),
                errors.titre && /* @__PURE__ */ jsxs("p", { className: "text-[#e63946] text-xs sm:text-sm mt-1 flex items-center", children: [
                  /* @__PURE__ */ jsx(AlertCircle, { className: "h-3 w-3 sm:h-4 sm:w-4 mr-1" }),
                  errors.titre
                ] })
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-5", children: [
                /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsxs("label", { className: "block text-[#1a2a4b] font-medium mb-1 sm:mb-2 flex items-center text-sm sm:text-base", children: [
                    /* @__PURE__ */ jsx(Tag, { className: "mr-1 sm:mr-2 h-3 w-3 sm:h-4 sm:w-4 text-[#0F172A]" }),
                    "ICE"
                  ] }),
                  /* @__PURE__ */ jsx(
                    Input,
                    {
                      type: "text",
                      value: data.ICE,
                      onChange: (e2) => setData("ICE", e2.target.value),
                      className: "w-full p-2 sm:p-3 border border-[#0F172A]/20 rounded-lg text-sm sm:text-base"
                    }
                  ),
                  errors.ICE && /* @__PURE__ */ jsx("p", { className: "text-[#e63946] text-xs sm:text-sm mt-1", children: errors.ICE })
                ] }),
                /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsx("label", { className: "block text-[#1a2a4b] font-medium mb-1 sm:mb-2 text-sm sm:text-base", children: "Type" }),
                  /* @__PURE__ */ jsxs(
                    "select",
                    {
                      value: data.type,
                      onChange: (e2) => setData("type", e2.target.value),
                      className: "w-full p-2 sm:p-3 border border-[#0F172A]/20 rounded-lg bg-white text-sm sm:text-base",
                      children: [
                        /* @__PURE__ */ jsx("option", { value: "", children: "Sélectionner un type" }),
                        /* @__PURE__ */ jsx("option", { value: "Communiqué de presse", children: "Public" }),
                        /* @__PURE__ */ jsx("option", { value: "Appel d'offre privé", children: "Privé" }),
                        /* @__PURE__ */ jsx("option", { value: "INTERNATIONAL", children: "International" }),
                        /* @__PURE__ */ jsx("option", { value: "RESTREINT", children: "Restreint" })
                      ]
                    }
                  ),
                  errors.type && /* @__PURE__ */ jsx("p", { className: "text-[#e63946] text-xs sm:text-sm mt-1", children: errors.type })
                ] })
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-5", children: [
                /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsxs("label", { className: "block text-[#1a2a4b] font-medium mb-1 sm:mb-2 flex items-center text-sm sm:text-base", children: [
                    /* @__PURE__ */ jsx(Calendar$2, { className: "mr-1 sm:mr-2 h-3 w-3 sm:h-4 sm:w-4 text-[#0F172A]" }),
                    "Date limite"
                  ] }),
                  /* @__PURE__ */ jsx(
                    Input,
                    {
                      type: "date",
                      value: data.date,
                      onChange: (e2) => setData("date", e2.target.value),
                      min: (/* @__PURE__ */ new Date()).toISOString().split("T")[0],
                      className: "w-full p-2 sm:p-3 border border-[#0F172A]/20 rounded-lg text-sm sm:text-base"
                    }
                  ),
                  errors.date && /* @__PURE__ */ jsx("p", { className: "text-[#e63946] text-xs sm:text-sm mt-1", children: errors.date })
                ] }),
                /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsxs("label", { className: "block text-[#1a2a4b] font-medium mb-1 sm:mb-2 flex items-center text-sm sm:text-base", children: [
                    /* @__PURE__ */ jsx(MapPin, { className: "mr-1 sm:mr-2 h-3 w-3 sm:h-4 sm:w-4 text-[#0F172A]" }),
                    "Ville"
                  ] }),
                  /* @__PURE__ */ jsxs(
                    "select",
                    {
                      value: data.ville,
                      onChange: (e2) => setData("ville", e2.target.value),
                      className: "w-full p-2 sm:p-3 border border-[#0F172A]/20 rounded-lg bg-white text-sm sm:text-base",
                      children: [
                        /* @__PURE__ */ jsx("option", { value: "", children: "Sélectionner une ville" }),
                        cities.length > 0 ? cities.map((city, index2) => /* @__PURE__ */ jsx("option", { value: city, children: city }, index2)) : /* @__PURE__ */ jsx("option", { children: "Chargement..." })
                      ]
                    }
                  ),
                  errors.ville && /* @__PURE__ */ jsx("p", { className: "text-[#e63946] text-xs sm:text-sm mt-1", children: errors.ville })
                ] })
              ] }),
              /* @__PURE__ */ jsxs("div", { children: [
                /* @__PURE__ */ jsxs("label", { className: "block text-[#1a2a4b] font-medium mb-1 sm:mb-2 flex items-center text-sm sm:text-base", children: [
                  /* @__PURE__ */ jsx(Globe, { className: "mr-1 sm:mr-2 h-3 w-3 sm:h-4 sm:w-4 text-[#0F172A]" }),
                  "Secteur d'activité"
                ] }),
                /* @__PURE__ */ jsxs(
                  "select",
                  {
                    value: data.secteur,
                    onChange: (e2) => setData("secteur", e2.target.value),
                    className: "w-full p-2 sm:p-3 border border-[#0F172A]/20 rounded-lg bg-white text-sm sm:text-base",
                    children: [
                      /* @__PURE__ */ jsx("option", { value: "", children: "Sélectionner un secteur" }),
                      secteurs.map((secteur, index2) => /* @__PURE__ */ jsx("option", { value: secteur, children: secteur }, index2))
                    ]
                  }
                ),
                errors.secteur && /* @__PURE__ */ jsx("p", { className: "text-[#e63946] text-xs sm:text-sm mt-1", children: errors.secteur })
              ] }),
              /* @__PURE__ */ jsxs("div", { children: [
                /* @__PURE__ */ jsx("label", { className: "block text-[#1a2a4b] font-medium mb-1 sm:mb-2 text-sm sm:text-base", children: "Objet de l'appel d'offre" }),
                /* @__PURE__ */ jsx(
                  "textarea",
                  {
                    value: data.objet,
                    onChange: (e2) => setData("objet", e2.target.value),
                    className: "w-full p-2 sm:p-3 border border-[#0F172A]/20 rounded-lg h-24 sm:h-32 md:h-40 focus:ring-2 focus:ring-[#e63946] focus:border-transparent transition-all text-sm sm:text-base"
                  }
                ),
                errors.objet && /* @__PURE__ */ jsx("p", { className: "text-[#e63946] text-xs sm:text-sm mt-1", children: errors.objet })
              ] })
            ] })
          ] }) }),
          /* @__PURE__ */ jsx("div", { className: "lg:col-span-1", children: /* @__PURE__ */ jsxs("div", { className: "bg-white rounded-xl shadow-lg border border-[#0F172A]/10 overflow-hidden sticky top-24", children: [
            /* @__PURE__ */ jsx("div", { className: "bg-[#0F172A]/5 p-4 sm:p-6 border-b border-gray-100", children: /* @__PURE__ */ jsxs("h3", { className: "text-lg sm:text-xl font-bold text-[#0F172A] flex items-center", children: [
              /* @__PURE__ */ jsx(Briefcase, { className: "mr-2 sm:mr-3 h-5 w-5 text-[#e63946]" }),
              "Aperçu de l'appel d'offre"
            ] }) }),
            /* @__PURE__ */ jsxs("div", { className: "p-4 sm:p-6", children: [
              /* @__PURE__ */ jsxs("div", { className: "space-y-3 sm:space-y-4 mb-4 sm:mb-6", children: [
                /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
                  /* @__PURE__ */ jsx("span", { className: "text-xs sm:text-sm font-medium text-[#1a2a4b]/70", children: "Date limite:" }),
                  /* @__PURE__ */ jsx("span", { className: "text-xs sm:text-sm font-medium text-[#1a2a4b]", children: data.date || "Non spécifiée" })
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
                  /* @__PURE__ */ jsx("span", { className: "text-xs sm:text-sm font-medium text-[#1a2a4b]/70", children: "Ville:" }),
                  /* @__PURE__ */ jsx("span", { className: "text-xs sm:text-sm font-medium text-[#1a2a4b]", children: data.ville || "Non spécifiée" })
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
                  /* @__PURE__ */ jsx("span", { className: "text-xs sm:text-sm font-medium text-[#1a2a4b]/70", children: "Type:" }),
                  /* @__PURE__ */ jsx(
                    "span",
                    {
                      className: `text-xs sm:text-sm font-medium px-1.5 sm:px-2 py-0.5 sm:py-1 rounded-full ${getTypeBadge(
                        data.type
                      )}`,
                      children: data.type || "Non spécifié"
                    }
                  )
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
                  /* @__PURE__ */ jsx("span", { className: "text-xs sm:text-sm font-medium text-[#1a2a4b]/70", children: "Secteur:" }),
                  /* @__PURE__ */ jsx("span", { className: "text-xs sm:text-sm font-medium text-[#1a2a4b]", children: data.secteur || "Non spécifié" })
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
                  /* @__PURE__ */ jsx("span", { className: "text-xs sm:text-sm font-medium text-[#1a2a4b]/70", children: "Statut:" }),
                  /* @__PURE__ */ jsx(
                    "span",
                    {
                      className: `text-xs sm:text-sm font-medium px-1.5 sm:px-2 py-0.5 sm:py-1 rounded-full ${getStatusBadge2(
                        data.status
                      )}`,
                      children: data.status
                    }
                  )
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "pt-2 sm:pt-3 border-t border-[#0F172A]/10", children: [
                  /* @__PURE__ */ jsx("h4", { className: "text-base sm:text-lg font-bold text-[#0F172A]", children: data.titre || "Titre de l'appel d'offre" }),
                  /* @__PURE__ */ jsxs("p", { className: "text-xs sm:text-sm text-[#1a2a4b]/80 mt-1", children: [
                    /* @__PURE__ */ jsx("span", { className: "font-medium", children: "ICE:" }),
                    " ",
                    data.ICE || "Non spécifié"
                  ] })
                ] }),
                /* @__PURE__ */ jsx("div", { className: "pt-2 sm:pt-3 border-t border-[#0F172A]/10", children: /* @__PURE__ */ jsx("p", { className: "text-xs sm:text-sm text-[#1a2a4b]/80 line-clamp-4", children: data.objet || "L'objet de l'appel d'offre apparaîtra ici." }) })
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "mt-4 sm:mt-6 space-y-2 sm:space-y-3", children: [
                /* @__PURE__ */ jsxs(
                  Button,
                  {
                    type: "submit",
                    className: "w-full py-2 sm:py-3 bg-[#e63946] hover:bg-[#e63946]/90 text-white rounded-lg flex items-center justify-center transition-colors text-xs sm:text-sm",
                    disabled: processing,
                    children: [
                      /* @__PURE__ */ jsx(Save, { className: "mr-1 sm:mr-2 h-3.5 w-3.5 sm:h-4 sm:w-4" }),
                      processing ? "Enregistrement..." : "Enregistrer les modifications"
                    ]
                  }
                ),
                /* @__PURE__ */ jsx(Link, { href: "/mes-appels-offres", className: "block", children: /* @__PURE__ */ jsxs(
                  Button,
                  {
                    type: "button",
                    variant: "outline",
                    className: "w-full py-2 sm:py-3 border border-[#0F172A]/20 text-[#1a2a4b] hover:bg-[#0F172A]/5 rounded-lg flex items-center justify-center transition-colors text-xs sm:text-sm",
                    children: [
                      /* @__PURE__ */ jsx(ArrowLeft, { className: "mr-1 sm:mr-2 h-3.5 w-3.5 sm:h-4 sm:w-4" }),
                      "Retour à mes appels d'offres"
                    ]
                  }
                ) })
              ] })
            ] })
          ] }) })
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-3 flex gap-2 lg:hidden z-10", children: [
          /* @__PURE__ */ jsxs(
            Button,
            {
              type: "submit",
              className: "flex-1 py-2 bg-[#e63946] hover:bg-[#e63946]/90 text-white rounded-lg flex items-center justify-center transition-colors text-xs",
              disabled: processing,
              children: [
                /* @__PURE__ */ jsx(Save, { className: "mr-1 h-3.5 w-3.5" }),
                processing ? "..." : "Enregistrer"
              ]
            }
          ),
          /* @__PURE__ */ jsx(Link, { href: "/mes-appels-offres", className: "flex-1", children: /* @__PURE__ */ jsx(
            Button,
            {
              type: "button",
              variant: "outline",
              className: "w-full py-2 border border-[#0F172A]/20 text-[#1a2a4b] hover:bg-[#0F172A]/5 rounded-lg flex items-center justify-center transition-colors text-xs",
              children: "Annuler"
            }
          ) })
        ] }),
        /* @__PURE__ */ jsx("div", { className: "h-16 lg:hidden" })
      ] })
    ] }) }),
    /* @__PURE__ */ jsx(
      SuccessPopup,
      {
        isOpen: showSuccessPopup,
        onClose: () => setShowSuccessPopup(false),
        data: {
          title: data.titre,
          date: data.date
        }
      }
    ),
    /* @__PURE__ */ jsx(Footer$1, {})
  ] });
}
const __vite_glob_0_50 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: ModifierAppelOffrePage
}, Symbol.toStringTag, { value: "Module" }));
function UserAppelsOffresPage({ appelsOffres, auth }) {
  const [canonicalUrl, setCanonicalUrl] = useState("");
  useEffect(() => {
    if (typeof window !== "undefined") {
      setCanonicalUrl(window.location.href);
    }
  }, []);
  const [search, setSearch] = useState("");
  const [selectedType, setSelectedType] = useState("");
  const [isScrolled, setIsScrolled] = useState(false);
  const [sortBy, setSortBy] = useState("date-desc");
  const [isMobileFiltersOpen, setIsMobileFiltersOpen] = useState(false);
  useEffect(() => {
    const handleScroll = () => {
      setIsScrolled(window.scrollY > 10);
    };
    if (typeof window !== "undefined") {
      window.addEventListener("scroll", handleScroll);
      return () => window.removeEventListener("scroll", handleScroll);
    }
  }, []);
  const appelsOffresData = Array.isArray(appelsOffres == null ? void 0 : appelsOffres.data) ? appelsOffres.data : [];
  const [user, setUser] = useState({
    nom: auth.user.name,
    email: auth.user.email,
    city: auth.user.city,
    solde: 250
  });
  const filteredAppelsOffres = appelsOffresData.filter((appelOffre) => {
    const matchesSearch = ((appelOffre == null ? void 0 : appelOffre.titre) ?? "").toLowerCase().includes(search.toLowerCase()) || ((appelOffre == null ? void 0 : appelOffre.ICE) ?? "").includes(search) || ((appelOffre == null ? void 0 : appelOffre.type) ?? "").toLowerCase().includes(search.toLowerCase()) || ((appelOffre == null ? void 0 : appelOffre.secteur) ?? "").toLowerCase().includes(search.toLowerCase());
    const matchesType = selectedType === "" || (appelOffre == null ? void 0 : appelOffre.type) === selectedType;
    return matchesSearch && matchesType;
  }).sort((a, b) => {
    switch (sortBy) {
      case "date-desc":
        return new Date(b.date ?? "").getTime() - new Date(a.date ?? "").getTime();
      case "date-asc":
        return new Date(a.date ?? "").getTime() - new Date(b.date ?? "").getTime();
      case "status":
        return (a.status ?? "").localeCompare(b.status ?? "");
      case "type":
        return (a.type ?? "").localeCompare(b.type ?? "");
      default:
        return 0;
    }
  });
  const getStatusBadge2 = (status) => {
    switch (status) {
      case "APPROVED":
        return {
          bg: "bg-emerald-50",
          text: "text-emerald-700",
          border: "border-emerald-200",
          icon: /* @__PURE__ */ jsx(CheckCircle2, { className: "h-3.5 w-3.5 sm:h-4 sm:w-4 mr-1 sm:mr-1.5 text-emerald-500" }),
          label: "Approuvé"
        };
      case "PENDING":
        return {
          bg: "bg-amber-50",
          text: "text-amber-700",
          border: "border-amber-200",
          icon: /* @__PURE__ */ jsx(Clock, { className: "h-3.5 w-3.5 sm:h-4 sm:w-4 mr-1 sm:mr-1.5 text-amber-500" }),
          label: "En attente"
        };
      case "REJECTED":
        return {
          bg: "bg-rose-50",
          text: "text-rose-700",
          border: "border-rose-200",
          icon: /* @__PURE__ */ jsx(XCircle, { className: "h-3.5 w-3.5 sm:h-4 sm:w-4 mr-1 sm:mr-1.5 text-rose-500" }),
          label: "Rejeté"
        };
      case "BROUILLON":
        return {
          bg: "bg-gray-100",
          text: "text-gray-700",
          border: "border-gray-300",
          icon: /* @__PURE__ */ jsx(AlertTriangle, { className: "h-3.5 w-3.5 sm:h-4 sm:w-4 mr-1 sm:mr-1.5 text-yellow-500" }),
          label: "Brouillon"
        };
      default:
        return {
          bg: "bg-gray-50",
          text: "text-gray-700",
          border: "border-gray-200",
          icon: /* @__PURE__ */ jsx(AlertTriangle, { className: "h-3.5 w-3.5 sm:h-4 sm:w-4 mr-1 sm:mr-1.5 text-gray-500" }),
          label: status
        };
    }
  };
  const getTypeBadge = (type) => {
    switch (type) {
      case "PUBLIC":
        return {
          bg: "bg-blue-50",
          text: "text-blue-700",
          border: "border-blue-200"
        };
      case "PRIVE":
        return {
          bg: "bg-blue-50",
          text: "text-blue-700",
          border: "border-blue-200"
        };
      case "INTERNATIONAL":
        return {
          bg: "bg-blue-50",
          text: "text-blue-700",
          border: "border-blue-200"
        };
      case "RESTREINT":
        return {
          bg: "bg-blue-50",
          text: "text-blue-700",
          border: "border-blue-200"
        };
      default:
        return {
          bg: "bg-gray-50",
          text: "text-gray-700",
          border: "border-gray-200"
        };
    }
  };
  const clearSearch = () => {
    setSearch("");
    setSelectedType("");
  };
  return /* @__PURE__ */ jsxs("main", { className: "min-h-screen flex flex-col bg-gray-50", children: [
    /* @__PURE__ */ jsxs(Head, { children: [
      /* @__PURE__ */ jsx("title", { children: "Mes appels d'offres – Suivi et gestion | Wepress Eco" }),
      /* @__PURE__ */ jsx(
        "meta",
        {
          name: "description",
          content: "Gérez vos appels d'offres facilement depuis votre tableau de bord : suivez leur statut, modifiez les informations et téléchargez les documents officiels."
        }
      ),
      /* @__PURE__ */ jsx("meta", { name: "robots", content: "noindex, nofollow" }),
      /* @__PURE__ */ jsx("link", { rel: "canonical", href: canonicalUrl }),
      /* @__PURE__ */ jsx("meta", { property: "og:title", content: "Mes appels d'offres - Suivi et gestion | Wepress Eco " }),
      /* @__PURE__ */ jsx(
        "meta",
        {
          property: "og:description",
          content: "Gérez vos appels d'offres facilement depuis votre tableau de bord : suivez leur statut, modifiez les informations et téléchargez les documents officiels."
        }
      ),
      /* @__PURE__ */ jsx("meta", { property: "og:type", content: "  " }),
      /* @__PURE__ */ jsx("meta", { property: "og:url", content: canonicalUrl }),
      /* @__PURE__ */ jsx("meta", { property: "og:image", content: "https://annonce.wepresseco.com/og.webp" }),
      /* @__PURE__ */ jsx("meta", { property: "og:site_name", content: "Wepress Eco" })
    ] }),
    /* @__PURE__ */ jsx(Header, { auth: { user: auth.user } }),
    /* @__PURE__ */ jsx(ProfileSection, { user: auth.user, setUser: (user2) => console.log("User updated:", user2) }),
    /* @__PURE__ */ jsx("div", { className: "bg-gray-50 w-full py-6 sm:py-8 relative overflow-hidden", children: /* @__PURE__ */ jsxs("div", { className: "w-full max-w-[78rem] mx-auto px-4 relative z-10", children: [
      /* @__PURE__ */ jsxs("div", { className: "flex flex-col md:flex-row md:items-center justify-between gap-4 sm:gap-6 mb-4 sm:mb-6", children: [
        /* @__PURE__ */ jsxs("div", { children: [
          /* @__PURE__ */ jsx("h2", { className: "text-xl sm:text-2xl md:text-3xl font-bold text-black mb-1 sm:mb-2", children: "Mes appels d'offres" }),
          /* @__PURE__ */ jsx("p", { className: "text-black/80 max-w-2xl text-xs sm:text-sm", children: "Gérez vos appels d'offres, suivez leur statut et téléchargez les documents associés." })
        ] }),
        /* @__PURE__ */ jsx(Link, { href: route$3("client.appel-offre.create").toString(), className: "block shrink-0", children: /* @__PURE__ */ jsxs(Button, { className: "bg-red-600 hover:bg-red-700 text-white py-2 sm:py-2.5 px-3 sm:px-5 rounded-lg transition-all duration-300 shadow-md hover:shadow-lg transform hover:-translate-y-0.5 flex items-center gap-1 sm:gap-2 text-xs sm:text-sm w-full sm:w-auto justify-center", children: [
          /* @__PURE__ */ jsx("span", { children: "Publier un appel d'offre" }),
          /* @__PURE__ */ jsx(ArrowUpRight, { className: "w-3.5 h-3.5 sm:w-4 sm:h-4" })
        ] }) })
      ] }),
      /* @__PURE__ */ jsx(
        motion.div,
        {
          initial: { y: 20, opacity: 0 },
          animate: { y: 0, opacity: 1 },
          transition: { duration: 0.5 },
          className: "bg-white/90 backdrop-blur-md rounded-xl sm:rounded-2xl shadow-md border border-gray-200 px-3 sm:px-6 py-3",
          children: /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 md:grid-cols-12 gap-3 sm:gap-4 items-center", children: [
            /* @__PURE__ */ jsxs("div", { className: "relative md:col-span-6", children: [
              /* @__PURE__ */ jsx(Search, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-3.5 w-3.5 sm:h-4 sm:w-4" }),
              /* @__PURE__ */ jsx(
                Input,
                {
                  type: "text",
                  placeholder: "Rechercher par titre, ICE, type ou secteur...",
                  value: search,
                  onChange: (e2) => setSearch(e2.target.value),
                  className: "pl-8 sm:pl-10 pr-4 py-1.5 sm:py-2 border border-gray-200 rounded-lg w-full focus:ring-2 focus:ring-[#1a2a4b] focus:border-transparent transition-all text-xs sm:text-sm"
                }
              ),
              search && /* @__PURE__ */ jsx(
                "button",
                {
                  onClick: clearSearch,
                  className: "absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",
                  children: /* @__PURE__ */ jsx(XCircle, { className: "h-3.5 w-3.5 sm:h-4 sm:w-4" })
                }
              )
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "relative md:col-span-4", children: [
              /* @__PURE__ */ jsx(Filter, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-3.5 w-3.5 sm:h-4 sm:w-4" }),
              /* @__PURE__ */ jsxs(
                "select",
                {
                  value: selectedType,
                  onChange: (e2) => setSelectedType(e2.target.value),
                  className: "pl-8 sm:pl-10 pr-4 py-1.5 sm:py-2 border border-gray-200 rounded-lg w-full focus:ring-2 focus:ring-[#1a2a4b] focus:border-transparent transition-all appearance-none bg-white text-xs sm:text-sm",
                  children: [
                    /* @__PURE__ */ jsx("option", { value: "", children: "Tous types" }),
                    /* @__PURE__ */ jsx("option", { value: "PUBLIC", children: "Public" }),
                    /* @__PURE__ */ jsx("option", { value: "PRIVE", children: "Privé" }),
                    /* @__PURE__ */ jsx("option", { value: "INTERNATIONAL", children: "International" }),
                    /* @__PURE__ */ jsx("option", { value: "RESTREINT", children: "Restreint" })
                  ]
                }
              ),
              /* @__PURE__ */ jsx("div", { className: "absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none", children: /* @__PURE__ */ jsx(
                "svg",
                {
                  className: "h-3.5 w-3.5 sm:h-4 sm:w-4 text-gray-400",
                  fill: "none",
                  viewBox: "0 0 24 24",
                  stroke: "currentColor",
                  children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M19 9l-7 7-7-7" })
                }
              ) })
            ] }),
            /* @__PURE__ */ jsx("div", { className: "md:col-span-2", children: /* @__PURE__ */ jsxs("div", { className: "bg-gray-50 rounded-lg p-2 sm:p-2.5 text-center", children: [
              /* @__PURE__ */ jsx("p", { className: "text-xs text-gray-500 mb-0.5 sm:mb-1", children: "Total" }),
              /* @__PURE__ */ jsx("p", { className: "text-base sm:text-lg font-bold text-[#1a2a4b]", children: appelsOffresData.length })
            ] }) })
          ] })
        }
      )
    ] }) }),
    /* @__PURE__ */ jsxs("section", { className: "flex-grow py-4 sm:py-6", children: [
      /* @__PURE__ */ jsx("div", { className: "mb-3 sm:mb-4 w-full max-w-[78rem] mx-auto px-4", children: /* @__PURE__ */ jsxs("div", { className: "flex flex-col sm:flex-row sm:items-center justify-between gap-3 sm:gap-4", children: [
        /* @__PURE__ */ jsx("div", { className: "flex items-center", children: /* @__PURE__ */ jsxs("div", { className: "px-2 sm:px-4 py-1 sm:py-1.5 bg-blue-50 text-blue-700 rounded-full text-xs sm:text-sm font-medium flex items-center", children: [
          /* @__PURE__ */ jsx(Briefcase, { className: "h-3.5 w-3.5 sm:h-4 sm:w-4 mr-1 sm:mr-2" }),
          filteredAppelsOffres.length,
          " ",
          filteredAppelsOffres.length === 1 ? "appel d'offre" : "appels d'offres",
          " ",
          "trouvé",
          filteredAppelsOffres.length !== 1 ? "s" : ""
        ] }) }),
        /* @__PURE__ */ jsxs("div", { className: "flex items-center text-xs sm:text-sm text-gray-500", children: [
          /* @__PURE__ */ jsxs("span", { className: "mr-1 sm:mr-2 flex items-center", children: [
            /* @__PURE__ */ jsx(SlidersHorizontal, { className: "h-3.5 w-3.5 sm:h-4 sm:w-4 mr-1" }),
            "Trier par:"
          ] }),
          /* @__PURE__ */ jsxs(
            "select",
            {
              className: "bg-white border border-gray-200 rounded-md px-2 sm:px-3 py-1 sm:py-1.5 focus:ring-2 focus:ring-[#1a2a4b] focus:border-transparent text-xs sm:text-sm",
              value: sortBy,
              onChange: (e2) => setSortBy(e2.target.value),
              children: [
                /* @__PURE__ */ jsx("option", { value: "date-desc", children: "Date (récent → ancien)" }),
                /* @__PURE__ */ jsx("option", { value: "date-asc", children: "Date (ancien → récent)" }),
                /* @__PURE__ */ jsx("option", { value: "status", children: "Statut" }),
                /* @__PURE__ */ jsx("option", { value: "type", children: "Type" })
              ]
            }
          )
        ] })
      ] }) }),
      /* @__PURE__ */ jsx("div", { className: "w-full max-w-[78rem] mx-auto px-4", children: filteredAppelsOffres.length > 0 ? /* @__PURE__ */ jsxs(
        motion.div,
        {
          initial: { opacity: 0, y: 20 },
          animate: { opacity: 1, y: 0 },
          transition: { duration: 0.5 },
          className: "bg-white/90 backdrop-blur-md rounded-xl sm:rounded-2xl shadow-md border border-gray-200 overflow-hidden",
          children: [
            /* @__PURE__ */ jsx("div", { className: "hidden md:block overflow-x-auto", children: /* @__PURE__ */ jsxs("table", { className: "w-full", children: [
              /* @__PURE__ */ jsx("thead", { children: /* @__PURE__ */ jsxs("tr", { className: "bg-gray-50 border border-gray text-gray-500", children: [
                /* @__PURE__ */ jsx("th", { className: "px-4 sm:px-6 py-3 sm:py-4 text-left text-xs sm:text-sm font-semibold", children: "Appel d'offre" }),
                /* @__PURE__ */ jsx("th", { className: "px-4 sm:px-6 py-3 sm:py-4 text-left text-xs sm:text-sm font-semibold", children: "Type" }),
                /* @__PURE__ */ jsx("th", { className: "px-4 sm:px-6 py-3 sm:py-4 text-left text-xs sm:text-sm font-semibold", children: "Secteur" }),
                /* @__PURE__ */ jsx("th", { className: "px-4 sm:px-6 py-3 sm:py-4 text-left text-xs sm:text-sm font-semibold", children: "Date limite" }),
                /* @__PURE__ */ jsx("th", { className: "px-4 sm:px-6 py-3 sm:py-4 text-left text-xs sm:text-sm font-semibold", children: "Statut" }),
                /* @__PURE__ */ jsx("th", { className: "px-4 sm:px-6 py-3 sm:py-4 text-left text-xs sm:text-sm font-semibold", children: "Paiement" }),
                /* @__PURE__ */ jsx("th", { className: "px-4 sm:px-6 py-3 sm:py-4 text-right text-xs sm:text-sm font-semibold", children: "Actions" })
              ] }) }),
              /* @__PURE__ */ jsx("tbody", { className: "divide-y divide-gray-100", children: filteredAppelsOffres.map((appelOffre, index2) => {
                const statusStyle = getStatusBadge2(appelOffre.status);
                const typeStyle = getTypeBadge(appelOffre.type);
                return /* @__PURE__ */ jsxs(
                  "tr",
                  {
                    className: `hover:bg-gray-50 transition-colors ${index2 % 2 === 0 ? "bg-white" : "bg-gray-50/50"}`,
                    children: [
                      /* @__PURE__ */ jsx("td", { className: "px-4 sm:px-6 py-3 sm:py-4", children: /* @__PURE__ */ jsxs("div", { className: "flex flex-col", children: [
                        /* @__PURE__ */ jsx(
                          "p",
                          {
                            className: "text-[#1a2a4b] font-medium hover:text-blue-700 transition-colors line-clamp-1 text-xs sm:text-sm",
                            children: appelOffre.titre
                          }
                        ),
                        /* @__PURE__ */ jsxs("div", { className: "flex items-center text-gray-500 text-xs mt-1", children: [
                          /* @__PURE__ */ jsx(Tag, { className: "h-3 w-3 sm:h-3.5 sm:w-3.5 mr-1 sm:mr-1.5 text-gray-400" }),
                          "ICE: ",
                          appelOffre.ICE
                        ] })
                      ] }) }),
                      /* @__PURE__ */ jsx("td", { className: "px-4 sm:px-6 py-3 sm:py-4", children: /* @__PURE__ */ jsx(
                        "span",
                        {
                          className: `inline-flex items-center px-2 sm:px-2.5 py-0.5 sm:py-1 rounded-full text-xs font-medium ${typeStyle.bg} ${typeStyle.text} ${typeStyle.border}`,
                          children: appelOffre.type
                        }
                      ) }),
                      /* @__PURE__ */ jsx("td", { className: "px-4 sm:px-6 py-3 sm:py-4", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center text-gray-700 text-xs sm:text-sm", children: [
                        /* @__PURE__ */ jsx(Globe, { className: "h-3 w-3 sm:h-3.5 sm:w-3.5 mr-1 sm:mr-1.5 text-gray-400" }),
                        appelOffre.secteur
                      ] }) }),
                      /* @__PURE__ */ jsx("td", { className: "px-4 sm:px-6 py-3 sm:py-4", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center text-gray-700 text-xs sm:text-sm", children: [
                        /* @__PURE__ */ jsx(Calendar$2, { className: "h-3 w-3 sm:h-3.5 sm:w-3.5 mr-1 sm:mr-1.5 text-gray-400" }),
                        appelOffre.date || "Non disponible"
                      ] }) }),
                      /* @__PURE__ */ jsx("td", { className: "px-4 sm:px-6 py-3 sm:py-4", children: /* @__PURE__ */ jsxs(
                        "span",
                        {
                          className: `inline-flex items-center px-2 sm:px-2.5 py-0.5 sm:py-1 rounded-full text-xs font-medium ${statusStyle.bg} ${statusStyle.text} ${statusStyle.border}`,
                          children: [
                            statusStyle.icon,
                            statusStyle.label
                          ]
                        }
                      ) }),
                      /* @__PURE__ */ jsx("td", { className: "px-4 sm:px-6 py-3 sm:py-4", children: appelOffre.is_transaction_paid ? /* @__PURE__ */ jsxs("span", { className: "inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-green-50 text-green-700 border border-green-200", children: [
                        /* @__PURE__ */ jsx(FileText, { className: "h-4 w-4 mr-1 text-green-500" }),
                        "Payé"
                      ] }) : /* @__PURE__ */ jsxs("span", { className: "inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-red-50 text-red-700 border border-red-200", children: [
                        /* @__PURE__ */ jsx(FileText, { className: "h-4 w-4 mr-1 text-red-500" }),
                        "Non payé"
                      ] }) }),
                      /* @__PURE__ */ jsx("td", { className: "px-4 sm:px-6 py-3 sm:py-4 text-right", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-end space-x-1 sm:space-x-2", children: [
                        /* @__PURE__ */ jsx(
                          Link,
                          {
                            href: route$3("client.appel-offre.show", { slug: appelOffre.slug }).toString(),
                            className: `p-1 sm:p-1.5 bg-blue-50 text-blue-700 rounded-lg transition-colors ${appelOffre.status === "APPROVED" ? "hover:bg-blue-100" : "opacity-50 cursor-not-allowed pointer-events-none"}`,
                            title: "Voir l'appel d'offre",
                            tabIndex: appelOffre.status === "APPROVED" ? 0 : -1,
                            "aria-disabled": appelOffre.status !== "APPROVED",
                            onClick: (e2) => {
                              if (appelOffre.status !== "APPROVED") e2.preventDefault();
                            },
                            children: /* @__PURE__ */ jsx(Eye, { className: "h-3.5 w-3.5 sm:h-4 sm:w-4" })
                          }
                        ),
                        /* @__PURE__ */ jsx(
                          PDFDownloadButton,
                          {
                            annonceId: appelOffre.id,
                            disabled: appelOffre.status !== "APPROVED"
                          }
                        ),
                        /* @__PURE__ */ jsx(
                          Link,
                          {
                            href: appelOffre.status === "PENDING" || appelOffre.status === "BROUILLON" ? route$3("client.appel-offre.show", { slug: appelOffre.slug }).toString() : "#",
                            className: `p-1 sm:p-1.5 rounded-lg transition-colors ${appelOffre.status === "PENDING" || appelOffre.status === "BROUILLON" ? "bg-amber-50 text-amber-700 hover:bg-amber-100" : "bg-gray-100 text-gray-400 cursor-not-allowed"}`,
                            title: appelOffre.status === "PENDING" || appelOffre.status === "BROUILLON" ? "Modifier l'appel d'offre" : "Modification impossible",
                            onClick: (e2) => appelOffre.status !== "PENDING" && appelOffre.status !== "BROUILLON" && e2.preventDefault(),
                            children: /* @__PURE__ */ jsx(Edit$2, { className: "h-3.5 w-3.5 sm:h-4 sm:w-4" })
                          }
                        ),
                        /* @__PURE__ */ jsx(
                          Link,
                          {
                            href: appelOffre.status === "BROUILLON" ? `/client/appel-offres/publier/${appelOffre.slug}` : "#",
                            onClick: (e2) => {
                              if (appelOffre.status !== "BROUILLON") e2.preventDefault();
                            },
                            className: `p-1 sm:p-1.5 rounded-lg transition-colors flex items-center justify-center ${appelOffre.status === "BROUILLON" ? "bg-green-50 text-green-700 hover:bg-green-100" : "bg-gray-100 text-gray-400 cursor-not-allowed"}`,
                            title: appelOffre.status === "BROUILLON" ? "Payer pour publier" : "Paiement disponible uniquement pour les brouillons",
                            children: /* @__PURE__ */ jsx(FileText, { className: "h-3.5 w-3.5 sm:h-4 sm:w-4" })
                          }
                        )
                      ] }) })
                    ]
                  },
                  appelOffre.id
                );
              }) })
            ] }) }),
            /* @__PURE__ */ jsx("div", { className: "md:hidden", children: /* @__PURE__ */ jsx("div", { className: "divide-y divide-gray-100", children: filteredAppelsOffres.map((appelOffre) => {
              const statusStyle = getStatusBadge2(appelOffre.status);
              const typeStyle = getTypeBadge(appelOffre.type);
              return /* @__PURE__ */ jsxs("div", { className: "p-4 hover:bg-gray-50 transition-colors", children: [
                /* @__PURE__ */ jsxs("div", { className: "flex justify-between items-start mb-2", children: [
                  /* @__PURE__ */ jsx(
                    Link,
                    {
                      href: route$3("client.appel-offre.show", { slug: appelOffre.slug }).toString(),
                      className: "text-[#1a2a4b] font-medium hover:text-blue-700 transition-colors line-clamp-1 text-sm flex-1 mr-2",
                      children: appelOffre.titre
                    }
                  ),
                  /* @__PURE__ */ jsxs(
                    "span",
                    {
                      className: `inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${statusStyle.bg} ${statusStyle.text} ${statusStyle.border} whitespace-nowrap`,
                      children: [
                        statusStyle.icon,
                        statusStyle.label
                      ]
                    }
                  )
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-2 gap-2 mb-3", children: [
                  /* @__PURE__ */ jsxs("div", { className: "flex items-center text-gray-500 text-xs", children: [
                    /* @__PURE__ */ jsx(Tag, { className: "h-3 w-3 mr-1 text-gray-400" }),
                    "ICE: ",
                    appelOffre.ICE
                  ] }),
                  /* @__PURE__ */ jsxs("div", { className: "flex items-center text-gray-700 text-xs justify-end", children: [
                    /* @__PURE__ */ jsx(Calendar$2, { className: "h-3 w-3 mr-1 text-gray-400" }),
                    appelOffre.date || "Non disponible"
                  ] })
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between mb-3", children: [
                  /* @__PURE__ */ jsx(
                    "span",
                    {
                      className: `inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${typeStyle.bg} ${typeStyle.text} ${typeStyle.border}`,
                      children: appelOffre.type
                    }
                  ),
                  /* @__PURE__ */ jsxs("div", { className: "flex items-center text-gray-500 text-xs", children: [
                    /* @__PURE__ */ jsx(Globe, { className: "h-3 w-3 mr-1 text-gray-400" }),
                    appelOffre.secteur
                  ] })
                ] }),
                /* @__PURE__ */ jsx("div", { className: "flex items-center justify-end", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center space-x-1", children: [
                  /* @__PURE__ */ jsx(
                    Link,
                    {
                      href: route$3("client.appel-offre.show", { slug: appelOffre.slug }).toString(),
                      className: `p-1 bg-blue-50 text-blue-700 rounded-lg transition-colors ${appelOffre.status === "APPROVED" ? "hover:bg-blue-100" : "opacity-50 cursor-not-allowed pointer-events-none"}`,
                      title: "Voir l'appel d'offre",
                      tabIndex: appelOffre.status === "APPROVED" ? 0 : -1,
                      "aria-disabled": appelOffre.status !== "APPROVED",
                      onClick: (e2) => {
                        if (appelOffre.status !== "APPROVED") e2.preventDefault();
                      },
                      children: /* @__PURE__ */ jsx(Eye, { className: "h-3.5 w-3.5" })
                    }
                  ),
                  /* @__PURE__ */ jsx(PDFDownloadButton, { annonceId: appelOffre.id, disabled: appelOffre.status !== "APPROVED" }),
                  /* @__PURE__ */ jsx(
                    Link,
                    {
                      href: appelOffre.status === "PENDING" || appelOffre.status === "BROUILLON" ? route$3("client.appel-offre.edit", { slug: appelOffre.slug }).toString() : "#",
                      className: `p-1 rounded-lg transition-colors ${appelOffre.status === "PENDING" || appelOffre.status === "BROUILLON" ? "bg-amber-50 text-amber-700 hover:bg-amber-100" : "bg-gray-100 text-gray-400 cursor-not-allowed"}`,
                      title: appelOffre.status === "PENDING" || appelOffre.status === "BROUILLON" ? "Modifier l'appel d'offre" : "Modification impossible",
                      onClick: (e2) => appelOffre.status !== "PENDING" && appelOffre.status !== "BROUILLON" && e2.preventDefault(),
                      children: /* @__PURE__ */ jsx(Edit$2, { className: "h-3.5 w-3.5" })
                    }
                  ),
                  /* @__PURE__ */ jsx(
                    Link,
                    {
                      href: appelOffre.status === "BROUILLON" ? route$3("client.appel-offre.create", { slug: appelOffre.slug }).toString() : "#",
                      onClick: (e2) => {
                        if (appelOffre.status !== "BROUILLON") e2.preventDefault();
                      },
                      className: `p-1 rounded-lg transition-colors flex items-center justify-center ${appelOffre.status === "BROUILLON" ? "bg-green-50 text-green-700 hover:bg-green-100" : "bg-gray-100 text-gray-400 cursor-not-allowed"}`,
                      title: appelOffre.status === "BROUILLON" ? "Payer pour publier" : "Paiement disponible uniquement pour les brouillons",
                      children: /* @__PURE__ */ jsx(FileText, { className: "h-3.5 w-3.5" })
                    }
                  )
                ] }) })
              ] }, appelOffre.id);
            }) }) }),
            /* @__PURE__ */ jsxs("div", { className: "bg-gray-50 px-4 sm:px-6 py-2 sm:py-3 border-t border-gray-100 flex flex-col sm:flex-row items-center justify-between gap-2 sm:gap-0", children: [
              /* @__PURE__ */ jsxs("div", { className: "text-xs sm:text-sm text-gray-500 text-center sm:text-left", children: [
                "Affichage de ",
                /* @__PURE__ */ jsx("span", { className: "font-medium", children: (appelsOffres == null ? void 0 : appelsOffres.data.length) || 0 }),
                " sur",
                " ",
                /* @__PURE__ */ jsx("span", { className: "font-medium", children: (appelsOffres == null ? void 0 : appelsOffres.total) || 0 }),
                " appels d'offres"
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "flex items-center space-x-1 sm:space-x-2", children: [
                /* @__PURE__ */ jsx(
                  Link,
                  {
                    href: (appelsOffres == null ? void 0 : appelsOffres.current_page) && appelsOffres.current_page > 1 ? `?page=${appelsOffres.current_page - 1}` : "#",
                    className: `px-2 sm:px-3 py-1 border border-gray-200 rounded-md text-gray-500 hover:bg-gray-100 text-xs sm:text-sm ${(appelsOffres == null ? void 0 : appelsOffres.current_page) && appelsOffres.current_page > 1 ? "" : "opacity-50 cursor-not-allowed pointer-events-none"}`,
                    children: "Précédent"
                  }
                ),
                Array.isArray(appelsOffres == null ? void 0 : appelsOffres.links) && appelsOffres.links.slice(1, -1).map((link, i2) => /* @__PURE__ */ jsx(
                  Link,
                  {
                    href: link.url || "#",
                    className: `px-2 sm:px-3 py-1 rounded-md text-xs sm:text-sm ${link.active ? "bg-[#1a2a4b] text-white" : "border border-gray-200 text-gray-500 hover:bg-gray-100"}`,
                    children: link.label
                  },
                  i2
                )),
                /* @__PURE__ */ jsx(
                  Link,
                  {
                    href: (appelsOffres == null ? void 0 : appelsOffres.current_page) && (appelsOffres == null ? void 0 : appelsOffres.last_page) && appelsOffres.current_page < appelsOffres.last_page ? `?page=${appelsOffres.current_page + 1}` : "#",
                    className: `px-2 sm:px-3 py-1 border border-gray-200 rounded-md text-gray-500 hover:bg-gray-100 text-xs sm:text-sm ${(appelsOffres == null ? void 0 : appelsOffres.current_page) && (appelsOffres == null ? void 0 : appelsOffres.last_page) && appelsOffres.current_page < appelsOffres.last_page ? "" : "opacity-50 cursor-not-allowed pointer-events-none"}`,
                    children: "Suivant"
                  }
                )
              ] })
            ] })
          ]
        }
      ) : /* @__PURE__ */ jsx(
        motion.div,
        {
          initial: { opacity: 0, y: 20 },
          animate: { opacity: 1, y: 0 },
          transition: { duration: 0.5 },
          className: "bg-white/90 backdrop-blur-md rounded-xl sm:rounded-2xl shadow-md border border-gray-200 px-4 sm:px-6 py-8 sm:py-16 text-center",
          children: /* @__PURE__ */ jsxs("div", { className: "flex flex-col items-center justify-center text-gray-500", children: [
            /* @__PURE__ */ jsx("div", { className: "w-16 h-16 sm:w-20 sm:h-20 bg-gray-50 rounded-full flex items-center justify-center mb-4 sm:mb-6", children: /* @__PURE__ */ jsx(AlertCircle, { className: "h-8 w-8 sm:h-10 sm:w-10 text-gray-300" }) }),
            /* @__PURE__ */ jsx("h3", { className: "text-xl sm:text-2xl font-bold text-gray-700 mb-2", children: "Aucun appel d'offre trouvé" }),
            /* @__PURE__ */ jsxs("p", { className: "text-gray-500 max-w-md mx-auto mb-6 sm:mb-8 text-sm sm:text-base", children: [
              "Nous n'avons trouvé aucun appel d'offre correspondant à vos critères de recherche sur un total de",
              " ",
              (appelsOffres == null ? void 0 : appelsOffres.total) || 0,
              ". Essayez d'ajuster vos filtres ou créez un nouvel appel d'offre."
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center", children: [
              /* @__PURE__ */ jsxs(
                Button,
                {
                  onClick: clearSearch,
                  className: "bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 sm:px-5 py-2 sm:py-2.5 rounded-lg transition-colors flex items-center gap-2 text-xs sm:text-sm justify-center",
                  children: [
                    /* @__PURE__ */ jsx(Filter, { className: "h-3.5 w-3.5 sm:h-4 sm:w-4" }),
                    "Réinitialiser les filtres"
                  ]
                }
              ),
              /* @__PURE__ */ jsx(Link, { href: route$3("client.appel-offre.create").toString(), className: "w-full sm:w-auto", children: /* @__PURE__ */ jsxs(Button, { className: "bg-[#1a2a4b] hover:bg-[#08203f] text-white px-4 sm:px-5 py-2 sm:py-2.5 rounded-lg transition-colors flex items-center gap-2 text-xs sm:text-sm w-full justify-center", children: [
                /* @__PURE__ */ jsx("span", { children: "Créer un nouvel appel d'offre" }),
                /* @__PURE__ */ jsx(ChevronRight, { className: "h-3.5 w-3.5 sm:h-4 sm:w-4" })
              ] }) })
            ] })
          ] })
        }
      ) })
    ] }),
    /* @__PURE__ */ jsx(Footer$1, {})
  ] });
}
const __vite_glob_0_51 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: UserAppelsOffresPage
}, Symbol.toStringTag, { value: "Module" }));
function Confirmation$1({ appelOffre }) {
  return /* @__PURE__ */ jsx("main", { className: "min-h-screen bg-gray-50 flex items-center justify-center px-4", children: /* @__PURE__ */ jsxs("div", { className: "bg-white rounded-2xl shadow-xl max-w-md w-full p-8 text-center", children: [
    /* @__PURE__ */ jsx("div", { className: "flex justify-center mb-4", children: /* @__PURE__ */ jsx("div", { className: "w-16 h-16 rounded-full bg-green-100 flex items-center justify-center", children: /* @__PURE__ */ jsx(CheckCircle, { className: "h-8 w-8 text-green-600" }) }) }),
    /* @__PURE__ */ jsx("h1", { className: "text-2xl font-bold text-gray-900 mb-2", children: "Paiement confirmé" }),
    /* @__PURE__ */ jsx("p", { className: "text-gray-700 mb-6", children: "Merci pour votre paiement. Votre appel d’offre a été enregistré avec succès." }),
    /* @__PURE__ */ jsxs("div", { className: "bg-gray-50 rounded-xl p-4 text-left text-sm space-y-3 border border-gray-200 mb-6", children: [
      /* @__PURE__ */ jsxs("div", { children: [
        /* @__PURE__ */ jsx("span", { className: "text-gray-500", children: "Titre :" }),
        /* @__PURE__ */ jsx("p", { className: "font-medium text-gray-900", children: appelOffre.titre })
      ] }),
      /* @__PURE__ */ jsxs("div", { children: [
        /* @__PURE__ */ jsx("span", { className: "text-gray-500", children: "Référence de paiement :" }),
        /* @__PURE__ */ jsx("p", { className: "font-medium text-gray-900", children: appelOffre.payment_reference })
      ] }),
      /* @__PURE__ */ jsxs("div", { children: [
        /* @__PURE__ */ jsx("span", { className: "text-gray-500", children: "Méthode :" }),
        /* @__PURE__ */ jsx("p", { className: "font-medium capitalize text-gray-900", children: appelOffre.payment_method })
      ] })
    ] }),
    /* @__PURE__ */ jsx(
      Link,
      {
        href: route("client.appel-offre.mes-appels-offres"),
        className: "inline-block bg-red-600 hover:bg-red-700 text-white font-semibold px-6 py-3 rounded-xl transition-colors",
        children: "Retour à mes appels d’offres"
      }
    )
  ] }) });
}
const __vite_glob_0_52 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: Confirmation$1
}, Symbol.toStringTag, { value: "Module" }));
const PaymentSuccessModal = ({ isOpen, onClose, amount, referenceNumber }) => {
  if (!isOpen) return null;
  return /* @__PURE__ */ jsx("div", { className: "fixed inset-0 z-50 flex items-center justify-center p-3 sm:p-4 bg-black/50", children: /* @__PURE__ */ jsx("div", { className: "bg-white rounded-xl sm:rounded-2xl shadow-2xl w-full max-w-sm sm:max-w-md relative z-10 overflow-hidden mx-3 sm:mx-0", children: /* @__PURE__ */ jsxs("div", { className: "p-6 sm:p-8 text-center", children: [
    /* @__PURE__ */ jsx("div", { className: "w-14 h-14 sm:w-16 sm:h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4", children: /* @__PURE__ */ jsx(CheckCircle, { className: "h-7 w-7 sm:h-8 sm:w-8 text-green-600" }) }),
    /* @__PURE__ */ jsx("h2", { className: "text-xl sm:text-2xl font-bold text-gray-900 mb-4", children: "Paiement Réussi!" }),
    /* @__PURE__ */ jsx("div", { className: "bg-gray-50 rounded-lg sm:rounded-xl p-4 mb-6 text-left", children: /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 text-sm", children: [
      /* @__PURE__ */ jsxs("div", { children: [
        /* @__PURE__ */ jsx("span", { className: "text-gray-600", children: "Montant:" }),
        /* @__PURE__ */ jsxs("p", { className: "font-medium text-xs sm:text-sm", children: [
          amount.toFixed(2),
          " MAD"
        ] })
      ] }),
      /* @__PURE__ */ jsxs("div", { children: [
        /* @__PURE__ */ jsx("span", { className: "text-gray-600", children: "Référence:" }),
        /* @__PURE__ */ jsx("p", { className: "font-medium text-xs sm:text-sm", children: referenceNumber })
      ] })
    ] }) }),
    /* @__PURE__ */ jsx(
      "button",
      {
        onClick: onClose,
        className: "w-full h-11 sm:h-12 bg-red-600 hover:bg-red-700 text-white py-3 px-4 sm:px-6 rounded-lg sm:rounded-xl font-semibold transition-colors text-sm sm:text-base",
        children: "Fermer"
      }
    )
  ] }) }) });
};
const Inertia = {
  post: (url, data, options) => {
    console.log(`Inertia.post to ${url}`, data);
    if (options.onSuccess) {
      setTimeout(options.onSuccess, 1e3);
    }
  },
  visit: (url) => {
    console.log(`Inertia.visit to ${url}`);
  }
};
const route$2 = (name, id) => {
  return `/${name}${id ? `/${id}` : ""}`;
};
function PaymentPage({ appeloffre, auth }) {
  const [selectedMethod, setSelectedMethod] = useState("");
  const [showSuccessModal, setShowSuccessModal] = useState(false);
  const [copiedField, setCopiedField] = useState("");
  const amountToPay = 360;
  const [isProcessing, setIsProcessing] = useState(false);
  const paymentMethods = [
    {
      id: "credit_card",
      label: "Paiement par carte bancaire",
      icon: /* @__PURE__ */ jsx(CreditCard, { className: "w-5 h-5 text-red-600" }),
      description: "Payez en ligne avec votre carte bancaire de manière sécurisée"
    }
  ];
  const bankDetails = [
    { label: "Banque", value: "Attijariwafa Bank" },
    { label: "Bénéficiaire", value: "Journal Wepress" },
    { label: "Numéro de compte", value: "007640001380900000032524" },
    { label: "Code SWIFT", value: "BCMAMAMC" }
  ];
  const copyToClipboard2 = (text, field) => {
    navigator.clipboard.writeText(text);
    setCopiedField(field);
    setTimeout(() => setCopiedField(""), 2e3);
  };
  const copyAllBankDetails = () => {
    const allDetails = bankDetails.map((d) => `${d.label}: ${d.value}`).join("\n");
    navigator.clipboard.writeText(allDetails);
    setCopiedField("all");
    setTimeout(() => setCopiedField(""), 2e3);
  };
  const handleCreditCardPayment = () => {
    if (!(appeloffre == null ? void 0 : appeloffre.order_id)) {
      alert("Impossible de récupérer l'identifiant de la commande.");
      return;
    }
    setIsProcessing(true);
    window.location.href = `https://annonce.wepresseco.com/launch_paywall.php?order_id=${appeloffre.order_id}`;
  };
  const handlePayment = () => {
    if (!selectedMethod || !(appeloffre == null ? void 0 : appeloffre.id)) {
      alert("Veuillez sélectionner un mode de paiement");
      return;
    }
    setIsProcessing(true);
    if (selectedMethod === "credit_card") {
      handleCreditCardPayment();
      return;
    }
    Inertia.post(
      route$2("client.appel-offre.confirm-payment", appeloffre.id),
      {
        payment_method: selectedMethod
      },
      {
        onSuccess: () => {
          setShowSuccessModal(true);
          setIsProcessing(false);
        },
        onError: (errors) => {
          console.error("Payment submission error:", errors);
          setIsProcessing(false);
          alert("Une erreur est survenue lors de la confirmation du paiement.");
        }
      }
    );
  };
  const handleCloseSuccessModal = () => {
    setShowSuccessModal(false);
    Inertia.visit(route$2("client.appel-offre.mes-appels-offres"));
  };
  return /* @__PURE__ */ jsxs("main", { className: "min-h-screen flex flex-col bg-gradient-to-br from-gray-50 to-gray-100", children: [
    /* @__PURE__ */ jsx(Header, { auth: { user: auth.user } }),
    /* @__PURE__ */ jsx("section", { className: "container mx-auto px-3 sm:px-4 py-4 sm:py-8 pt-20 sm:pt-24 md:pt-32 lg:pt-40 flex-grow", children: /* @__PURE__ */ jsxs("div", { className: "max-w-7xl mx-auto", children: [
      /* @__PURE__ */ jsx("div", { className: "mb-6 sm:mb-8", children: /* @__PURE__ */ jsxs("div", { className: "flex flex-col gap-4 mb-4 sm:mb-6 pt-8", children: [
        /* @__PURE__ */ jsxs(
          "button",
          {
            type: "button",
            onClick: () => window.history.back(),
            className: "flex items-center gap-2 px-3 sm:px-4 py-2 sm:py-2.5 bg-white border border-gray-200 rounded-lg sm:rounded-xl shadow-sm text-gray-700 hover:bg-gray-50 transition-colors w-fit text-sm sm:text-base",
            children: [
              /* @__PURE__ */ jsx(ArrowLeft, { className: "h-4 w-4 sm:h-5 sm:w-5" }),
              /* @__PURE__ */ jsx("span", { className: "font-medium", children: "Retour" })
            ]
          }
        ),
        /* @__PURE__ */ jsxs("div", { children: [
          /* @__PURE__ */ jsx("h1", { className: "text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 mb-1 sm:mb-2", children: "Paiement de l'appel d'offre" }),
          /* @__PURE__ */ jsx("p", { className: "text-gray-600 text-base sm:text-lg", children: "Finalisez votre commande en toute sécurité" })
        ] })
      ] }) }),
      /* @__PURE__ */ jsxs("div", { className: "flex flex-col lg:grid lg:grid-cols-3 gap-6 lg:gap-8", children: [
        /* @__PURE__ */ jsx("div", { className: "lg:col-span-2 order-2 lg:order-1", children: /* @__PURE__ */ jsxs("div", { className: "bg-white rounded-xl sm:rounded-2xl shadow-lg border border-gray-200 overflow-hidden", children: [
          /* @__PURE__ */ jsxs("div", { className: "p-4 sm:p-6 border-b border-gray-100", children: [
            /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-3 mb-2", children: [
              /* @__PURE__ */ jsx("div", { className: "w-7 h-7 sm:w-8 sm:h-8 bg-red-100 text-red-600 rounded-full flex items-center justify-center font-semibold text-sm sm:text-base", children: "1" }),
              /* @__PURE__ */ jsx("h2", { className: "text-lg sm:text-xl font-bold text-gray-900", children: "Mode de paiement" })
            ] }),
            /* @__PURE__ */ jsx("p", { className: "text-gray-600 ml-10 sm:ml-11 text-sm sm:text-base", children: "Choisissez votre méthode de paiement préférée" })
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "p-4 sm:p-6", children: [
            /* @__PURE__ */ jsx("div", { className: "space-y-4", children: paymentMethods.map((method) => /* @__PURE__ */ jsxs(
              "div",
              {
                className: `relative p-4 sm:p-6 border-2 rounded-lg sm:rounded-xl cursor-pointer transition-all duration-200 ${selectedMethod === method.id ? "border-red-500 bg-red-50 shadow-md" : "border-gray-200 hover:border-gray-300 hover:shadow-sm"}`,
                onClick: () => setSelectedMethod(method.id),
                children: [
                  /* @__PURE__ */ jsxs("div", { className: "flex items-start sm:items-center gap-3 sm:gap-4", children: [
                    /* @__PURE__ */ jsx(
                      "div",
                      {
                        className: `w-5 h-5 rounded-full border-2 flex items-center justify-center mt-0.5 sm:mt-0 flex-shrink-0 ${selectedMethod === method.id ? "border-red-500" : "border-gray-300"}`,
                        children: selectedMethod === method.id && /* @__PURE__ */ jsx("div", { className: "w-2.5 h-2.5 bg-red-500 rounded-full" })
                      }
                    ),
                    /* @__PURE__ */ jsxs("div", { className: "flex items-start sm:items-center gap-3 flex-1 min-w-0", children: [
                      /* @__PURE__ */ jsx("div", { className: "p-2 bg-red-100 rounded-lg flex-shrink-0", children: method.icon }),
                      /* @__PURE__ */ jsxs("div", { className: "min-w-0 flex-1", children: [
                        /* @__PURE__ */ jsx("h3", { className: "font-semibold text-gray-900 text-sm sm:text-base", children: method.label }),
                        /* @__PURE__ */ jsx("p", { className: "text-xs sm:text-sm text-gray-600 mt-1", children: method.description })
                      ] })
                    ] })
                  ] }),
                  selectedMethod === method.id && method.id === "bank_transfer" && /* @__PURE__ */ jsx("div", { className: "mt-4 sm:mt-6 pt-4 sm:pt-6 border-t border-gray-200", children: /* @__PURE__ */ jsxs("div", { className: "space-y-4 lg:space-y-0 lg:grid lg:grid-cols-3 lg:gap-6", children: [
                    /* @__PURE__ */ jsxs("div", { className: "lg:col-span-2", children: [
                      /* @__PURE__ */ jsxs("div", { className: "flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-0 mb-4", children: [
                        /* @__PURE__ */ jsxs("h4", { className: "font-semibold text-gray-900 flex items-center gap-2 text-sm sm:text-base", children: [
                          /* @__PURE__ */ jsx(Info, { className: "w-4 h-4 text-red-600" }),
                          "Coordonnées bancaires"
                        ] }),
                        /* @__PURE__ */ jsx(
                          "button",
                          {
                            onClick: copyAllBankDetails,
                            className: "flex items-center gap-2 px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-xs sm:text-sm font-medium w-fit",
                            children: copiedField === "all" ? /* @__PURE__ */ jsxs(Fragment, { children: [
                              /* @__PURE__ */ jsx(Check, { className: "w-4 h-4" }),
                              "Copié!"
                            ] }) : /* @__PURE__ */ jsxs(Fragment, { children: [
                              /* @__PURE__ */ jsx(Copy, { className: "w-4 h-4" }),
                              "Tout copier"
                            ] })
                          }
                        )
                      ] }),
                      /* @__PURE__ */ jsx("div", { className: "space-y-3", children: bankDetails.map((detail, index2) => /* @__PURE__ */ jsxs(
                        "div",
                        {
                          className: "flex items-start sm:items-center justify-between p-3 bg-red-50 rounded-lg border border-red-200 gap-3",
                          children: [
                            /* @__PURE__ */ jsxs("div", { className: "min-w-0 flex-1", children: [
                              /* @__PURE__ */ jsxs("span", { className: "text-xs sm:text-sm text-red-700", children: [
                                detail.label,
                                ":"
                              ] }),
                              /* @__PURE__ */ jsx("p", { className: "font-medium text-gray-900 break-all text-sm sm:text-base", children: detail.value })
                            ] }),
                            /* @__PURE__ */ jsx(
                              "button",
                              {
                                onClick: () => copyToClipboard2(detail.value, detail.label),
                                className: "p-2 text-gray-500 hover:text-red-600 transition-colors flex-shrink-0",
                                title: "Copier",
                                children: copiedField === detail.label ? /* @__PURE__ */ jsx(Check, { className: "w-4 h-4 text-green-600" }) : /* @__PURE__ */ jsx(Copy, { className: "w-4 h-4" })
                              }
                            )
                          ]
                        },
                        index2
                      )) }),
                      /* @__PURE__ */ jsx("div", { className: "mt-4 p-3 bg-yellow-50 rounded-lg border border-yellow-200", children: /* @__PURE__ */ jsxs("p", { className: "text-xs sm:text-sm text-gray-700 flex items-start gap-2", children: [
                        /* @__PURE__ */ jsx(Info, { className: "w-4 h-4 mt-0.5 flex-shrink-0" }),
                        "Vous devez répondre à ce mail en joignant une capture d'écran de votre virement, ainsi que le numéro de référence que vous recevrez par email."
                      ] }) })
                    ] }),
                    /* @__PURE__ */ jsxs("div", { className: "flex flex-col items-center justify-center p-4 bg-gray-50 rounded-lg lg:bg-transparent lg:p-0", children: [
                      /* @__PURE__ */ jsxs("div", { className: "text-center mb-3", children: [
                        /* @__PURE__ */ jsx("h4", { className: "font-semibold text-gray-900 mb-1 text-sm sm:text-base", children: "Paiement mobile" }),
                        /* @__PURE__ */ jsx("p", { className: "text-xs sm:text-sm text-gray-600", children: "Scannez le QR code" })
                      ] }),
                      /* @__PURE__ */ jsx("div", { className: "p-3 bg-white border-2 border-gray-200 rounded-xl shadow-sm", children: /* @__PURE__ */ jsx(
                        "img",
                        {
                          src: "/placeholder.svg?width=96&height=96",
                          alt: "QR Code pour paiement",
                          className: "w-20 h-20 sm:w-24 sm:h-24 object-contain"
                        }
                      ) }),
                      /* @__PURE__ */ jsxs("p", { className: "text-xs text-gray-500 mt-2 text-center", children: [
                        "Compatible avec tous les ",
                        /* @__PURE__ */ jsx("br", {}),
                        "portefeuilles mobiles"
                      ] })
                    ] })
                  ] }) })
                ]
              },
              method.id
            )) }),
            /* @__PURE__ */ jsx(
              "button",
              {
                onClick: handlePayment,
                disabled: !selectedMethod || isProcessing,
                className: `w-full mt-6 py-3 sm:py-4 px-4 sm:px-6 rounded-lg sm:rounded-xl font-semibold text-base sm:text-lg transition-all duration-200 ${!selectedMethod || isProcessing ? "bg-gray-200 text-gray-500 cursor-not-allowed" : "bg-red-600 hover:bg-red-700 text-white shadow-lg hover:shadow-xl"}`,
                children: /* @__PURE__ */ jsx("div", { className: "flex items-center justify-center gap-2", children: isProcessing ? "Traitement..." : /* @__PURE__ */ jsxs(Fragment, { children: [
                  /* @__PURE__ */ jsx(CheckCircle, { className: "w-5 h-5" }),
                  "Confirmer le paiement",
                  selectedMethod && /* @__PURE__ */ jsx(ChevronRight, { className: "w-5 h-5" })
                ] }) })
              }
            )
          ] })
        ] }) }),
        /* @__PURE__ */ jsxs("div", { className: "space-y-4 sm:space-y-6 order-1 lg:order-2", children: [
          /* @__PURE__ */ jsxs("div", { className: "bg-white rounded-xl sm:rounded-2xl shadow-lg border border-gray-200 overflow-hidden", children: [
            /* @__PURE__ */ jsx("div", { className: "p-4 sm:p-6 border-b border-gray-100", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-3 mb-2", children: [
              /* @__PURE__ */ jsx("div", { className: "w-7 h-7 sm:w-8 sm:h-8 bg-green-100 text-green-600 rounded-full flex items-center justify-center font-semibold text-sm sm:text-base", children: "2" }),
              /* @__PURE__ */ jsx("h2", { className: "text-lg sm:text-xl font-bold text-gray-900", children: "Récapitulatif" })
            ] }) }),
            /* @__PURE__ */ jsx("div", { className: "p-4 sm:p-6", children: /* @__PURE__ */ jsxs("div", { className: "space-y-4", children: [
              /* @__PURE__ */ jsxs("div", { className: "flex justify-between items-center", children: [
                /* @__PURE__ */ jsx("span", { className: "text-gray-600 text-sm sm:text-base", children: "Prix de l'appel d'offre" }),
                /* @__PURE__ */ jsx("span", { className: "font-medium text-sm sm:text-base", children: "300.00 MAD" })
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "flex justify-between items-center", children: [
                /* @__PURE__ */ jsx("span", { className: "text-gray-600 text-sm sm:text-base", children: "TVA (20%)" }),
                /* @__PURE__ */ jsx("span", { className: "font-medium text-sm sm:text-base", children: "60.00 MAD" })
              ] }),
              /* @__PURE__ */ jsx("div", { className: "border-t border-gray-200 pt-4", children: /* @__PURE__ */ jsxs("div", { className: "flex justify-between items-center", children: [
                /* @__PURE__ */ jsx("span", { className: "text-base sm:text-lg font-bold text-gray-900", children: "Total" }),
                /* @__PURE__ */ jsxs("span", { className: "text-xl sm:text-2xl font-bold text-red-600", children: [
                  amountToPay.toFixed(2),
                  " MAD"
                ] })
              ] }) })
            ] }) })
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "bg-gradient-to-br from-red-50 to-pink-50 rounded-xl sm:rounded-2xl p-4 sm:p-6 border border-red-200", children: [
            /* @__PURE__ */ jsxs("div", { className: "flex items-start gap-3", children: [
              /* @__PURE__ */ jsx("div", { className: "p-2 bg-red-100 rounded-lg flex-shrink-0", children: /* @__PURE__ */ jsx(Shield, { className: "w-4 h-4 sm:w-5 sm:h-5 text-red-600" }) }),
              /* @__PURE__ */ jsxs("div", { className: "min-w-0 flex-1", children: [
                /* @__PURE__ */ jsx("h3", { className: "font-semibold text-gray-900 mb-2 text-sm sm:text-base", children: "Paiement sécurisé" }),
                /* @__PURE__ */ jsx("p", { className: "text-xs sm:text-sm text-gray-700 mb-3", children: "Vos données sont protégées par un cryptage de niveau bancaire." }),
                /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2 text-xs text-gray-600", children: [
                  /* @__PURE__ */ jsx("div", { className: "w-2 h-2 bg-green-500 rounded-full" }),
                  /* @__PURE__ */ jsx("span", { children: "SSL 256-bit" })
                ] })
              ] })
            ] }),
            /* @__PURE__ */ jsx("div", { className: "mt-4 pt-4 border-t border-red-200", children: /* @__PURE__ */ jsx("img", { src: "/payzone-1.webp", alt: "Payzone", className: "w-full h-auto max-w-32 sm:max-w-none mx-auto" }) })
          ] })
        ] })
      ] })
    ] }) }),
    /* @__PURE__ */ jsx(
      PaymentSuccessModal,
      {
        isOpen: showSuccessModal,
        onClose: handleCloseSuccessModal,
        amount: amountToPay,
        referenceNumber: `REF-${Math.floor(Math.random() * 1e6)}`
      }
    ),
    /* @__PURE__ */ jsx(Footer$1, {})
  ] });
}
const __vite_glob_0_53 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: PaymentPage
}, Symbol.toStringTag, { value: "Module" }));
const getTypeColor = (type) => {
  switch (type) {
    case "PUBLIC":
      return "bg-green-600 text-white border-green-700/20";
    case "PRIVE":
      return "bg-blue-600 text-white border-blue-700/20";
    case "INTERNATIONAL":
      return "bg-purple-600 text-white border-purple-700/20";
    case "RESTREINT":
      return "bg-orange-600 text-white border-orange-700/20";
    default:
      return "bg-[#0F172A] text-white border-[#1a2a4b]/20";
  }
};
const route$1 = (name, params = {}) => {
  if (name === "appels-offres.single") {
    return `/appels-offres/single-appel-offre/${params.id || params}`;
  }
  if (name === "client.appel-offre.create") {
    return `/appel-offre/publier`;
  }
  if (name === "appels-offres") {
    return `/appels-offres${params.type ? `?type=${params.type}` : ""}`;
  }
  return `/${name}${params ? `/${params}` : ""}`;
};
function SingleAppelOffre({ appelOffre, relatedAppelsOffres, auth }) {
  var _a2, _b, _c;
  const [canonicalUrl, setCanonicalUrl] = useState("");
  useEffect(() => {
    if (typeof window !== "undefined") {
      setCanonicalUrl(window.location.href);
    }
  }, []);
  const filteredRelatedAppelsOffres = Array.isArray(relatedAppelsOffres) ? relatedAppelsOffres.filter((item) => item.id !== appelOffre.id) : [];
  return /* @__PURE__ */ jsxs("main", { className: "min-h-screen flex flex-col bg-gray-50", children: [
    /* @__PURE__ */ jsxs(Head, { children: [
      /* @__PURE__ */ jsx("title", { children: appelOffre.titre }),
      /* @__PURE__ */ jsx(
        "meta",
        {
          name: "description",
          content: ((_a2 = appelOffre.objet) == null ? void 0 : _a2.substring(0, 150)) + (((_b = appelOffre.objet) == null ? void 0 : _b.length) > 150 ? "…" : "")
        }
      ),
      /* @__PURE__ */ jsx("meta", { name: "robots", content: "index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1" }),
      canonicalUrl && /* @__PURE__ */ jsx("link", { rel: "canonical", href: canonicalUrl }),
      /* @__PURE__ */ jsx("meta", { property: "og:type", content: "article" }),
      /* @__PURE__ */ jsx("meta", { property: "og:title", content: `Appel d'offre: ${appelOffre.titre}` }),
      /* @__PURE__ */ jsx(
        "meta",
        {
          property: "og:description",
          content: `Détail de l'appel d'offre en ${appelOffre.type} dans le secteur ${appelOffre.secteur} publié à ${appelOffre.ville}.`
        }
      ),
      canonicalUrl && /* @__PURE__ */ jsx("meta", { property: "og:url", content: canonicalUrl }),
      /* @__PURE__ */ jsx("meta", { property: "og:site_name", content: "Wepress Eco" }),
      /* @__PURE__ */ jsx("meta", { name: "twitter:card", content: "summary" }),
      /* @__PURE__ */ jsx("meta", { name: "twitter:title", content: `Appel d'offre: ${appelOffre.titre}` }),
      /* @__PURE__ */ jsx(
        "meta",
        {
          name: "twitter:description",
          content: `Publié à ${appelOffre.ville} dans le secteur ${appelOffre.secteur}`
        }
      )
    ] }),
    /* @__PURE__ */ jsx(Header, { auth: { user: auth.user } }),
    /* @__PURE__ */ jsx("div", { className: "w-full py-4 pt-32 bg-gray-50", children: /* @__PURE__ */ jsx("div", { className: "w-full max-w-[79rem] mx-auto px-4", children: /* @__PURE__ */ jsxs("div", { className: "flex flex-col sm:flex-row sm:justify-between sm:items-center", children: [
      /* @__PURE__ */ jsx("div", { className: "flex items-center mb-4 sm:mb-0", children: /* @__PURE__ */ jsx("h1", { className: "text-2xl sm:text-3xl font-bold text-[#0F172A]", children: appelOffre.titre }) }),
      /* @__PURE__ */ jsxs(
        "button",
        {
          type: "button",
          onClick: () => window.history.back(),
          className: "flex items-center gap-2 px-4 sm:px-5 py-2 sm:py-2.5 bg-white border border-gray-200 rounded-lg shadow-sm text-sm sm:text-base font-medium text-[#1a2a4b] hover:bg-gray-100 w-fit",
          children: [
            /* @__PURE__ */ jsx("div", { className: "bg-[#e63946]/10 p-1.5 rounded-md", children: /* @__PURE__ */ jsx(ArrowLeft, { className: "h-4 w-4 sm:h-5 sm:w-5 text-[#e63946]" }) }),
            /* @__PURE__ */ jsx("span", { children: "Retour" })
          ]
        }
      )
    ] }) }) }),
    /* @__PURE__ */ jsx("section", { className: "relative flex-grow pt-6 bg-gray-50", children: /* @__PURE__ */ jsxs("div", { className: "w-full max-w-[79rem] mx-auto px-4 sm:px-6", children: [
      /* @__PURE__ */ jsx("div", { className: "mb-6 sm:mb-8", children: /* @__PURE__ */ jsxs("p", { className: "text-gray-600 max-w-2xl text-sm sm:text-base", children: [
        "Consultez les détails de cet ",
        appelOffre.type,
        " et découvrez d'autres appels d'offres similaires."
      ] }) }),
      /* @__PURE__ */ jsxs("div", { className: "flex flex-col lg:flex-row gap-6 sm:gap-8", children: [
        /* @__PURE__ */ jsx("div", { className: "w-full lg:w-2/3", children: /* @__PURE__ */ jsxs("div", { className: "bg-white rounded-xl shadow-lg border border-[#0F172A]/10 overflow-hidden transform transition-all hover:shadow-md", children: [
          /* @__PURE__ */ jsxs("div", { className: "bg-[#0F172A]/5 p-4 sm:p-6 border-b border-gray-100", children: [
            /* @__PURE__ */ jsxs("h2", { className: "text-lg sm:text-xl font-bold text-[#0F172A] flex items-center", children: [
              /* @__PURE__ */ jsx(Briefcase, { className: "mr-2 sm:mr-3 h-5 w-5 text-[#e63946]" }),
              "Informations de ",
              appelOffre.type
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "flex flex-wrap items-center gap-2 sm:gap-3 mt-3 sm:mt-4", children: [
              /* @__PURE__ */ jsxs(
                "span",
                {
                  className: `${getTypeColor(appelOffre.type)} text-xs sm:text-sm font-medium px-2.5 sm:px-3 py-0.5 sm:py-1 rounded-full border flex items-center`,
                  children: [
                    /* @__PURE__ */ jsx("div", { className: "w-1.5 h-1.5 sm:w-2 sm:h-2 rounded-full bg-current mr-1 sm:mr-1.5" }),
                    appelOffre.type
                  ]
                }
              ),
              /* @__PURE__ */ jsxs("span", { className: "text-gray-500 text-xs sm:text-sm flex items-center bg-gray-50 px-2.5 sm:px-3 py-0.5 sm:py-1 rounded-full", children: [
                /* @__PURE__ */ jsx(Calendar$2, { className: "h-3.5 w-3.5 sm:h-4 sm:w-4 mr-1 sm:mr-1.5" }),
                appelOffre.date
              ] })
            ] })
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "p-4 sm:p-6", children: [
            /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 mb-5 sm:mb-6 bg-gray-50 p-3 sm:p-4 rounded-lg border border-gray-100", children: [
              /* @__PURE__ */ jsxs("div", { className: "flex items-center text-gray-600 text-xs sm:text-sm", children: [
                /* @__PURE__ */ jsx(User$1, { className: "h-3.5 w-3.5 sm:h-4 sm:w-4 mr-1.5 sm:mr-2 text-[#0F172A]" }),
                /* @__PURE__ */ jsx("span", { className: "font-medium mr-1", children: "Publié par:" }),
                " ",
                /* @__PURE__ */ jsx("span", { className: "truncate", children: ((_c = appelOffre.user) == null ? void 0 : _c.name) || "Utilisateur inconnu" })
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "flex items-center text-gray-600 text-xs sm:text-sm", children: [
                /* @__PURE__ */ jsx(MapPin, { className: "h-3.5 w-3.5 sm:h-4 sm:w-4 mr-1.5 sm:mr-2 text-[#0F172A]" }),
                /* @__PURE__ */ jsx("span", { className: "font-medium mr-1", children: "Ville:" }),
                " ",
                appelOffre.ville
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "flex items-center text-gray-600 text-xs sm:text-sm", children: [
                /* @__PURE__ */ jsx(Globe, { className: "h-3.5 w-3.5 sm:h-4 sm:w-4 mr-1.5 sm:mr-2 text-[#0F172A]" }),
                /* @__PURE__ */ jsx("span", { className: "font-medium mr-1", children: "Secteur:" }),
                /* @__PURE__ */ jsx("span", { className: "truncate", children: appelOffre.secteur })
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "flex items-center text-gray-600 text-xs sm:text-sm", children: [
                /* @__PURE__ */ jsx(FileText, { className: "h-3.5 w-3.5 sm:h-4 sm:w-4 mr-1.5 sm:mr-2 text-[#0F172A]" }),
                /* @__PURE__ */ jsx("span", { className: "font-medium mr-1", children: "ICE:" }),
                " ",
                appelOffre.ICE
              ] })
            ] }),
            /* @__PURE__ */ jsxs("h3", { className: "text-base sm:text-lg font-semibold text-[#1a2a4b] mb-3 sm:mb-4 flex items-center", children: [
              /* @__PURE__ */ jsx("span", { className: "bg-[#e63946] text-white rounded-full w-6 h-6 sm:w-7 sm:h-7 inline-flex items-center justify-center mr-2 sm:mr-2.5 shadow-sm", children: /* @__PURE__ */ jsx(FileText, { className: "h-3.5 w-3.5 sm:h-4 sm:w-4" }) }),
              "Objet de ",
              appelOffre.type
            ] }),
            /* @__PURE__ */ jsx("div", { className: "prose max-w-none bg-gray-50 p-3 sm:p-5 rounded-lg border border-gray-100 shadow-sm", children: appelOffre.objet.split("\n").map((paragraph, index2) => /* @__PURE__ */ jsx(
              "p",
              {
                className: "mb-2 sm:mb-3 text-sm sm:text-base text-gray-700 last:mb-0 leading-relaxed",
                children: paragraph
              },
              index2
            )) })
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "p-4 sm:p-5 bg-gray-50 border-t border-gray-100 flex flex-wrap justify-between items-center gap-3", children: [
            /* @__PURE__ */ jsxs("div", { className: "flex items-center text-gray-500 text-xs sm:text-sm", children: [
              /* @__PURE__ */ jsx(Calendar$2, { className: "h-3.5 w-3.5 sm:h-4 sm:w-4 mr-1 sm:mr-1.5" }),
              "Date limite: ",
              appelOffre.date
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "flex flex-wrap items-center gap-2 sm:gap-3", children: [
              /* @__PURE__ */ jsxs(
                Button,
                {
                  variant: "outline",
                  size: "sm",
                  className: "text-gray-600 border-gray-300 hover:bg-gray-100 transition-colors text-xs sm:text-sm h-8 sm:h-9",
                  onClick: () => window.print(),
                  children: [
                    /* @__PURE__ */ jsx(Printer, { className: "h-3.5 w-3.5 sm:h-4 sm:w-4 mr-1.5 sm:mr-2" }),
                    "Imprimer"
                  ]
                }
              ),
              /* @__PURE__ */ jsxs(
                Button,
                {
                  variant: "outline",
                  size: "sm",
                  className: "text-gray-600 border-gray-300 hover:bg-gray-100 transition-colors text-xs sm:text-sm h-8 sm:h-9",
                  onClick: () => {
                    if (navigator.share) {
                      navigator.share({
                        title: appelOffre.titre,
                        text: `Appel d'offre: ${appelOffre.titre}`,
                        url: window.location.href
                      });
                    } else {
                      navigator.clipboard.writeText(window.location.href);
                      alert("Lien copié dans le presse-papier!");
                    }
                  },
                  children: [
                    /* @__PURE__ */ jsx(Share2, { className: "h-3.5 w-3.5 sm:h-4 sm:w-4 mr-1.5 sm:mr-2" }),
                    "Partager"
                  ]
                }
              )
            ] })
          ] })
        ] }) }),
        /* @__PURE__ */ jsx("div", { className: "w-full lg:w-1/3 mt-4 lg:mt-0", children: /* @__PURE__ */ jsxs("div", { className: "bg-white rounded-xl shadow-lg border border-[#0F172A]/10 overflow-hidden lg:sticky lg:top-28", children: [
          /* @__PURE__ */ jsxs("div", { className: "p-4 sm:p-5 bg-[#0F172A] text-white", children: [
            /* @__PURE__ */ jsx(Link, { href: route$1("client.appel-offre.create"), className: "block", children: /* @__PURE__ */ jsxs(Button, { className: "w-full bg-[#e63946] hover:bg-[#e63946]/90 text-white rounded-lg flex items-center justify-center transition-colors py-3 sm:py-3.5", children: [
              /* @__PURE__ */ jsx(PlusCircle, { className: "mr-2 h-4 w-4 sm:h-5 sm:w-5" }),
              /* @__PURE__ */ jsx("span", { className: "font-medium", children: "Publier un appel d'offre" })
            ] }) }),
            /* @__PURE__ */ jsx("p", { className: "text-white/70 text-xs sm:text-sm mt-2 text-center", children: "Publiez votre appel d'offre et touchez des milliers de professionnels" })
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "relative overflow-hidden", children: [
            /* @__PURE__ */ jsx("div", { className: "absolute inset-0 bg-gray-100 opacity-90" }),
            /* @__PURE__ */ jsxs("div", { className: "relative p-4 sm:p-5 text-black", children: [
              /* @__PURE__ */ jsx("h2", { className: "text-base sm:text-lg font-bold mb-0.5 sm:mb-1", children: "Types similaires" }),
              /* @__PURE__ */ jsxs("p", { className: "text-xs sm:text-sm text-black/80", children: [
                "Autres annonces de type ",
                /* @__PURE__ */ jsx("span", { className: "font-semibold", children: appelOffre.type })
              ] })
            ] })
          ] }),
          /* @__PURE__ */ jsx("div", { className: "divide-y divide-gray-100", children: filteredRelatedAppelsOffres.length > 0 ? filteredRelatedAppelsOffres.slice(0, 3).map((relatedAppelOffre) => /* @__PURE__ */ jsx("div", { className: "p-3 sm:p-4 hover:bg-gray-50 transition-colors", children: /* @__PURE__ */ jsx(Link, { href: route$1("appels-offres.single", relatedAppelOffre.id), className: "block", children: /* @__PURE__ */ jsxs("div", { className: "flex items-start gap-2 sm:gap-3", children: [
            /* @__PURE__ */ jsx("div", { className: "flex-shrink-0 w-8 h-8 sm:w-9 sm:h-9 bg-[#1a2a4b]/10 rounded-lg flex items-center justify-center text-[#1a2a4b]", children: /* @__PURE__ */ jsx(Briefcase, { className: "w-3.5 h-3.5 sm:w-4 sm:h-4" }) }),
            /* @__PURE__ */ jsxs("div", { className: "flex-grow", children: [
              /* @__PURE__ */ jsx("h4", { className: "font-medium text-sm sm:text-base text-[#1a2a4b] line-clamp-1 hover:text-[#e63946] transition-colors", children: relatedAppelOffre.titre }),
              /* @__PURE__ */ jsxs("div", { className: "flex items-center text-xs text-gray-500 mt-0.5 sm:mt-1", children: [
                /* @__PURE__ */ jsx(Globe, { className: "w-3 h-3 mr-1" }),
                /* @__PURE__ */ jsx("span", { className: "line-clamp-1", children: relatedAppelOffre.secteur })
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "flex flex-col sm:flex-row sm:items-center sm:justify-between mt-1 sm:mt-1.5 gap-1 sm:gap-0", children: [
                /* @__PURE__ */ jsxs("span", { className: "text-xs text-gray-500 flex items-center", children: [
                  /* @__PURE__ */ jsx(Calendar$2, { className: "w-3 h-3 mr-1" }),
                  relatedAppelOffre.date
                ] }),
                /* @__PURE__ */ jsxs("span", { className: "text-xs text-gray-500 flex items-center", children: [
                  /* @__PURE__ */ jsx(MapPin, { className: "w-3 h-3 mr-1" }),
                  relatedAppelOffre.ville
                ] })
              ] })
            ] })
          ] }) }) }, relatedAppelOffre.id)) : /* @__PURE__ */ jsxs("div", { className: "p-4 sm:p-6 text-center text-gray-500", children: [
            /* @__PURE__ */ jsx("div", { className: "bg-gray-50 w-12 h-12 sm:w-14 sm:h-14 mx-auto rounded-full flex items-center justify-center mb-2 sm:mb-3", children: /* @__PURE__ */ jsx(Tag, { className: "w-5 h-5 sm:w-6 sm:h-6 text-gray-400" }) }),
            /* @__PURE__ */ jsx("p", { className: "font-medium text-sm sm:text-base text-gray-600", children: "Aucune annonce similaire" }),
            /* @__PURE__ */ jsxs("p", { className: "text-xs sm:text-sm mt-1", children: [
              "Il n'y a pas d'autres annonces de type ",
              appelOffre.type,
              " pour le moment."
            ] })
          ] }) }),
          filteredRelatedAppelsOffres.length > 0 && /* @__PURE__ */ jsx("div", { className: "p-3 sm:p-4 bg-gray-50 border-t border-gray-100", children: /* @__PURE__ */ jsx(Link, { href: route$1("appels-offres", { type: appelOffre.type }), children: /* @__PURE__ */ jsxs(
            Button,
            {
              variant: "outline",
              size: "sm",
              className: "w-full border-[#1a2a4b]/20 hover:bg-[#0f172a] text-[#1a2a4b] hover:text-white text-xs sm:text-sm h-8 sm:h-9",
              children: [
                /* @__PURE__ */ jsxs("span", { children: [
                  "Voir tous les appels d'offres ",
                  appelOffre.type
                ] }),
                /* @__PURE__ */ jsx(ChevronRight, { className: "w-3.5 h-3.5 sm:w-4 sm:h-4 ml-1" })
              ]
            }
          ) }) }),
          /* @__PURE__ */ jsx("div", { className: "border-t border-gray-100", children: /* @__PURE__ */ jsx("div", { className: "bg-[#0f172a] p-4 sm:p-5 text-white", children: /* @__PURE__ */ jsxs("div", { className: "flex items-start", children: [
            /* @__PURE__ */ jsx("div", { className: "bg-white/20 p-2 sm:p-2.5 rounded-lg mr-3 sm:mr-4", children: /* @__PURE__ */ jsx(Eye, { className: "w-4 h-4 sm:w-5 sm:h-5 text-white" }) }),
            /* @__PURE__ */ jsxs("div", { children: [
              /* @__PURE__ */ jsx("h2", { className: "text-base sm:text-lg font-bold mb-1.5 sm:mb-2", children: "Besoin de plus de visibilité?" }),
              /* @__PURE__ */ jsx("p", { className: "text-white/80 text-xs sm:text-sm mb-3 sm:mb-4", children: "Publiez votre appel d'offre avec nous et bénéficiez d'une visibilité maximale auprès des professionnels." })
            ] })
          ] }) }) })
        ] }) })
      ] })
    ] }) }),
    /* @__PURE__ */ jsx(Footer$1, {})
  ] });
}
const __vite_glob_0_54 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: SingleAppelOffre
}, Symbol.toStringTag, { value: "Module" }));
const __vite_glob_0_55 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null
}, Symbol.toStringTag, { value: "Module" }));
const formatDate = (dateString) => {
  const options = {
    day: "2-digit",
    month: "2-digit",
    year: "numeric"
  };
  return new Date(dateString).toLocaleDateString("fr-FR", options);
};
function JournauxClient({ journaux = [], auth, seo }) {
  const [canonicalUrl, setCanonicalUrl] = useState("");
  useEffect(() => {
    if (typeof window !== "undefined") {
      setCanonicalUrl(window.location.href);
    }
  }, []);
  const [searchQuery, setSearchQuery] = useState("");
  const [selectedFilter, setSelectedFilter] = useState("all");
  const [activeJournal, setActiveJournal] = useState(null);
  const [isSearchFocused, setIsSearchFocused] = useState(false);
  const [scrolled, setScrolled] = useState(false);
  const [sortConfig, setSortConfig] = useState(null);
  useEffect(() => {
    const handleScroll = () => {
      setScrolled(window.scrollY > 50);
    };
    window.addEventListener("scroll", handleScroll);
    return () => window.removeEventListener("scroll", handleScroll);
  }, []);
  const filteredJournaux = journaux ? journaux.filter((journal) => {
    if (searchQuery && !journal.titre.toLowerCase().includes(searchQuery.toLowerCase())) {
      return false;
    }
    if (selectedFilter === "recent") {
      const today2 = /* @__PURE__ */ new Date();
      const journalDate = new Date(journal.created_at);
      const diffTime = Math.abs(today2.getTime() - journalDate.getTime());
      const diffDays2 = Math.ceil(diffTime / (1e3 * 60 * 60 * 24));
      if (diffDays2 > 7) {
        return false;
      }
    }
    return true;
  }) : [];
  const sortedJournaux = [...filteredJournaux];
  if (sortConfig !== null) {
    sortedJournaux.sort((a, b) => {
      if (sortConfig.key === "titre") {
        if (a.titre < b.titre) {
          return sortConfig.direction === "ascending" ? -1 : 1;
        }
        if (a.titre > b.titre) {
          return sortConfig.direction === "ascending" ? 1 : -1;
        }
        return 0;
      } else if (sortConfig.key === "created_at") {
        const dateA = new Date(a.created_at).getTime();
        const dateB = new Date(b.created_at).getTime();
        return sortConfig.direction === "ascending" ? dateA - dateB : dateB - dateA;
      }
      return 0;
    });
  }
  const requestSort = (key) => {
    let direction = "ascending";
    if (sortConfig && sortConfig.key === key && sortConfig.direction === "ascending") {
      direction = "descending";
    }
    setSortConfig({ key, direction });
  };
  return /* @__PURE__ */ jsxs("main", { className: "min-h-screen flex flex-col bg-gray-50", children: [
    /* @__PURE__ */ jsxs(Head, { children: [
      /* @__PURE__ */ jsx("title", { children: "Journal PDF quotidien des annonces légales" }),
      /* @__PURE__ */ jsx("meta", { name: "description", content: "Consultez le journal quotidien des annonces légales publiées au Maroc. Accès direct aux éditions journalières en format numérique, 100 % conforme et à jour." })
    ] }),
    /* @__PURE__ */ jsx(Header, { auth: { user: auth.user } }),
    /* @__PURE__ */ jsx("div", { className: "w-full to-white pt-24 py-4", children: /* @__PURE__ */ jsx("div", { className: "w-full max-w-[76rem] mx-auto px-4 flex justify-between items-center" }) }),
    /* @__PURE__ */ jsx("section", { className: "container mx-auto px-4 py-6 sm:py-8 md:py-10 flex-grow", children: /* @__PURE__ */ jsxs("div", { className: "w-full max-w-[76rem] mx-auto", children: [
      /* @__PURE__ */ jsxs("div", { className: "mb-6 sm:mb-8 md:mb-10", children: [
        /* @__PURE__ */ jsx("h1", { className: "text-2xl sm:text-3xl md:text-4xl font-bold mb-2 sm:mb-3 text-[#0F172A]", children: "Bibliothèque des Journaux" }),
        /* @__PURE__ */ jsx("p", { className: "text-gray-600 max-w-2xl text-sm sm:text-base", children: "Consultez et téléchargez les dernières éditions de nos journaux officiels." })
      ] }),
      /* @__PURE__ */ jsx("div", { className: "bg-white p-4 sm:p-6 rounded-xl shadow-lg border border-[#0F172A]/10 mb-6 sm:mb-8", children: /* @__PURE__ */ jsxs("div", { className: "flex flex-col sm:flex-row gap-4", children: [
        /* @__PURE__ */ jsxs("div", { className: "relative flex-grow", children: [
          /* @__PURE__ */ jsx(MdSearch, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5" }),
          /* @__PURE__ */ jsx(
            "input",
            {
              type: "text",
              placeholder: "Rechercher un journal...",
              className: "pl-10 pr-4 py-2 border border-[#0F172A]/20 rounded-lg w-full focus:ring-2 focus:ring-[#e63946] focus:border-transparent transition-all shadow-sm text-sm sm:text-base",
              value: searchQuery,
              onChange: (e2) => setSearchQuery(e2.target.value),
              onFocus: () => setIsSearchFocused(true),
              onBlur: () => setIsSearchFocused(false)
            }
          )
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "relative w-full sm:w-64", children: [
          /* @__PURE__ */ jsxs(
            "select",
            {
              className: "appearance-none pl-4 pr-10 py-2 border border-[#0F172A]/20 rounded-lg bg-white w-full focus:ring-2 focus:ring-[#e63946] focus:border-transparent transition-all shadow-sm text-sm sm:text-base",
              value: selectedFilter,
              onChange: (e2) => setSelectedFilter(e2.target.value),
              children: [
                /* @__PURE__ */ jsx("option", { value: "all", children: "Tous les journaux" }),
                /* @__PURE__ */ jsx("option", { value: "recent", children: "Publications récentes" })
              ]
            }
          ),
          /* @__PURE__ */ jsx(MdFilterList, { className: "absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none h-5 w-5" })
        ] })
      ] }) }),
      /* @__PURE__ */ jsxs("div", { className: "mb-8 sm:mb-10 md:mb-12", children: [
        /* @__PURE__ */ jsx("div", { className: "flex items-center justify-between mb-4 sm:mb-6", children: /* @__PURE__ */ jsxs("h2", { className: "text-lg sm:text-xl font-bold text-[#0F172A] flex items-center", children: [
          /* @__PURE__ */ jsx(MdNewspaper, { className: "mr-2 sm:mr-3 h-5 w-5 text-[#e63946]" }),
          "Nos Publications",
          filteredJournaux.length > 0 && /* @__PURE__ */ jsxs("span", { className: "ml-2 sm:ml-3 text-xs sm:text-sm font-medium bg-[#0F172A]/10 text-[#0F172A] px-2 sm:px-3 py-0.5 sm:py-1 rounded-full", children: [
            filteredJournaux.length,
            " ",
            filteredJournaux.length === 1 ? "journal" : "journaux"
          ] })
        ] }) }),
        filteredJournaux.length > 0 ? /* @__PURE__ */ jsxs("div", { className: "bg-white rounded-xl shadow-lg overflow-hidden border border-[#0F172A]/10", children: [
          /* @__PURE__ */ jsx("div", { className: "hidden sm:block overflow-x-auto", children: /* @__PURE__ */ jsxs("table", { className: "min-w-full divide-y divide-gray-200", children: [
            /* @__PURE__ */ jsx("thead", { className: "bg-[#0f172a]", children: /* @__PURE__ */ jsxs("tr", { children: [
              /* @__PURE__ */ jsx(
                "th",
                {
                  scope: "col",
                  className: "px-4 sm:px-6 py-3 sm:py-4 text-left text-xs font-medium text-white uppercase tracking-wider cursor-pointer",
                  onClick: () => requestSort("titre"),
                  children: /* @__PURE__ */ jsxs("div", { className: "flex items-center", children: [
                    /* @__PURE__ */ jsx("span", { children: "Titre du Journal" }),
                    /* @__PURE__ */ jsx(MdSort, { className: "ml-1 h-4 w-4" })
                  ] })
                }
              ),
              /* @__PURE__ */ jsx(
                "th",
                {
                  scope: "col",
                  className: "px-4 sm:px-6 py-3 sm:py-4 text-left text-xs font-medium text-white uppercase tracking-wider cursor-pointer",
                  onClick: () => requestSort("created_at"),
                  children: /* @__PURE__ */ jsxs("div", { className: "flex items-center", children: [
                    /* @__PURE__ */ jsx("span", { children: "Date de Publication" }),
                    /* @__PURE__ */ jsx(MdSort, { className: "ml-1 h-4 w-4" })
                  ] })
                }
              ),
              /* @__PURE__ */ jsx(
                "th",
                {
                  scope: "col",
                  className: "px-4 sm:px-6 py-3 sm:py-4 text-right text-xs font-medium text-white uppercase tracking-wider",
                  children: "Actions"
                }
              )
            ] }) }),
            /* @__PURE__ */ jsx("tbody", { className: "bg-white divide-y divide-gray-200", children: sortedJournaux.map((journal) => /* @__PURE__ */ jsxs(
              "tr",
              {
                className: `hover:bg-gray-50 transition-colors ${activeJournal === journal.id ? "bg-[#0F172A]/5" : ""}`,
                onMouseEnter: () => setActiveJournal(journal.id),
                onMouseLeave: () => setActiveJournal(null),
                children: [
                  /* @__PURE__ */ jsx("td", { className: "px-4 sm:px-6 py-3 sm:py-4 whitespace-nowrap", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center", children: [
                    /* @__PURE__ */ jsx(
                      "div",
                      {
                        className: `flex-shrink-0 h-8 w-8 sm:h-10 sm:w-10 rounded-md flex items-center justify-center ${activeJournal === journal.id ? "bg-[#e63946] text-white" : "bg-[#0F172A]/10 text-[#0F172A]"}`,
                        children: /* @__PURE__ */ jsx(MdOutlineNewspaper, { className: "h-4 w-4 sm:h-5 sm:w-5" })
                      }
                    ),
                    /* @__PURE__ */ jsx("div", { className: "ml-3 sm:ml-4", children: /* @__PURE__ */ jsx("div", { className: "text-xs sm:text-sm font-medium text-gray-900", children: journal.titre }) })
                  ] }) }),
                  /* @__PURE__ */ jsxs("td", { className: "px-4 sm:px-6 py-3 sm:py-4 whitespace-nowrap", children: [
                    /* @__PURE__ */ jsxs("div", { className: "flex items-center text-xs sm:text-sm text-gray-500", children: [
                      /* @__PURE__ */ jsx(MdOutlineCalendarMonth, { className: "mr-1 sm:mr-2 h-3 w-3 sm:h-4 sm:w-4 text-gray-400" }),
                      formatDate(journal.created_at)
                    ] }),
                    /* @__PURE__ */ jsxs("div", { className: "text-xs text-gray-400 mt-0.5 sm:mt-1", children: [
                      "Mis à jour: ",
                      formatDate(journal.updated_at)
                    ] })
                  ] }),
                  /* @__PURE__ */ jsx("td", { className: "px-4 sm:px-6 py-3 sm:py-4 whitespace-nowrap text-right text-sm font-medium", children: /* @__PURE__ */ jsx("div", { className: "flex items-center justify-end space-x-2 sm:space-x-3", children: /* @__PURE__ */ jsxs(
                    "a",
                    {
                      href: route("client.journaux.download", journal.id),
                      className: `inline-flex items-center px-2 sm:px-3 py-1 sm:py-1.5 rounded-md text-xs sm:text-sm font-medium ${activeJournal === journal.id ? "bg-[#e63946] text-white" : "bg-white border border-[#e63946] hover:bg-[#e63946] hover:text-white text-[#e63946] transition-colors"}`,
                      children: [
                        /* @__PURE__ */ jsx(MdOutlineDownload, { className: "mr-1 sm:mr-1.5 h-3 w-3 sm:h-4 sm:w-4" }),
                        "Télécharger"
                      ]
                    }
                  ) }) })
                ]
              },
              journal.id
            )) })
          ] }) }),
          /* @__PURE__ */ jsx("div", { className: "sm:hidden divide-y divide-gray-200", children: sortedJournaux.map((journal) => /* @__PURE__ */ jsxs(
            "div",
            {
              className: `p-4 ${activeJournal === journal.id ? "bg-[#0F172A]/5" : ""}`,
              onTouchStart: () => setActiveJournal(journal.id),
              onTouchEnd: () => setActiveJournal(null),
              children: [
                /* @__PURE__ */ jsxs("div", { className: "flex items-start mb-3", children: [
                  /* @__PURE__ */ jsx(
                    "div",
                    {
                      className: `flex-shrink-0 h-10 w-10 rounded-md flex items-center justify-center mr-3 ${activeJournal === journal.id ? "bg-[#e63946] text-white" : "bg-[#0F172A]/10 text-[#0F172A]"}`,
                      children: /* @__PURE__ */ jsx(MdOutlineNewspaper, { className: "h-5 w-5" })
                    }
                  ),
                  /* @__PURE__ */ jsx("div", { className: "flex-1", children: /* @__PURE__ */ jsx("h2", { className: "text-sm font-medium text-gray-900", children: journal.titre }) })
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "flex items-center text-xs text-gray-500 mb-3", children: [
                  /* @__PURE__ */ jsx(MdOutlineCalendarMonth, { className: "mr-1.5 h-3.5 w-3.5 text-gray-400" }),
                  /* @__PURE__ */ jsxs("div", { children: [
                    /* @__PURE__ */ jsxs("span", { children: [
                      "Publié: ",
                      formatDate(journal.created_at)
                    ] }),
                    /* @__PURE__ */ jsxs("span", { className: "block text-xs text-gray-400", children: [
                      "Mis à jour: ",
                      formatDate(journal.updated_at)
                    ] })
                  ] })
                ] }),
                /* @__PURE__ */ jsx("div", { className: "flex justify-end", children: /* @__PURE__ */ jsxs(
                  "a",
                  {
                    href: route("client.journaux.download", journal.id),
                    className: `inline-flex items-center px-3 py-1.5 rounded-md text-xs font-medium ${activeJournal === journal.id ? "bg-[#e63946] text-white" : "bg-white border border-[#e63946] text-[#e63946] hover:bg-[#e63946] hover:text-white transition-colors"}`,
                    children: [
                      /* @__PURE__ */ jsx(MdOutlineDownload, { className: "mr-1.5 h-4 w-4" }),
                      "Télécharger"
                    ]
                  }
                ) })
              ]
            },
            journal.id
          )) }),
          /* @__PURE__ */ jsxs("div", { className: "bg-gray-50 px-4 sm:px-6 py-2 sm:py-3 flex items-center justify-between border-t border-gray-200", children: [
            /* @__PURE__ */ jsxs("div", { className: "flex-1 flex justify-between sm:hidden", children: [
              /* @__PURE__ */ jsx(
                "a",
                {
                  href: "#",
                  className: "relative inline-flex items-center px-3 py-1.5 border border-gray-300 text-xs font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",
                  children: "Précédent"
                }
              ),
              /* @__PURE__ */ jsx(
                "a",
                {
                  href: "#",
                  className: "ml-3 relative inline-flex items-center px-3 py-1.5 border border-gray-300 text-xs font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",
                  children: "Suivant"
                }
              )
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "hidden sm:flex-1 sm:flex sm:items-center sm:justify-between", children: [
              /* @__PURE__ */ jsx("div", { children: /* @__PURE__ */ jsxs("p", { className: "text-xs sm:text-sm text-gray-700", children: [
                "Affichage de ",
                /* @__PURE__ */ jsx("span", { className: "font-medium", children: "1" }),
                " à",
                " ",
                /* @__PURE__ */ jsx("span", { className: "font-medium", children: sortedJournaux.length }),
                " sur",
                " ",
                /* @__PURE__ */ jsx("span", { className: "font-medium", children: journaux.length }),
                " journaux"
              ] }) }),
              sortedJournaux.length > 10 && /* @__PURE__ */ jsx("div", { children: /* @__PURE__ */ jsxs(
                "nav",
                {
                  className: "relative z-0 inline-flex rounded-md shadow-sm -space-x-px",
                  "aria-label": "Pagination",
                  children: [
                    /* @__PURE__ */ jsxs(
                      "a",
                      {
                        href: "#",
                        className: "relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",
                        children: [
                          /* @__PURE__ */ jsx("span", { className: "sr-only", children: "Précédent" }),
                          /* @__PURE__ */ jsx(
                            "svg",
                            {
                              className: "h-5 w-5",
                              xmlns: "http://www.w3.org/2000/svg",
                              viewBox: "0 0 20 20",
                              fill: "currentColor",
                              "aria-hidden": "true",
                              children: /* @__PURE__ */ jsx(
                                "path",
                                {
                                  fillRule: "evenodd",
                                  d: "M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",
                                  clipRule: "evenodd"
                                }
                              )
                            }
                          )
                        ]
                      }
                    ),
                    /* @__PURE__ */ jsx(
                      "a",
                      {
                        href: "#",
                        "aria-current": "page",
                        className: "z-10 bg-[#e63946] border-[#e63946] text-white relative inline-flex items-center px-4 py-2 border text-sm font-medium",
                        children: "1"
                      }
                    ),
                    /* @__PURE__ */ jsx(
                      "a",
                      {
                        href: "#",
                        className: "bg-white border-gray-300 text-gray-500 hover:bg-gray-50 relative inline-flex items-center px-4 py-2 border text-sm font-medium",
                        children: "2"
                      }
                    ),
                    /* @__PURE__ */ jsx(
                      "a",
                      {
                        href: "#",
                        className: "bg-white border-gray-300 text-gray-500 hover:bg-gray-50 relative inline-flex items-center px-4 py-2 border text-sm font-medium",
                        children: "3"
                      }
                    ),
                    /* @__PURE__ */ jsxs(
                      "a",
                      {
                        href: "#",
                        className: "relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",
                        children: [
                          /* @__PURE__ */ jsx("span", { className: "sr-only", children: "Suivant" }),
                          /* @__PURE__ */ jsx(
                            "svg",
                            {
                              className: "h-5 w-5",
                              xmlns: "http://www.w3.org/2000/svg",
                              viewBox: "0 0 20 20",
                              fill: "currentColor",
                              "aria-hidden": "true",
                              children: /* @__PURE__ */ jsx(
                                "path",
                                {
                                  fillRule: "evenodd",
                                  d: "M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",
                                  clipRule: "evenodd"
                                }
                              )
                            }
                          )
                        ]
                      }
                    )
                  ]
                }
              ) })
            ] })
          ] })
        ] }) : /* @__PURE__ */ jsxs("div", { className: "bg-white rounded-xl shadow-lg p-6 sm:p-8 md:p-12 text-center border border-[#0F172A]/10", children: [
          /* @__PURE__ */ jsx("div", { className: "inline-flex items-center justify-center w-16 h-16 sm:w-20 sm:h-20 rounded-full bg-[#0F172A]/5 mb-4 sm:mb-6", children: /* @__PURE__ */ jsx(MdSearch, { className: "text-[#0F172A] text-2xl sm:text-3xl" }) }),
          /* @__PURE__ */ jsx("h2", { className: "text-lg sm:text-xl font-bold text-[#0F172A] mb-2", children: "Aucun journal trouvé" }),
          /* @__PURE__ */ jsx("p", { className: "text-sm sm:text-base text-gray-500 max-w-md mx-auto mb-4 sm:mb-6", children: "Nous n'avons pas trouvé de journaux correspondant à votre recherche. Veuillez essayer avec d'autres termes ou réinitialiser les filtres." }),
          /* @__PURE__ */ jsx(
            "button",
            {
              onClick: () => {
                setSearchQuery("");
                setSelectedFilter("all");
              },
              className: "inline-flex items-center px-3 sm:px-4 py-1.5 sm:py-2 bg-[#e63946] text-white rounded-lg font-medium hover:bg-[#e63946]/90 transition-colors text-sm sm:text-base",
              children: "Réinitialiser les filtres"
            }
          )
        ] })
      ] })
    ] }) }),
    /* @__PURE__ */ jsx(Footer$1, {})
  ] });
}
const __vite_glob_0_56 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: JournauxClient
}, Symbol.toStringTag, { value: "Module" }));
function Historique({ annonces, appelsOffre, auth }) {
  const [searchTerm, setSearchTerm] = useState("");
  const [activeTab, setActiveTab] = useState("all");
  const formatDate2 = (dateString) => {
    const date = new Date(dateString);
    return date.toLocaleDateString("fr-FR", {
      day: "2-digit",
      month: "2-digit",
      year: "numeric"
    });
  };
  const filterItems = (items) => {
    return items.filter((item) => {
      const searchLower = searchTerm.toLowerCase();
      return (item.titre || item.title) && (item.titre || item.title).toLowerCase().includes(searchLower) || item.payment_reference && item.payment_reference.toLowerCase().includes(searchLower) || item.payment_method && item.payment_method.toLowerCase().includes(searchLower);
    });
  };
  const allTransactions = [...annonces, ...appelsOffre].sort((a, b) => {
    return new Date(b.created_at).getTime() - new Date(a.created_at).getTime();
  });
  const filteredTransactions = activeTab === "all" ? filterItems(allTransactions) : activeTab === "annonces" ? filterItems(annonces) : filterItems(appelsOffre);
  const getTransactionType = (item) => {
    if (item.hasOwnProperty("nameSociete")) return "Annonce Légale";
    if (item.hasOwnProperty("secteur")) return "Appel d'Offre";
    return "Transaction";
  };
  return /* @__PURE__ */ jsxs("main", { className: "min-h-screen flex flex-col bg-gradient-to-br from-gray-50 to-gray-100", children: [
    /* @__PURE__ */ jsx(Header, { auth: { user: auth.user } }),
    /* @__PURE__ */ jsx("section", { className: "container mx-auto px-4 py-8 pt-32 flex-grow", children: /* @__PURE__ */ jsxs("div", { className: "max-w-6xl mx-auto", children: [
      /* @__PURE__ */ jsxs("div", { className: "mb-8", children: [
        /* @__PURE__ */ jsx("h1", { className: "text-3xl font-bold text-gray-900 mb-2", children: "Historique de mes paiements" }),
        /* @__PURE__ */ jsx("p", { className: "text-gray-600", children: "Consultez l'historique de tous vos paiements pour les annonces légales et appels d'offre." })
      ] }),
      /* @__PURE__ */ jsx("div", { className: "mb-8", children: /* @__PURE__ */ jsx("div", { className: "bg-white p-4 rounded-xl shadow-sm border border-gray-200", children: /* @__PURE__ */ jsxs("div", { className: "flex flex-col md:flex-row md:items-center gap-4", children: [
        /* @__PURE__ */ jsx("div", { className: "flex-1", children: /* @__PURE__ */ jsxs("div", { className: "relative", children: [
          /* @__PURE__ */ jsx(
            "input",
            {
              type: "text",
              placeholder: "Rechercher par titre ou référence...",
              className: "w-full pl-10 pr-4 py-2.5 text-sm text-gray-800 bg-gray-100 border border-gray-200 rounded-lg focus:ring-2 focus:ring-red-100 focus:border-red-500 outline-none transition-colors",
              value: searchTerm,
              onChange: (e2) => setSearchTerm(e2.target.value)
            }
          ),
          /* @__PURE__ */ jsx(Search, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-500" })
        ] }) }),
        /* @__PURE__ */ jsxs("div", { className: "flex items-center space-x-2 whitespace-nowrap", children: [
          /* @__PURE__ */ jsx(
            "button",
            {
              onClick: () => setActiveTab("all"),
              className: `px-4 py-2 text-sm font-medium rounded-lg transition-colors
                      ${activeTab === "all" ? "bg-red-600 text-white" : "bg-gray-100 text-gray-700 hover:bg-gray-200"}`,
              children: "Tous"
            }
          ),
          /* @__PURE__ */ jsx(
            "button",
            {
              onClick: () => setActiveTab("annonces"),
              className: `px-4 py-2 text-sm font-medium rounded-lg transition-colors
                      ${activeTab === "annonces" ? "bg-red-600 text-white" : "bg-gray-100 text-gray-700 hover:bg-gray-200"}`,
              children: "Annonces"
            }
          ),
          /* @__PURE__ */ jsx(
            "button",
            {
              onClick: () => setActiveTab("appelsOffre"),
              className: `px-4 py-2 text-sm font-medium rounded-lg transition-colors
                      ${activeTab === "appelsOffre" ? "bg-red-600 text-white" : "bg-gray-100 text-gray-700 hover:bg-gray-200"}`,
              children: "Appels d'Offre"
            }
          )
        ] })
      ] }) }) }),
      /* @__PURE__ */ jsx("div", { className: "bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden", children: filteredTransactions.length > 0 ? /* @__PURE__ */ jsx("div", { className: "overflow-x-auto", children: /* @__PURE__ */ jsxs("table", { className: "w-full", children: [
        /* @__PURE__ */ jsx("thead", { children: /* @__PURE__ */ jsxs("tr", { className: "bg-gray-50 text-left", children: [
          /* @__PURE__ */ jsx("th", { className: "px-6 py-3 text-xs font-medium text-gray-600 uppercase tracking-wider", children: "Type" }),
          /* @__PURE__ */ jsx("th", { className: "px-6 py-3 text-xs font-medium text-gray-600 uppercase tracking-wider", children: "Titre" }),
          /* @__PURE__ */ jsx("th", { className: "px-6 py-3 text-xs font-medium text-gray-600 uppercase tracking-wider", children: "Référence" }),
          /* @__PURE__ */ jsx("th", { className: "px-6 py-3 text-xs font-medium text-gray-600 uppercase tracking-wider", children: "Date" }),
          /* @__PURE__ */ jsx("th", { className: "px-6 py-3 text-xs font-medium text-gray-600 uppercase tracking-wider", children: "Prix" })
        ] }) }),
        /* @__PURE__ */ jsx("tbody", { className: "divide-y divide-gray-200", children: filteredTransactions.map((item, index2) => /* @__PURE__ */ jsxs("tr", { className: "hover:bg-gray-50 transition-colors", children: [
          /* @__PURE__ */ jsx("td", { className: "px-6 py-4 whitespace-nowrap", children: /* @__PURE__ */ jsx("span", { className: "inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium bg-blue-50 text-blue-800", children: getTransactionType(item) }) }),
          /* @__PURE__ */ jsx("td", { className: "px-6 py-4", children: /* @__PURE__ */ jsx("div", { className: "text-sm text-gray-900 font-medium", children: item.titre || item.title }) }),
          /* @__PURE__ */ jsx("td", { className: "px-6 py-4", children: /* @__PURE__ */ jsx("div", { className: "text-sm font-mono text-gray-700", children: item.order_id || "—" }) }),
          /* @__PURE__ */ jsx("td", { className: "px-6 py-4", children: /* @__PURE__ */ jsx("div", { className: "text-sm text-gray-700", children: /* @__PURE__ */ jsxs("span", { className: "flex items-center", children: [
            /* @__PURE__ */ jsx(CalendarIcon, { className: "mr-1 h-3.5 w-3.5 text-gray-500" }),
            formatDate2(item.created_at)
          ] }) }) }),
          /* @__PURE__ */ jsx("td", { className: "px-6 py-4", children: /* @__PURE__ */ jsx("div", { className: "text-sm text-gray-900 font-semibold", children: item.price ? `${item.price} DH` : "—" }) })
        ] }, index2)) })
      ] }) }) : /* @__PURE__ */ jsxs("div", { className: "flex flex-col items-center justify-center py-12 px-4 text-center", children: [
        /* @__PURE__ */ jsx(Receipt, { className: "h-12 w-12 text-gray-300 mb-3" }),
        /* @__PURE__ */ jsx("h3", { className: "mb-2 text-lg font-medium text-gray-900", children: "Aucune transaction trouvée" }),
        /* @__PURE__ */ jsx("p", { className: "text-gray-600 max-w-md", children: searchTerm ? "Aucune transaction ne correspond à votre recherche. Essayez d'autres termes." : "Vous n'avez pas encore effectué de paiements." })
      ] }) })
    ] }) }),
    /* @__PURE__ */ jsx(Footer$1, {})
  ] });
}
const __vite_glob_0_57 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: Historique
}, Symbol.toStringTag, { value: "Module" }));
function Dashboard() {
  const user = usePage().props.auth.user;
  const isAdmin = (user == null ? void 0 : user.roles.includes("admin")) || (user == null ? void 0 : user.roles.includes("moderator"));
  const Lay = isAdmin ? AdminLayout : AuthenticatedLayout;
  return /* @__PURE__ */ jsxs(
    Lay,
    {
      title: "Dashboard",
      header: /* @__PURE__ */ jsx("h2", { className: "text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200", children: "Dashboard" }),
      children: [
        /* @__PURE__ */ jsx(Head, {}),
        /* @__PURE__ */ jsx("div", { className: "overflow-hidden bg-white shadow-sm sm:rounded-lg mt-[5rem] dark:bg-gray-800", children: /* @__PURE__ */ jsx("div", { className: "p-6 text-gray-900 dark:text-gray-100", children: "You're logged in!" }) })
      ]
    }
  );
}
const __vite_glob_0_58 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: Dashboard
}, Symbol.toStringTag, { value: "Module" }));
const EditProfile = () => {
  const modalDelete = React__default.useRef(null);
  const handleNavigation = (url) => {
    router.visit(url);
  };
  const fileInputRef = React__default.useRef(null);
  const [selectedFile, setSelectedFile] = React__default.useState(
    null
  );
  const [preview, setPreview] = React__default.useState(null);
  const handleFileSelect = (e2) => {
    if (e2.target.files && e2.target.files[0]) {
      const imageUpload = e2.target.files[0];
      setSelectedFile(imageUpload);
      setPreview(URL.createObjectURL(imageUpload));
    }
  };
  const handleIconClick = () => {
    var _a2;
    (_a2 = fileInputRef.current) == null ? void 0 : _a2.click();
  };
  const [firstName, setFirstName] = React__default.useState("Frans");
  const [lastName, setLastName] = React__default.useState("AHW");
  const [nickName, setNickName] = React__default.useState("Frans");
  const [email, setEmail] = React__default.useState("franswinata6@gmail.com");
  const [phone, setPhone] = React__default.useState("081-234-5678");
  const [address, setAddress] = React__default.useState(
    "Suite 948 Jl. Gajahmada No. 91, Malang, SM 74810"
  );
  return (
    // screen
    /* @__PURE__ */ jsx("div", { className: "w-full p-0 m-0", children: /* @__PURE__ */ jsxs("div", { className: "w-full flex flex-col items-stretch gap-7 xl:gap-8", children: [
      /* @__PURE__ */ jsxs("div", { className: "flex flex-col xl:flex-row items-start justify-between gap-3 xl:gap-0", children: [
        /* @__PURE__ */ jsx("h2", { className: "font-bold text-2xl xl:text-4xl mt-0 pt-0 text-base-content dark:text-neutral-200", children: "My Profile" }),
        /* @__PURE__ */ jsxs("div", { className: "w-full xl:w-auto grid grid-cols-2 xl:flex gap-3", children: [
          /* @__PURE__ */ jsx(
            "button",
            {
              onClick: () => handleNavigation("/profile"),
              className: "btn btn-block xl:w-auto dark:btn-neutral",
              children: "Discard Changes"
            }
          ),
          /* @__PURE__ */ jsx(
            "button",
            {
              onClick: () => {
                handleNavigation("/profile");
                toast("Gabisa diedit dong!", { icon: "😛" });
              },
              className: "btn btn-block xl:w-auto btn-primary",
              children: "Save Changes"
            }
          )
        ] })
      ] }),
      /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-3 xl:gap-8 xl:mb-4", children: [
        /* @__PURE__ */ jsxs("div", { className: "relative inline-flex", children: [
          /* @__PURE__ */ jsx(
            "button",
            {
              onClick: handleIconClick,
              className: "btn btn-circle btn-sm xl:btn-md top-0 right-0 absolute z-[1]",
              children: /* @__PURE__ */ jsx(HiOutlinePencil, { className: "text-xs xl:text-lg" })
            }
          ),
          /* @__PURE__ */ jsx("div", { className: "avatar", children: /* @__PURE__ */ jsx("div", { className: "w-24 xl:w-36 2xl:w-48 rounded-full", children: /* @__PURE__ */ jsx(
            "img",
            {
              src: preview || "https://avatars.githubusercontent.com/u/74099030?v=4",
              alt: "foto-cowok-ganteng"
            }
          ) }) })
        ] }),
        /* @__PURE__ */ jsx(
          "input",
          {
            type: "file",
            ref: fileInputRef,
            className: "hidden",
            onChange: handleFileSelect
          }
        ),
        /* @__PURE__ */ jsxs("div", { className: "flex flex-col items-start gap-1", children: [
          /* @__PURE__ */ jsxs("h3", { className: "font-semibold text-xl xl:text-3xl", children: [
            firstName,
            " ",
            lastName
          ] }),
          /* @__PURE__ */ jsx("span", { className: "font-normal text-base", children: "Supervisor" })
        ] })
      ] }),
      /* @__PURE__ */ jsxs("div", { className: "w-full flex flex-col items-stretch gap-3 xl:gap-7", children: [
        /* @__PURE__ */ jsxs("div", { className: "flex items-center w-full gap-3 xl:gap-5", children: [
          /* @__PURE__ */ jsx("h4", { className: "font-semibold text-lg xl:text-2xl whitespace-nowrap", children: "Basic Information" }),
          /* @__PURE__ */ jsx("div", { className: "w-full h-[2px] bg-base-300 dark:bg-slate-700 mt-1" })
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "w-full grid xl:grid-cols-3 gap-3 xl:gap-5 2xl:gap-20 xl:text-base", children: [
          /* @__PURE__ */ jsxs("div", { className: "w-full flex flex-col sm:grid sm:grid-cols-3 xl:flex xl:flex-col gap-3 xl:gap-5", children: [
            /* @__PURE__ */ jsxs("div", { className: "w-full grid xl:grid-cols-3 2xl:grid-cols-4 items-center gap-1 xl:gap-0", children: [
              /* @__PURE__ */ jsx("div", { className: "w-full whitespace-nowrap", children: /* @__PURE__ */ jsx("span", { className: "whitespace-nowrap", children: "First Name*" }) }),
              /* @__PURE__ */ jsx(
                "input",
                {
                  type: "text",
                  placeholder: "Type here",
                  value: firstName,
                  onChange: (element) => setFirstName(element.target.value),
                  className: "input input-bordered w-full col-span-2 2xl:col-span-3"
                }
              )
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "w-full grid xl:grid-cols-3 2xl:grid-cols-4 items-center gap-1 xl:gap-0", children: [
              /* @__PURE__ */ jsx("div", { className: "w-full whitespace-nowrap", children: /* @__PURE__ */ jsx("span", { className: "whitespace-nowrap", children: "Last Name*" }) }),
              /* @__PURE__ */ jsx(
                "input",
                {
                  type: "text",
                  placeholder: "Type here",
                  value: lastName,
                  onChange: (element) => setLastName(element.target.value),
                  className: "input input-bordered w-full col-span-2 2xl:col-span-3"
                }
              )
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "w-full grid xl:grid-cols-3 2xl:grid-cols-4 items-center gap-1 xl:gap-0", children: [
              /* @__PURE__ */ jsx("div", { className: "w-full whitespace-nowrap", children: /* @__PURE__ */ jsx("span", { className: "whitespace-nowrap", children: "Nickname" }) }),
              /* @__PURE__ */ jsx(
                "input",
                {
                  type: "text",
                  placeholder: "Type here",
                  value: nickName,
                  onChange: (element) => setNickName(element.target.value),
                  className: "input input-bordered w-full col-span-2 2xl:col-span-3"
                }
              )
            ] })
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "w-full flex flex-col sm:grid sm:grid-cols-2 xl:flex xl:flex-col gap-3 xl:gap-5", children: [
            /* @__PURE__ */ jsxs("div", { className: "w-full grid xl:grid-cols-3 2xl:grid-cols-4 items-center gap-1 xl:gap-0", children: [
              /* @__PURE__ */ jsx("div", { className: "w-full whitespace-nowrap", children: /* @__PURE__ */ jsx("span", { className: "whitespace-nowrap", children: "Email*" }) }),
              /* @__PURE__ */ jsx(
                "input",
                {
                  type: "text",
                  placeholder: "Type here",
                  value: email,
                  onChange: (element) => setEmail(element.target.value),
                  className: "input input-bordered w-full col-span-2 2xl:col-span-3"
                }
              )
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "w-full grid xl:grid-cols-3 2xl:grid-cols-4 items-center gap-1 xl:gap-0", children: [
              /* @__PURE__ */ jsx("div", { className: "w-full whitespace-nowrap", children: /* @__PURE__ */ jsx("span", { className: "whitespace-nowrap", children: "Phone" }) }),
              /* @__PURE__ */ jsx(
                "input",
                {
                  type: "text",
                  placeholder: "Type here",
                  value: phone,
                  onChange: (element) => setPhone(element.target.value),
                  className: "input input-bordered w-full col-span-2 2xl:col-span-3"
                }
              )
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "w-full grid sm:col-span-full xl:grid-cols-3 2xl:grid-cols-4 xl:items-start gap-1 xl:gap-0", children: [
              /* @__PURE__ */ jsx("div", { className: "w-full whitespace-nowrap xl:mt-3", children: /* @__PURE__ */ jsx("span", { className: "whitespace-nowrap", children: "Address" }) }),
              /* @__PURE__ */ jsx(
                "textarea",
                {
                  className: "textarea textarea-bordered w-full col-span-2 2xl:col-span-3",
                  placeholder: "Address",
                  value: address,
                  onChange: (element) => setAddress(element.target.value)
                }
              )
            ] })
          ] }),
          /* @__PURE__ */ jsx("div", { className: "w-full flex flex-col sm:grid sm:grid-cols-3 xl:flex xl:flex-col gap-3 xl:gap-5", children: /* @__PURE__ */ jsxs("div", { className: "w-full grid xl:grid-cols-3 2xl:grid-cols-4 items-center gap-1 xl:gap-0", children: [
            /* @__PURE__ */ jsx("div", { className: "w-full whitespace-nowrap", children: /* @__PURE__ */ jsx("span", { className: "whitespace-nowrap", children: "Password" }) }),
            /* @__PURE__ */ jsx("div", { className: "btn btn-disabled col-span-2", children: "Change Password" })
          ] }) })
        ] })
      ] }),
      /* @__PURE__ */ jsxs("div", { className: "w-full flex flex-col items-stretch gap-6 xl:gap-7", children: [
        /* @__PURE__ */ jsxs("div", { className: "flex flex-col gap-2", children: [
          /* @__PURE__ */ jsxs("div", { className: "flex items-center w-full gap-3 xl:gap-5", children: [
            /* @__PURE__ */ jsx("h4", { className: "font-semibold text-lg xl:text-2xl whitespace-nowrap", children: "Account Integrations" }),
            /* @__PURE__ */ jsx("div", { className: "w-full h-[2px] bg-base-300 dark:bg-slate-700 mt-1" })
          ] }),
          /* @__PURE__ */ jsx("span", { className: "text-sm xl:text-sm text-neutral-400 dark:text-neutral-content", children: "Authorize faster and easier with your external service account." })
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-3 sm:grid-cols-6 xl:grid-cols-3 xl:flex gap-5", children: [
          /* @__PURE__ */ jsxs("div", { className: "col-span-2 flex flex-col items-start gap-5 xl:w-[240px]", children: [
            /* @__PURE__ */ jsxs(
              "button",
              {
                onClick: () => toast("Gaboleh", {
                  icon: "😠"
                }),
                className: "btn btn-block btn-disabled flex-nowrap justify-start",
                children: [
                  /* @__PURE__ */ jsx(
                    "img",
                    {
                      className: "w-6 opacity-20",
                      src: "/icons8-microsoft.svg",
                      alt: "microsoft"
                    }
                  ),
                  /* @__PURE__ */ jsx("span", { className: "text-start whitespace-nowrap text-xs xl:text-sm", children: "Connect with Microsoft" })
                ]
              }
            ),
            /* @__PURE__ */ jsxs("div", { className: "px-4 gap-2 min-h-12 text-sm font-semibold flex items-center justify-start", children: [
              /* @__PURE__ */ jsx(
                "img",
                {
                  className: "w-6",
                  src: "/icons8-google.svg",
                  alt: "google"
                }
              ),
              /* @__PURE__ */ jsx("span", { className: "text-start whitespace-nowrap text-xs xl:text-sm", children: "Connected with Google" })
            ] }),
            /* @__PURE__ */ jsxs(
              "button",
              {
                onClick: () => toast("Gaboleh", {
                  icon: "😠"
                }),
                className: "btn btn-block btn-disabled justify-start",
                children: [
                  /* @__PURE__ */ jsx(
                    "img",
                    {
                      className: "dark:hidden w-6 opacity-20",
                      src: "/icons8-apple-black.svg",
                      alt: "apple"
                    }
                  ),
                  /* @__PURE__ */ jsx(
                    "img",
                    {
                      className: "hidden dark:block w-6 opacity-20",
                      src: "/icons8-apple-white.svg",
                      alt: "apple"
                    }
                  ),
                  /* @__PURE__ */ jsx("span", { className: "text-start whitespace-nowrap text-xs xl:text-sm", children: "Connect with Apple" })
                ]
              }
            )
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "col-span-1 flex flex-col items-start gap-5", children: [
            /* @__PURE__ */ jsx("button", { className: "btn btn-ghost text-error" }),
            /* @__PURE__ */ jsx(
              "button",
              {
                onClick: () => toast("Gaboleh", {
                  icon: "😠"
                }),
                className: "btn btn-ghost btn-disabled text-error text-xs xl:text-sm",
                children: "Disconnect"
              }
            ),
            /* @__PURE__ */ jsx("button", { className: "btn btn-ghost text-error" })
          ] })
        ] })
      ] }),
      /* @__PURE__ */ jsxs("div", { className: "w-full flex justify-start items-center mt-10", children: [
        /* @__PURE__ */ jsxs(
          "button",
          {
            className: "btn btn-disabled text-error text-xs xl:text-sm",
            onClick: () => {
              var _a2;
              return (_a2 = modalDelete.current) == null ? void 0 : _a2.showModal();
            },
            children: [
              /* @__PURE__ */ jsx(HiOutlineTrash, { className: "text-lg" }),
              "Delete My Account"
            ]
          }
        ),
        /* @__PURE__ */ jsx(
          "dialog",
          {
            id: "modal_delete",
            className: "modal",
            ref: modalDelete,
            children: /* @__PURE__ */ jsxs("div", { className: "modal-box", children: [
              /* @__PURE__ */ jsx("h3", { className: "font-bold text-lg dark:text-white", children: "Action Confirmation!" }),
              /* @__PURE__ */ jsx("p", { className: "py-4", children: "Do you want to delete your account?" }),
              /* @__PURE__ */ jsxs("div", { className: "modal-action mx-0 flex-col items-stretch justify-stretch gap-3", children: [
                /* @__PURE__ */ jsx(
                  "button",
                  {
                    onClick: () => toast("Lancang kamu ya!", {
                      icon: "😠"
                    }),
                    className: "btn btn-error btn-block text-base-100 dark:text-white",
                    children: "Yes, I want to delete my account"
                  }
                ),
                /* @__PURE__ */ jsx("form", { method: "dialog", className: "m-0 w-full", children: /* @__PURE__ */ jsx("button", { className: "m-0 btn btn-block dark:btn-neutral", children: "No, I don't think so" }) })
              ] })
            ] })
          }
        )
      ] })
    ] }) })
  );
};
const __vite_glob_0_59 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: EditProfile
}, Symbol.toStringTag, { value: "Module" }));
const Error$1 = () => {
  const navigate = useNavigate();
  return /* @__PURE__ */ jsx("div", { className: "w-screen h-screen", children: /* @__PURE__ */ jsx("div", { className: "w-full h-full flex justify-center items-center", children: /* @__PURE__ */ jsxs("div", { className: "flex flex-col justify-center items-center gap-10", children: [
    /* @__PURE__ */ jsx("h1", { className: "font-bold text-7xl", children: "🐔 Boom! Are you lost? 🙄" }),
    /* @__PURE__ */ jsxs("button", { onClick: () => navigate("/"), className: "btn", children: [
      /* @__PURE__ */ jsx(HiOutlineHome, { className: "xl:text-2xl" }),
      /* @__PURE__ */ jsx("span", { children: "Homepage" })
    ] })
  ] }) }) });
};
const __vite_glob_0_60 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: Error$1
}, Symbol.toStringTag, { value: "Module" }));
function Error403({ auth }) {
  const { url } = usePage().props;
  const [isVisible, setIsVisible] = useState(false);
  useEffect(() => {
    const timer = setTimeout(() => {
      setIsVisible(true);
    }, 100);
    return () => clearTimeout(timer);
  }, []);
  return /* @__PURE__ */ jsxs("main", { className: "min-h-screen flex flex-col bg-gray-50", children: [
    /* @__PURE__ */ jsx(Header, { auth }),
    /* @__PURE__ */ jsx("div", { className: "flex-grow flex items-center justify-center px-4 pt-32 pb-16 sm:pt-40 sm:pb-20", children: /* @__PURE__ */ jsxs(
      "div",
      {
        className: `max-w-3xl w-full transition-all duration-700 ease-out ${isVisible ? "opacity-100 translate-y-0" : "opacity-0 translate-y-8"}`,
        children: [
          /* @__PURE__ */ jsxs("div", { className: "relative", children: [
            /* @__PURE__ */ jsx("div", { className: "absolute -top-10 -left-10 w-20 h-20 rounded-full bg-[#e63946]/10 hidden md:block animate-pulse" }),
            /* @__PURE__ */ jsx(
              "div",
              {
                className: "absolute top-40 -right-10 w-16 h-16 rounded-full bg-[#0F172A]/5 hidden md:block animate-pulse",
                style: { animationDelay: "1s" }
              }
            ),
            /* @__PURE__ */ jsx(
              "div",
              {
                className: "absolute -bottom-10 left-20 w-12 h-12 rounded-full bg-[#e63946]/5 hidden md:block animate-pulse",
                style: { animationDelay: "1.5s" }
              }
            ),
            /* @__PURE__ */ jsx("div", { className: "absolute top-20 -left-5 w-10 h-1 bg-[#e63946]/30 rounded-full hidden md:block" }),
            /* @__PURE__ */ jsx("div", { className: "absolute top-10 right-20 w-20 h-1 bg-[#0F172A]/20 rounded-full hidden md:block" }),
            /* @__PURE__ */ jsx("div", { className: "absolute bottom-20 right-10 w-15 h-1 bg-[#e63946]/20 rounded-full hidden md:block" }),
            /* @__PURE__ */ jsxs("div", { className: "bg-white p-8 sm:p-10 md:p-12 rounded-2xl shadow-[0_10px_40px_-15px_rgba(0,0,0,0.1)] border border-[#0F172A]/5 relative z-10", children: [
              /* @__PURE__ */ jsx("div", { className: "absolute top-0 left-0 w-20 h-20 bg-[#e63946]/10 rounded-tl-2xl" }),
              /* @__PURE__ */ jsx("div", { className: "absolute bottom-0 right-0 w-20 h-20 bg-[#0F172A]/5 rounded-br-2xl" }),
              /* @__PURE__ */ jsxs("div", { className: "flex flex-col md:flex-row items-center md:items-start gap-8 md:gap-12 relative", children: [
                /* @__PURE__ */ jsxs("div", { className: "flex flex-col items-center md:items-start relative", children: [
                  /* @__PURE__ */ jsxs("div", { className: "w-24 h-24 sm:w-28 sm:h-28 bg-[#e63946]/10 rounded-full flex items-center justify-center mb-6 shadow-lg relative overflow-hidden group", children: [
                    /* @__PURE__ */ jsx("div", { className: "absolute inset-0 bg-white/30 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1500" }),
                    /* @__PURE__ */ jsx(ShieldAlert, { className: "h-12 w-12 sm:h-14 sm:w-14 text-[#e63946] relative z-10" })
                  ] }),
                  /* @__PURE__ */ jsx("h1", { className: "text-7xl sm:text-8xl font-extrabold text-[#e63946] mb-2 md:mb-0 drop-shadow-sm", children: "403" })
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "text-center md:text-left flex-1", children: [
                  /* @__PURE__ */ jsxs("h2", { className: "text-2xl sm:text-3xl font-bold text-[#0F172A] mb-4 relative", children: [
                    "Accès refusé",
                    /* @__PURE__ */ jsx("span", { className: "absolute -bottom-2 left-0 right-0 h-1 bg-[#e63946]/50 rounded-full md:w-48 hidden md:block" })
                  ] }),
                  /* @__PURE__ */ jsx("p", { className: "text-[#0F172A]/70 mb-6 text-base sm:text-lg", children: "Désolé, vous n'avez pas l'autorisation d'accéder à cette page. Veuillez vérifier vos identifiants ou contacter l'administrateur." }),
                  /* @__PURE__ */ jsx("div", { className: "flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center md:justify-start", children: /* @__PURE__ */ jsxs(
                    Link,
                    {
                      href: window.route("home"),
                      className: "relative inline-flex items-center justify-center gap-2 px-6 py-3 bg-white text-[#e63946] font-medium border-2 border-[#e63946] rounded-lg transition-all duration-300 shadow-md hover:text-white overflow-hidden group",
                      children: [
                        /* @__PURE__ */ jsx("span", { className: "absolute inset-0 w-0 bg-[#e63946] transition-all duration-300 ease-out group-hover:w-full" }),
                        /* @__PURE__ */ jsx(Home$1, { className: "h-4 w-4 relative z-10" }),
                        /* @__PURE__ */ jsx("span", { className: "relative z-10", children: "Retour à l'accueil" })
                      ]
                    }
                  ) })
                ] })
              ] })
            ] })
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "mt-8 text-center", children: [
            /* @__PURE__ */ jsxs("h3", { className: "text-lg font-medium text-[#0F172A] mb-4 relative inline-block", children: [
              "Vous pourriez être intéressé par",
              /* @__PURE__ */ jsx("span", { className: "absolute bottom-0 left-0 right-0 h-0.5 bg-[#e63946]/30" })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4", children: [
              /* @__PURE__ */ jsxs(
                Link,
                {
                  href: window.route("client.index"),
                  className: "p-4 bg-white rounded-lg border border-[#0F172A]/10 hover:border-[#e63946]/30 hover:shadow-md transition-all duration-300 group relative overflow-hidden",
                  children: [
                    /* @__PURE__ */ jsx("span", { className: "absolute inset-0 bg-[#e63946]/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300" }),
                    /* @__PURE__ */ jsx("span", { className: "text-[#0F172A] font-medium relative z-10 group-hover:text-[#e63946] transition-colors duration-300", children: "Espace client" })
                  ]
                }
              ),
              /* @__PURE__ */ jsxs(
                Link,
                {
                  href: window.route("client.annonces.index"),
                  className: "p-4 bg-white rounded-lg border border-[#0F172A]/10 hover:border-[#e63946]/30 hover:shadow-md transition-all duration-300 group relative overflow-hidden",
                  children: [
                    /* @__PURE__ */ jsx("span", { className: "absolute inset-0 bg-[#e63946]/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300" }),
                    /* @__PURE__ */ jsx("span", { className: "text-[#0F172A] font-medium relative z-10 group-hover:text-[#e63946] transition-colors duration-300", children: "Annonces légales" })
                  ]
                }
              ),
              /* @__PURE__ */ jsxs(
                Link,
                {
                  href: window.route("client.ticket.index"),
                  className: "p-4 bg-white rounded-lg border border-[#0F172A]/10 hover:border-[#e63946]/30 hover:shadow-md transition-all duration-300 group relative overflow-hidden",
                  children: [
                    /* @__PURE__ */ jsx("span", { className: "absolute inset-0 bg-[#e63946]/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300" }),
                    /* @__PURE__ */ jsx("span", { className: "text-[#0F172A] font-medium relative z-10 group-hover:text-[#e63946] transition-colors duration-300", children: "Support" })
                  ]
                }
              )
            ] })
          ] })
        ]
      }
    ) }),
    /* @__PURE__ */ jsx(Footer$1, {})
  ] });
}
const __vite_glob_0_61 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: Error403
}, Symbol.toStringTag, { value: "Module" }));
const safeRoute = (name, params) => {
  try {
    const url = name ? route$3(name, params) : "#";
    return typeof url === "string" ? url : "#";
  } catch {
    return "#";
  }
};
function Error404({ auth }) {
  const { url } = usePage().props;
  const [isVisible, setIsVisible] = useState(false);
  useEffect(() => {
    const timer = setTimeout(() => setIsVisible(true), 100);
    return () => clearTimeout(timer);
  }, []);
  return /* @__PURE__ */ jsxs("main", { className: "min-h-screen flex flex-col bg-gray-50", children: [
    /* @__PURE__ */ jsx(Header, { auth }),
    /* @__PURE__ */ jsx("div", { className: "flex-grow flex items-center justify-center px-4 pt-32 pb-16 sm:pt-40 sm:pb-20", children: /* @__PURE__ */ jsxs(
      "div",
      {
        className: `max-w-3xl w-full transition-all duration-700 ease-out ${isVisible ? "opacity-100 translate-y-0" : "opacity-0 translate-y-8"}`,
        children: [
          /* @__PURE__ */ jsx("div", { className: "bg-white p-8 sm:p-10 md:p-12 rounded-2xl shadow-[0_10px_40px_-15px_rgba(0,0,0,0.1)] border border-[#0F172A]/5 relative z-10", children: /* @__PURE__ */ jsxs("div", { className: "flex flex-col md:flex-row items-center md:items-start gap-8 md:gap-12 relative", children: [
            /* @__PURE__ */ jsxs("div", { className: "flex flex-col items-center md:items-start relative", children: [
              /* @__PURE__ */ jsx("div", { className: "w-24 h-24 sm:w-28 sm:h-28 bg-[#e63946]/10 rounded-full flex items-center justify-center mb-6 shadow-lg", children: /* @__PURE__ */ jsx(AlertCircle, { className: "h-12 w-12 sm:h-14 sm:w-14 text-[#e63946]" }) }),
              /* @__PURE__ */ jsx("h1", { className: "text-7xl sm:text-8xl font-extrabold text-[#e63946] mb-2 md:mb-0 drop-shadow-sm", children: "404" })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "text-center md:text-left flex-1", children: [
              /* @__PURE__ */ jsx("h2", { className: "text-2xl sm:text-3xl font-bold text-[#0F172A] mb-4", children: "Page non trouvée" }),
              /* @__PURE__ */ jsx("p", { className: "text-[#0F172A]/70 mb-6 text-base sm:text-lg", children: "Désolé, la page que vous recherchez n'existe pas ou a été déplacée. Veuillez vérifier l'URL ou utiliser les options ci-dessous." }),
              /* @__PURE__ */ jsx("div", { className: "flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center md:justify-start", children: /* @__PURE__ */ jsxs(
                Link,
                {
                  href: safeRoute("home"),
                  className: "relative inline-flex items-center justify-center gap-2 px-6 py-3 bg-white text-[#e63946] font-medium border-2 border-[#e63946] rounded-lg transition-all duration-300 shadow-md hover:text-white hover:bg-[#e63946]",
                  children: [
                    /* @__PURE__ */ jsx(Home$1, { className: "h-4 w-4" }),
                    /* @__PURE__ */ jsx("span", { children: "Retour à l'accueil" })
                  ]
                }
              ) })
            ] })
          ] }) }),
          /* @__PURE__ */ jsxs("div", { className: "mt-8 text-center", children: [
            /* @__PURE__ */ jsx("h3", { className: "text-lg font-medium text-[#0F172A] mb-4", children: "Vous pourriez être intéressé par" }),
            /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4", children: [
              /* @__PURE__ */ jsx(
                Link,
                {
                  href: safeRoute("client.index"),
                  className: "p-4 bg-white rounded-lg border border-[#0F172A]/10 hover:border-[#e63946]/30 hover:shadow-md transition-all duration-300",
                  children: /* @__PURE__ */ jsx("span", { className: "text-[#0F172A] font-medium hover:text-[#e63946] transition-colors", children: "Espace client" })
                }
              ),
              /* @__PURE__ */ jsx(
                Link,
                {
                  href: safeRoute("client.annonces.index"),
                  className: "p-4 bg-white rounded-lg border border-[#0F172A]/10 hover:border-[#e63946]/30 hover:shadow-md transition-all duration-300",
                  children: /* @__PURE__ */ jsx("span", { className: "text-[#0F172A] font-medium hover:text-[#e63946] transition-colors", children: "Annonces légales" })
                }
              ),
              /* @__PURE__ */ jsx(
                Link,
                {
                  href: safeRoute("client.ticket.index"),
                  className: "p-4 bg-white rounded-lg border border-[#0F172A]/10 hover:border-[#e63946]/30 hover:shadow-md transition-all duration-300",
                  children: /* @__PURE__ */ jsx("span", { className: "text-[#0F172A] font-medium hover:text-[#e63946] transition-colors", children: "Support" })
                }
              )
            ] })
          ] })
        ]
      }
    ) }),
    /* @__PURE__ */ jsx(Footer$1, {})
  ] });
}
const __vite_glob_0_62 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: Error404
}, Symbol.toStringTag, { value: "Module" }));
function Error500({ auth }) {
  const { url } = usePage().props;
  const [isVisible, setIsVisible] = useState(false);
  useEffect(() => {
    const timer = setTimeout(() => {
      setIsVisible(true);
    }, 100);
    return () => clearTimeout(timer);
  }, []);
  return /* @__PURE__ */ jsxs("main", { className: "min-h-screen flex flex-col bg-gray-50", children: [
    /* @__PURE__ */ jsx(Header, { auth }),
    /* @__PURE__ */ jsx("div", { className: "flex-grow flex items-center justify-center px-4 pt-32 pb-16 sm:pt-40 sm:pb-20", children: /* @__PURE__ */ jsxs(
      "div",
      {
        className: `max-w-3xl w-full transition-all duration-700 ease-out ${isVisible ? "opacity-100 translate-y-0" : "opacity-0 translate-y-8"}`,
        children: [
          /* @__PURE__ */ jsxs("div", { className: "relative", children: [
            /* @__PURE__ */ jsx("div", { className: "absolute -top-10 -left-10 w-20 h-20 rounded-full bg-[#e63946]/10 hidden md:block animate-pulse" }),
            /* @__PURE__ */ jsx(
              "div",
              {
                className: "absolute top-40 -right-10 w-16 h-16 rounded-full bg-[#0F172A]/5 hidden md:block animate-pulse",
                style: { animationDelay: "1s" }
              }
            ),
            /* @__PURE__ */ jsx(
              "div",
              {
                className: "absolute -bottom-10 left-20 w-12 h-12 rounded-full bg-[#e63946]/5 hidden md:block animate-pulse",
                style: { animationDelay: "1.5s" }
              }
            ),
            /* @__PURE__ */ jsx("div", { className: "absolute top-20 -left-5 w-10 h-1 bg-[#e63946]/30 rounded-full hidden md:block" }),
            /* @__PURE__ */ jsx("div", { className: "absolute top-10 right-20 w-20 h-1 bg-[#0F172A]/20 rounded-full hidden md:block" }),
            /* @__PURE__ */ jsx("div", { className: "absolute bottom-20 right-10 w-15 h-1 bg-[#e63946]/20 rounded-full hidden md:block" }),
            /* @__PURE__ */ jsxs("div", { className: "bg-white p-8 sm:p-10 md:p-12 rounded-2xl shadow-[0_10px_40px_-15px_rgba(0,0,0,0.1)] border border-[#0F172A]/5 relative z-10", children: [
              /* @__PURE__ */ jsx("div", { className: "absolute top-0 left-0 w-20 h-20 bg-[#e63946]/10 rounded-tl-2xl" }),
              /* @__PURE__ */ jsx("div", { className: "absolute bottom-0 right-0 w-20 h-20 bg-[#0F172A]/5 rounded-br-2xl" }),
              /* @__PURE__ */ jsxs("div", { className: "flex flex-col md:flex-row items-center md:items-start gap-8 md:gap-12 relative", children: [
                /* @__PURE__ */ jsxs("div", { className: "flex flex-col items-center md:items-start relative", children: [
                  /* @__PURE__ */ jsxs("div", { className: "w-24 h-24 sm:w-28 sm:h-28 bg-[#e63946]/10 rounded-full flex items-center justify-center mb-6 shadow-lg relative overflow-hidden group", children: [
                    /* @__PURE__ */ jsx("div", { className: "absolute inset-0 bg-white/30 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1500" }),
                    /* @__PURE__ */ jsx(ServerCrash, { className: "h-12 w-12 sm:h-14 sm:w-14 text-[#e63946] relative z-10" })
                  ] }),
                  /* @__PURE__ */ jsx("h1", { className: "text-7xl sm:text-8xl font-extrabold text-[#e63946] mb-2 md:mb-0 drop-shadow-sm", children: "500" })
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "text-center md:text-left flex-1", children: [
                  /* @__PURE__ */ jsxs("h2", { className: "text-2xl sm:text-3xl font-bold text-[#0F172A] mb-4 relative", children: [
                    "Erreur serveur",
                    /* @__PURE__ */ jsx("span", { className: "absolute -bottom-2 left-0 right-0 h-1 bg-[#e63946]/50 rounded-full md:w-48 hidden md:block" })
                  ] }),
                  /* @__PURE__ */ jsx("p", { className: "text-[#0F172A]/70 mb-6 text-base sm:text-lg", children: "Désolé, une erreur s'est produite sur notre serveur. Notre équipe technique a été informée et travaille à résoudre le problème." }),
                  /* @__PURE__ */ jsx("div", { className: "flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center md:justify-start", children: /* @__PURE__ */ jsxs(
                    Link,
                    {
                      href: window.route("home"),
                      className: "relative inline-flex items-center justify-center gap-2 px-6 py-3 bg-white text-[#e63946] font-medium border-2 border-[#e63946] rounded-lg transition-all duration-300 shadow-md hover:text-white overflow-hidden group",
                      children: [
                        /* @__PURE__ */ jsx("span", { className: "absolute inset-0 w-0 bg-[#e63946] transition-all duration-300 ease-out group-hover:w-full" }),
                        /* @__PURE__ */ jsx(Home$1, { className: "h-4 w-4 relative z-10" }),
                        /* @__PURE__ */ jsx("span", { className: "relative z-10", children: "Retour à l'accueil" })
                      ]
                    }
                  ) })
                ] })
              ] })
            ] })
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "mt-8 text-center", children: [
            /* @__PURE__ */ jsxs("h3", { className: "text-lg font-medium text-[#0F172A] mb-4 relative inline-block", children: [
              "Vous pourriez être intéressé par",
              /* @__PURE__ */ jsx("span", { className: "absolute bottom-0 left-0 right-0 h-0.5 bg-[#e63946]/30" })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4", children: [
              /* @__PURE__ */ jsxs(
                Link,
                {
                  href: window.route("client.index"),
                  className: "p-4 bg-white rounded-lg border border-[#0F172A]/10 hover:border-[#e63946]/30 hover:shadow-md transition-all duration-300 group relative overflow-hidden",
                  children: [
                    /* @__PURE__ */ jsx("span", { className: "absolute inset-0 bg-[#e63946]/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300" }),
                    /* @__PURE__ */ jsx("span", { className: "text-[#0F172A] font-medium relative z-10 group-hover:text-[#e63946] transition-colors duration-300", children: "Espace client" })
                  ]
                }
              ),
              /* @__PURE__ */ jsxs(
                Link,
                {
                  href: window.route("client.annonces.index"),
                  className: "p-4 bg-white rounded-lg border border-[#0F172A]/10 hover:border-[#e63946]/30 hover:shadow-md transition-all duration-300 group relative overflow-hidden",
                  children: [
                    /* @__PURE__ */ jsx("span", { className: "absolute inset-0 bg-[#e63946]/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300" }),
                    /* @__PURE__ */ jsx("span", { className: "text-[#0F172A] font-medium relative z-10 group-hover:text-[#e63946] transition-colors duration-300", children: "Annonces légales" })
                  ]
                }
              ),
              /* @__PURE__ */ jsxs(
                Link,
                {
                  href: window.route("client.ticket.index"),
                  className: "p-4 bg-white rounded-lg border border-[#0F172A]/10 hover:border-[#e63946]/30 hover:shadow-md transition-all duration-300 group relative overflow-hidden",
                  children: [
                    /* @__PURE__ */ jsx("span", { className: "absolute inset-0 bg-[#e63946]/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300" }),
                    /* @__PURE__ */ jsx("span", { className: "text-[#0F172A] font-medium relative z-10 group-hover:text-[#e63946] transition-colors duration-300", children: "Support" })
                  ]
                }
              )
            ] })
          ] })
        ]
      }
    ) }),
    /* @__PURE__ */ jsx(Footer$1, {})
  ] });
}
const __vite_glob_0_63 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: Error500
}, Symbol.toStringTag, { value: "Module" }));
const TopDealsBox = ({ topAnnonceurs }) => {
  const containerVariants = {
    hidden: { opacity: 0 },
    visible: {
      opacity: 1,
      transition: {
        staggerChildren: 0.1
      }
    }
  };
  const itemVariants = {
    hidden: { opacity: 0, x: -10 },
    visible: {
      opacity: 1,
      x: 0,
      transition: {
        type: "spring",
        stiffness: 100,
        damping: 12
      }
    }
  };
  return /* @__PURE__ */ jsx(motion.div, { className: "p-6", variants: containerVariants, initial: "hidden", animate: "visible", children: topAnnonceurs.length > 0 ? /* @__PURE__ */ jsx("div", { className: "overflow-x-auto", children: /* @__PURE__ */ jsxs("table", { className: "w-full", children: [
    /* @__PURE__ */ jsx("thead", { children: /* @__PURE__ */ jsxs("tr", { className: "text-left text-sm text-gray-500 border-b border-gray-100", children: [
      /* @__PURE__ */ jsx("th", { className: "pb-3 font-medium", children: "Utilisateur" }),
      /* @__PURE__ */ jsx("th", { className: "pb-3 font-medium", children: "Email" }),
      /* @__PURE__ */ jsx("th", { className: "pb-3 font-medium text-right", children: "Annonces" })
    ] }) }),
    /* @__PURE__ */ jsx("tbody", { children: topAnnonceurs.map((annonceur) => /* @__PURE__ */ jsxs(
      motion.tr,
      {
        className: "border-b border-gray-50 hover:bg-gray-50 transition-colors",
        variants: itemVariants,
        children: [
          /* @__PURE__ */ jsx("td", { className: "py-4", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center", children: [
            /* @__PURE__ */ jsx("div", { className: "w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-gray-700 font-medium mr-3", children: annonceur.name.charAt(0).toUpperCase() }),
            /* @__PURE__ */ jsx("span", { className: "font-medium text-gray-800", children: annonceur.name })
          ] }) }),
          /* @__PURE__ */ jsx("td", { className: "py-4 text-gray-500", children: annonceur.email }),
          /* @__PURE__ */ jsx("td", { className: "py-4 text-right", children: /* @__PURE__ */ jsx("span", { className: "bg-gray-100 text-gray-800 font-medium px-2.5 py-1 rounded-full text-sm", children: annonceur.annonces_count }) })
        ]
      },
      annonceur.id
    )) })
  ] }) }) : /* @__PURE__ */ jsx("div", { className: "text-center py-8 text-gray-500", children: /* @__PURE__ */ jsx("p", { children: "Aucun annonceur trouvé" }) }) });
};
function ResponsiveTable({
  data,
  onApprove,
  onReject,
  onMarkAsPaid,
  isLoading = false
}) {
  var _a2, _b, _c, _d;
  const [searchTerm, setSearchTerm] = useState("");
  const [categoryFilter, setCategoryFilter] = useState("");
  const [selectedAnnonce, setSelectedAnnonce] = useState(null);
  const [isModalOpen, setIsModalOpen] = useState(false);
  const categories = Array.from(new Set(data.map((item) => item.category)));
  const filteredData = data.filter((item) => {
    var _a3, _b2, _c2, _d2;
    const matchesSearch = item.id.toString().includes(searchTerm) || item.title.toLowerCase().includes(searchTerm.toLowerCase()) || item.nameSociete.toLowerCase().includes(searchTerm.toLowerCase()) || (((_b2 = (_a3 = item.user) == null ? void 0 : _a3.name) == null ? void 0 : _b2.toLowerCase().includes(searchTerm.toLowerCase())) ?? false) || (((_d2 = (_c2 = item.user) == null ? void 0 : _c2.email) == null ? void 0 : _d2.toLowerCase().includes(searchTerm.toLowerCase())) ?? false);
    const matchesCategory = !categoryFilter || item.category === categoryFilter;
    return matchesSearch && matchesCategory;
  });
  const formatDate2 = (dateString) => {
    return new Date(dateString).toLocaleDateString("fr-FR", {
      year: "numeric",
      month: "short",
      day: "numeric",
      hour: "2-digit",
      minute: "2-digit"
    });
  };
  const FavoriteBadge2 = ({ size = "sm", showText = true }) => {
    const sizeClasses = {
      xs: "px-1.5 py-0.5 text-xs",
      sm: "px-2 py-1 text-xs",
      md: "px-2.5 py-1.5 text-sm",
      lg: "px-3 py-2 text-base"
    };
    const iconSizes = {
      xs: "w-3 h-3",
      sm: "w-3.5 h-3.5",
      md: "w-4 h-4",
      lg: "w-5 h-5"
    };
    return /* @__PURE__ */ jsxs(
      "span",
      {
        title: "Utilisateur favori - Client privilégié",
        className: `inline-flex items-center font-semibold rounded-full bg-gradient-to-r from-amber-100 to-yellow-100 text-amber-800 border border-amber-200 shadow-sm hover:shadow-md transition-all duration-200 ${sizeClasses[size]} ${!showText ? "aspect-square justify-center" : ""}`,
        children: [
          /* @__PURE__ */ jsx(StarIcon, { className: `${iconSizes[size]} text-amber-500 ${showText ? "mr-1" : ""}` }),
          showText && "Favori"
        ]
      }
    );
  };
  const FavoriteIndicator2 = () => /* @__PURE__ */ jsx("div", { className: "relative", children: /* @__PURE__ */ jsx("div", { className: "absolute -top-1 -right-1 w-4 h-4 bg-gradient-to-r from-amber-400 to-yellow-400 rounded-full flex items-center justify-center shadow-lg border-2 border-white", children: /* @__PURE__ */ jsx(StarIcon, { className: "w-2.5 h-2.5 text-white" }) }) });
  const getStatusBadge2 = (status) => {
    const styles = {
      PENDING: "bg-amber-50 text-amber-700 border-amber-200",
      APPROVED: "bg-green-50 text-green-700 border-green-200",
      REJECTED: "bg-red-50 text-red-700 border-red-200"
    };
    const icons = {
      PENDING: /* @__PURE__ */ jsx("div", { className: "w-2 h-2 rounded-full bg-amber-500 mr-1.5" }),
      APPROVED: /* @__PURE__ */ jsx(CheckIcon, { className: "w-4 h-4 mr-1.5" }),
      REJECTED: /* @__PURE__ */ jsx(XMarkIcon, { className: "w-4 h-4 mr-1.5" })
    };
    const statusLabels = {
      PENDING: "En attente",
      APPROVED: "Approuvée",
      REJECTED: "Rejetée"
    };
    return /* @__PURE__ */ jsxs(
      "span",
      {
        className: `inline-flex items-center px-3 py-1 text-sm font-medium rounded-full border ${styles[status]}`,
        children: [
          icons[status],
          statusLabels[status] ?? status
        ]
      }
    );
  };
  const getPaymentBadge = (isTransactionPaid, method) => {
    if (isTransactionPaid) {
      return /* @__PURE__ */ jsxs("span", { className: "inline-flex items-center px-3 py-1 text-sm font-medium rounded-full border bg-green-100 text-green-700 border-green-300", children: [
        /* @__PURE__ */ jsx(CurrencyDollarIcon, { className: "w-4 h-4 mr-1.5" }),
        method ?? "Payé"
      ] });
    }
    return /* @__PURE__ */ jsxs("span", { className: "inline-flex items-center px-3 py-1 text-sm font-medium rounded-full border bg-red-100 text-red-700 border-red-300", children: [
      /* @__PURE__ */ jsx(XMarkIcon, { className: "w-4 h-4 mr-1.5" }),
      "Non payé"
    ] });
  };
  const openModal = (annonce) => {
    setSelectedAnnonce(annonce);
    setIsModalOpen(true);
  };
  const closeModal = () => {
    setIsModalOpen(false);
    setSelectedAnnonce(null);
  };
  const ActionButtons = ({ annonce }) => /* @__PURE__ */ jsxs("div", { className: "flex justify-end space-x-1 min-w-0", children: [
    /* @__PURE__ */ jsx(
      "button",
      {
        onClick: () => openModal(annonce),
        className: "p-1.5 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded transition-colors flex-shrink-0",
        title: "Voir les détails",
        children: /* @__PURE__ */ jsx(EyeIcon, { className: "h-4 w-4" })
      }
    ),
    annonce.status === "PENDING" && /* @__PURE__ */ jsx(
      "button",
      {
        onClick: () => onApprove(annonce.id),
        className: "p-1.5 text-green-600 hover:text-green-700 hover:bg-green-50 rounded transition-colors flex-shrink-0",
        title: "Approuver",
        children: /* @__PURE__ */ jsx(CheckCircleIcon, { className: "h-4 w-4" })
      }
    ),
    annonce.status === "PENDING" && /* @__PURE__ */ jsx(
      "button",
      {
        onClick: () => onReject(annonce.id),
        className: "p-1.5 text-red-600 hover:text-red-700 hover:bg-red-50 rounded transition-colors flex-shrink-0",
        title: "Rejeter",
        children: /* @__PURE__ */ jsx(XCircleIcon, { className: "h-4 w-4" })
      }
    ),
    annonce.status === "APPROVED" && /* @__PURE__ */ jsx(
      "button",
      {
        onClick: () => onMarkAsPaid(annonce.id),
        className: "p-1.5 text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded transition-colors flex-shrink-0",
        title: "Marquer comme payé",
        children: /* @__PURE__ */ jsx(CurrencyDollarIcon, { className: "h-4 w-4" })
      }
    )
  ] });
  return /* @__PURE__ */ jsxs("div", { className: "space-y-6", children: [
    /* @__PURE__ */ jsxs("div", { className: "bg-white rounded-xl shadow-sm border border-gray-200 p-6", children: [
      /* @__PURE__ */ jsxs("div", { className: "flex flex-col sm:flex-row gap-4", children: [
        /* @__PURE__ */ jsxs("div", { className: "relative flex-1", children: [
          /* @__PURE__ */ jsx(MagnifyingGlassIcon, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400" }),
          /* @__PURE__ */ jsx(
            "input",
            {
              type: "text",
              placeholder: "Rechercher par titre, société, utilisateur...",
              value: searchTerm,
              onChange: (e2) => setSearchTerm(e2.target.value),
              className: "w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
            }
          )
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "relative", children: [
          /* @__PURE__ */ jsx(FunnelIcon, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400" }),
          /* @__PURE__ */ jsxs(
            "select",
            {
              value: categoryFilter,
              onChange: (e2) => setCategoryFilter(e2.target.value),
              className: "pl-10 pr-8 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none bg-white min-w-[200px]",
              children: [
                /* @__PURE__ */ jsx("option", { value: "", children: "Toutes les catégories" }),
                categories.map((category) => /* @__PURE__ */ jsx("option", { value: category, children: category }, category))
              ]
            }
          )
        ] })
      ] }),
      /* @__PURE__ */ jsxs("div", { className: "mt-4 text-sm text-gray-600", children: [
        filteredData.length,
        " annonce",
        filteredData.length !== 1 ? "s" : "",
        " trouvée",
        filteredData.length !== 1 ? "s" : ""
      ] })
    ] }),
    /* @__PURE__ */ jsx("div", { className: "bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden", children: isLoading ? /* @__PURE__ */ jsx("div", { className: "flex justify-center items-center py-20", children: /* @__PURE__ */ jsx("div", { className: "animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500" }) }) : /* @__PURE__ */ jsxs(Fragment, { children: [
      /* @__PURE__ */ jsx("div", { className: "hidden lg:block", children: /* @__PURE__ */ jsxs("table", { className: "w-full table-fixed", children: [
        /* @__PURE__ */ jsx("thead", { className: "bg-gray-50 border-b border-gray-200", children: /* @__PURE__ */ jsxs("tr", { children: [
          /* @__PURE__ */ jsx("th", { className: "w-40 px-3 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Annonce" }),
          /* @__PURE__ */ jsx("th", { className: "w-40 px-3 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Utilisateur" }),
          /* @__PURE__ */ jsx("th", { className: "w-20 px-3 py-4 text-center text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Favori" }),
          /* @__PURE__ */ jsx("th", { className: "w-28 px-3 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Catégorie" }),
          /* @__PURE__ */ jsx("th", { className: "w-28 px-3 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Date" }),
          /* @__PURE__ */ jsx("th", { className: "w-32 px-3 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Paiement" }),
          /* @__PURE__ */ jsx("th", { className: "w-32 px-3 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Statut" }),
          /* @__PURE__ */ jsx("th", { className: "w-40 px-3 py-4 text-right text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Actions" })
        ] }) }),
        /* @__PURE__ */ jsx("tbody", { className: "bg-white divide-y divide-gray-200", children: filteredData.length > 0 ? filteredData.map((annonce) => {
          var _a3, _b2, _c2, _d2, _e, _f, _g, _h;
          return /* @__PURE__ */ jsxs("tr", { className: `hover:bg-gray-50 transition-colors ${((_a3 = annonce.user) == null ? void 0 : _a3.is_favorite) ? "bg-gradient-to-r from-amber-50/30 to-yellow-50/30 hover:from-amber-50/50 hover:to-yellow-50/50" : ""}`, children: [
            /* @__PURE__ */ jsx("td", { className: "w-48 px-3 py-4", children: /* @__PURE__ */ jsxs("div", { className: "min-w-0 relative", children: [
              ((_b2 = annonce.user) == null ? void 0 : _b2.is_favorite) && /* @__PURE__ */ jsx("div", { className: "absolute -top-1 -left-1", children: /* @__PURE__ */ jsx(FavoriteIndicator2, {}) }),
              /* @__PURE__ */ jsx("div", { className: "font-medium text-gray-900 truncate text-sm", title: annonce.title, children: annonce.payment_reference || "" }),
              /* @__PURE__ */ jsx("div", { className: "text-xs text-gray-500 truncate", title: annonce.nameSociete, children: annonce.nameSociete })
            ] }) }),
            /* @__PURE__ */ jsx("td", { className: "w-40 px-3 py-4", children: /* @__PURE__ */ jsxs("div", { className: "min-w-0", children: [
              /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2 mb-1", children: [
                /* @__PURE__ */ jsx(
                  "div",
                  {
                    className: "font-medium text-gray-900 truncate text-sm flex-1",
                    title: ((_c2 = annonce.user) == null ? void 0 : _c2.name) ?? "N/A",
                    children: ((_d2 = annonce.user) == null ? void 0 : _d2.name) ?? "N/A"
                  }
                ),
                ((_e = annonce.user) == null ? void 0 : _e.is_favorite) && /* @__PURE__ */ jsx(FavoriteBadge2, { size: "xs", showText: false })
              ] }),
              /* @__PURE__ */ jsx("div", { className: "text-xs text-gray-500 truncate", title: ((_f = annonce.user) == null ? void 0 : _f.email) ?? "N/A", children: ((_g = annonce.user) == null ? void 0 : _g.email) ?? "N/A" })
            ] }) }),
            /* @__PURE__ */ jsx("td", { className: "w-20 px-3 py-4 text-center", children: ((_h = annonce.user) == null ? void 0 : _h.is_favorite) ? /* @__PURE__ */ jsxs("span", { className: "inline-flex items-center gap-1 px-2 py-1 rounded-full bg-yellow-100 text-yellow-700 text-xs font-semibold", children: [
              /* @__PURE__ */ jsx(StarIcon, { className: "w-4 h-4 text-yellow-500" }),
              " VIP"
            ] }) : /* @__PURE__ */ jsx("span", { className: "inline-flex items-center gap-1 px-2 py-1 rounded-full bg-gray-100 text-gray-400 text-xs font-normal", children: /* @__PURE__ */ jsx(StarIcon, { className: "w-4 h-4 text-gray-300" }) }) }),
            /* @__PURE__ */ jsx("td", { className: "w-28 px-3 py-4", children: /* @__PURE__ */ jsx(
              "span",
              {
                className: "inline-block bg-purple-100 text-purple-800 px-2 py-1 rounded-full text-xs font-medium truncate max-w-[150px]",
                title: annonce.category,
                children: annonce.category
              }
            ) }),
            /* @__PURE__ */ jsx("td", { className: "w-28 px-3 py-4", children: /* @__PURE__ */ jsx("div", { className: "text-xs text-gray-500", children: formatDate2(annonce.created_at) }) }),
            /* @__PURE__ */ jsx("td", { className: "w-32 px-3 py-4", children: /* @__PURE__ */ jsxs("div", { className: "space-y-1", children: [
              getPaymentBadge(annonce.is_transaction_paid ?? false, annonce.payment_method),
              annonce.payment_reference && /* @__PURE__ */ jsx(
                "div",
                {
                  className: "text-xs font-mono text-gray-600 truncate",
                  title: annonce.payment_reference,
                  children: annonce.payment_reference
                }
              )
            ] }) }),
            /* @__PURE__ */ jsx("td", { className: "w-24 px-3 py-4", children: getStatusBadge2(annonce.status) }),
            /* @__PURE__ */ jsx("td", { className: "w-40 px-3 py-4 text-right", children: /* @__PURE__ */ jsx(ActionButtons, { annonce }) })
          ] }, annonce.id);
        }) : /* @__PURE__ */ jsx("tr", { children: /* @__PURE__ */ jsx("td", { colSpan: 9, className: "px-6 py-20 text-center", children: /* @__PURE__ */ jsxs("div", { className: "text-gray-500", children: [
          /* @__PURE__ */ jsx("div", { className: "text-lg font-medium mb-2", children: "Aucune annonce trouvée" }),
          /* @__PURE__ */ jsx("div", { className: "text-sm", children: "Essayez de modifier vos critères de recherche ou de filtrage." })
        ] }) }) }) })
      ] }) }),
      /* @__PURE__ */ jsx("div", { className: "lg:hidden", children: filteredData.length > 0 ? /* @__PURE__ */ jsx("div", { className: "divide-y divide-gray-200", children: filteredData.map((annonce) => {
        var _a3, _b2, _c2, _d2, _e, _f;
        return /* @__PURE__ */ jsxs("div", { className: `p-6 hover:bg-gray-50 transition-colors relative ${((_a3 = annonce.user) == null ? void 0 : _a3.is_favorite) ? "bg-gradient-to-r from-amber-50/30 to-yellow-50/30 hover:from-amber-50/50 hover:to-yellow-50/50" : ""}`, children: [
          ((_b2 = annonce.user) == null ? void 0 : _b2.is_favorite) && /* @__PURE__ */ jsx("div", { className: "absolute top-4 right-4", children: /* @__PURE__ */ jsx(FavoriteBadge2, { size: "sm" }) }),
          /* @__PURE__ */ jsxs("div", { className: "flex items-start justify-between mb-4 pr-20", children: [
            /* @__PURE__ */ jsxs("div", { className: "flex-1", children: [
              /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2 mb-2", children: [
                /* @__PURE__ */ jsx("span", { className: "bg-blue-100 text-blue-800 font-medium px-2.5 py-1 rounded-lg text-sm", children: annonce.payment_reference }),
                getStatusBadge2(annonce.status)
              ] }),
              /* @__PURE__ */ jsx("h3", { className: "font-medium text-gray-900 text-lg leading-tight mb-1", children: annonce.title }),
              /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500", children: annonce.nameSociete })
            ] }),
            /* @__PURE__ */ jsx(ActionButtons, { annonce })
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 gap-4", children: [
            /* @__PURE__ */ jsxs("div", { className: `p-3 rounded-lg ${((_c2 = annonce.user) == null ? void 0 : _c2.is_favorite) ? "bg-gradient-to-r from-amber-50 to-yellow-50 border border-amber-200" : "bg-gray-50"}`, children: [
              /* @__PURE__ */ jsx("div", { className: "text-xs font-medium text-gray-500 uppercase tracking-wider mb-1", children: "Utilisateur" }),
              /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
                /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsx("div", { className: "font-medium text-gray-900", children: ((_d2 = annonce.user) == null ? void 0 : _d2.name) ?? "N/A" }),
                  /* @__PURE__ */ jsx("div", { className: "text-sm text-gray-500", children: ((_e = annonce.user) == null ? void 0 : _e.email) ?? "N/A" })
                ] }),
                ((_f = annonce.user) == null ? void 0 : _f.is_favorite) && /* @__PURE__ */ jsxs("div", { className: "flex flex-col items-center", children: [
                  /* @__PURE__ */ jsx(StarIcon, { className: "w-6 h-6 text-amber-500 mb-1" }),
                  /* @__PURE__ */ jsx("span", { className: "text-xs text-amber-700 font-medium", children: "Client Favoris" })
                ] })
              ] })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-2 gap-4", children: [
              /* @__PURE__ */ jsxs("div", { children: [
                /* @__PURE__ */ jsx("div", { className: "text-xs font-medium text-gray-500 uppercase tracking-wider mb-1", children: "Catégorie" }),
                /* @__PURE__ */ jsx("span", { className: "bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm font-medium", children: annonce.category })
              ] }),
              /* @__PURE__ */ jsxs("div", { children: [
                /* @__PURE__ */ jsx("div", { className: "text-xs font-medium text-gray-500 uppercase tracking-wider mb-1", children: "Ville" }),
                /* @__PURE__ */ jsx("div", { className: "text-sm text-gray-900", children: annonce.ville })
              ] })
            ] }),
            /* @__PURE__ */ jsxs("div", { children: [
              /* @__PURE__ */ jsx("div", { className: "text-xs font-medium text-gray-500 uppercase tracking-wider mb-1", children: "Date" }),
              /* @__PURE__ */ jsx("div", { className: "text-sm text-gray-500", children: formatDate2(annonce.created_at) })
            ] }),
            /* @__PURE__ */ jsxs("div", { children: [
              /* @__PURE__ */ jsx("div", { className: "text-xs font-medium text-gray-500 uppercase tracking-wider mb-2", children: "Paiement" }),
              /* @__PURE__ */ jsxs("div", { className: "space-y-2", children: [
                getPaymentBadge(annonce.is_transaction_paid ?? false, annonce.payment_method),
                annonce.payment_reference && /* @__PURE__ */ jsxs("div", { className: "text-xs font-mono text-gray-600", children: [
                  "Réf: ",
                  annonce.payment_reference
                ] })
              ] })
            ] })
          ] })
        ] }, annonce.id);
      }) }) : /* @__PURE__ */ jsx("div", { className: "px-6 py-20 text-center", children: /* @__PURE__ */ jsxs("div", { className: "text-gray-500", children: [
        /* @__PURE__ */ jsx("div", { className: "text-lg font-medium mb-2", children: "Aucune annonce trouvée" }),
        /* @__PURE__ */ jsx("div", { className: "text-sm", children: "Essayez de modifier vos critères de recherche ou de filtrage." })
      ] }) }) })
    ] }) }),
    /* @__PURE__ */ jsx(Transition, { appear: true, show: isModalOpen, as: Fragment$1, children: /* @__PURE__ */ jsxs(Dialog, { as: "div", className: "relative z-50", onClose: closeModal, children: [
      /* @__PURE__ */ jsx(
        Transition.Child,
        {
          as: Fragment$1,
          enter: "ease-out duration-300",
          enterFrom: "opacity-0",
          enterTo: "opacity-100",
          leave: "ease-in duration-200",
          leaveFrom: "opacity-100",
          leaveTo: "opacity-0",
          children: /* @__PURE__ */ jsx("div", { className: "fixed inset-0 bg-black/25" })
        }
      ),
      /* @__PURE__ */ jsx("div", { className: "fixed inset-0 overflow-y-auto", children: /* @__PURE__ */ jsx("div", { className: "flex min-h-full items-center justify-center p-4 text-center", children: /* @__PURE__ */ jsx(
        Transition.Child,
        {
          as: Fragment$1,
          enter: "ease-out duration-300",
          enterFrom: "opacity-0 scale-95",
          enterTo: "opacity-100 scale-100",
          leave: "ease-in duration-200",
          leaveFrom: "opacity-100 scale-100",
          leaveTo: "opacity-0 scale-95",
          children: /* @__PURE__ */ jsx(Dialog.Panel, { className: "w-full max-w-4xl transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all", children: selectedAnnonce && /* @__PURE__ */ jsxs(Fragment, { children: [
            /* @__PURE__ */ jsxs("div", { className: "flex justify-between items-start mb-6", children: [
              /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-3", children: [
                /* @__PURE__ */ jsxs(Dialog.Title, { as: "h3", className: "text-lg font-bold text-gray-900", children: [
                  "Détails de l'annonce ",
                  selectedAnnonce.payment_reference
                ] }),
                ((_a2 = selectedAnnonce.user) == null ? void 0 : _a2.is_favorite) && /* @__PURE__ */ jsx(FavoriteBadge2, { size: "md" })
              ] }),
              /* @__PURE__ */ jsx(
                "button",
                {
                  onClick: closeModal,
                  className: "p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",
                  children: /* @__PURE__ */ jsx(XMarkIcon$1, { className: "h-5 w-5" })
                }
              )
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "space-y-6", children: [
              /* @__PURE__ */ jsxs("div", { className: "flex flex-wrap gap-4", children: [
                getStatusBadge2(selectedAnnonce.status),
                getPaymentBadge(selectedAnnonce.is_send_screenshot ?? false)
              ] }),
              /* @__PURE__ */ jsxs(
                "div",
                {
                  className: `p-6 rounded-xl transition-all duration-300 ${((_b = selectedAnnonce.user) == null ? void 0 : _b.is_favorite) ? "bg-gradient-to-br from-amber-50 via-yellow-50 to-orange-50 border-2 border-amber-200" : "bg-gradient-to-br from-gray-50 to-slate-50 border border-gray-200"}`,
                  children: [
                    /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between mb-4", children: [
                      /* @__PURE__ */ jsxs("h4", { className: "text-lg font-semibold text-gray-800 flex items-center gap-2", children: [
                        /* @__PURE__ */ jsx("div", { className: "w-2 h-2 rounded-full bg-blue-500" }),
                        "Informations Utilisateur"
                      ] }),
                      ((_c = selectedAnnonce.user) == null ? void 0 : _c.is_favorite) && /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2 bg-gradient-to-r from-amber-400 to-yellow-400 px-3 py-1.5 rounded-full shadow-md", children: [
                        /* @__PURE__ */ jsx(StarIcon, { className: "w-4 h-4 text-white" }),
                        /* @__PURE__ */ jsx("span", { className: "text-sm font-bold text-white", children: "VIP" })
                      ] })
                    ] }),
                    /* @__PURE__ */ jsxs("div", { className: "space-y-4", children: [
                      /* @__PURE__ */ jsx("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-3", children: /* @__PURE__ */ jsxs("div", { className: "bg-gray-50 p-4 rounded-lg", children: [
                        /* @__PURE__ */ jsx("h4", { className: "text-sm font-medium text-gray-500 mb-1", children: "Utilisateur" }),
                        /* @__PURE__ */ jsxs("p", { className: "text-[#00377f] font-medium", children: [
                          selectedAnnonce.user.name,
                          " (",
                          selectedAnnonce.user.email,
                          ")"
                        ] }),
                        "Telephone: ",
                        /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500", children: selectedAnnonce.user.phone }),
                        "Addresse: ",
                        /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500", children: selectedAnnonce.user.address || "N.A" })
                      ] }) }),
                      ((_d = selectedAnnonce.user) == null ? void 0 : _d.is_favorite) && /* @__PURE__ */ jsx("div", { className: "bg-gradient-to-r from-amber-400 via-yellow-400 to-orange-400 rounded-lg p-4 shadow-lg", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-center gap-3 text-white", children: [
                        /* @__PURE__ */ jsx(StarIcon, { className: "w-6 h-6" }),
                        /* @__PURE__ */ jsxs("div", { className: "text-center", children: [
                          /* @__PURE__ */ jsx("div", { className: "font-bold text-lg", children: "Client Privilégié" }),
                          /* @__PURE__ */ jsx("div", { className: "text-sm opacity-90", children: "Utilisateur avec statut VIP" })
                        ] }),
                        /* @__PURE__ */ jsx(StarIcon, { className: "w-6 h-6" })
                      ] }) })
                    ] })
                  ]
                }
              ),
              /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-6", children: [
                /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsx("h4", { className: "text-sm font-medium text-gray-500 mb-1", children: "Titre" }),
                  /* @__PURE__ */ jsx("p", { className: "text-lg font-semibold text-gray-900", children: selectedAnnonce.title })
                ] }),
                /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsx("h4", { className: "text-sm font-medium text-gray-500 mb-1", children: "Société" }),
                  /* @__PURE__ */ jsx("p", { className: "text-gray-900", children: selectedAnnonce.nameSociete })
                ] }),
                /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsx("h4", { className: "text-sm font-medium text-gray-500 mb-1", children: "Catégorie" }),
                  /* @__PURE__ */ jsx("span", { className: "bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm font-medium", children: selectedAnnonce.category })
                ] }),
                /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsx("h4", { className: "text-sm font-medium text-gray-500 mb-1", children: "Ville" }),
                  /* @__PURE__ */ jsx("p", { className: "text-gray-900", children: selectedAnnonce.ville })
                ] }),
                /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsx("h4", { className: "text-sm font-medium text-gray-500 mb-1", children: "Date de création" }),
                  /* @__PURE__ */ jsx("p", { className: "text-gray-900", children: formatDate2(selectedAnnonce.created_at) })
                ] }),
                /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsx("h4", { className: "text-sm font-medium text-gray-500 mb-1", children: "Date" }),
                  /* @__PURE__ */ jsx("p", { className: "text-gray-900", children: formatDate2(selectedAnnonce.date) })
                ] }),
                selectedAnnonce.RC && /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsx("h4", { className: "text-sm font-medium text-gray-500 mb-1", children: "RC" }),
                  /* @__PURE__ */ jsx("p", { className: "text-gray-900 font-mono text-sm", children: selectedAnnonce.RC })
                ] }),
                selectedAnnonce.canal_de_publication && /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsx("h4", { className: "text-sm font-medium text-gray-500 mb-1", children: "Canal de publication" }),
                  /* @__PURE__ */ jsx("p", { className: "text-gray-900", children: selectedAnnonce.canal_de_publication })
                ] })
              ] }),
              selectedAnnonce.payment_reference && /* @__PURE__ */ jsxs("div", { className: "bg-blue-50 p-4 rounded-lg", children: [
                /* @__PURE__ */ jsx("h4", { className: "text-sm font-medium text-blue-900 mb-2", children: "Informations de paiement" }),
                /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [
                  selectedAnnonce.payment_method && /* @__PURE__ */ jsxs("div", { children: [
                    /* @__PURE__ */ jsx("span", { className: "text-sm text-blue-700", children: "Méthode: " }),
                    /* @__PURE__ */ jsx("span", { className: "text-blue-900 font-medium", children: selectedAnnonce.payment_method })
                  ] }),
                  selectedAnnonce.payment_reference && /* @__PURE__ */ jsxs("div", { children: [
                    /* @__PURE__ */ jsx("span", { className: "text-sm text-blue-700", children: "Référence: " }),
                    /* @__PURE__ */ jsx("span", { className: "text-blue-900 font-mono text-sm", children: selectedAnnonce.payment_reference })
                  ] })
                ] })
              ] }),
              selectedAnnonce.content && /* @__PURE__ */ jsxs("div", { children: [
                /* @__PURE__ */ jsx("h4", { className: "text-sm font-medium text-gray-500 mb-2", children: "Contenu" }),
                /* @__PURE__ */ jsx("div", { className: "bg-gray-50 p-4 rounded-lg", children: /* @__PURE__ */ jsx("p", { className: "text-gray-700 whitespace-pre-line", children: selectedAnnonce.content }) })
              ] })
            ] }),
            /* @__PURE__ */ jsx("div", { className: "mt-8 border-t pt-6", children: /* @__PURE__ */ jsxs("div", { className: "flex flex-col sm:flex-row justify-end gap-3", children: [
              selectedAnnonce.status === "PENDING" && /* @__PURE__ */ jsxs(Fragment, { children: [
                /* @__PURE__ */ jsxs(
                  "button",
                  {
                    onClick: () => {
                      onReject(selectedAnnonce.id);
                      closeModal();
                    },
                    className: "inline-flex justify-center items-center rounded-md bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors",
                    children: [
                      /* @__PURE__ */ jsx(XCircleIcon, { className: "w-5 h-5 mr-2" }),
                      "Rejeter"
                    ]
                  }
                ),
                /* @__PURE__ */ jsxs(
                  "button",
                  {
                    onClick: () => {
                      onApprove(selectedAnnonce.id);
                      closeModal();
                    },
                    className: "inline-flex justify-center items-center rounded-md bg-green-600 px-4 py-2 text-sm font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition-colors",
                    children: [
                      /* @__PURE__ */ jsx(CheckCircleIcon, { className: "w-5 h-5 mr-2" }),
                      "Approuver"
                    ]
                  }
                )
              ] }),
              selectedAnnonce.status === "APPROVED" && !selectedAnnonce.is_transaction_paid && /* @__PURE__ */ jsxs(
                "button",
                {
                  onClick: () => {
                    onMarkAsPaid(selectedAnnonce.id);
                    closeModal();
                  },
                  className: "inline-flex justify-center items-center rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors",
                  children: [
                    /* @__PURE__ */ jsx(CurrencyDollarIcon, { className: "w-5 h-5 mr-2" }),
                    "Marquer comme payé"
                  ]
                }
              ),
              /* @__PURE__ */ jsx(
                "button",
                {
                  onClick: closeModal,
                  className: "inline-flex justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors",
                  children: "Fermer"
                }
              )
            ] }) })
          ] }) })
        }
      ) }) })
    ] }) })
  ] });
}
function AppelsOffresTable({
  data,
  onApprove,
  onReject,
  onMarkAsPaid,
  isLoading = false
}) {
  var _a2, _b, _c, _d, _e, _f, _g;
  const [searchTerm, setSearchTerm] = useState("");
  const [secteurFilter, setSecteurFilter] = useState("");
  const [selectedAppelOffre, setSelectedAppelOffre] = useState(null);
  const [isModalOpen, setIsModalOpen] = useState(false);
  const secteurs = Array.from(new Set(data.map((item) => item.secteur)));
  const filteredData = data.filter((item) => {
    var _a3, _b2, _c2, _d2;
    const matchesSearch = item.id.toString().includes(searchTerm) || (((_a3 = item.titre) == null ? void 0 : _a3.toLowerCase()) ?? "").includes(searchTerm.toLowerCase()) || (((_b2 = item.ICE) == null ? void 0 : _b2.toLowerCase()) ?? "").includes(searchTerm.toLowerCase()) || (((_c2 = item.ville) == null ? void 0 : _c2.toLowerCase()) ?? "").includes(searchTerm.toLowerCase()) || (((_d2 = item.secteur) == null ? void 0 : _d2.toLowerCase()) ?? "").includes(searchTerm.toLowerCase());
    const matchesSecteur = !secteurFilter || item.secteur === secteurFilter;
    return matchesSearch && matchesSecteur;
  });
  const formatDate2 = (dateString) => {
    return new Date(dateString).toLocaleDateString("fr-FR", {
      year: "numeric",
      month: "short",
      day: "numeric",
      hour: "2-digit",
      minute: "2-digit"
    });
  };
  const getStatusBadge2 = (status) => {
    const styles = {
      PENDING: "bg-amber-50 text-amber-700 border-amber-200",
      APPROVED: "bg-green-50 text-green-700 border-green-200",
      REJECTED: "bg-red-50 text-red-700 border-red-200"
    };
    const icons = {
      PENDING: /* @__PURE__ */ jsx("div", { className: "w-2 h-2 rounded-full bg-amber-500 mr-1.5" }),
      APPROVED: /* @__PURE__ */ jsx(CheckIcon, { className: "w-4 h-4 mr-1.5" }),
      REJECTED: /* @__PURE__ */ jsx(XMarkIcon, { className: "w-4 h-4 mr-1.5" })
    };
    const statusLabels = {
      PENDING: "En attente",
      APPROVED: "Approuvée",
      REJECTED: "Rejetée"
    };
    return /* @__PURE__ */ jsxs(
      "span",
      {
        className: `inline-flex items-center px-3 py-1 text-sm font-medium rounded-full border ${styles[status]}`,
        children: [
          icons[status],
          statusLabels[status] ?? status
        ]
      }
    );
  };
  const getPaymentBadge = (isTransactionPaid, method) => {
    if (isTransactionPaid) {
      return /* @__PURE__ */ jsxs("span", { className: "inline-flex items-center px-3 py-1 text-sm font-medium rounded-full border bg-green-100 text-green-700 border-green-300", children: [
        /* @__PURE__ */ jsx(CurrencyDollarIcon, { className: "w-4 h-4 mr-1.5" }),
        method ?? "Payé"
      ] });
    }
    return /* @__PURE__ */ jsxs("span", { className: "inline-flex items-center px-3 py-1 text-sm font-medium rounded-full border bg-red-100 text-red-700 border-red-300", children: [
      /* @__PURE__ */ jsx(XMarkIcon, { className: "w-4 h-4 mr-1.5" }),
      "Non payé"
    ] });
  };
  const openModal = (appelOffre) => {
    setSelectedAppelOffre(appelOffre);
    setIsModalOpen(true);
  };
  const closeModal = () => {
    setIsModalOpen(false);
    setSelectedAppelOffre(null);
  };
  const ActionButtons = ({ appelOffre }) => /* @__PURE__ */ jsxs("div", { className: "flex justify-end space-x-1 min-w-0", children: [
    /* @__PURE__ */ jsx(
      "button",
      {
        onClick: () => openModal(appelOffre),
        className: "p-1.5 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded transition-colors flex-shrink-0",
        title: "Voir les détails",
        children: /* @__PURE__ */ jsx(EyeIcon, { className: "h-4 w-4" })
      }
    ),
    appelOffre.status === "PENDING" && /* @__PURE__ */ jsx(
      "button",
      {
        onClick: () => onApprove(appelOffre.id),
        className: "p-1.5 text-green-600 hover:text-green-700 hover:bg-green-50 rounded transition-colors flex-shrink-0",
        title: "Approuver",
        children: /* @__PURE__ */ jsx(CheckCircleIcon, { className: "h-4 w-4" })
      }
    ),
    appelOffre.status === "PENDING" && /* @__PURE__ */ jsx(
      "button",
      {
        onClick: () => onReject(appelOffre.id),
        className: "p-1.5 text-red-600 hover:text-red-700 hover:bg-red-50 rounded transition-colors flex-shrink-0",
        title: "Rejeter",
        children: /* @__PURE__ */ jsx(XCircleIcon, { className: "h-4 w-4" })
      }
    ),
    appelOffre.status === "APPROVED" && /* @__PURE__ */ jsx(
      "button",
      {
        onClick: () => onMarkAsPaid(appelOffre.id),
        className: "p-1.5 text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded transition-colors flex-shrink-0",
        title: "Marquer comme payé",
        children: /* @__PURE__ */ jsx(CurrencyDollarIcon, { className: "h-4 w-4" })
      }
    )
  ] });
  return /* @__PURE__ */ jsxs("div", { className: "space-y-6", children: [
    /* @__PURE__ */ jsxs("div", { className: "bg-white rounded-xl shadow-sm border border-gray-200 p-6", children: [
      /* @__PURE__ */ jsxs("div", { className: "flex flex-col sm:flex-row gap-4", children: [
        /* @__PURE__ */ jsxs("div", { className: "relative flex-1", children: [
          /* @__PURE__ */ jsx(MagnifyingGlassIcon, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400" }),
          /* @__PURE__ */ jsx(
            "input",
            {
              type: "text",
              placeholder: "Rechercher par titre, ICE, ville, secteur...",
              value: searchTerm,
              onChange: (e2) => setSearchTerm(e2.target.value),
              className: "w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
            }
          )
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "relative", children: [
          /* @__PURE__ */ jsx(FunnelIcon, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400" }),
          /* @__PURE__ */ jsxs(
            "select",
            {
              value: secteurFilter,
              onChange: (e2) => setSecteurFilter(e2.target.value),
              className: "pl-10 pr-8 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none bg-white min-w-[200px]",
              children: [
                /* @__PURE__ */ jsx("option", { value: "", children: "Tous les secteurs" }),
                secteurs.map((secteur) => /* @__PURE__ */ jsx("option", { value: secteur, children: secteur }, secteur))
              ]
            }
          )
        ] })
      ] }),
      /* @__PURE__ */ jsxs("div", { className: "mt-4 text-sm text-gray-600", children: [
        filteredData.length,
        " appel",
        filteredData.length !== 1 ? "s" : "",
        " d'offre",
        filteredData.length !== 1 ? "s" : "",
        " trouvé",
        filteredData.length !== 1 ? "s" : ""
      ] })
    ] }),
    /* @__PURE__ */ jsx("div", { className: "bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden", children: isLoading ? /* @__PURE__ */ jsx("div", { className: "flex justify-center items-center py-20", children: /* @__PURE__ */ jsx("div", { className: "animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500" }) }) : /* @__PURE__ */ jsxs(Fragment, { children: [
      /* @__PURE__ */ jsx("div", { className: "hidden lg:block", children: /* @__PURE__ */ jsxs("table", { className: "w-full table-fixed", children: [
        /* @__PURE__ */ jsx("thead", { className: "bg-gray-50 border-b border-gray-200", children: /* @__PURE__ */ jsxs("tr", { children: [
          /* @__PURE__ */ jsx("th", { className: "w-48 px-3 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Titre" }),
          /* @__PURE__ */ jsx("th", { className: "w-20 px-3 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Favori" }),
          /* @__PURE__ */ jsx("th", { className: "w-28 px-3 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Ville" }),
          /* @__PURE__ */ jsx("th", { className: "w-32 px-3 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Secteur" }),
          /* @__PURE__ */ jsx("th", { className: "w-28 px-3 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Date" }),
          /* @__PURE__ */ jsx("th", { className: "w-32 px-3 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Paiement" }),
          /* @__PURE__ */ jsx("th", { className: "w-32 px-3 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Statut" }),
          /* @__PURE__ */ jsx("th", { className: "w-40 px-3 py-4 text-right text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Actions" })
        ] }) }),
        /* @__PURE__ */ jsx("tbody", { className: "bg-white divide-y divide-gray-200", children: filteredData.length > 0 ? filteredData.map((appelOffre) => {
          var _a3;
          return /* @__PURE__ */ jsxs("tr", { className: "hover:bg-gray-50 transition-colors", children: [
            /* @__PURE__ */ jsx("td", { className: "w-48 px-3 py-4", children: /* @__PURE__ */ jsx("div", { className: "min-w-0", children: /* @__PURE__ */ jsx("div", { className: "font-medium text-gray-900 truncate text-sm", title: appelOffre.titre, children: appelOffre.titre }) }) }),
            /* @__PURE__ */ jsx("td", { className: "w-20 px-3 py-4 text-center", children: ((_a3 = appelOffre.user) == null ? void 0 : _a3.is_favorite) ? /* @__PURE__ */ jsxs("span", { className: "inline-flex items-center gap-1 px-2 py-1 rounded-full bg-yellow-100 text-yellow-700 text-xs font-semibold", children: [
              /* @__PURE__ */ jsx(StarIcon, { className: "w-4 h-4 text-yellow-500" }),
              " VIP"
            ] }) : /* @__PURE__ */ jsx("span", { className: "inline-flex items-center gap-1 px-2 py-1 rounded-full bg-gray-100 text-gray-400 text-xs font-normal", children: /* @__PURE__ */ jsx(StarIcon, { className: "w-4 h-4 text-gray-300" }) }) }),
            /* @__PURE__ */ jsx("td", { className: "w-28 px-3 py-4", children: /* @__PURE__ */ jsx("div", { className: "text-sm text-gray-900 truncate", title: appelOffre.ville, children: appelOffre.ville }) }),
            /* @__PURE__ */ jsx("td", { className: "w-32 px-3 py-4", children: /* @__PURE__ */ jsx(
              "span",
              {
                className: "inline-block bg-purple-100 text-purple-800 px-2 py-1 rounded-full text-xs font-medium truncate max-w-[150px]",
                title: appelOffre.secteur,
                children: appelOffre.secteur
              }
            ) }),
            /* @__PURE__ */ jsx("td", { className: "w-28 px-3 py-4", children: /* @__PURE__ */ jsx("div", { className: "text-xs text-gray-500", children: formatDate2(appelOffre.created_at) }) }),
            /* @__PURE__ */ jsx("td", { className: "w-32 px-3 py-4", children: /* @__PURE__ */ jsxs("div", { className: "space-y-1", children: [
              getPaymentBadge(appelOffre.is_transaction_paid ?? false, appelOffre.payment_method),
              appelOffre.payment_reference && /* @__PURE__ */ jsx(
                "div",
                {
                  className: "text-xs font-mono text-gray-600 truncate",
                  title: appelOffre.payment_reference,
                  children: appelOffre.payment_reference
                }
              )
            ] }) }),
            /* @__PURE__ */ jsx("td", { className: "w-24 px-3 py-4", children: getStatusBadge2(appelOffre.status) }),
            /* @__PURE__ */ jsx("td", { className: "w-40 px-3 py-4 text-right", children: /* @__PURE__ */ jsx(ActionButtons, { appelOffre }) })
          ] }, appelOffre.id);
        }) : /* @__PURE__ */ jsx("tr", { children: /* @__PURE__ */ jsx("td", { colSpan: 8, className: "px-6 py-20 text-center", children: /* @__PURE__ */ jsxs("div", { className: "text-gray-500", children: [
          /* @__PURE__ */ jsx("div", { className: "text-lg font-medium mb-2", children: "Aucun appel d'offre trouvé" }),
          /* @__PURE__ */ jsx("div", { className: "text-sm", children: "Essayez de modifier vos critères de recherche ou de filtrage." })
        ] }) }) }) })
      ] }) }),
      /* @__PURE__ */ jsx("div", { className: "lg:hidden", children: filteredData.length > 0 ? /* @__PURE__ */ jsx("div", { className: "divide-y divide-gray-200", children: filteredData.map((appelOffre) => /* @__PURE__ */ jsxs("div", { className: "p-6 hover:bg-gray-50 transition-colors", children: [
        /* @__PURE__ */ jsxs("div", { className: "flex items-start justify-between mb-4", children: [
          /* @__PURE__ */ jsxs("div", { className: "flex-1", children: [
            /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2 mb-2", children: [
              /* @__PURE__ */ jsx("span", { className: "bg-blue-100 text-blue-800 font-medium px-2.5 py-1 rounded-lg text-sm", children: appelOffre.ICE }),
              getStatusBadge2(appelOffre.status)
            ] }),
            /* @__PURE__ */ jsx("h3", { className: "font-medium text-gray-900 text-lg leading-tight mb-1", children: appelOffre.titre })
          ] }),
          /* @__PURE__ */ jsx(ActionButtons, { appelOffre })
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 gap-4", children: [
          /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-2 gap-4", children: [
            /* @__PURE__ */ jsxs("div", { children: [
              /* @__PURE__ */ jsx("div", { className: "text-xs font-medium text-gray-500 uppercase tracking-wider mb-1", children: "Secteur" }),
              /* @__PURE__ */ jsx("span", { className: "bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm font-medium", children: appelOffre.secteur })
            ] }),
            /* @__PURE__ */ jsxs("div", { children: [
              /* @__PURE__ */ jsx("div", { className: "text-xs font-medium text-gray-500 uppercase tracking-wider mb-1", children: "Ville" }),
              /* @__PURE__ */ jsx("div", { className: "text-sm text-gray-900", children: appelOffre.ville })
            ] })
          ] }),
          /* @__PURE__ */ jsxs("div", { children: [
            /* @__PURE__ */ jsx("div", { className: "text-xs font-medium text-gray-500 uppercase tracking-wider mb-1", children: "Date" }),
            /* @__PURE__ */ jsx("div", { className: "text-sm text-gray-500", children: formatDate2(appelOffre.created_at) })
          ] }),
          /* @__PURE__ */ jsxs("div", { children: [
            /* @__PURE__ */ jsx("div", { className: "text-xs font-medium text-gray-500 uppercase tracking-wider mb-2", children: "Paiement" }),
            /* @__PURE__ */ jsxs("div", { className: "space-y-2", children: [
              getPaymentBadge(appelOffre.is_transaction_paid ?? false, appelOffre.payment_method),
              appelOffre.payment_reference && /* @__PURE__ */ jsxs("div", { className: "text-xs font-mono text-gray-600", children: [
                "Réf: ",
                appelOffre.payment_reference
              ] })
            ] })
          ] })
        ] })
      ] }, appelOffre.id)) }) : /* @__PURE__ */ jsx("div", { className: "px-6 py-20 text-center", children: /* @__PURE__ */ jsxs("div", { className: "text-gray-500", children: [
        /* @__PURE__ */ jsx("div", { className: "text-lg font-medium mb-2", children: "Aucun appel d'offre trouvé" }),
        /* @__PURE__ */ jsx("div", { className: "text-sm", children: "Essayez de modifier vos critères de recherche ou de filtrage." })
      ] }) }) })
    ] }) }),
    /* @__PURE__ */ jsx(Transition, { appear: true, show: isModalOpen, as: Fragment$1, children: /* @__PURE__ */ jsxs(Dialog, { as: "div", className: "relative z-50", onClose: closeModal, children: [
      /* @__PURE__ */ jsx(
        Transition.Child,
        {
          as: Fragment$1,
          enter: "ease-out duration-300",
          enterFrom: "opacity-0",
          enterTo: "opacity-100",
          leave: "ease-in duration-200",
          leaveFrom: "opacity-100",
          leaveTo: "opacity-0",
          children: /* @__PURE__ */ jsx("div", { className: "fixed inset-0 bg-black/25" })
        }
      ),
      /* @__PURE__ */ jsx("div", { className: "fixed inset-0 overflow-y-auto", children: /* @__PURE__ */ jsx("div", { className: "flex min-h-full items-center justify-center p-4 text-center", children: /* @__PURE__ */ jsx(
        Transition.Child,
        {
          as: Fragment$1,
          enter: "ease-out duration-300",
          enterFrom: "opacity-0 scale-95",
          enterTo: "opacity-100 scale-100",
          leave: "ease-in duration-200",
          leaveFrom: "opacity-100 scale-100",
          leaveTo: "opacity-0 scale-95",
          children: /* @__PURE__ */ jsx(Dialog.Panel, { className: "w-full max-w-4xl transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all", children: selectedAppelOffre && /* @__PURE__ */ jsxs(Fragment, { children: [
            /* @__PURE__ */ jsxs("div", { className: "flex justify-between items-start mb-6", children: [
              /* @__PURE__ */ jsx(Dialog.Title, { as: "h3", className: "text-lg font-bold text-gray-900", children: "Détails de l'appel d'offre" }),
              /* @__PURE__ */ jsx(
                "button",
                {
                  onClick: closeModal,
                  className: "p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",
                  children: /* @__PURE__ */ jsx(XMarkIcon$1, { className: "h-5 w-5" })
                }
              )
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "flex flex-wrap gap-4 pb-2", children: [
              getStatusBadge2(selectedAppelOffre.status),
              getPaymentBadge(
                selectedAppelOffre.is_transaction_paid ?? false,
                selectedAppelOffre.payment_method
              )
            ] }),
            /* @__PURE__ */ jsxs(
              "div",
              {
                className: `p-6 rounded-xl transition-all duration-300 ${((_a2 = selectedAppelOffre.user) == null ? void 0 : _a2.is_favorite) ? "bg-gradient-to-br from-amber-50 via-yellow-50 to-orange-50 border-2 border-amber-200" : "bg-gradient-to-br from-gray-50 to-slate-50 border border-gray-200"}`,
                children: [
                  /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between mb-4", children: [
                    /* @__PURE__ */ jsxs("h4", { className: "text-lg font-semibold text-gray-800 flex items-center gap-2", children: [
                      /* @__PURE__ */ jsx("div", { className: "w-2 h-2 rounded-full bg-blue-500" }),
                      "Informations Utilisateur"
                    ] }),
                    ((_b = selectedAppelOffre.user) == null ? void 0 : _b.is_favorite) && /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2 bg-gradient-to-r from-amber-400 to-yellow-400 px-3 py-1.5 rounded-full", children: [
                      /* @__PURE__ */ jsx(XMarkIcon, { className: "w-4 h-4 text-white" }),
                      /* @__PURE__ */ jsx("span", { className: "text-sm font-bold text-white", children: "VIP" })
                    ] })
                  ] }),
                  /* @__PURE__ */ jsxs("div", { className: "space-y-4", children: [
                    /* @__PURE__ */ jsx("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-3", children: /* @__PURE__ */ jsxs("div", { className: "bg-gray-50 p-4 rounded-lg", children: [
                      /* @__PURE__ */ jsx("h4", { className: "text-sm font-medium text-gray-500 mb-1", children: "Utilisateur" }),
                      /* @__PURE__ */ jsxs("p", { className: "text-[#00377f] font-medium", children: [
                        (_c = selectedAppelOffre.user) == null ? void 0 : _c.name,
                        " (",
                        (_d = selectedAppelOffre.user) == null ? void 0 : _d.email,
                        ")"
                      ] }),
                      "Telephone: ",
                      /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500", children: (_e = selectedAppelOffre.user) == null ? void 0 : _e.phone }),
                      "Addresse: ",
                      /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500", children: ((_f = selectedAppelOffre.user) == null ? void 0 : _f.address) || "N.A" })
                    ] }) }),
                    ((_g = selectedAppelOffre.user) == null ? void 0 : _g.is_favorite) && /* @__PURE__ */ jsx("div", { className: "bg-gradient-to-r from-amber-400 via-yellow-400 to-orange-400 rounded-lg p-4 shadow-lg", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-center gap-3 text-white", children: [
                      /* @__PURE__ */ jsx(StarIcon, { className: "w-6 h-6" }),
                      /* @__PURE__ */ jsxs("div", { className: "text-center", children: [
                        /* @__PURE__ */ jsx("div", { className: "font-bold text-lg", children: "Client Privilégié" }),
                        /* @__PURE__ */ jsx("div", { className: "text-sm opacity-90", children: "Utilisateur avec statut VIP" })
                      ] }),
                      /* @__PURE__ */ jsx(StarIcon, { className: "w-6 h-6" })
                    ] }) })
                  ] })
                ]
              }
            ),
            /* @__PURE__ */ jsxs("div", { className: "space-y-6 pt-4", children: [
              /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-6", children: [
                /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsx("h4", { className: "text-sm font-medium text-gray-500 mb-1", children: "Titre" }),
                  /* @__PURE__ */ jsx("p", { className: "text-lg font-semibold text-gray-900", children: selectedAppelOffre.titre })
                ] }),
                /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsx("h4", { className: "text-sm font-medium text-gray-500 mb-1", children: "ICE" }),
                  /* @__PURE__ */ jsx("p", { className: "text-gray-900 font-mono", children: selectedAppelOffre.ICE })
                ] }),
                /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsx("h4", { className: "text-sm font-medium text-gray-500 mb-1", children: "Secteur" }),
                  /* @__PURE__ */ jsx("span", { className: "bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm font-medium", children: selectedAppelOffre.secteur })
                ] }),
                /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsx("h4", { className: "text-sm font-medium text-gray-500 mb-1", children: "Ville" }),
                  /* @__PURE__ */ jsx("p", { className: "text-gray-900", children: selectedAppelOffre.ville })
                ] }),
                /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsx("h4", { className: "text-sm font-medium text-gray-500 mb-1", children: "Date de création" }),
                  /* @__PURE__ */ jsx("p", { className: "text-gray-900", children: formatDate2(selectedAppelOffre.created_at) })
                ] })
              ] }),
              (selectedAppelOffre.payment_reference || selectedAppelOffre.payment_method) && /* @__PURE__ */ jsxs("div", { className: "bg-blue-50 p-4 rounded-lg", children: [
                /* @__PURE__ */ jsx("h4", { className: "text-sm font-medium text-blue-900 mb-2", children: "Informations de paiement" }),
                /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [
                  selectedAppelOffre.payment_method && /* @__PURE__ */ jsxs("div", { children: [
                    /* @__PURE__ */ jsx("span", { className: "text-sm text-blue-700", children: "Méthode: " }),
                    /* @__PURE__ */ jsx("span", { className: "text-blue-900 font-medium", children: selectedAppelOffre.payment_method })
                  ] }),
                  selectedAppelOffre.payment_reference && /* @__PURE__ */ jsxs("div", { children: [
                    /* @__PURE__ */ jsx("span", { className: "text-sm text-blue-700", children: "Référence: " }),
                    /* @__PURE__ */ jsx("span", { className: "text-blue-900 font-mono text-sm", children: selectedAppelOffre.payment_reference })
                  ] })
                ] })
              ] })
            ] }),
            /* @__PURE__ */ jsx("div", { className: "mt-8 border-t pt-6", children: /* @__PURE__ */ jsxs("div", { className: "flex flex-col sm:flex-row justify-end gap-3", children: [
              selectedAppelOffre.status === "PENDING" && /* @__PURE__ */ jsxs(Fragment, { children: [
                /* @__PURE__ */ jsxs(
                  "button",
                  {
                    onClick: () => {
                      onReject(selectedAppelOffre.id);
                      closeModal();
                    },
                    className: "inline-flex justify-center items-center rounded-md bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors",
                    children: [
                      /* @__PURE__ */ jsx(XCircleIcon, { className: "w-5 h-5 mr-2" }),
                      "Rejeter"
                    ]
                  }
                ),
                /* @__PURE__ */ jsxs(
                  "button",
                  {
                    onClick: () => {
                      onApprove(selectedAppelOffre.id);
                      closeModal();
                    },
                    className: "inline-flex justify-center items-center rounded-md bg-green-600 px-4 py-2 text-sm font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition-colors",
                    children: [
                      /* @__PURE__ */ jsx(CheckCircleIcon, { className: "w-5 h-5 mr-2" }),
                      "Approuver"
                    ]
                  }
                )
              ] }),
              selectedAppelOffre.status === "APPROVED" && !selectedAppelOffre.is_transaction_paid && /* @__PURE__ */ jsxs(
                "button",
                {
                  onClick: () => {
                    onMarkAsPaid(selectedAppelOffre.id);
                    closeModal();
                  },
                  className: "inline-flex justify-center items-center rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors",
                  children: [
                    /* @__PURE__ */ jsx(CurrencyDollarIcon, { className: "w-5 h-5 mr-2" }),
                    "Marquer comme payé"
                  ]
                }
              ),
              /* @__PURE__ */ jsx(
                "button",
                {
                  onClick: closeModal,
                  className: "inline-flex justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors",
                  children: "Fermer"
                }
              )
            ] }) })
          ] }) })
        }
      ) }) })
    ] }) })
  ] });
}
function Home() {
  const queryClient = new QueryClient();
  const { totalUsers, totalAnnonces, totalRevenue, latestAnnonces, topAnnonceurs, pendingAnnonces, appAnnonces, pendingAppelsOffres } = usePage().props;
  const [isTableLoading, setIsTableLoading] = useState(false);
  const safeTotalUsers = totalUsers || { number: 0, percentage: 0 };
  const safeTotalAnnonces = totalAnnonces || { number: 0, percentage: 0 };
  const safeTotalRevenue = totalRevenue || { number: 0, percentage: 0 };
  const safeTopAnnonceurs = topAnnonceurs || [];
  const safeAppAnnonces = appAnnonces || { number: 0, percentage: 0 };
  const safePendingAppelsOffres = (pendingAppelsOffres == null ? void 0 : pendingAppelsOffres.data) ? pendingAppelsOffres : { data: pendingAppelsOffres || [] };
  const safePendingAnnonces = pendingAnnonces || [];
  const currentHour = (/* @__PURE__ */ new Date()).getHours();
  let greeting = "Bonjour";
  if (currentHour < 12) greeting = "Bonjour";
  else if (currentHour < 18) greeting = "Bon après-midi";
  else greeting = "Bonsoir";
  const containerVariants = {
    hidden: { opacity: 0 },
    visible: {
      opacity: 1,
      transition: {
        staggerChildren: 0.1
      }
    }
  };
  const itemVariants = {
    hidden: { y: 20, opacity: 0 },
    visible: {
      y: 0,
      opacity: 1,
      transition: {
        type: "spring",
        stiffness: 100,
        damping: 12
      }
    }
  };
  const handleApprove = (id) => {
    router.put(`/admin/annonces/${id}/approve`, {}, {
      preserveScroll: true,
      onSuccess: () => {
        console.log(`Annonce ${id} approuvée avec succès.`);
      },
      onError: (errors) => {
        console.error("Erreur d'approbation :", errors);
      }
    });
  };
  const handleReject = (id) => {
    router.put(`/admin/annonces/${id}/reject`, {}, {
      preserveScroll: true,
      onSuccess: () => {
        console.log(`Annonce ${id} rejetée avec succès.`);
      },
      onError: (errors) => {
        console.error("Erreur de rejet :", errors);
      }
    });
  };
  const handleApproveAppel = (id) => {
    router.put(`/admin/appel-offres/${id}/approve`, {});
  };
  const handleRejectAppel = (id) => {
    router.put(`/admin/appel-offres/${id}/reject`, {});
  };
  const handleMarkAsPaidAppel = (id) => {
    console.log(`Marking appel ${id} as paid`);
  };
  const handleMarkAsPaid = (id) => {
    router.put(`/admin/annonces/${id}/mark-as-paid`, {}, {
      preserveScroll: true,
      onSuccess: () => {
        console.log(`Annonce ${id} marquée comme payée.`);
      },
      onError: (errors) => {
        console.error("Erreur de paiement :", errors);
      }
    });
  };
  return /* @__PURE__ */ jsx(
    AuthenticatedLayout,
    {
      header: /* @__PURE__ */ jsxs("div", { className: "flex items-center", children: [
        /* @__PURE__ */ jsx("div", { className: "bg-[#00377f]/10 p-2.5 rounded-xl mr-4", children: /* @__PURE__ */ jsx(MdDashboard, { className: "text-[#00377f] text-2xl" }) }),
        /* @__PURE__ */ jsx("h2", { className: "text-xl font-bold text-[#00377f]", children: "Tableau de Bord" })
      ] }),
      children: /* @__PURE__ */ jsxs("div", { className: "w-full p-4 sm:p-6", children: [
        /* @__PURE__ */ jsxs(
          motion.div,
          {
            className: "mb-8",
            initial: { opacity: 0, y: -20 },
            animate: { opacity: 1, y: 0 },
            transition: { duration: 0.5 },
            children: [
              /* @__PURE__ */ jsx(
                motion.div,
                {
                  initial: { opacity: 0, y: 20 },
                  animate: { opacity: 1, y: 0 },
                  transition: { delay: 0.5, duration: 0.5 },
                  children: /* @__PURE__ */ jsxs("div", { className: "bg-white rounded-2xl shadow-sm border border-[#00377f]/5 p-6 mb-6", children: [
                    /* @__PURE__ */ jsxs("div", { className: "flex items-center mb-6", children: [
                      /* @__PURE__ */ jsx("div", { className: "bg-[#00377f]/10 p-3 rounded-xl mr-4", children: /* @__PURE__ */ jsx(MdInventory2, { className: "text-[#00377f] text-xl" }) }),
                      /* @__PURE__ */ jsxs("div", { children: [
                        /* @__PURE__ */ jsx("h2", { className: "text-lg font-bold text-gray-800", children: "Annonces en Attente" }),
                        /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 mt-1", children: "Gérez les annonces qui nécessitent votre approbation" })
                      ] })
                    ] }),
                    /* @__PURE__ */ jsx(
                      ResponsiveTable,
                      {
                        data: safePendingAnnonces,
                        isLoading: isTableLoading,
                        onApprove: handleApprove,
                        onReject: handleReject,
                        onMarkAsPaid: handleMarkAsPaid
                      }
                    )
                  ] })
                }
              ),
              /* @__PURE__ */ jsx("div", { children: /* @__PURE__ */ jsxs("div", { className: "bg-white rounded-2xl shadow-sm border border-[#00377f]/5 p-6 mb-6", children: [
                /* @__PURE__ */ jsxs("div", { className: "flex items-center mb-6", children: [
                  /* @__PURE__ */ jsx("div", { className: "bg-[#00377f]/10 p-3 rounded-xl mr-4", children: /* @__PURE__ */ jsx(MdInventory2, { className: "text-[#00377f] text-xl" }) }),
                  /* @__PURE__ */ jsxs("div", { children: [
                    /* @__PURE__ */ jsx("h2", { className: "text-lg font-bold text-gray-800", children: "Appels d'Offres en Attente" }),
                    /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 mt-1", children: "Gérez les appels d'offres en attente de validation" })
                  ] })
                ] }),
                /* @__PURE__ */ jsx(
                  AppelsOffresTable,
                  {
                    data: Array.isArray(safePendingAppelsOffres.data) ? safePendingAppelsOffres.data : [],
                    onApprove: handleApproveAppel,
                    onReject: handleRejectAppel,
                    onMarkAsPaid: handleMarkAsPaidAppel,
                    isLoading: false
                  }
                )
              ] }) }),
              /* @__PURE__ */ jsxs("div", { className: "flex items-center bg-white p-6 rounded-2xl shadow-sm border border-[#00377f]/5", children: [
                /* @__PURE__ */ jsx("div", { className: "bg-[#00377f]/10 p-4 rounded-xl mr-5", children: /* @__PURE__ */ jsx(MdOutlineWavingHand, { className: "text-[#00377f] text-2xl" }) }),
                /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsx("h1", { className: "text-2xl font-bold text-gray-800", children: greeting }),
                  /* @__PURE__ */ jsx("p", { className: "text-gray-500 mt-1", children: "Voici un aperçu de votre activité aujourd'hui" })
                ] })
              ] })
            ]
          }
        ),
        /* @__PURE__ */ jsxs(
          motion.div,
          {
            className: "grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",
            variants: containerVariants,
            initial: "hidden",
            animate: "visible",
            children: [
              /* @__PURE__ */ jsxs(
                motion.div,
                {
                  variants: itemVariants,
                  className: "bg-white rounded-2xl shadow-sm border border-[#00377f]/5 p-6 hover:shadow-md transition-all duration-300",
                  children: [
                    /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between mb-4", children: [
                      /* @__PURE__ */ jsx("div", { className: "bg-[#00377f]/10 p-4 rounded-xl", children: /* @__PURE__ */ jsx(MdGroup, { className: "text-[#00377f] text-xl" }) }),
                      /* @__PURE__ */ jsxs(
                        "span",
                        {
                          className: `text-xs font-medium px-3 py-1.5 rounded-full flex items-center ${safeTotalUsers.percentage >= 0 ? "bg-green-50 text-green-700" : "bg-red-50 text-red-700"}`,
                          children: [
                            safeTotalUsers.percentage >= 0 ? /* @__PURE__ */ jsx(MdArrowUpward, { className: "mr-1" }) : /* @__PURE__ */ jsx(MdArrowDownward, { className: "mr-1" }),
                            Math.abs(safeTotalUsers.percentage),
                            "%"
                          ]
                        }
                      )
                    ] }),
                    /* @__PURE__ */ jsx("h3", { className: "text-sm font-medium text-gray-500 mb-1", children: "Utilisateurs" }),
                    /* @__PURE__ */ jsx("p", { className: "text-3xl font-bold text-[#00377f]", children: safeTotalUsers.number })
                  ]
                }
              ),
              /* @__PURE__ */ jsxs(
                motion.div,
                {
                  variants: itemVariants,
                  className: "bg-white rounded-2xl shadow-sm border border-[#00377f]/5 p-6 hover:shadow-md transition-all duration-300",
                  children: [
                    /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between mb-4", children: [
                      /* @__PURE__ */ jsx("div", { className: "bg-[#00377f]/10 p-4 rounded-xl", children: /* @__PURE__ */ jsx(MdInventory2, { className: "text-[#00377f] text-xl" }) }),
                      /* @__PURE__ */ jsxs(
                        "span",
                        {
                          className: `text-xs font-medium px-3 py-1.5 rounded-full flex items-center ${safeTotalAnnonces.percentage >= 0 ? "bg-green-50 text-green-700" : "bg-red-50 text-red-700"}`,
                          children: [
                            safeTotalAnnonces.percentage >= 0 ? /* @__PURE__ */ jsx(MdArrowUpward, { className: "mr-1" }) : /* @__PURE__ */ jsx(MdArrowDownward, { className: "mr-1" }),
                            Math.abs(safeTotalAnnonces.percentage),
                            "%"
                          ]
                        }
                      )
                    ] }),
                    /* @__PURE__ */ jsx("h3", { className: "text-sm font-medium text-gray-500 mb-1", children: "Annonces" }),
                    /* @__PURE__ */ jsx("p", { className: "text-3xl font-bold text-[#00377f]", children: safeTotalAnnonces.number })
                  ]
                }
              ),
              /* @__PURE__ */ jsxs(
                motion.div,
                {
                  variants: itemVariants,
                  className: "bg-white rounded-2xl shadow-sm border border-[#00377f]/5 p-6 hover:shadow-md transition-all duration-300",
                  children: [
                    /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between mb-4", children: [
                      /* @__PURE__ */ jsx("div", { className: "bg-[#00377f]/10 p-4 rounded-xl", children: /* @__PURE__ */ jsx(MdOutlineAutoGraph, { className: "text-[#00377f] text-xl" }) }),
                      /* @__PURE__ */ jsxs(
                        "span",
                        {
                          className: `text-xs font-medium px-3 py-1.5 rounded-full flex items-center ${safeAppAnnonces.percentage >= 0 ? "bg-green-50 text-green-700" : "bg-red-50 text-red-700"}`,
                          children: [
                            safeAppAnnonces.percentage >= 0 ? /* @__PURE__ */ jsx(MdArrowUpward, { className: "mr-1" }) : /* @__PURE__ */ jsx(MdArrowDownward, { className: "mr-1" }),
                            Math.abs(safeAppAnnonces.percentage),
                            "%"
                          ]
                        }
                      )
                    ] }),
                    /* @__PURE__ */ jsx("h3", { className: "text-sm font-medium text-gray-500 mb-1", children: "Annonces Approuvées" }),
                    /* @__PURE__ */ jsx("p", { className: "text-3xl font-bold text-[#00377f]", children: safeAppAnnonces.number })
                  ]
                }
              ),
              /* @__PURE__ */ jsxs(
                motion.div,
                {
                  variants: itemVariants,
                  className: "bg-white rounded-2xl shadow-sm border border-[#00377f]/5 p-6 hover:shadow-md transition-all duration-300",
                  children: [
                    /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between mb-4", children: [
                      /* @__PURE__ */ jsx("div", { className: "bg-[#00377f]/10 p-4 rounded-xl", children: /* @__PURE__ */ jsx(MdSwapHorizontalCircle, { className: "text-[#00377f] text-xl" }) }),
                      /* @__PURE__ */ jsxs(
                        "span",
                        {
                          className: `text-xs font-medium px-3 py-1.5 rounded-full flex items-center ${safeTotalRevenue.percentage >= 0 ? "bg-green-50 text-green-700" : "bg-red-50 text-red-700"}`,
                          children: [
                            safeTotalRevenue.percentage >= 0 ? /* @__PURE__ */ jsx(MdArrowUpward, { className: "mr-1" }) : /* @__PURE__ */ jsx(MdArrowDownward, { className: "mr-1" }),
                            Math.abs(safeTotalRevenue.percentage),
                            "%"
                          ]
                        }
                      )
                    ] }),
                    /* @__PURE__ */ jsx("h3", { className: "text-sm font-medium text-gray-500 mb-1", children: "Chiffre d'Affaire" }),
                    /* @__PURE__ */ jsxs("p", { className: "text-3xl font-bold text-[#00377f]", children: [
                      "$",
                      safeTotalRevenue.number
                    ] })
                  ]
                }
              )
            ]
          }
        ),
        /* @__PURE__ */ jsx(
          motion.div,
          {
            className: "mb-8",
            initial: { opacity: 0, y: 20 },
            animate: { opacity: 1, y: 0 },
            transition: { delay: 0.3, duration: 0.5 },
            children: /* @__PURE__ */ jsxs("div", { className: "bg-white rounded-2xl shadow-sm border border-[#00377f]/5 overflow-hidden", children: [
              /* @__PURE__ */ jsx("div", { className: "p-6 border-b border-gray-100", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center", children: [
                /* @__PURE__ */ jsx("div", { className: "bg-[#00377f]/10 p-3 rounded-xl mr-4", children: /* @__PURE__ */ jsx(MdLeaderboard, { className: "text-[#00377f] text-xl" }) }),
                /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsx("h2", { className: "text-lg font-bold text-gray-800", children: "Top Annonceurs" }),
                  /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 mt-1", children: "Les utilisateurs les plus actifs sur la plateforme" })
                ] })
              ] }) }),
              /* @__PURE__ */ jsx(QueryClientProvider, { client: queryClient, children: /* @__PURE__ */ jsx(TopDealsBox, { topAnnonceurs: safeTopAnnonceurs }) })
            ] })
          }
        )
      ] })
    }
  );
}
const __vite_glob_0_64 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: Home
}, Symbol.toStringTag, { value: "Module" }));
function DiReact(props) {
  return GenIcon({ "attr": { "version": "1.1", "viewBox": "0 0 34 32" }, "child": [{ "tag": "path", "attr": { "d": "M19.314 15.987c0 1.321-1.071 2.392-2.392 2.392s-2.392-1.071-2.392-2.392c0-1.321 1.071-2.392 2.392-2.392s2.392 1.071 2.392 2.392z" }, "child": [] }, { "tag": "path", "attr": { "d": "M16.922 24.783c1.878 1.826 3.729 2.906 5.221 2.906 0.489 0 0.952-0.103 1.337-0.334 1.337-0.772 1.826-2.701 1.363-5.453-0.077-0.489-0.18-0.977-0.309-1.492 0.514-0.154 0.977-0.309 1.44-0.463 2.598-1.003 4.038-2.392 4.038-3.909 0-1.543-1.44-2.932-4.038-3.909-0.463-0.18-0.926-0.334-1.44-0.463 0.129-0.514 0.232-1.003 0.309-1.492 0.437-2.803-0.051-4.758-1.389-5.53-0.386-0.231-0.849-0.334-1.337-0.334-1.466 0-3.344 1.080-5.221 2.906-1.852-1.826-3.704-2.906-5.195-2.906-0.489 0-0.952 0.103-1.337 0.334-1.337 0.772-1.826 2.701-1.363 5.453 0.077 0.489 0.18 0.977 0.309 1.492-0.514 0.154-0.977 0.309-1.44 0.463-2.598 1.003-4.038 2.392-4.038 3.909 0 1.543 1.44 2.932 4.038 3.909 0.463 0.18 0.926 0.334 1.44 0.463-0.129 0.514-0.232 1.003-0.309 1.492-0.437 2.752 0.051 4.707 1.363 5.453 0.386 0.232 0.849 0.334 1.337 0.334 1.492 0.051 3.344-1.029 5.221-2.829v0zM15.481 21.311c0.463 0.026 0.952 0.026 1.44 0.026s0.977 0 1.44-0.026c-0.463 0.617-0.952 1.183-1.44 1.723-0.489-0.54-0.977-1.106-1.44-1.723zM12.292 18.662c0.257 0.437 0.489 0.849 0.772 1.26-0.797-0.103-1.543-0.232-2.263-0.386 0.232-0.694 0.489-1.415 0.797-2.135 0.206 0.411 0.437 0.849 0.694 1.26zM10.8 12.463c0.72-0.154 1.466-0.283 2.263-0.386-0.257 0.412-0.514 0.823-0.772 1.26s-0.489 0.849-0.694 1.286c-0.334-0.746-0.592-1.466-0.797-2.161zM12.215 15.987c0.334-0.694 0.694-1.389 1.106-2.083 0.386-0.669 0.823-1.337 1.26-2.006 0.772-0.051 1.543-0.077 2.341-0.077 0.823 0 1.595 0.026 2.341 0.077 0.463 0.669 0.874 1.337 1.26 2.006 0.412 0.694 0.772 1.389 1.106 2.083-0.334 0.694-0.694 1.389-1.106 2.083-0.386 0.669-0.823 1.337-1.26 2.006-0.772 0.051-1.543 0.077-2.341 0.077-0.823 0-1.595-0.026-2.341-0.077-0.463-0.669-0.874-1.337-1.26-2.006-0.412-0.695-0.772-1.389-1.106-2.083v0zM22.272 14.598l-0.694-1.286c-0.257-0.437-0.489-0.849-0.772-1.26 0.797 0.103 1.543 0.232 2.263 0.386-0.231 0.72-0.489 1.44-0.797 2.161v0zM22.272 17.376c0.309 0.72 0.566 1.44 0.797 2.135-0.72 0.154-1.466 0.283-2.263 0.386 0.257-0.412 0.514-0.823 0.772-1.26 0.232-0.386 0.463-0.823 0.694-1.26v0zM22.863 26.301c-0.206 0.129-0.463 0.18-0.746 0.18-1.26 0-2.829-1.029-4.372-2.572 0.746-0.797 1.466-1.698 2.186-2.701 1.209-0.103 2.366-0.283 3.447-0.54 0.129 0.463 0.206 0.926 0.283 1.389 0.36 2.186 0.077 3.755-0.797 4.244zM24.201 12.746c2.881 0.823 4.604 2.083 4.604 3.241 0 1.003-1.183 2.006-3.266 2.804-0.412 0.154-0.874 0.309-1.337 0.437-0.334-1.055-0.746-2.135-1.26-3.241 0.514-1.106 0.952-2.186 1.26-3.241v0zM22.143 5.493c0.283 0 0.514 0.051 0.746 0.18 0.849 0.489 1.157 2.032 0.797 4.244-0.077 0.437-0.18 0.9-0.283 1.389-1.080-0.232-2.238-0.412-3.447-0.54-0.694-1.003-1.44-1.903-2.186-2.701 1.543-1.518 3.112-2.572 4.372-2.572zM18.362 10.663c-0.463-0.026-0.952-0.026-1.44-0.026s-0.977 0-1.44 0.026c0.463-0.617 0.952-1.183 1.44-1.723 0.489 0.54 0.977 1.132 1.44 1.723v0zM10.98 5.673c0.206-0.129 0.463-0.18 0.746-0.18 1.26 0 2.829 1.029 4.372 2.572-0.746 0.797-1.466 1.697-2.186 2.701-1.209 0.103-2.366 0.283-3.447 0.54-0.129-0.463-0.206-0.926-0.283-1.389-0.36-2.186-0.077-3.729 0.797-4.244v0zM9.643 19.228c-2.881-0.823-4.604-2.083-4.604-3.241 0-1.003 1.183-2.006 3.266-2.803 0.412-0.154 0.874-0.309 1.337-0.437 0.334 1.055 0.746 2.135 1.26 3.241-0.514 1.106-0.952 2.212-1.26 3.241zM10.183 22.057c0.077-0.437 0.18-0.9 0.283-1.389 1.080 0.232 2.238 0.412 3.447 0.54 0.694 1.003 1.44 1.903 2.186 2.701-1.543 1.517-3.112 2.572-4.372 2.572-0.283 0-0.514-0.051-0.746-0.18-0.875-0.489-1.157-2.058-0.797-4.244z" }, "child": [] }] })(props);
}
function SeoHead({ override } = {}) {
  var _a2;
  const { props } = usePage();
  const seoDefaults = props.seoDefaults ?? {};
  const pageSeo = props.seo ?? {};
  const rawLoc = props.currentUrl ?? ((_a2 = props.ziggy) == null ? void 0 : _a2.location);
  const appEnv = props.appEnv ?? "production";
  const currentUrl = typeof rawLoc === "string" ? rawLoc : rawLoc && typeof rawLoc === "object" && "href" in rawLoc ? rawLoc.href : void 0;
  const seo = { ...seoDefaults, ...pageSeo, ...override ?? {} };
  const canonical = seo.url ?? currentUrl;
  const robots = seo.robots ?? (appEnv === "production" ? "index,follow" : "");
  const hasJsonLd = !!seo.jsonLd;
  useEffect(() => {
    const metas = document.querySelectorAll("meta[name='description']");
    if (metas.length > 1) {
      metas.forEach((el, i2) => {
        if (i2 < metas.length - 1) el.remove();
      });
    }
  }, [seo.description]);
  return /* @__PURE__ */ jsxs(Head, { children: [
    /* @__PURE__ */ jsx("title", { children: (seo == null ? void 0 : seo.title) ?? "Wepress Eco" }),
    seo.description && /* @__PURE__ */ jsx("meta", { name: "description", content: seo.description }, "meta:description"),
    seo.author && /* @__PURE__ */ jsx("meta", { name: "author", content: seo.author }, "meta:author"),
    /* @__PURE__ */ jsx("meta", { name: "robots", content: robots }, "meta:robots"),
    canonical && /* @__PURE__ */ jsx("link", { rel: "canonical", href: canonical }, "link:canonical"),
    seo.title && /* @__PURE__ */ jsx("meta", { property: "og:title", content: seo.title }, "og:title"),
    seo.description && /* @__PURE__ */ jsx("meta", { property: "og:description", content: seo.description }, "og:description"),
    seo.image && /* @__PURE__ */ jsx("meta", { property: "og:image", content: String(seo.image) }, "og:image"),
    canonical && /* @__PURE__ */ jsx("meta", { property: "og:url", content: canonical }, "og:url"),
    /* @__PURE__ */ jsx("meta", { property: "og:type", content: seo.ogType ?? "website" }, "og:type"),
    seo.site_name && /* @__PURE__ */ jsx("meta", { property: "og:site_name", content: seo.site_name }, "og:site"),
    seo.locale && /* @__PURE__ */ jsx("meta", { property: "og:locale", content: seo.locale }, "og:locale"),
    /* @__PURE__ */ jsx("meta", { name: "twitter:card", content: "summary_large_image" }, "tw:card"),
    seo.twitter_username && /* @__PURE__ */ jsx("meta", { name: "twitter:creator", content: seo.twitter_username }, "tw:creator"),
    seo.title && /* @__PURE__ */ jsx("meta", { name: "twitter:title", content: seo.title }, "tw:title"),
    seo.description && /* @__PURE__ */ jsx("meta", { name: "twitter:description", content: seo.description }, "tw:description"),
    seo.image && /* @__PURE__ */ jsx("meta", { name: "twitter:image", content: String(seo.image) }, "tw:image"),
    Array.isArray(seo.hreflangs) && seo.hreflangs.map((l) => /* @__PURE__ */ jsx(
      "link",
      {
        rel: "alternate",
        hrefLang: l.hreflang,
        href: l.href
      },
      `alt:${l.hreflang}`
    )),
    hasJsonLd && /* @__PURE__ */ jsx(
      "script",
      {
        type: "application/ld+json",
        dangerouslySetInnerHTML: {
          __html: typeof seo.jsonLd === "string" ? seo.jsonLd : JSON.stringify(seo.jsonLd)
        }
      },
      "ldjson"
    )
  ] }, canonical);
}
const Login = () => {
  const [form, setForm] = useState({
    email: "",
    password: "",
    remember: true
  });
  const [errors, setErrors] = useState({});
  const handleSubmit = (e2) => {
    e2.preventDefault();
    router.post("/login", form, {
      onSuccess: (page) => {
        const user = page.props.auth.user;
        if (user.roles.includes("admin")) {
          router.get("client.annonces.index");
        } else {
          router.get("/client");
        }
      },
      onError: (errorResponse) => {
        setErrors(errorResponse);
      }
    });
  };
  return (
    // screen
    /* @__PURE__ */ jsxs("div", { className: "w-full p-0 m-0", children: [
      /* @__PURE__ */ jsx(
        SeoHead,
        {
          override: {
            title: "Connexion | Wepress Eco",
            description: "Connectez-vous à votre compte Wepress Eco pour gérer vos annonces légales en toute simplicité.",
            url: "https://annonce.wepresseco.com/connexion",
            image: "https://annonce.wepresseco.com/og.webp",
            robots: "index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"
          }
        }
      ),
      /* @__PURE__ */ jsx("div", { className: "w-full min-h-screen flex justify-center items-center bg-base-200 relative", children: /* @__PURE__ */ jsxs("div", { className: "w-full h-screen xl:h-auto xl:w-[30%] 2xl:w-[25%] 3xl:w-[20%] bg-base-100 rounded-lg shadow-md flex flex-col items-center p-5 pb-7 gap-8 pt-20 xl:pt-7", children: [
        /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-1 xl:gap-2", children: [
          /* @__PURE__ */ jsx(DiReact, { className: "text-4xl sm:text-4xl xl:text-6xl 2xl:text-6xl text-primary animate-spin-slow -ml-3" }),
          /* @__PURE__ */ jsx("span", { className: "text-[18px] leading-[1.2] sm:text-lg xl:text-3xl 2xl:text-3xl font-semibold text-base-content dark:text-neutral-200", children: "Admin Dashboard" })
        ] }),
        /* @__PURE__ */ jsx("span", { className: "xl:text-xl font-semibold", children: "Hello, 👋 Welcome Back!" }),
        /* @__PURE__ */ jsxs("div", { className: "w-full flex flex-col items-stretch gap-3", children: [
          /* @__PURE__ */ jsxs("label", { className: "input input-bordered min-w-full flex items-center gap-2", children: [
            /* @__PURE__ */ jsxs(
              "svg",
              {
                xmlns: "http://www.w3.org/2000/svg",
                viewBox: "0 0 16 16",
                fill: "currentColor",
                className: "w-4 h-4 opacity-70",
                children: [
                  /* @__PURE__ */ jsx("path", { d: "M2.5 3A1.5 1.5 0 0 0 1 4.5v.793c.026.009.051.02.076.032L7.674 8.51c.206.1.446.1.652 0l6.598-3.185A.755.755 0 0 1 15 5.293V4.5A1.5 1.5 0 0 0 13.5 3h-11Z" }),
                  /* @__PURE__ */ jsx("path", { d: "M15 6.954 8.978 9.86a2.25 2.25 0 0 1-1.956 0L1 6.954V11.5A1.5 1.5 0 0 0 2.5 13h11a1.5 1.5 0 0 0 1.5-1.5V6.954Z" })
                ]
              }
            ),
            /* @__PURE__ */ jsx(
              "input",
              {
                type: "text",
                className: "grow input outline-none focus:outline-none border-none border-[0px] h-auto pl-1 pr-0",
                placeholder: "Email"
              }
            )
          ] }),
          /* @__PURE__ */ jsxs("label", { className: "input input-bordered flex items-center gap-2", children: [
            /* @__PURE__ */ jsx(
              "svg",
              {
                xmlns: "http://www.w3.org/2000/svg",
                viewBox: "0 0 16 16",
                fill: "currentColor",
                className: "w-4 h-4 opacity-70",
                children: /* @__PURE__ */ jsx(
                  "path",
                  {
                    fillRule: "evenodd",
                    d: "M14 6a4 4 0 0 1-4.899 3.899l-1.955 1.955a.5.5 0 0 1-.353.146H5v1.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2.293a.5.5 0 0 1 .146-.353l3.955-3.955A4 4 0 1 1 14 6Zm-4-2a.75.75 0 0 0 0 1.5.5.5 0 0 1 .5.5.75.75 0 0 0 1.5 0 2 2 0 0 0-2-2Z",
                    clipRule: "evenodd"
                  }
                )
              }
            ),
            /* @__PURE__ */ jsx(
              "input",
              {
                type: "password",
                className: "grow input outline-none focus:outline-none border-none border-[0px] h-auto pl-1 pr-0",
                placeholder: "Password"
              }
            )
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
            /* @__PURE__ */ jsx("div", { className: "form-control", children: /* @__PURE__ */ jsxs("label", { className: "label cursor-pointer gap-2", children: [
              /* @__PURE__ */ jsx(
                "input",
                {
                  type: "checkbox",
                  defaultChecked: true,
                  className: "checkbox w-4 h-4 rounded-md checkbox-primary"
                }
              ),
              /* @__PURE__ */ jsx("span", { className: "label-text text-xs", children: "Remember me" })
            ] }) }),
            /* @__PURE__ */ jsx(
              "a",
              {
                href: "/forgot-password",
                className: "link link-primary font-semibold text-xs no-underline",
                children: "Forgot Password?"
              }
            )
          ] }),
          /* @__PURE__ */ jsx(
            "div",
            {
              onClick: handleSubmit,
              className: "btn btn-block btn-primary",
              children: "Log In"
            }
          ),
          /* @__PURE__ */ jsx("div", { className: "divider text-sm", children: "OR" }),
          /* @__PURE__ */ jsxs("div", { className: "w-full flex justify-center items-center gap-4", children: [
            /* @__PURE__ */ jsx("button", { className: "btn btn-circle dark:btn-neutral", children: /* @__PURE__ */ jsx(
              "img",
              {
                className: "w-6",
                src: "/icons8-microsoft.svg",
                alt: "microsoft"
              }
            ) }),
            /* @__PURE__ */ jsx("button", { className: "btn btn-circle dark:btn-neutral", children: /* @__PURE__ */ jsx(
              "img",
              {
                className: "w-6",
                src: "/icons8-google.svg",
                alt: "google"
              }
            ) }),
            /* @__PURE__ */ jsxs("button", { className: "btn btn-circle dark:btn-neutral", children: [
              /* @__PURE__ */ jsx(
                "img",
                {
                  className: "dark:hidden w-6",
                  src: "/icons8-apple-black.svg",
                  alt: "apple"
                }
              ),
              /* @__PURE__ */ jsx(
                "img",
                {
                  className: "hidden dark:block w-6",
                  src: "/icons8-apple-white.svg",
                  alt: "apple"
                }
              )
            ] })
          ] })
        ] })
      ] }) })
    ] })
  );
};
const __vite_glob_0_65 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: Login
}, Symbol.toStringTag, { value: "Module" }));
const fetchSingleUser = async (id) => {
  const response = await axios.get(`https://react-admin-ui-v1-api.vercel.app/users/${id}`).then((res) => {
    console.log("axios get:", res.data);
    return res.data;
  }).catch((err) => {
    console.log(err);
    throw err;
  });
  return response;
};
const fetchProducts = async () => {
  const response = await axios.get("https://react-admin-ui-v1-api.vercel.app/products").then((res) => {
    console.log("axios get:", res.data);
    return res.data;
  }).catch((err) => {
    console.log(err);
    throw err;
  });
  return response;
};
const fetchSingleProduct = async (id) => {
  const response = await axios.get(`https://react-admin-ui-v1-api.vercel.app/products/${id}`).then((res) => {
    console.log("axios get:", res.data);
    return res.data;
  }).catch((err) => {
    console.log(err);
    throw err;
  });
  return response;
};
const fetchPosts = async () => {
  const response = await axios.get("https://react-admin-ui-v1-api.vercel.app/posts").then((res) => {
    console.log("axios get:", res.data);
    return res.data;
  }).catch((err) => {
    console.log(err);
    throw err;
  });
  return response;
};
const fetchNotes = async () => {
  const response = await axios.get(`https://react-admin-ui-v1-api.vercel.app/notes?q=`).then((res) => {
    console.log("axios get:", res.data);
    return res.data;
  }).catch((err) => {
    console.log(err);
    throw err;
  });
  return response;
};
const fetchLogs = async () => {
  const response = await axios.get(`https://react-admin-ui-v1-api.vercel.app/logs`).then((res) => {
    console.log("axios get:", res.data);
    return res.data;
  }).catch((err) => {
    console.log(err);
    throw err;
  });
  return response;
};
const Logs = () => {
  const { isLoading, isError, isSuccess, data } = useQuery({
    queryKey: ["all-logs"],
    queryFn: fetchLogs
  });
  const columns = [
    { field: "id", headerName: "ID", width: 90 },
    {
      field: "firstName",
      headerName: "Name",
      minWidth: 220,
      flex: 1,
      renderCell: (params) => {
        return /* @__PURE__ */ jsxs("div", { className: "flex gap-3 py-[6px] items-center", children: [
          /* @__PURE__ */ jsx("div", { className: "avatar", children: /* @__PURE__ */ jsx("div", { className: "w-6 xl:w-9 rounded-full", children: /* @__PURE__ */ jsx(
            "img",
            {
              src: params.row.img || "/Portrait_Placeholder.png",
              alt: "user-picture"
            }
          ) }) }),
          /* @__PURE__ */ jsxs("span", { className: "mb-0 pb-0 leading-none", children: [
            params.row.firstName,
            " ",
            params.row.lastName
          ] })
        ] });
      }
    },
    {
      field: "role",
      headerName: "Role",
      minWidth: 100,
      type: "string",
      flex: 1
    },
    {
      field: "email",
      type: "string",
      headerName: "Email",
      minWidth: 200,
      flex: 1
    },
    {
      field: "date",
      headerName: "Date",
      minWidth: 120,
      type: "string",
      flex: 1
    },
    {
      field: "time",
      headerName: "Time",
      minWidth: 100,
      type: "string",
      flex: 1
    },
    {
      field: "action",
      headerName: "Action",
      minWidth: 350,
      type: "string",
      flex: 1,
      renderCell: (params) => {
        return /* @__PURE__ */ jsx("div", { className: "flex whitespace-normal", children: params.row.action });
      }
    }
  ];
  React__default.useEffect(() => {
    if (isLoading) {
      toast.loading("Loading...", { id: "promiseLogs" });
    }
    if (isError) {
      toast.error("Error while getting the data!", {
        id: "promiseLogs"
      });
    }
    if (isSuccess) {
      toast.success("Got the data successfully!", {
        id: "promiseLogs"
      });
    }
  }, [isError, isLoading, isSuccess]);
  return (
    // screen
    /* @__PURE__ */ jsx("div", { className: "w-full p-0 m-0", children: /* @__PURE__ */ jsxs("div", { className: "w-full flex flex-col items-stretch gap-3", children: [
      /* @__PURE__ */ jsx("div", { className: "w-full flex justify-between mb-5", children: /* @__PURE__ */ jsxs("div", { className: "flex gap-1 justify-start flex-col items-start", children: [
        /* @__PURE__ */ jsx("h2", { className: "font-bold text-2xl xl:text-4xl mt-0 pt-0 text-base-content dark:text-neutral-200", children: "Logs" }),
        data && data.length > 0 && /* @__PURE__ */ jsxs("span", { className: "text-neutral dark:text-neutral-content font-medium text-base", children: [
          data.length,
          " Logs Found"
        ] })
      ] }) }),
      isLoading ? /* @__PURE__ */ jsx(
        DataTable,
        {
          slug: "logs",
          columns,
          rows: [],
          includeActionColumn: false
        }
      ) : isSuccess ? /* @__PURE__ */ jsx(
        DataTable,
        {
          slug: "logs",
          columns,
          rows: data,
          includeActionColumn: false
        }
      ) : /* @__PURE__ */ jsxs(Fragment, { children: [
        /* @__PURE__ */ jsx(
          DataTable,
          {
            slug: "logs",
            columns,
            rows: [],
            includeActionColumn: false
          }
        ),
        /* @__PURE__ */ jsx("div", { className: "w-full flex justify-center", children: "Error while getting the data!" })
      ] })
    ] }) })
  );
};
const __vite_glob_0_66 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: Logs
}, Symbol.toStringTag, { value: "Module" }));
const NoteCard = ({
  setNoteSelected,
  selectedCard,
  setSelectedCard,
  setTitleSelected,
  setBodySelected,
  setTopicSelected,
  title,
  body,
  date,
  author,
  topic
}) => {
  return /* @__PURE__ */ jsx(
    "div",
    {
      onClick: () => {
        setNoteSelected(true);
        setSelectedCard({
          title,
          body
        });
        setTitleSelected(title);
        setBodySelected(body);
        setTopicSelected(topic);
      },
      className: `w-full btn min-h-[auto] h-auto rounded-3xl border-none flex flex-col items-start text-start group bg-[#fafafa] hover:bg-primary hover:text-primary-content dark:bg-neutral dark:hover:bg-primary
      ${selectedCard.title === title ? "bg-primary text-primary-content dark:bg-primary dark:primary-content hover:text-primary-content dark:hover:text-primary-content" : "bg-[#f7f7f7] hover:bg-primary hover:text-primary-content dark:bg-neutral dark:hover:bg-primary"}
      `,
      children: /* @__PURE__ */ jsxs("div", { className: "card-body items-start text-start px-4 py-7 gap-3", children: [
        /* @__PURE__ */ jsx("h4", { className: "card-title xl:text-base font-bold", children: title }),
        /* @__PURE__ */ jsx(
          "p",
          {
            className: `xl:text-sm leading-loose font-normal line-clamp-2 group-hover:text-primary-content dark:text-base-content mb-1
        ${selectedCard.body === body ? "text-primary-content dark:text-primary-content" : "text-neutral-400"}
        `,
            children: body
          }
        ),
        /* @__PURE__ */ jsxs(
          "div",
          {
            className: `w-full flex justify-between items-center text-xs group-hover:text-primary-content ${selectedCard.body === body ? "text-primary-content dark:text-primary-content" : "text-neutral-400"}`,
            children: [
              /* @__PURE__ */ jsx("span", { children: date }),
              /* @__PURE__ */ jsx("span", { children: author })
            ]
          }
        )
      ] })
    }
  );
};
const Notes = () => {
  const [allNotes, setAllNotes] = React__default.useState([]);
  const [searchQuery, setSearchQuery] = React__default.useState("");
  const [noteSelected, setNoteSelected] = React__default.useState(false);
  const [selectedCard, setSelectedCard] = React__default.useState({
    title: "",
    body: ""
  });
  const [titleSelected, setTitleSelected] = React__default.useState("");
  const [bodySelected, setBodySelected] = React__default.useState("");
  const [topicSelected, setTopicSelected] = React__default.useState("");
  const tempTotalEntries = [1, 2, 3, 4, 5, 6, 7];
  const { data, isLoading, isError, isSuccess } = useQuery({
    queryKey: ["notes"],
    queryFn: fetchNotes
  });
  React__default.useEffect(() => {
    if (isLoading) {
      toast.loading("Loading...", { id: "promiseNotes" });
    }
    if (isError) {
      toast.error("Error while getting the data!", {
        id: "promiseNotes"
      });
    }
    if (isSuccess) {
      toast.success("Got the data successfully!", {
        id: "promiseNotes"
      });
    }
  }, [isError, isLoading, isSuccess]);
  React__default.useEffect(() => {
    console.log("Ini datanya:", data);
    setAllNotes(data);
  }, [data]);
  React__default.useEffect(() => {
    const fetchSpesificNote = async () => {
      const res = await axios.get(
        `https://react-admin-ui-v1-api.vercel.app/notes?q=${searchQuery}`
      );
      setAllNotes(res.data);
    };
    if (searchQuery.length === 0 || searchQuery.length > 2) {
      fetchSpesificNote();
    }
  }, [searchQuery]);
  return (
    // screen
    /* @__PURE__ */ jsx("div", { className: "w-full p-0 m-0 relative", children: /* @__PURE__ */ jsxs("div", { className: "w-full flex flex-col items-stretch gap-5 xl:gap-8 relative", children: [
      /* @__PURE__ */ jsxs("div", { className: "w-full grid xl:grid-cols-5 relative gap-10", children: [
        /* @__PURE__ */ jsxs("div", { className: "w-full flex flex-col gap-7 xl:gap-5 xl:col-span-2", children: [
          /* @__PURE__ */ jsxs("div", { className: "w-full flex items-center justify-between", children: [
            /* @__PURE__ */ jsx("h2", { className: "font-bold text-2xl xl:text-4xl mt-0 pt-0 text-base-content dark:text-neutral-200", children: "Notes" }),
            /* @__PURE__ */ jsx("button", { className: "btn btn-primary", children: "+ Add Note" })
          ] }),
          /* @__PURE__ */ jsx("div", { className: "form-control", children: /* @__PURE__ */ jsx(
            "input",
            {
              type: "text",
              placeholder: "Search",
              className: "input input-bordered w-full",
              onChange: (e2) => setSearchQuery(e2.target.value.toLowerCase())
            }
          ) }),
          isLoading ? tempTotalEntries.map((index2) => /* @__PURE__ */ jsx(
            "div",
            {
              className: "w-full h-40 xl:h-40 rounded-3xl skeleton"
            },
            index2
          )) : isSuccess ? allNotes && allNotes.map((note, index2) => /* @__PURE__ */ jsx(
            NoteCard,
            {
              title: note.title,
              body: note.body,
              topic: note.topic,
              setNoteSelected,
              selectedCard,
              setSelectedCard,
              setTitleSelected,
              setBodySelected,
              setTopicSelected,
              date: note.date,
              author: note.author
            },
            index2
          )) : /* @__PURE__ */ jsx("div", { className: "w-full flex justify-center", children: "Error while getting the data!" })
        ] }),
        /* @__PURE__ */ jsx("div", { className: "hidden w-full relative xl:inline-block xl:col-span-3 bg-base-100", children: !noteSelected ? /* @__PURE__ */ jsx("div", { className: "sticky xl:top-[88px] z-10 xl:h-[80vh] flex justify-center items-center", children: /* @__PURE__ */ jsx("h4", { children: "Please select one note" }) }) : /* @__PURE__ */ jsxs("div", { className: "sticky xl:top-[90px] xl:h-[80vh] z-10 flex flex-col items-start gap-5 xl:pr-10 xl:pb-10 overflow-y-auto", children: [
          /* @__PURE__ */ jsxs("div", { className: "relative w-full xl:h-[360px] 2xl:h-[500px] 3xl:h-[660px] flex justify-center", children: [
            topicSelected == "e-commerce" && /* @__PURE__ */ jsx(
              "img",
              {
                src: "/e-commerce-vector.png",
                alt: "vector",
                className: "object-cover w-auto h-full grayscale"
              }
            ),
            topicSelected == "marketing" && /* @__PURE__ */ jsx(
              "img",
              {
                src: "/marketing-vector.png",
                alt: "vector",
                className: "object-cover w-auto h-full grayscale"
              }
            ),
            topicSelected == "social-media" && /* @__PURE__ */ jsx(
              "img",
              {
                src: "/social-media-vector.png",
                alt: "vector",
                className: "object-cover w-auto h-full grayscale"
              }
            ),
            topicSelected == "SEO" && /* @__PURE__ */ jsx(
              "img",
              {
                src: "/SEO-vector.png",
                alt: "vector",
                className: "object-cover w-auto h-full grayscale"
              }
            ),
            topicSelected == "productivity" && /* @__PURE__ */ jsx(
              "img",
              {
                src: "/productivity-vector.png",
                alt: "vector",
                className: "object-cover w-auto h-full grayscale"
              }
            ),
            topicSelected == "communication" && /* @__PURE__ */ jsx(
              "img",
              {
                src: "/communication-vector.png",
                alt: "vector",
                className: "object-cover w-auto h-full grayscale"
              }
            ),
            topicSelected == "" && /* @__PURE__ */ jsx(
              "img",
              {
                src: "/e-commerce-vector.png",
                alt: "vector",
                className: "object-cover w-auto h-full grayscale"
              }
            )
          ] }),
          /* @__PURE__ */ jsx("h2", { className: "font-bold text-2xl xl:text-3xl mt-0 pt-0 text-base-content dark:text-neutral-200", children: titleSelected }),
          /* @__PURE__ */ jsx("p", { className: "xl:text-[20px] xl:leading-normal", children: bodySelected })
        ] }) })
      ] }),
      /* @__PURE__ */ jsx(
        "div",
        {
          onClick: () => {
            setNoteSelected(false);
            setSelectedCard({
              title: "",
              body: ""
            });
          },
          className: `w-screen h-screen left-0 bottom-0 fixed z-[99] flex items-end transition-all duration-[2s] bg-black/50
            ${noteSelected ? "opacity-100 inline-flex xl:hidden" : "opacity-0 hidden"}`,
          children: /* @__PURE__ */ jsxs(
            "div",
            {
              className: `relative w-full h-[70vh] flex flex-col items-start gap-3 bg-base-100 rounded-t-3xl p-5 transition-all duration-[1s] overflow-auto
              ${noteSelected ? "translate-y-0" : "translate-y-full"}`,
              children: [
                /* @__PURE__ */ jsx(
                  "button",
                  {
                    onClick: () => {
                      setNoteSelected(false);
                      setSelectedCard({
                        title: "",
                        body: ""
                      });
                    },
                    className: "btn btn-circle fixed top-5 right-5 z-[99]",
                    children: /* @__PURE__ */ jsx(HiOutlineXMark, {})
                  }
                ),
                /* @__PURE__ */ jsxs("div", { className: "relative w-full h-[256px] sm:h-[480px] xl:h-[256px] flex justify-center", children: [
                  topicSelected == "e-commerce" && /* @__PURE__ */ jsx(
                    "img",
                    {
                      src: "/e-commerce-vector.png",
                      alt: "vector",
                      className: "object-cover w-auto h-full grayscale"
                    }
                  ),
                  topicSelected == "marketing" && /* @__PURE__ */ jsx(
                    "img",
                    {
                      src: "/marketing-vector.png",
                      alt: "vector",
                      className: "object-cover w-auto h-full grayscale"
                    }
                  ),
                  topicSelected == "social-media" && /* @__PURE__ */ jsx(
                    "img",
                    {
                      src: "/social-media-vector.png",
                      alt: "vector",
                      className: "object-cover w-auto h-full grayscale"
                    }
                  ),
                  topicSelected == "SEO" && /* @__PURE__ */ jsx(
                    "img",
                    {
                      src: "/SEO-vector.png",
                      alt: "vector",
                      className: "object-cover w-auto h-full grayscale"
                    }
                  ),
                  topicSelected == "productivity" && /* @__PURE__ */ jsx(
                    "img",
                    {
                      src: "/productivity-vector.png",
                      alt: "vector",
                      className: "object-cover w-auto h-full grayscale"
                    }
                  ),
                  topicSelected == "communication" && /* @__PURE__ */ jsx(
                    "img",
                    {
                      src: "/communication-vector.png",
                      alt: "vector",
                      className: "object-cover w-auto h-full grayscale"
                    }
                  ),
                  topicSelected == "" && /* @__PURE__ */ jsx(
                    "img",
                    {
                      src: "/e-commerce-vector.png",
                      alt: "vector",
                      className: "object-cover w-auto h-full grayscale"
                    }
                  )
                ] }),
                /* @__PURE__ */ jsx("h2", { className: "font-bold text-xl mt-0 pt-0 text-base-content dark:text-neutral-200", children: titleSelected }),
                /* @__PURE__ */ jsx("p", { className: "text-lg leading-normal mb-8", children: bodySelected })
              ]
            }
          )
        }
      )
    ] }) })
  );
};
const __vite_glob_0_67 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: Notes
}, Symbol.toStringTag, { value: "Module" }));
function Orders({ annonces }) {
  const columns = [
    { field: "id", headerName: "ID", width: 90 },
    { field: "title", headerName: "Title", minWidth: 250, flex: 1 },
    { field: "content", headerName: "Content", minWidth: 300, flex: 1 },
    { field: "category", headerName: "Category", minWidth: 150, flex: 1 },
    { field: "ICE", headerName: "ICE", minWidth: 120, type: "number", flex: 1 },
    {
      field: "status",
      headerName: "Status",
      minWidth: 120,
      flex: 1,
      renderCell: (params) => {
        const statusColors = {
          PENDING: "bg-warning text-warning",
          APPROVED: "bg-success text-success",
          REJECTED: "bg-error text-error"
        };
        return /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2", children: [
          /* @__PURE__ */ jsx("div", { className: `w-2 h-2 rounded-full ${statusColors[params.row.status] || "bg-gray-400"}` }),
          /* @__PURE__ */ jsx("div", { className: `text-sm font-medium ${statusColors[params.row.status] || "text-gray-600"}`, children: params.row.status })
        ] });
      }
    }
  ];
  return /* @__PURE__ */ jsx(
    AuthenticatedLayout,
    {
      header: /* @__PURE__ */ jsx("h2", { className: "text-2xl font-bold leading-tight text-gray-800 dark:text-gray-200", children: "📢 Annonces" }),
      children: /* @__PURE__ */ jsxs("div", { className: "w-full flex flex-col items-stretch gap-3", children: [
        /* @__PURE__ */ jsxs("div", { className: "w-full flex justify-between mb-5", children: [
          /* @__PURE__ */ jsx("h2", { className: "font-bold text-2xl xl:text-4xl text-base-content dark:text-neutral-200", children: "Annonces" }),
          annonces.data.length > 0 && /* @__PURE__ */ jsxs("span", { className: "text-neutral dark:text-neutral-content font-medium text-base", children: [
            annonces.data.length,
            " annonces found"
          ] })
        ] }),
        /* @__PURE__ */ jsx(
          DataTable,
          {
            slug: "annonces",
            columns,
            rows: annonces.data,
            includeActionColumn: false
          }
        )
      ] })
    }
  );
}
const __vite_glob_0_68 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: Orders
}, Symbol.toStringTag, { value: "Module" }));
function Confirmation({ type, data, auth }) {
  const formatDate2 = (dateString) => {
    return new Date(dateString).toLocaleDateString("fr-FR", {
      year: "numeric",
      month: "long",
      day: "numeric",
      hour: "2-digit",
      minute: "2-digit"
    });
  };
  const formatPrice = (price) => {
    if (!price) return "N/A";
    return new Intl.NumberFormat("fr-MA", {
      style: "currency",
      currency: "MAD"
    }).format(price);
  };
  return /* @__PURE__ */ jsxs("div", { className: "min-h-screen bg-gradient-to-br from-green-50 via-white to-emerald-50", children: [
    /* @__PURE__ */ jsx(Header, { auth: { user: auth.user } }),
    /* @__PURE__ */ jsx("main", { className: "container mx-auto px-4 py-12 pt-12", children: /* @__PURE__ */ jsxs("div", { className: "max-w-4xl mx-auto", children: [
      /* @__PURE__ */ jsxs("div", { className: "text-center mb-8 pt-24", children: [
        /* @__PURE__ */ jsx("div", { className: "inline-flex items-center justify-center w-20 h-20 bg-green-100 rounded-full mb-4 animate-pulse", children: /* @__PURE__ */ jsx(CheckCircle, { className: "w-12 h-12 text-green-600" }) }),
        /* @__PURE__ */ jsx("h1", { className: "text-4xl font-bold text-gray-900 mb-2", children: "Paiement confirmé !" }),
        /* @__PURE__ */ jsxs("p", { className: "text-lg text-gray-600", children: [
          "Merci pour votre ",
          type === "annonce" ? "annonce légale" : "appel d'offre"
        ] })
      ] }),
      /* @__PURE__ */ jsxs("div", { className: "bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden", children: [
        /* @__PURE__ */ jsx("div", { className: "bg-gradient-to-r from-green-600 to-emerald-600 px-8 py-6", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center space-x-3", children: [
          /* @__PURE__ */ jsx(Receipt, { className: "w-6 h-6 text-white" }),
          /* @__PURE__ */ jsx("h2", { className: "text-xl font-semibold text-white", children: "Détails de la commande" })
        ] }) }),
        /* @__PURE__ */ jsxs("div", { className: "p-8", children: [
          /* @__PURE__ */ jsxs("div", { className: "grid md:grid-cols-2 gap-6", children: [
            /* @__PURE__ */ jsxs("div", { className: "space-y-6", children: [
              /* @__PURE__ */ jsxs("div", { className: "flex items-start space-x-4 p-4 bg-gray-50 rounded-lg", children: [
                /* @__PURE__ */ jsx("div", { className: "flex-shrink-0", children: /* @__PURE__ */ jsx(Hash, { className: "w-5 h-5 text-gray-600 mt-1" }) }),
                /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsx("p", { className: "text-sm font-medium text-gray-500 uppercase tracking-wide", children: "Référence de commande" }),
                  /* @__PURE__ */ jsx("p", { className: "text-lg font-mono font-semibold text-gray-900 mt-1", children: data.order_id })
                ] })
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "flex items-start space-x-4 p-4 bg-gray-50 rounded-lg", children: [
                /* @__PURE__ */ jsx("div", { className: "flex-shrink-0", children: /* @__PURE__ */ jsx(Calendar$2, { className: "w-5 h-5 text-gray-600 mt-1" }) }),
                /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsx("p", { className: "text-sm font-medium text-gray-500 uppercase tracking-wide", children: "Date de création" }),
                  /* @__PURE__ */ jsx("p", { className: "text-lg font-semibold text-gray-900 mt-1", children: formatDate2(data.created_at) })
                ] })
              ] })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "space-y-6", children: [
              /* @__PURE__ */ jsxs("div", { className: "flex items-start space-x-4 p-4 bg-gray-50 rounded-lg", children: [
                /* @__PURE__ */ jsx("div", { className: "flex-shrink-0", children: /* @__PURE__ */ jsx(CreditCard, { className: "w-5 h-5 text-gray-600 mt-1" }) }),
                /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsx("p", { className: "text-sm font-medium text-gray-500 uppercase tracking-wide", children: "Statut du paiement" }),
                  /* @__PURE__ */ jsx("div", { className: "flex items-center mt-1", children: /* @__PURE__ */ jsxs(
                    "span",
                    {
                      className: "inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",
                      children: [
                        /* @__PURE__ */ jsx("span", { className: "w-2 h-2 rounded-full mr-2 bg-green-400" }),
                        "Payé"
                      ]
                    }
                  ) })
                ] })
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "flex items-start space-x-4 p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg border border-green-200", children: [
                /* @__PURE__ */ jsx("div", { className: "flex-shrink-0", children: /* @__PURE__ */ jsx(Receipt, { className: "w-5 h-5 text-green-600 mt-1" }) }),
                /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsx("p", { className: "text-sm font-medium text-green-700 uppercase tracking-wide", children: "Montant total" }),
                  /* @__PURE__ */ jsx("p", { className: "text-2xl font-bold text-green-800 mt-1", children: formatPrice(data.price) })
                ] })
              ] })
            ] })
          ] }),
          /* @__PURE__ */ jsx("div", { className: "mt-8 pt-6 border-t border-gray-200", children: /* @__PURE__ */ jsx("div", { className: "flex items-center justify-center", children: /* @__PURE__ */ jsxs("span", { className: "inline-flex items-center px-4 py-2 rounded-full text-sm font-medium bg-blue-100 text-blue-800", children: [
            "Type de service: ",
            type === "annonce" ? "Annonce légale" : "Appel d'offre"
          ] }) }) })
        ] })
      ] }),
      /* @__PURE__ */ jsxs("div", { className: "mt-8 bg-blue-50 border border-blue-200 rounded-xl p-6", children: [
        /* @__PURE__ */ jsx("h3", { className: "text-lg font-semibold text-blue-900 mb-3", children: "Prochaines étapes" }),
        /* @__PURE__ */ jsxs("ul", { className: "space-y-2 text-blue-800", children: [
          /* @__PURE__ */ jsxs("li", { className: "flex items-center space-x-2", children: [
            /* @__PURE__ */ jsx(CheckCircle, { className: "w-4 h-4 text-blue-600" }),
            /* @__PURE__ */ jsx("span", { children: "Vous recevrez un email de confirmation sous peu" })
          ] }),
          /* @__PURE__ */ jsxs("li", { className: "flex items-center space-x-2", children: [
            /* @__PURE__ */ jsx(CheckCircle, { className: "w-4 h-4 text-blue-600" }),
            /* @__PURE__ */ jsxs("span", { children: [
              "Votre ",
              type === "annonce" ? "annonce" : "appel",
              " sera traité dans les plus brefs délais"
            ] })
          ] }),
          /* @__PURE__ */ jsxs("li", { className: "flex items-center space-x-2", children: [
            /* @__PURE__ */ jsx(CheckCircle, { className: "w-4 h-4 text-blue-600" }),
            /* @__PURE__ */ jsx("span", { children: "Un suivi vous sera envoyé par email" })
          ] })
        ] })
      ] })
    ] }) }),
    /* @__PURE__ */ jsx(Footer$1, {})
  ] });
}
const __vite_glob_0_69 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: Confirmation
}, Symbol.toStringTag, { value: "Module" }));
const Posts = () => {
  const { isLoading, isError, isSuccess, data } = useQuery({
    queryKey: ["allorders"],
    queryFn: fetchPosts
  });
  const columns = [
    { field: "id", headerName: "ID", minWidth: 90 },
    {
      field: "title",
      headerName: "Title",
      minWidth: 500,
      flex: 1,
      renderCell: (params) => {
        return /* @__PURE__ */ jsxs("div", { className: "flex gap-3 relative items-center py-2", children: [
          /* @__PURE__ */ jsx("div", { className: "w-20 h-12 sm:w-24 sm:h-14 xl:w-32 xl:h-[72px] rounded relative overflow-hidden", children: /* @__PURE__ */ jsx(
            "img",
            {
              src: params.row.thumbnail || "https://placehold.co/720x400",
              alt: "thumbnail-picture",
              className: "object-cover w-full h-full"
            }
          ) }),
          /* @__PURE__ */ jsxs("div", { className: "flex flex-col items-start gap-0", children: [
            /* @__PURE__ */ jsx("div", { className: "relative w-[300px] xl:w-[320px] overflow-hidden text-ellipsis whitespace-nowrap", children: /* @__PURE__ */ jsx("span", { className: "text-ellipsis whitespace-nowrap text-base font-medium dark:text-white", children: params.row.title }) }),
            /* @__PURE__ */ jsx("div", { className: "relative w-[300px] xl:w-[320px] overflow-hidden ", children: /* @__PURE__ */ jsx("p", { className: "text-[14px] leading-[1.1] overflow-hidden line-clamp-2 text-neutral-400", children: params.row.desc }) })
          ] })
        ] });
      }
    },
    {
      field: "tags",
      // type: 'string',
      headerName: "Tags",
      minWidth: 250,
      flex: 1,
      renderCell: (params) => {
        return /* @__PURE__ */ jsx("div", { className: "flex flex-wrap gap-1", children: params.row.tags && params.row.tags.map((tag, index2) => /* @__PURE__ */ jsx(
          "div",
          {
            className: "rounded-full bg-base-200 dark:bg-base-300 flex justify-center items-center px-3 py-1 text-xs",
            children: tag
          },
          index2
        )) });
      }
    },
    {
      field: "author",
      headerName: "Author",
      minWidth: 220,
      flex: 1,
      renderCell: (params) => {
        return /* @__PURE__ */ jsxs("div", { className: "flex gap-3 items-center", children: [
          /* @__PURE__ */ jsx("div", { className: "avatar", children: /* @__PURE__ */ jsx("div", { className: "w-6 xl:w-9 rounded-full", children: /* @__PURE__ */ jsx(
            "img",
            {
              src: params.row.avatar || "/Portrait_Placeholder.png",
              alt: "user-picture"
            }
          ) }) }),
          /* @__PURE__ */ jsx("span", { className: "mb-0 pb-0 leading-none", children: params.row.author })
        ] });
      }
    },
    {
      field: "visibility",
      headerName: "Visibility",
      minWidth: 100,
      flex: 1,
      renderCell: (params) => {
        if (params.row.visibility == "Public") {
          return /* @__PURE__ */ jsxs("div", { className: "flex gap-1 items-center", children: [
            /* @__PURE__ */ jsx(HiOutlineGlobeAmericas, { className: "text-lg" }),
            /* @__PURE__ */ jsx("span", { className: "p-0 mt-[1px] leading-none", children: params.row.visibility })
          ] });
        } else if (params.row.visibility == "Private") {
          return /* @__PURE__ */ jsxs("div", { className: "flex gap-1 items-center", children: [
            /* @__PURE__ */ jsx(HiOutlineLockClosed, { className: "text-lg" }),
            /* @__PURE__ */ jsx("span", { className: "p-0 mt-[1px] leading-none", children: params.row.visibility })
          ] });
        } else {
          return /* @__PURE__ */ jsx("span", { children: "Unknown" });
        }
      }
    },
    {
      field: "date",
      type: "string",
      headerName: "Date",
      minWidth: 100
    },
    {
      field: "views",
      type: "number",
      headerName: "Views",
      minWidth: 120
    },
    {
      field: "comments",
      type: "number",
      headerName: "Comments",
      minWidth: 120,
      renderCell: (params) => {
        return /* @__PURE__ */ jsx("div", { children: params.row.comments && params.row.comments.length });
      }
    },
    {
      field: "likes",
      type: "number",
      headerName: "Likes",
      minWidth: 80
    }
  ];
  React__default.useEffect(() => {
    if (isLoading) {
      toast.loading("Loading...", { id: "promisePosts" });
    }
    if (isError) {
      toast.error("Error while getting the data!", {
        id: "promisePosts"
      });
    }
    if (isSuccess) {
      toast.success("Got the data successfully!", {
        id: "promisePosts"
      });
    }
  }, [isError, isLoading, isSuccess]);
  return /* @__PURE__ */ jsx("div", { className: "w-full p-0 m-0", children: /* @__PURE__ */ jsxs("div", { className: "w-full flex flex-col items-stretch gap-3", children: [
    /* @__PURE__ */ jsx("div", { className: "w-full flex justify-between mb-5", children: /* @__PURE__ */ jsxs("div", { className: "flex gap-1 justify-start flex-col items-start", children: [
      /* @__PURE__ */ jsx("h2", { className: "font-bold text-2xl xl:text-4xl mt-0 pt-0 text-base-content dark:text-neutral-200", children: "Posts" }),
      data && data.length > 0 && /* @__PURE__ */ jsxs("span", { className: "text-neutral dark:text-neutral-content font-medium text-base", children: [
        data.length,
        " Posts Found"
      ] })
    ] }) }),
    isLoading ? /* @__PURE__ */ jsx(
      DataTable,
      {
        slug: "orders",
        columns,
        rows: [],
        includeActionColumn: false
      }
    ) : isSuccess ? /* @__PURE__ */ jsx(
      DataTable,
      {
        slug: "orders",
        columns,
        rows: data,
        includeActionColumn: false
      }
    ) : /* @__PURE__ */ jsxs(Fragment, { children: [
      /* @__PURE__ */ jsx(
        DataTable,
        {
          slug: "orders",
          columns,
          rows: [],
          includeActionColumn: false
        }
      ),
      /* @__PURE__ */ jsx("div", { className: "w-full flex justify-center", children: "Error while getting the data!" })
    ] })
  ] }) });
};
const __vite_glob_0_70 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: Posts
}, Symbol.toStringTag, { value: "Module" }));
const Product = () => {
  const tempEntries = [1, 2, 3, 4, 5];
  const dataLine = [
    {
      name: "Jan",
      purchased: 4e3,
      wishlisted: 2400,
      amt: 2400
    },
    {
      name: "Feb",
      purchased: 3e3,
      wishlisted: 1398,
      amt: 2210
    },
    {
      name: "Mar",
      purchased: 2e3,
      wishlisted: 9800,
      amt: 2290
    },
    {
      name: "Apr",
      purchased: 2780,
      wishlisted: 3908,
      amt: 2e3
    },
    {
      name: "May",
      purchased: 1890,
      wishlisted: 4800,
      amt: 2181
    },
    {
      name: "Jun",
      purchased: 2390,
      wishlisted: 3800,
      amt: 2500
    },
    {
      name: "Jul",
      purchased: 3490,
      wishlisted: 4300,
      amt: 2100
    }
  ];
  const { id } = useParams();
  const { isLoading, isError, data, isSuccess } = useQuery({
    queryKey: ["user", id],
    queryFn: () => fetchSingleProduct(id || "")
  });
  React__default.useEffect(() => {
    if (isLoading) {
      toast.loading("Loading...", { id: "promiseRead" });
    }
    if (isError) {
      toast.error("Error while getting the data!", {
        id: "promiseRead"
      });
    }
    if (isSuccess) {
      toast.success("Read the data successfully!", {
        id: "promiseRead"
      });
    }
  }, [isError, isLoading, isSuccess]);
  return (
    // screen
    /* @__PURE__ */ jsx("div", { id: "singleProduct", className: "w-full p-0 m-0", children: /* @__PURE__ */ jsxs("div", { className: "w-full grid xl:grid-cols-2 gap-10 mt-5 xl:mt-0", children: [
      /* @__PURE__ */ jsxs("div", { className: "w-full flex flex-col items-start gap-10", children: [
        /* @__PURE__ */ jsxs("div", { className: "w-full flex flex-col items-start gap-5", children: [
          /* @__PURE__ */ jsx("div", { className: "w-full flex items-center gap-3", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-3 xl:gap-8 xl:mb-4", children: [
            /* @__PURE__ */ jsx("div", { className: "", children: isLoading ? /* @__PURE__ */ jsx("div", { className: "w-24 xl:w-36 h-24 xl:h-36 skeleton dark:bg-neutral" }) : isSuccess ? /* @__PURE__ */ jsx("div", { className: "w-24 xl:w-36", children: /* @__PURE__ */ jsx(
              "img",
              {
                src: data.img,
                alt: "avatar",
                className: "w-full h-auto object-cover"
              }
            ) }) : "" }),
            /* @__PURE__ */ jsxs("div", { className: "flex flex-col items-start gap-1", children: [
              isLoading ? /* @__PURE__ */ jsx("div", { className: "w-[200px] h-[36px] skeleton dark:bg-neutral" }) : isSuccess ? /* @__PURE__ */ jsx("h3", { className: "font-semibold text-xl xl:text-3xl dark:text-white", children: data.title }) : /* @__PURE__ */ jsx("div", { className: "w-[200px] h-[36px] skeleton dark:bg-neutral" }),
              /* @__PURE__ */ jsx("span", { className: "font-normal text-base", children: "Exclusive" })
            ] })
          ] }) }),
          /* @__PURE__ */ jsx("div", { className: "w-full flex gap-8", children: isLoading ? /* @__PURE__ */ jsx("div", { className: "w-full xl:w-[50%} h-52 skeleton dark:bg-neutral" }) : isSuccess ? /* @__PURE__ */ jsxs("div", { className: "w-full grid grid-cols-3 xl:flex gap-5 xl:gap-8", children: [
            /* @__PURE__ */ jsxs("div", { className: "col-span-1 flex flex-col items-start gap-3 xl:gap-5", children: [
              /* @__PURE__ */ jsx("span", { children: "Product ID" }),
              /* @__PURE__ */ jsx("span", { children: "Color" }),
              /* @__PURE__ */ jsx("span", { children: "Price" }),
              /* @__PURE__ */ jsx("span", { children: "Producer" }),
              /* @__PURE__ */ jsx("span", { children: "Status" })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "col-span-2 flex flex-col items-start gap-3 xl:gap-5", children: [
              /* @__PURE__ */ jsx("span", { className: "font-semibold", children: data.id }),
              /* @__PURE__ */ jsx("span", { className: "font-semibold", children: data.color }),
              /* @__PURE__ */ jsx("span", { className: "font-semibold", children: data.price }),
              /* @__PURE__ */ jsx("span", { className: "font-semibold", children: data.producer }),
              /* @__PURE__ */ jsx("span", { className: "font-semibold", children: data.inStock ? "In stock" : "Out of stock" })
            ] })
          ] }) : /* @__PURE__ */ jsx("div", { className: "w-full xl:w-[50%} h-52 skeleton dark:bg-neutral" }) })
        ] }),
        /* @__PURE__ */ jsx("div", { className: "w-full h-[2px] bg-base-300 dark:bg-slate-700" }),
        isLoading ? /* @__PURE__ */ jsx("div", { className: "w-full min-h-[300px] skeleton dark:bg-neutral" }) : isSuccess ? /* @__PURE__ */ jsx("div", { className: "w-full min-h-[300px]", children: /* @__PURE__ */ jsx(ResponsiveContainer, { width: "100%", height: "100%", children: /* @__PURE__ */ jsxs(LineChart, { data: dataLine, children: [
          /* @__PURE__ */ jsx(XAxis, { dataKey: "name" }),
          /* @__PURE__ */ jsx(YAxis, {}),
          /* @__PURE__ */ jsx(Tooltip, {}),
          /* @__PURE__ */ jsx(Legend, {}),
          /* @__PURE__ */ jsx(
            Line,
            {
              type: "monotone",
              dataKey: "purchased",
              stroke: "#8884d8"
            }
          ),
          /* @__PURE__ */ jsx(
            Line,
            {
              type: "monotone",
              dataKey: "wishlisted",
              stroke: "#82ca9d"
            }
          )
        ] }) }) }) : /* @__PURE__ */ jsx("div", { className: "w-full min-h-[300px] skeleton dark:bg-neutral" })
      ] }),
      /* @__PURE__ */ jsxs(
        "div",
        {
          id: "activities",
          className: "w-full flex flex-col items-start gap-5",
          children: [
            /* @__PURE__ */ jsx("h2", { className: "text-2xl font-semibold dark:text-white", children: "Latest Activities" }),
            isLoading && tempEntries.map((index2) => /* @__PURE__ */ jsx(
              "div",
              {
                className: "w-full h-20 skeleton dark:bg-neutral"
              },
              index2
            )),
            isSuccess && /* @__PURE__ */ jsxs("ul", { children: [
              /* @__PURE__ */ jsx("li", { children: /* @__PURE__ */ jsxs("div", { className: "ml-[1px] relative p-4 bg-base-200 dark:bg-neutral dark:text-neutral-50 min-w-[85vw] xl:min-w-[480px] flex flex-col items-start gap-3", children: [
                /* @__PURE__ */ jsxs("span", { children: [
                  "Frans AHW purchased ",
                  data.title
                ] }),
                /* @__PURE__ */ jsx("span", { className: "text-xs", children: "3 days ago" })
              ] }) }),
              /* @__PURE__ */ jsx("li", { children: /* @__PURE__ */ jsxs("div", { className: "ml-[1px] relative p-4 bg-base-200 dark:bg-neutral dark:text-neutral-50 min-w-[85vw] xl:min-w-[480px] flex flex-col items-start gap-3", children: [
                /* @__PURE__ */ jsxs("span", { children: [
                  "Kurt Cobain added ",
                  data.title,
                  " into wishlist"
                ] }),
                /* @__PURE__ */ jsx("span", { className: "text-xs", children: "1 week ago" })
              ] }) }),
              /* @__PURE__ */ jsx("li", { children: /* @__PURE__ */ jsxs("div", { className: "ml-[1px] relative p-4 bg-base-200 dark:bg-neutral dark:text-neutral-50 min-w-[85vw] xl:min-w-[480px] flex flex-col items-start gap-3", children: [
                /* @__PURE__ */ jsxs("span", { children: [
                  "Mary Jane purchased ",
                  data.title
                ] }),
                /* @__PURE__ */ jsx("span", { className: "text-xs", children: "2 weeks ago" })
              ] }) }),
              /* @__PURE__ */ jsx("li", { children: /* @__PURE__ */ jsxs("div", { className: "ml-[1px] relative p-4 bg-base-200 dark:bg-neutral dark:text-neutral-50 min-w-[85vw] xl:min-w-[480px] flex flex-col items-start gap-3", children: [
                /* @__PURE__ */ jsxs("span", { children: [
                  "Jose Rose added ",
                  data.title,
                  " into wishlist"
                ] }),
                /* @__PURE__ */ jsx("span", { className: "text-xs", children: "3 weeks ago" })
              ] }) }),
              /* @__PURE__ */ jsx("li", { children: /* @__PURE__ */ jsxs("div", { className: "ml-[1px] relative p-4 bg-base-200 dark:bg-neutral dark:text-neutral-50 min-w-[85vw] xl:min-w-[480px] flex flex-col items-start gap-3", children: [
                /* @__PURE__ */ jsxs("span", { children: [
                  "James Deane purchased ",
                  data.title
                ] }),
                /* @__PURE__ */ jsx("span", { className: "text-xs", children: "1 month ago" })
              ] }) })
            ] }),
            isError && tempEntries.map((index2) => /* @__PURE__ */ jsx(
              "div",
              {
                className: "w-full h-20 skeleton dark:bg-neutral"
              },
              index2
            ))
          ]
        }
      )
    ] }) })
  );
};
const __vite_glob_0_71 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: Product
}, Symbol.toStringTag, { value: "Module" }));
const AddData = ({
  slug,
  isOpen,
  //   columns,
  setIsOpen
}) => {
  const [showModal, setShowModal] = React__default.useState(false);
  const [file, setFile] = React__default.useState(null);
  const [preview, setPreview] = React__default.useState(null);
  const [firstName, setFirstName] = React__default.useState("");
  const [lastName, setLastName] = React__default.useState("");
  const [email, setEmail] = React__default.useState("");
  const [phone, setPhone] = React__default.useState("");
  const [isVerified, setIsVerified] = React__default.useState("");
  const [formUserIsEmpty, setFormUserIsEmpty] = React__default.useState(true);
  const [title, setTitle] = React__default.useState("");
  const [color, setColor] = React__default.useState("");
  const [producer, setProducer] = React__default.useState("");
  const [price, setPrice] = React__default.useState("");
  const [inStock, setInStock] = React__default.useState("");
  const [formProductIsEmpty, setFormProductIsEmpty] = React__default.useState(true);
  const loadImage = (e2) => {
    if (e2.target.files && e2.target.files[0]) {
      const imageUpload = e2.target.files[0];
      setFile(imageUpload);
      setPreview(URL.createObjectURL(imageUpload));
    }
  };
  const handleSubmit = (e2) => {
    e2.preventDefault();
    toast("Gabisa dong!", { icon: "😛" });
  };
  React__default.useEffect(() => {
    setShowModal(isOpen);
  }, [isOpen]);
  React__default.useEffect(() => {
    if (firstName === "" || lastName === "" || email === "" || phone === "" || isVerified === "" || file === null) {
      setFormUserIsEmpty(true);
    }
    if (firstName !== "" && lastName !== "" && email !== "" && phone !== "" && isVerified !== "" && file !== null) {
      setFormUserIsEmpty(false);
    }
  }, [email, file, firstName, isVerified, lastName, phone]);
  React__default.useEffect(() => {
    if (title === "" || color === "" || producer === "" || price === "" || inStock === "" || file === null) {
      setFormProductIsEmpty(true);
    }
    if (title !== "" && color !== "" && producer !== "" && price !== "" && inStock !== "" && file !== null) {
      setFormProductIsEmpty(false);
    }
  }, [color, file, inStock, price, producer, title]);
  if (slug === "user") {
    return /* @__PURE__ */ jsx("div", { className: "w-screen h-screen fixed top-0 left-0 flex justify-center items-center bg-black/75 z-[99]", children: /* @__PURE__ */ jsxs(
      "div",
      {
        className: `w-[80%] xl:w-[50%] rounded-lg p-7 bg-base-100 relative transition duration-300 flex flex-col items-stretch gap-5 ${showModal ? "translate-y-0" : "translate-y-full"}
            ${showModal ? "opacity-100" : "opacity-0"}`,
        children: [
          /* @__PURE__ */ jsxs("div", { className: "w-full flex justify-between pb-5 border-b border-base-content border-opacity-30", children: [
            /* @__PURE__ */ jsx(
              "button",
              {
                onClick: () => {
                  setShowModal(false);
                  setIsOpen(false);
                },
                className: "absolute top-5 right-3 btn btn-ghost btn-circle",
                children: /* @__PURE__ */ jsx(HiOutlineXMark, { className: "text-xl font-bold" })
              }
            ),
            /* @__PURE__ */ jsxs("span", { className: "text-2xl font-bold", children: [
              "Add new ",
              slug
            ] })
          ] }),
          /* @__PURE__ */ jsxs(
            "form",
            {
              onSubmit: handleSubmit,
              className: "w-full grid grid-cols-1 lg:grid-cols-2 gap-4",
              children: [
                /* @__PURE__ */ jsx(
                  "input",
                  {
                    type: "text",
                    placeholder: "Nom",
                    className: "input input-bordered w-full",
                    name: "firstName",
                    id: "firstName",
                    onChange: (element) => setFirstName(element.target.value)
                  }
                ),
                /* @__PURE__ */ jsx(
                  "input",
                  {
                    type: "email",
                    placeholder: "Email",
                    className: "input input-bordered w-full",
                    name: "lastName",
                    id: "lastName",
                    onChange: (element) => setLastName(element.target.value)
                  }
                ),
                /* @__PURE__ */ jsx(
                  "input",
                  {
                    type: "password",
                    placeholder: "Password",
                    className: "input input-bordered w-full",
                    name: "email",
                    id: "email",
                    onChange: (element) => setEmail(element.target.value)
                  }
                ),
                /* @__PURE__ */ jsx(
                  "input",
                  {
                    type: "text",
                    placeholder: "Phone",
                    className: "input input-bordered w-full",
                    name: "phone",
                    id: "phone",
                    onChange: (element) => setPhone(element.target.value)
                  }
                ),
                /* @__PURE__ */ jsxs("label", { className: "form-control w-full", children: [
                  /* @__PURE__ */ jsx("div", { className: "label", children: /* @__PURE__ */ jsx("span", { className: "label-text", children: "Role" }) }),
                  /* @__PURE__ */ jsxs(
                    "select",
                    {
                      className: "select select-bordered",
                      name: "isVerified",
                      id: "isVerified",
                      onChange: (element) => setIsVerified(element.target.value),
                      children: [
                        /* @__PURE__ */ jsx("option", { disabled: true, selected: true, children: "Select one" }),
                        /* @__PURE__ */ jsx("option", { value: "user", children: "Utilisateur" }),
                        /* @__PURE__ */ jsx("option", { value: "moderator", children: "Moderateur" })
                      ]
                    }
                  )
                ] }),
                /* @__PURE__ */ jsxs("label", { className: "form-control w-full", children: [
                  /* @__PURE__ */ jsx("div", { className: "label", children: /* @__PURE__ */ jsx("span", { className: "label-text", children: "Pick a profile photo" }) }),
                  /* @__PURE__ */ jsx(
                    "input",
                    {
                      type: "file",
                      className: "file-input file-input-bordered w-full",
                      onChange: loadImage
                    }
                  )
                ] }),
                preview && preview !== "" && /* @__PURE__ */ jsxs("div", { className: "w-full flex flex-col items-start gap-3", children: [
                  /* @__PURE__ */ jsx("span", { children: "Profile Preview" }),
                  /* @__PURE__ */ jsx("div", { className: "avatar", children: /* @__PURE__ */ jsx("div", { className: "w-24 rounded-full", children: /* @__PURE__ */ jsx("img", { src: preview, alt: "profile-upload" }) }) })
                ] }),
                /* @__PURE__ */ jsx(
                  "button",
                  {
                    className: `mt-5 btn ${formUserIsEmpty ? "btn-disabled" : "btn-primary"} btn-block col-span-full font-semibold`,
                    children: "Submit"
                  }
                )
              ]
            }
          )
        ]
      }
    ) });
  }
  if (slug === "product") {
    return /* @__PURE__ */ jsx("div", { className: "w-screen h-screen fixed top-0 left-0 flex justify-center items-center bg-black/75 z-[99]", children: /* @__PURE__ */ jsxs(
      "div",
      {
        className: `w-[80%] xl:w-[50%] rounded-lg p-7 bg-base-100 relative transition duration-300 flex flex-col items-stretch gap-5 ${showModal ? "translate-y-0" : "translate-y-full"}
            ${showModal ? "opacity-100" : "opacity-0"}`,
        children: [
          /* @__PURE__ */ jsxs("div", { className: "w-full flex justify-between pb-5 border-b border-base-content border-opacity-30", children: [
            /* @__PURE__ */ jsx(
              "button",
              {
                onClick: () => {
                  setShowModal(false);
                  setIsOpen(false);
                },
                className: "absolute top-5 right-3 btn btn-ghost btn-circle",
                children: /* @__PURE__ */ jsx(HiOutlineXMark, { className: "text-xl font-bold" })
              }
            ),
            /* @__PURE__ */ jsx("span", { className: "text-2xl font-bold", children: "Add new Annonce" })
          ] }),
          /* @__PURE__ */ jsxs(
            "form",
            {
              onSubmit: handleSubmit,
              className: "w-full grid grid-cols-1 lg:grid-cols-2 gap-4",
              children: [
                /* @__PURE__ */ jsx(
                  "input",
                  {
                    type: "text",
                    placeholder: "Nom de société",
                    className: "input input-bordered w-full",
                    name: "title",
                    id: "title",
                    onChange: (element) => setTitle(element.target.value)
                  }
                ),
                /* @__PURE__ */ jsx(
                  "input",
                  {
                    type: "text",
                    placeholder: "ICE",
                    className: "input input-bordered w-full",
                    name: "color",
                    id: "color",
                    onChange: (element) => setColor(element.target.value)
                  }
                ),
                /* @__PURE__ */ jsxs("label", { className: "form-control w-full", children: [
                  /* @__PURE__ */ jsx("div", { className: "label", children: /* @__PURE__ */ jsx("span", { className: "label-text", children: "Type" }) }),
                  /* @__PURE__ */ jsxs(
                    "select",
                    {
                      className: "select select-bordered",
                      name: "inStock",
                      id: "inStock",
                      onChange: (element) => setInStock(element.target.value),
                      children: [
                        /* @__PURE__ */ jsx("option", { disabled: true, selected: true, children: "Select one" }),
                        /* @__PURE__ */ jsx("option", { value: "Construction", children: "Construction" }),
                        /* @__PURE__ */ jsx("option", { value: "Modification", children: "Modification" }),
                        /* @__PURE__ */ jsx("option", { value: "Cessation", children: "Cessation" })
                      ]
                    }
                  )
                ] }),
                /* @__PURE__ */ jsx(
                  "textarea",
                  {
                    placeholder: "Contenu de l'annonce",
                    className: "mt-8 input input-bordered w-full",
                    name: "price",
                    id: "price",
                    onChange: (element) => setPrice(element.target.value)
                  }
                ),
                /* @__PURE__ */ jsxs("label", { className: "form-control w-full", children: [
                  /* @__PURE__ */ jsx("div", { className: "label", children: /* @__PURE__ */ jsx("span", { className: "label-text", children: "Publication Web" }) }),
                  /* @__PURE__ */ jsxs(
                    "select",
                    {
                      className: "select select-bordered",
                      name: "inStock",
                      id: "inStock",
                      onChange: (element) => setInStock(element.target.value),
                      children: [
                        /* @__PURE__ */ jsx("option", { disabled: true, selected: true, children: "Select one" }),
                        /* @__PURE__ */ jsx("option", { value: "true", children: "Yes" }),
                        /* @__PURE__ */ jsx("option", { value: "false", children: "No" })
                      ]
                    }
                  )
                ] }),
                /* @__PURE__ */ jsxs("label", { className: "form-control w-full", children: [
                  /* @__PURE__ */ jsx("div", { className: "label", children: /* @__PURE__ */ jsx("span", { className: "label-text", children: "Fichier a joindre" }) }),
                  /* @__PURE__ */ jsx(
                    "input",
                    {
                      type: "file",
                      className: "file-input file-input-bordered w-full",
                      onChange: loadImage
                    }
                  )
                ] }),
                preview && preview !== "" && /* @__PURE__ */ jsxs("div", { className: "w-full flex flex-col items-start gap-3", children: [
                  /* @__PURE__ */ jsx("span", { children: "Product Preview" }),
                  /* @__PURE__ */ jsx("div", { className: "avatar", children: /* @__PURE__ */ jsx("div", { className: "w-24 rounded-full", children: /* @__PURE__ */ jsx("img", { src: preview, alt: "profile-upload" }) }) })
                ] }),
                /* @__PURE__ */ jsx(
                  "button",
                  {
                    className: `mt-5 btn ${formProductIsEmpty ? "btn-disabled" : "btn-primary"} btn-block col-span-full font-semibold`,
                    children: "Submit"
                  }
                )
              ]
            }
          )
        ]
      }
    ) });
  }
  return null;
};
const Products = () => {
  const [isOpen, setIsOpen] = React__default.useState(false);
  const { isLoading, isError, isSuccess, data } = useQuery({
    queryKey: ["allproducts"],
    queryFn: fetchProducts
  });
  const columns = [
    { field: "id", headerName: "ID", width: 90 },
    {
      field: "img",
      headerName: "Product",
      minWidth: 300,
      flex: 1,
      renderCell: (params) => {
        return /* @__PURE__ */ jsxs("div", { className: "flex gap-3 items-center", children: [
          /* @__PURE__ */ jsx("div", { className: "w-6 xl:w-10 overflow-hidden flex justify-center items-center", children: /* @__PURE__ */ jsx(
            "img",
            {
              src: params.row.img || "/corrugated-box.jpg",
              alt: "product-picture",
              className: "object-cover"
            }
          ) }),
          /* @__PURE__ */ jsx("span", { className: "mb-0 pb-0 leading-none", children: params.row.title })
        ] });
      }
    },
    // {
    //   field: 'title',
    //   type: 'string',
    //   headerName: 'Title',
    //   width: 250,
    // },
    {
      field: "color",
      type: "string",
      headerName: "Color",
      minWidth: 100,
      flex: 1
    },
    {
      field: "price",
      type: "string",
      headerName: "Price",
      minWidth: 100,
      flex: 1
    },
    {
      field: "producer",
      headerName: "Producer",
      type: "string",
      minWidth: 100,
      flex: 1
    },
    {
      field: "createdAt",
      headerName: "Created At",
      minWidth: 100,
      type: "string",
      flex: 1
    },
    {
      field: "inStock",
      headerName: "In Stock",
      minWidth: 80,
      type: "boolean",
      flex: 1
    }
  ];
  React__default.useEffect(() => {
    if (isLoading) {
      toast.loading("Loading...", { id: "promiseProducts" });
    }
    if (isError) {
      toast.error("Error while getting the data!", {
        id: "promiseProducts"
      });
    }
    if (isSuccess) {
      toast.success("Got the data successfully!", {
        id: "promiseProducts"
      });
    }
  }, [isError, isLoading, isSuccess]);
  return /* @__PURE__ */ jsx("div", { className: "w-full p-0 m-0", children: /* @__PURE__ */ jsxs("div", { className: "w-full flex flex-col items-stretch gap-3", children: [
    /* @__PURE__ */ jsxs("div", { className: "w-full flex justify-between xl:mb-5", children: [
      /* @__PURE__ */ jsxs("div", { className: "flex gap-1 justify-start flex-col items-start", children: [
        /* @__PURE__ */ jsx("h2", { className: "font-bold text-2xl xl:text-4xl mt-0 pt-0 text-base-content dark:text-neutral-200", children: "Annonces" }),
        data && data.length > 0 && /* @__PURE__ */ jsxs("span", { className: "text-neutral dark:text-neutral-content font-medium text-base", children: [
          data.length,
          " Products Found"
        ] })
      ] }),
      /* @__PURE__ */ jsx(
        "button",
        {
          onClick: () => setIsOpen(true),
          className: `btn ${isLoading ? "btn-disabled" : "btn-primary"}`,
          children: "Add New Annonce +"
        }
      )
    ] }),
    isLoading ? /* @__PURE__ */ jsx(
      DataTable,
      {
        slug: "products",
        columns,
        rows: [],
        includeActionColumn: true
      }
    ) : isSuccess ? /* @__PURE__ */ jsx(
      DataTable,
      {
        slug: "products",
        columns,
        rows: data,
        includeActionColumn: true
      }
    ) : /* @__PURE__ */ jsxs(Fragment, { children: [
      /* @__PURE__ */ jsx(
        DataTable,
        {
          slug: "products",
          columns,
          rows: [],
          includeActionColumn: true
        }
      ),
      /* @__PURE__ */ jsx("div", { className: "w-full flex justify-center", children: "Error while getting the data!" })
    ] }),
    isOpen && /* @__PURE__ */ jsx(
      AddData,
      {
        slug: "product",
        isOpen,
        setIsOpen
      }
    )
  ] }) });
};
const __vite_glob_0_72 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: Products
}, Symbol.toStringTag, { value: "Module" }));
const Profile = () => {
  const modalDelete = React__default.useRef(null);
  const navigate = useNavigate();
  return (
    // screen
    /* @__PURE__ */ jsx("div", { className: "w-full p-0 m-0", children: /* @__PURE__ */ jsxs("div", { className: "w-full flex flex-col items-stretch gap-10 xl:gap-8", children: [
      /* @__PURE__ */ jsxs("div", { className: "flex items-start justify-between", children: [
        /* @__PURE__ */ jsx("h2", { className: "font-bold text-2xl xl:text-4xl mt-0 pt-0 text-base-content dark:text-neutral-200", children: "My Profile" }),
        /* @__PURE__ */ jsxs(
          "button",
          {
            onClick: () => navigate("/profile/edit"),
            className: "btn text-xs xl:text-sm dark:btn-neutral",
            children: [
              /* @__PURE__ */ jsx(HiOutlinePencil, { className: "text-lg" }),
              " Edit My Profile"
            ]
          }
        )
      ] }),
      /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-3 xl:gap-8 xl:mb-4", children: [
        /* @__PURE__ */ jsx("div", { className: "avatar", children: /* @__PURE__ */ jsx("div", { className: "w-24 xl:w-36 2xl:w-48 rounded-full", children: /* @__PURE__ */ jsx(
          "img",
          {
            src: "https://avatars.githubusercontent.com/u/74099030?v=4",
            alt: "foto-cowok-ganteng"
          }
        ) }) }),
        /* @__PURE__ */ jsxs("div", { className: "flex flex-col items-start gap-1", children: [
          /* @__PURE__ */ jsx("h3", { className: "font-semibold text-xl xl:text-3xl", children: "Frans AHW" }),
          /* @__PURE__ */ jsx("span", { className: "font-normal text-base", children: "Supervisor" })
        ] })
      ] }),
      /* @__PURE__ */ jsxs("div", { className: "w-full flex flex-col items-stretch gap-3 xl:gap-7", children: [
        /* @__PURE__ */ jsxs("div", { className: "flex items-center w-full gap-3 xl:gap-5", children: [
          /* @__PURE__ */ jsx("h4", { className: "font-semibold text-lg xl:text-2xl whitespace-nowrap", children: "Basic Information" }),
          /* @__PURE__ */ jsx("div", { className: "w-full h-[2px] bg-base-300 dark:bg-slate-700 mt-1" })
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "w-full grid grid-cols-1 xl:grid-cols-3 gap-5 xl:gap-5 xl:text-base", children: [
          /* @__PURE__ */ jsxs("div", { className: "w-full grid grid-cols-3 xl:flex gap-5 xl:gap-8", children: [
            /* @__PURE__ */ jsxs("div", { className: "col-span-1 flex flex-col items-start xl:gap-5", children: [
              /* @__PURE__ */ jsx("span", { children: "First Name*" }),
              /* @__PURE__ */ jsx("span", { children: "Last Name*" }),
              /* @__PURE__ */ jsx("span", { children: "Nickname" })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "col-span-2 flex flex-col items-start xl:gap-5", children: [
              /* @__PURE__ */ jsx("span", { className: "font-semibold", children: "Frans" }),
              /* @__PURE__ */ jsx("span", { className: "font-semibold", children: "AHW" }),
              /* @__PURE__ */ jsx("span", { className: "font-semibold", children: "Frans" })
            ] })
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "w-full grid grid-cols-3 xl:flex gap-5 xl:gap-8", children: [
            /* @__PURE__ */ jsxs("div", { className: "col-span-1 flex flex-col items-start xl:gap-5", children: [
              /* @__PURE__ */ jsx("span", { children: "Email*" }),
              /* @__PURE__ */ jsx("span", { children: "Phone" }),
              /* @__PURE__ */ jsx("span", { children: "Address" })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "col-span-2 flex flex-col items-start xl:gap-5", children: [
              /* @__PURE__ */ jsx("span", { className: "font-semibold", children: "franswinata6@gmail.com" }),
              /* @__PURE__ */ jsx("span", { className: "font-semibold", children: "081-234-5678" }),
              /* @__PURE__ */ jsx("span", { className: "font-semibold", children: "Suite 948 Jl. Gajahmada No. 91, Malang, SM 74810" })
            ] })
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "w-full grid grid-cols-3 xl:flex gap-5 xl:gap-8", children: [
            /* @__PURE__ */ jsx("div", { className: "col-span-1 flex flex-col items-start xl:gap-5", children: /* @__PURE__ */ jsx("span", { children: "Password" }) }),
            /* @__PURE__ */ jsx("div", { className: "col-span-2 flex flex-col items-start xl:gap-5", children: /* @__PURE__ */ jsx("span", { className: "link no-underline link-primary font-semibold", children: "Change Password" }) })
          ] })
        ] })
      ] }),
      /* @__PURE__ */ jsxs("div", { className: "w-full flex flex-col items-stretch gap-6 xl:gap-7", children: [
        /* @__PURE__ */ jsxs("div", { className: "flex flex-col gap-2", children: [
          /* @__PURE__ */ jsxs("div", { className: "flex items-center w-full gap-3 xl:gap-5", children: [
            /* @__PURE__ */ jsx("h4", { className: "font-semibold text-lg xl:text-2xl whitespace-nowrap", children: "Account Integrations" }),
            /* @__PURE__ */ jsx("div", { className: "w-full h-[2px] bg-base-300 dark:bg-slate-700 mt-1" })
          ] }),
          /* @__PURE__ */ jsx("span", { className: "text-sm xl:text-sm text-neutral-400 dark:text-neutral-content", children: "Authorize faster and easier with your external service account." })
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-3 sm:grid-cols-6 xl:grid-cols-3 xl:flex gap-5", children: [
          /* @__PURE__ */ jsxs("div", { className: "col-span-2 flex flex-col items-start gap-5 xl:w-[240px]", children: [
            /* @__PURE__ */ jsxs(
              "button",
              {
                onClick: () => toast("Gaboleh", {
                  icon: "😠"
                }),
                className: "btn btn-block flex-nowrap justify-start dark:btn-neutral",
                children: [
                  /* @__PURE__ */ jsx(
                    "img",
                    {
                      className: "w-6",
                      src: "/icons8-microsoft.svg",
                      alt: "microsoft"
                    }
                  ),
                  /* @__PURE__ */ jsx("span", { className: "text-start whitespace-nowrap text-xs xl:text-sm", children: "Connect with Microsoft" })
                ]
              }
            ),
            /* @__PURE__ */ jsxs("div", { className: "px-4 gap-2 min-h-12 text-sm font-semibold flex items-center justify-start", children: [
              /* @__PURE__ */ jsx(
                "img",
                {
                  className: "w-6",
                  src: "/icons8-google.svg",
                  alt: "google"
                }
              ),
              /* @__PURE__ */ jsx("span", { className: "text-start whitespace-nowrap text-xs xl:text-sm", children: "Connected with Google" })
            ] }),
            /* @__PURE__ */ jsxs(
              "button",
              {
                onClick: () => toast("Gaboleh", {
                  icon: "😠"
                }),
                className: "btn btn-block justify-start dark:btn-neutral",
                children: [
                  /* @__PURE__ */ jsx(
                    "img",
                    {
                      className: "dark:hidden w-6",
                      src: "/icons8-apple-black.svg",
                      alt: "apple"
                    }
                  ),
                  /* @__PURE__ */ jsx(
                    "img",
                    {
                      className: "hidden dark:block w-6",
                      src: "/icons8-apple-white.svg",
                      alt: "apple"
                    }
                  ),
                  /* @__PURE__ */ jsx("span", { className: "text-start whitespace-nowrap text-xs xl:text-sm", children: "Connect with Apple" })
                ]
              }
            )
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "col-span-1 flex flex-col items-start gap-5", children: [
            /* @__PURE__ */ jsx("button", { className: "btn btn-ghost text-error" }),
            /* @__PURE__ */ jsx(
              "button",
              {
                onClick: () => toast("Gaboleh", {
                  icon: "😠"
                }),
                className: "btn btn-ghost text-error text-xs xl:text-sm",
                children: "Disconnect"
              }
            ),
            /* @__PURE__ */ jsx("button", { className: "btn btn-ghost text-error" })
          ] })
        ] })
      ] }),
      /* @__PURE__ */ jsxs("div", { className: "w-full flex justify-start items-center mt-10", children: [
        /* @__PURE__ */ jsxs(
          "button",
          {
            className: "btn dark:btn-neutral text-error dark:text-error text-xs xl:text-sm",
            onClick: () => {
              var _a2;
              return (_a2 = modalDelete.current) == null ? void 0 : _a2.showModal();
            },
            children: [
              /* @__PURE__ */ jsx(HiOutlineTrash, { className: "text-lg" }),
              "Delete My Account"
            ]
          }
        ),
        /* @__PURE__ */ jsx(
          "dialog",
          {
            id: "modal_delete",
            className: "modal",
            ref: modalDelete,
            children: /* @__PURE__ */ jsxs("div", { className: "modal-box", children: [
              /* @__PURE__ */ jsx("h3", { className: "font-bold text-lg dark:text-white", children: "Action Confirmation!" }),
              /* @__PURE__ */ jsx("p", { className: "py-4", children: "Do you want to delete your account?" }),
              /* @__PURE__ */ jsxs("div", { className: "modal-action mx-0 flex-col items-stretch justify-stretch gap-3", children: [
                /* @__PURE__ */ jsx(
                  "button",
                  {
                    onClick: () => toast("Lancang kamu ya!", {
                      icon: "😠"
                    }),
                    className: "btn btn-error btn-block text-base-100 dark:text-white",
                    children: "Yes, I want to delete my account"
                  }
                ),
                /* @__PURE__ */ jsx("form", { method: "dialog", className: "m-0 w-full", children: /* @__PURE__ */ jsx("button", { className: "m-0 btn btn-block dark:btn-neutral", children: "No, I don't think so" }) })
              ] })
            ] })
          }
        )
      ] })
    ] }) })
  );
};
const __vite_glob_0_73 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: Profile
}, Symbol.toStringTag, { value: "Module" }));
function Modal({
  children,
  show = false,
  maxWidth = "2xl",
  closeable = true,
  onClose = () => {
  }
}) {
  const close = () => {
    if (closeable) {
      onClose();
    }
  };
  const maxWidthClass = {
    sm: "sm:max-w-sm",
    md: "sm:max-w-md",
    lg: "sm:max-w-lg",
    xl: "sm:max-w-xl",
    "2xl": "sm:max-w-2xl"
  }[maxWidth];
  return /* @__PURE__ */ jsx(Transition, { show, leave: "duration-200", children: /* @__PURE__ */ jsxs(
    Dialog,
    {
      as: "div",
      id: "modal",
      className: "fixed inset-0 z-50 flex transform items-center overflow-y-auto px-4 py-6 transition-all sm:px-0",
      onClose: close,
      children: [
        /* @__PURE__ */ jsx(
          TransitionChild,
          {
            enter: "ease-out duration-300",
            enterFrom: "opacity-0",
            enterTo: "opacity-100",
            leave: "ease-in duration-200",
            leaveFrom: "opacity-100",
            leaveTo: "opacity-0",
            children: /* @__PURE__ */ jsx("div", { className: "absolute inset-0 bg-gray-500/75 dark:bg-gray-900/75" })
          }
        ),
        /* @__PURE__ */ jsx(
          TransitionChild,
          {
            enter: "ease-out duration-300",
            enterFrom: "opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",
            enterTo: "opacity-100 translate-y-0 sm:scale-100",
            leave: "ease-in duration-200",
            leaveFrom: "opacity-100 translate-y-0 sm:scale-100",
            leaveTo: "opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",
            children: /* @__PURE__ */ jsx(
              DialogPanel,
              {
                className: `mb-6 transform overflow-hidden rounded-lg bg-white shadow-xl transition-all sm:mx-auto sm:w-full dark:bg-gray-800 ${maxWidthClass}`,
                children
              }
            )
          }
        )
      ]
    }
  ) });
}
function DeleteUserForm({
  className = ""
}) {
  const [confirmingUserDeletion, setConfirmingUserDeletion] = useState(false);
  const passwordInput = useRef(null);
  const {
    data,
    setData,
    delete: destroy,
    processing,
    reset,
    errors,
    clearErrors
  } = useForm({
    password: ""
  });
  const confirmUserDeletion = () => {
    setConfirmingUserDeletion(true);
  };
  const deleteUser = (e2) => {
    e2.preventDefault();
    destroy(window.route("profile.destroy"), {
      preserveScroll: true,
      onSuccess: () => closeModal(),
      onError: () => {
        var _a2;
        return (_a2 = passwordInput.current) == null ? void 0 : _a2.focus();
      },
      onFinish: () => reset()
    });
  };
  const closeModal = () => {
    setConfirmingUserDeletion(false);
    clearErrors();
    reset();
  };
  return /* @__PURE__ */ jsxs("section", { className: `space-y-8 ${className}`, children: [
    /* @__PURE__ */ jsx("div", { className: "bg-gradient-to-r from-red-50 to-pink-50 border border-red-200 rounded-xl p-8", children: /* @__PURE__ */ jsxs("div", { className: "flex items-start", children: [
      /* @__PURE__ */ jsx("div", { className: "p-3 bg-red-100 rounded-xl mr-6 mt-1", children: /* @__PURE__ */ jsx(AlertTriangle, { className: "h-8 w-8 text-red-600" }) }),
      /* @__PURE__ */ jsxs("div", { className: "flex-1", children: [
        /* @__PURE__ */ jsx("h3", { className: "text-xl font-bold text-red-900 mb-3", children: "Suppression de compte" }),
        /* @__PURE__ */ jsxs("div", { className: "space-y-4", children: [
          /* @__PURE__ */ jsxs("p", { className: "text-red-800 leading-relaxed", children: [
            "Une fois votre compte supprimé, toutes ses ressources et données seront définitivement supprimées. Cette action est ",
            /* @__PURE__ */ jsx("strong", { children: "irréversible" }),
            "."
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "bg-white/50 rounded-lg p-4 border border-red-200", children: [
            /* @__PURE__ */ jsx("h4", { className: "font-semibold text-red-900 mb-2", children: "Données qui seront supprimées :" }),
            /* @__PURE__ */ jsxs("ul", { className: "text-sm text-red-800 space-y-1", children: [
              /* @__PURE__ */ jsx("li", { children: "• Toutes vos informations personnelles" }),
              /* @__PURE__ */ jsx("li", { children: "• Votre historique d'activité" }),
              /* @__PURE__ */ jsx("li", { children: "• Vos préférences et paramètres" }),
              /* @__PURE__ */ jsx("li", { children: "• Tous les fichiers associés à votre compte" })
            ] })
          ] }),
          /* @__PURE__ */ jsxs("p", { className: "text-sm text-red-700 bg-red-100 p-3 rounded-lg", children: [
            /* @__PURE__ */ jsx("strong", { children: "Recommandation :" }),
            " Avant de supprimer votre compte, veuillez télécharger toutes les données ou informations que vous souhaitez conserver."
          ] }),
          /* @__PURE__ */ jsx("div", { className: "pt-4", children: /* @__PURE__ */ jsxs(
            "button",
            {
              onClick: confirmUserDeletion,
              className: "inline-flex items-center px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-xl hover:from-red-700 hover:to-red-800 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-all duration-200 shadow-lg hover:shadow-xl font-semibold",
              children: [
                /* @__PURE__ */ jsx(Trash2, { className: "w-5 h-5 mr-2" }),
                "Supprimer définitivement mon compte"
              ]
            }
          ) })
        ] })
      ] })
    ] }) }),
    /* @__PURE__ */ jsx(Modal, { show: confirmingUserDeletion, onClose: closeModal, maxWidth: "lg", children: /* @__PURE__ */ jsxs("div", { className: "p-8", children: [
      /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between mb-8", children: [
        /* @__PURE__ */ jsxs("div", { className: "flex items-center", children: [
          /* @__PURE__ */ jsx("div", { className: "p-3 bg-red-100 rounded-xl mr-4", children: /* @__PURE__ */ jsx(AlertTriangle, { className: "h-8 w-8 text-red-600" }) }),
          /* @__PURE__ */ jsxs("div", { children: [
            /* @__PURE__ */ jsx("h2", { className: "text-2xl font-bold text-gray-900", children: "Confirmer la suppression" }),
            /* @__PURE__ */ jsx("p", { className: "text-gray-600 mt-1", children: "Cette action ne peut pas être annulée" })
          ] })
        ] }),
        /* @__PURE__ */ jsx(
          "button",
          {
            onClick: closeModal,
            className: "p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",
            children: /* @__PURE__ */ jsx(X, { className: "w-6 h-6" })
          }
        )
      ] }),
      /* @__PURE__ */ jsx("div", { className: "bg-gradient-to-r from-amber-50 to-orange-50 border border-amber-200 rounded-xl p-6 mb-8", children: /* @__PURE__ */ jsxs("div", { className: "flex items-start", children: [
        /* @__PURE__ */ jsx(Shield, { className: "h-6 w-6 text-amber-600 mr-3 flex-shrink-0 mt-1" }),
        /* @__PURE__ */ jsxs("div", { children: [
          /* @__PURE__ */ jsx("h4", { className: "font-semibold text-amber-900 mb-2", children: "Dernière chance de sauvegarder vos données" }),
          /* @__PURE__ */ jsx("p", { className: "text-sm text-amber-800", children: "Une fois votre compte supprimé, toutes ses ressources et données seront définitivement supprimées. Veuillez saisir votre mot de passe pour confirmer cette action irréversible." })
        ] })
      ] }) }),
      /* @__PURE__ */ jsxs("form", { onSubmit: deleteUser, className: "space-y-6", children: [
        /* @__PURE__ */ jsxs("div", { className: "space-y-3", children: [
          /* @__PURE__ */ jsx(
            InputLabel,
            {
              htmlFor: "password",
              value: "Confirmez avec votre mot de passe",
              className: "text-gray-800 font-semibold"
            }
          ),
          /* @__PURE__ */ jsx("div", { className: "relative", children: /* @__PURE__ */ jsx(
            TextInput,
            {
              id: "password",
              type: "password",
              name: "password",
              ref: passwordInput,
              value: data.password,
              onChange: (e2) => setData("password", e2.target.value),
              className: "mt-1 block w-full rounded-xl border-gray-200 focus:border-red-500 focus:ring focus:ring-red-200 transition-all duration-200 pl-12 py-4",
              isFocused: true,
              placeholder: "Entrez votre mot de passe pour confirmer"
            }
          ) }),
          /* @__PURE__ */ jsx(InputError, { message: errors.password, className: "mt-2" })
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "flex justify-end gap-4 pt-6 border-t border-gray-100", children: [
          /* @__PURE__ */ jsx(
            "button",
            {
              type: "button",
              onClick: closeModal,
              className: "inline-flex items-center px-6 py-3 bg-white border border-gray-300 rounded-xl font-semibold text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-all duration-200",
              children: "Annuler"
            }
          ),
          /* @__PURE__ */ jsxs(
            "button",
            {
              type: "submit",
              disabled: processing,
              className: "inline-flex items-center px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 border border-transparent rounded-xl font-semibold text-white hover:from-red-700 hover:to-red-800 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-all duration-200 disabled:opacity-50 shadow-lg hover:shadow-xl",
              children: [
                /* @__PURE__ */ jsx(Trash2, { className: "w-5 h-5 mr-2" }),
                processing ? "Suppression..." : "Supprimer définitivement"
              ]
            }
          )
        ] })
      ] })
    ] }) })
  ] });
}
const __vite_glob_0_75 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: DeleteUserForm
}, Symbol.toStringTag, { value: "Module" }));
function UpdatePasswordForm({
  className = ""
}) {
  const passwordInput = useRef(null);
  const currentPasswordInput = useRef(null);
  const [showCurrentPassword, setShowCurrentPassword] = useState(false);
  const [showNewPassword, setShowNewPassword] = useState(false);
  const [showConfirmPassword, setShowConfirmPassword] = useState(false);
  const { data, setData, errors, put, reset, processing, recentlySuccessful } = useForm({
    current_password: "",
    password: "",
    password_confirmation: ""
  });
  const updatePassword = (e2) => {
    e2.preventDefault();
    put(route("password.update"), {
      preserveScroll: true,
      onSuccess: () => reset(),
      onError: (errors2) => {
        var _a2, _b;
        if (errors2.password) {
          reset("password", "password_confirmation");
          (_a2 = passwordInput.current) == null ? void 0 : _a2.focus();
        }
        if (errors2.current_password) {
          reset("current_password");
          (_b = currentPasswordInput.current) == null ? void 0 : _b.focus();
        }
      }
    });
  };
  return /* @__PURE__ */ jsx("section", { className, children: /* @__PURE__ */ jsxs("div", { className: "space-y-8", children: [
    /* @__PURE__ */ jsx("div", { className: "bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-xl p-6", children: /* @__PURE__ */ jsxs("div", { className: "flex items-start", children: [
      /* @__PURE__ */ jsx("div", { className: "p-2 bg-blue-100 rounded-lg mr-4", children: /* @__PURE__ */ jsx(Shield, { className: "h-6 w-6 text-blue-600" }) }),
      /* @__PURE__ */ jsxs("div", { children: [
        /* @__PURE__ */ jsx("h4", { className: "font-semibold text-blue-900 mb-2", children: "Conseils de sécurité" }),
        /* @__PURE__ */ jsxs("ul", { className: "text-sm text-blue-800 space-y-1", children: [
          /* @__PURE__ */ jsx("li", { children: "• Utilisez un mot de passe d'au moins 8 caractères" }),
          /* @__PURE__ */ jsx("li", { children: "• Combinez lettres majuscules, minuscules, chiffres et symboles" }),
          /* @__PURE__ */ jsx("li", { children: "• Évitez d'utiliser des informations personnelles" })
        ] })
      ] })
    ] }) }),
    /* @__PURE__ */ jsxs("form", { onSubmit: updatePassword, className: "space-y-8", children: [
      /* @__PURE__ */ jsxs("div", { className: "space-y-8", children: [
        /* @__PURE__ */ jsxs("div", { className: "space-y-3", children: [
          /* @__PURE__ */ jsxs("div", { className: "flex items-center space-x-2", children: [
            /* @__PURE__ */ jsx("div", { className: "p-1.5 bg-gray-100 rounded-lg", children: /* @__PURE__ */ jsx(Lock, { className: "w-4 h-4 text-gray-600" }) }),
            /* @__PURE__ */ jsx(
              InputLabel,
              {
                htmlFor: "current_password",
                value: "Mot de passe actuel",
                className: "text-gray-800 font-semibold"
              }
            )
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "relative", children: [
            /* @__PURE__ */ jsx(
              TextInput,
              {
                id: "current_password",
                ref: currentPasswordInput,
                value: data.current_password,
                onChange: (e2) => setData("current_password", e2.target.value),
                type: showCurrentPassword ? "text" : "password",
                className: "mt-1 block w-full border-gray-200 rounded-xl shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 transition-all duration-200 pl-12 pr-12 py-4",
                autoComplete: "current-password",
                placeholder: "Entrez votre mot de passe actuel"
              }
            ),
            /* @__PURE__ */ jsx(
              "button",
              {
                type: "button",
                className: "absolute inset-y-0 right-0 pr-4 flex items-center text-gray-400 hover:text-gray-600 transition-colors",
                onClick: () => setShowCurrentPassword(!showCurrentPassword),
                children: showCurrentPassword ? /* @__PURE__ */ jsx(EyeOff, { className: "h-5 w-5" }) : /* @__PURE__ */ jsx(Eye, { className: "h-5 w-5" })
              }
            )
          ] }),
          /* @__PURE__ */ jsx(InputError, { message: errors.current_password, className: "mt-2" })
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "space-y-3", children: [
          /* @__PURE__ */ jsxs("div", { className: "flex items-center space-x-2", children: [
            /* @__PURE__ */ jsx("div", { className: "p-1.5 bg-green-100 rounded-lg", children: /* @__PURE__ */ jsx(Lock, { className: "w-4 h-4 text-green-600" }) }),
            /* @__PURE__ */ jsx(InputLabel, { htmlFor: "password", value: "Nouveau mot de passe", className: "text-gray-800 font-semibold" })
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "relative", children: [
            /* @__PURE__ */ jsx(
              TextInput,
              {
                id: "password",
                ref: passwordInput,
                value: data.password,
                onChange: (e2) => setData("password", e2.target.value),
                type: showNewPassword ? "text" : "password",
                className: "mt-1 block w-full border-gray-200 rounded-xl shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 transition-all duration-200 pl-12 pr-12 py-4",
                autoComplete: "new-password",
                placeholder: "Entrez votre nouveau mot de passe"
              }
            ),
            /* @__PURE__ */ jsx(
              "button",
              {
                type: "button",
                className: "absolute inset-y-0 right-0 pr-4 flex items-center text-gray-400 hover:text-gray-600 transition-colors",
                onClick: () => setShowNewPassword(!showNewPassword),
                children: showNewPassword ? /* @__PURE__ */ jsx(EyeOff, { className: "h-5 w-5" }) : /* @__PURE__ */ jsx(Eye, { className: "h-5 w-5" })
              }
            )
          ] }),
          /* @__PURE__ */ jsx(InputError, { message: errors.password, className: "mt-2" })
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "space-y-3", children: [
          /* @__PURE__ */ jsxs("div", { className: "flex items-center space-x-2", children: [
            /* @__PURE__ */ jsx("div", { className: "p-1.5 bg-blue-100 rounded-lg", children: /* @__PURE__ */ jsx(Lock, { className: "w-4 h-4 text-blue-600" }) }),
            /* @__PURE__ */ jsx(
              InputLabel,
              {
                htmlFor: "password_confirmation",
                value: "Confirmer le nouveau mot de passe",
                className: "text-gray-800 font-semibold"
              }
            )
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "relative", children: [
            /* @__PURE__ */ jsx(
              TextInput,
              {
                id: "password_confirmation",
                value: data.password_confirmation,
                onChange: (e2) => setData("password_confirmation", e2.target.value),
                type: showConfirmPassword ? "text" : "password",
                className: "mt-1 block w-full border-gray-200 rounded-xl shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 transition-all duration-200 pl-12 pr-12 py-4",
                autoComplete: "new-password",
                placeholder: "Confirmez votre nouveau mot de passe"
              }
            ),
            /* @__PURE__ */ jsx(
              "button",
              {
                type: "button",
                className: "absolute inset-y-0 right-0 pr-4 flex items-center text-gray-400 hover:text-gray-600 transition-colors",
                onClick: () => setShowConfirmPassword(!showConfirmPassword),
                children: showConfirmPassword ? /* @__PURE__ */ jsx(EyeOff, { className: "h-5 w-5" }) : /* @__PURE__ */ jsx(Eye, { className: "h-5 w-5" })
              }
            )
          ] }),
          /* @__PURE__ */ jsx(InputError, { message: errors.password_confirmation, className: "mt-2" })
        ] })
      ] }),
      /* @__PURE__ */ jsx("div", { className: "flex items-center justify-between pt-6 border-t border-gray-100", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-4", children: [
        /* @__PURE__ */ jsxs(
          "button",
          {
            type: "submit",
            disabled: processing,
            className: "inline-flex items-center px-8 py-4 bg-gradient-to-r from-blue-600 to-blue-700 border border-transparent rounded-xl font-semibold text-white hover:from-blue-700 hover:to-blue-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 disabled:opacity-50 shadow-lg hover:shadow-xl",
            children: [
              /* @__PURE__ */ jsx(Lock, { className: "w-5 h-5 mr-2" }),
              processing ? "Mise à jour..." : "Mettre à jour le mot de passe"
            ]
          }
        ),
        /* @__PURE__ */ jsx(
          Transition,
          {
            show: recentlySuccessful,
            enter: "transition ease-in-out duration-300",
            enterFrom: "opacity-0 scale-95",
            enterTo: "opacity-100 scale-100",
            leave: "transition ease-in-out duration-300",
            leaveFrom: "opacity-100 scale-100",
            leaveTo: "opacity-0 scale-95",
            children: /* @__PURE__ */ jsxs("div", { className: "flex items-center text-green-600 bg-green-50 px-4 py-2 rounded-lg border border-green-200", children: [
              /* @__PURE__ */ jsx(CheckCircle2, { className: "w-5 h-5 mr-2" }),
              /* @__PURE__ */ jsx("span", { className: "font-medium", children: "Mot de passe mis à jour avec succès!" })
            ] })
          }
        )
      ] }) })
    ] })
  ] }) });
}
const __vite_glob_0_76 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: UpdatePasswordForm
}, Symbol.toStringTag, { value: "Module" }));
function UpdateProfileInformation({
  status,
  className = ""
}) {
  const user = usePage().props.auth.user;
  const { data, setData, patch, errors, processing, recentlySuccessful } = useForm({
    name: user.name,
    email: user.email,
    phone: user.phone || "",
    nom_societe: user.nom_societe || "",
    address: user.address || ""
  });
  const submit = (e2) => {
    e2.preventDefault();
    patch(route("profile.update"));
  };
  return /* @__PURE__ */ jsx("section", { className, children: /* @__PURE__ */ jsxs("form", { onSubmit: submit, className: "space-y-8", children: [
    /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-8", children: [
      /* @__PURE__ */ jsxs("div", { className: "space-y-3", children: [
        /* @__PURE__ */ jsxs("div", { className: "flex items-center space-x-2", children: [
          /* @__PURE__ */ jsx("div", { className: "p-1.5 bg-blue-100 rounded-lg", children: /* @__PURE__ */ jsx(User$1, { className: "w-4 h-4 text-blue-600" }) }),
          /* @__PURE__ */ jsx(InputLabel, { htmlFor: "name", value: "Nom complet", className: "text-gray-800 font-semibold" })
        ] }),
        /* @__PURE__ */ jsx("div", { className: "relative", children: /* @__PURE__ */ jsx(
          TextInput,
          {
            id: "name",
            className: "mt-1 block w-full border-gray-200 rounded-xl shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 transition-all duration-200 pl-12 py-4",
            value: data.name,
            onChange: (e2) => setData("name", e2.target.value),
            required: true,
            isFocused: true,
            autoComplete: "name",
            placeholder: "Votre nom complet"
          }
        ) }),
        /* @__PURE__ */ jsx(InputError, { className: "mt-2", message: errors.name })
      ] }),
      /* @__PURE__ */ jsxs("div", { className: "space-y-3", children: [
        /* @__PURE__ */ jsxs("div", { className: "flex items-center space-x-2", children: [
          /* @__PURE__ */ jsx("div", { className: "p-1.5 bg-gray-100 rounded-lg", children: /* @__PURE__ */ jsx(Mail, { className: "w-4 h-4 text-gray-500" }) }),
          /* @__PURE__ */ jsx(InputLabel, { htmlFor: "email", value: "Adresse email", className: "text-gray-800 font-semibold" }),
          /* @__PURE__ */ jsx("span", { className: "text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded-full", children: "Non modifiable" })
        ] }),
        /* @__PURE__ */ jsx("div", { className: "relative", children: /* @__PURE__ */ jsx(
          TextInput,
          {
            id: "email",
            type: "email",
            className: "mt-1 block w-full border-gray-300 rounded-xl bg-gray-200 cursor-not-allowed text-gray-600 pl-12 py-4 shadow-inner",
            value: data.email,
            disabled: true,
            readOnly: true,
            required: true,
            autoComplete: "username"
          }
        ) }),
        /* @__PURE__ */ jsx(InputError, { className: "mt-2", message: errors.email })
      ] }),
      /* @__PURE__ */ jsxs("div", { className: "space-y-3", children: [
        /* @__PURE__ */ jsxs("div", { className: "flex items-center space-x-2", children: [
          /* @__PURE__ */ jsx("div", { className: "p-1.5 bg-green-100 rounded-lg", children: /* @__PURE__ */ jsx(Phone, { className: "w-4 h-4 text-green-600" }) }),
          /* @__PURE__ */ jsx(InputLabel, { htmlFor: "phone", value: "Numéro de téléphone", className: "text-gray-800 font-semibold" })
        ] }),
        /* @__PURE__ */ jsx("div", { className: "relative", children: /* @__PURE__ */ jsx(
          TextInput,
          {
            id: "phone",
            type: "tel",
            className: "mt-1 block w-full border-gray-200 rounded-xl shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 transition-all duration-200 pl-12 py-4",
            value: data.phone,
            onChange: (e2) => setData("phone", e2.target.value),
            required: true,
            autoComplete: "tel",
            placeholder: "+212 6 XX XX XX XX"
          }
        ) }),
        /* @__PURE__ */ jsx(InputError, { className: "mt-2", message: errors.phone })
      ] }),
      /* @__PURE__ */ jsxs("div", { className: "space-y-3", children: [
        /* @__PURE__ */ jsxs("div", { className: "flex items-center space-x-2", children: [
          /* @__PURE__ */ jsx("div", { className: "p-1.5 bg-purple-100 rounded-lg", children: /* @__PURE__ */ jsx(Building, { className: "w-4 h-4 text-purple-600" }) }),
          /* @__PURE__ */ jsx(InputLabel, { htmlFor: "nom_societe", value: "Nom de la société", className: "text-gray-800 font-semibold" }),
          /* @__PURE__ */ jsx("span", { className: "text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded-full", children: "Optionnel" })
        ] }),
        /* @__PURE__ */ jsx("div", { className: "relative", children: /* @__PURE__ */ jsx(
          TextInput,
          {
            id: "nom_societe",
            type: "text",
            className: "mt-1 block w-full border-gray-200 rounded-xl shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 transition-all duration-200 pl-12 py-4",
            value: data.nom_societe,
            onChange: (e2) => setData("nom_societe", e2.target.value),
            autoComplete: "organization",
            placeholder: "Nom de votre entreprise"
          }
        ) }),
        /* @__PURE__ */ jsx(InputError, { className: "mt-2", message: errors.nom_societe })
      ] })
    ] }),
    /* @__PURE__ */ jsxs("div", { className: "space-y-3", children: [
      /* @__PURE__ */ jsxs("div", { className: "flex items-center space-x-2", children: [
        /* @__PURE__ */ jsx("div", { className: "p-1.5 bg-orange-100 rounded-lg", children: /* @__PURE__ */ jsx(MapPin, { className: "w-4 h-4 text-orange-600" }) }),
        /* @__PURE__ */ jsx(InputLabel, { htmlFor: "address", value: "Adresse de lxivraison", className: "text-gray-800 font-semibold" })
      ] }),
      /* @__PURE__ */ jsx("div", { className: "relative", children: /* @__PURE__ */ jsx(
        TextInput,
        {
          id: "address",
          type: "text",
          className: "mt-1 block w-full border-gray-200 rounded-xl shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 transition-all duration-200 pl-12 py-4",
          value: data.address || "",
          onChange: (e2) => setData("address", e2.target.value),
          autoComplete: "address",
          placeholder: "Votre adresse complète"
        }
      ) }),
      /* @__PURE__ */ jsx(InputError, { className: "mt-2", message: errors.address })
    ] }),
    user.email_verified_at === null && /* @__PURE__ */ jsx("div", { className: "bg-gradient-to-r from-amber-50 to-orange-50 border border-amber-200 rounded-xl p-6 mt-6", children: /* @__PURE__ */ jsxs("div", { className: "flex items-start", children: [
      /* @__PURE__ */ jsx("div", { className: "p-2 bg-amber-100 rounded-lg mr-4", children: /* @__PURE__ */ jsx(Mail, { className: "h-5 w-5 text-amber-600" }) }),
      /* @__PURE__ */ jsxs("div", { children: [
        /* @__PURE__ */ jsx("h4", { className: "font-semibold text-amber-800 mb-2", children: "Email non vérifié" }),
        /* @__PURE__ */ jsx("p", { className: "text-sm text-amber-700 mb-3", children: "Votre adresse e-mail n'est pas vérifiée. Cliquez sur le bouton ci-dessous pour recevoir un nouveau lien de vérification." }),
        /* @__PURE__ */ jsx(
          "button",
          {
            type: "button",
            className: "inline-flex items-center px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:ring-offset-2 transition-all text-sm font-medium",
            onClick: () => router.get(route("verification.send")),
            children: "Renvoyer l'email de vérification"
          }
        ),
        status === "verification-link-sent" && /* @__PURE__ */ jsx("div", { className: "mt-3 text-sm font-medium text-green-600", children: "Un nouveau lien de vérification a été envoyé à votre adresse e-mail." })
      ] })
    ] }) }),
    /* @__PURE__ */ jsx("div", { className: "flex items-center justify-between pt-6 border-t border-gray-100", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-4", children: [
      /* @__PURE__ */ jsxs(
        "button",
        {
          type: "submit",
          disabled: processing,
          className: "inline-flex items-center px-8 py-4 bg-gradient-to-r from-blue-600 to-blue-700 border border-transparent rounded-xl font-semibold text-white hover:from-blue-700 hover:to-blue-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 disabled:opacity-50 shadow-lg hover:shadow-xl",
          children: [
            /* @__PURE__ */ jsx(CheckCircle, { className: "w-5 h-5 mr-2" }),
            processing ? "Sauvegarde..." : "Sauvegarder les modifications"
          ]
        }
      ),
      /* @__PURE__ */ jsx(
        Transition,
        {
          show: recentlySuccessful,
          enter: "transition ease-in-out duration-300",
          enterFrom: "opacity-0 scale-95",
          enterTo: "opacity-100 scale-100",
          leave: "transition ease-in-out duration-300",
          leaveFrom: "opacity-100 scale-100",
          leaveTo: "opacity-0 scale-95",
          children: /* @__PURE__ */ jsxs("div", { className: "flex items-center text-green-600 bg-green-50 px-4 py-2 rounded-lg border border-green-200", children: [
            /* @__PURE__ */ jsx(CheckCircle, { className: "w-5 h-5 mr-2" }),
            /* @__PURE__ */ jsx("span", { className: "font-medium", children: "Modifications sauvegardées avec succès!" })
          ] })
        }
      )
    ] }) })
  ] }) });
}
const __vite_glob_0_77 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: UpdateProfileInformation
}, Symbol.toStringTag, { value: "Module" }));
function Edit({
  status,
  auth
}) {
  const [activeTab, setActiveTab] = useState("profile");
  return /* @__PURE__ */ jsxs(Fragment, { children: [
    /* @__PURE__ */ jsx(Header, { auth: { user: auth.user } }),
    /* @__PURE__ */ jsxs("div", { className: "bg-[#0a192f] relative overflow-hidden pt-28", children: [
      /* @__PURE__ */ jsx("div", { className: "absolute inset-0  opacity-20" }),
      /* @__PURE__ */ jsx("div", { className: "relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16", children: /* @__PURE__ */ jsxs("div", { className: "text-center", children: [
        /* @__PURE__ */ jsx("div", { className: "inline-flex items-center justify-center w-16 h-16 bg-white/10 rounded-full mb-6", children: /* @__PURE__ */ jsx(Settings, { className: "w-8 h-8 text-white" }) }),
        /* @__PURE__ */ jsx("h1", { className: "text-4xl font-bold text-white mb-4", children: "Mon Profil" }),
        /* @__PURE__ */ jsx("p", { className: "text-xl text-blue-100 max-w-2xl mx-auto", children: "Gérez vos informations personnelles et paramètres de sécurité" })
      ] }) })
    ] }),
    /* @__PURE__ */ jsx("div", { className: "min-h-screen bg-gray-50 -mt-8 relative z-10", children: /* @__PURE__ */ jsx("div", { className: "max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12", children: /* @__PURE__ */ jsxs("div", { className: "flex flex-col lg:flex-row gap-8", children: [
      /* @__PURE__ */ jsx("div", { className: "w-full lg:w-80 shrink-0", children: /* @__PURE__ */ jsxs("div", { className: "bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden sticky top-8", children: [
        /* @__PURE__ */ jsxs("div", { className: "p-8 bg-[#0a192f] text-white relative overflow-hidden", children: [
          /* @__PURE__ */ jsx("div", { className: "absolute top-0 right-0 w-32 h-32 bg-white/5 rounded-full -mr-16 -mt-16" }),
          /* @__PURE__ */ jsx("div", { className: "absolute bottom-0 left-0 w-24 h-24 bg-white/5 rounded-full -ml-12 -mb-12" }),
          /* @__PURE__ */ jsxs("div", { className: "relative", children: [
            /* @__PURE__ */ jsx("div", { className: "w-20 h-20 rounded-full bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center mb-4 shadow-lg", children: /* @__PURE__ */ jsx(User$1, { className: "h-10 w-10 text-white" }) }),
            /* @__PURE__ */ jsxs("div", { children: [
              /* @__PURE__ */ jsx("h2", { className: "text-xl font-bold mb-1", children: auth.user.name }),
              /* @__PURE__ */ jsx("p", { className: "text-blue-100 text-sm opacity-90 break-all", children: auth.user.email }),
              /* @__PURE__ */ jsxs("div", { className: "mt-3 inline-flex items-center px-3 py-1 rounded-full bg-green-500/20 text-green-300 text-xs font-medium", children: [
                /* @__PURE__ */ jsx("div", { className: "w-2 h-2 bg-green-400 rounded-full mr-2" }),
                "Compte actif"
              ] })
            ] })
          ] })
        ] }),
        /* @__PURE__ */ jsx("div", { className: "p-6", children: /* @__PURE__ */ jsxs("nav", { className: "space-y-2", children: [
          /* @__PURE__ */ jsxs(
            "button",
            {
              onClick: () => setActiveTab("profile"),
              className: `w-full flex items-center space-x-4 px-4 py-4 rounded-xl text-left transition-all duration-200 group ${activeTab === "profile" ? "bg-gradient-to-r from-blue-50 to-indigo-50 text-blue-700 shadow-sm border border-blue-100" : "hover:bg-gray-50 text-gray-700 hover:text-gray-900"}`,
              children: [
                /* @__PURE__ */ jsx("div", { className: `p-2 rounded-lg transition-colors ${activeTab === "profile" ? "bg-blue-100 text-blue-600" : "bg-gray-100 text-gray-500 group-hover:bg-gray-200"}`, children: /* @__PURE__ */ jsx(User$1, { className: "h-5 w-5" }) }),
                /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsx("span", { className: "font-semibold", children: "Informations personnelles" }),
                  /* @__PURE__ */ jsx("p", { className: "text-xs opacity-70 mt-0.5", children: "Nom, email, téléphone" })
                ] })
              ]
            }
          ),
          /* @__PURE__ */ jsxs(
            "button",
            {
              onClick: () => setActiveTab("security"),
              className: `w-full flex items-center space-x-4 px-4 py-4 rounded-xl text-left transition-all duration-200 group ${activeTab === "security" ? "bg-gradient-to-r from-blue-50 to-indigo-50 text-blue-700 shadow-sm border border-blue-100" : "hover:bg-gray-50 text-gray-700 hover:text-gray-900"}`,
              children: [
                /* @__PURE__ */ jsx("div", { className: `p-2 rounded-lg transition-colors ${activeTab === "security" ? "bg-blue-100 text-blue-600" : "bg-gray-100 text-gray-500 group-hover:bg-gray-200"}`, children: /* @__PURE__ */ jsx(Lock, { className: "h-5 w-5" }) }),
                /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsx("span", { className: "font-semibold", children: "Sécurité" }),
                  /* @__PURE__ */ jsx("p", { className: "text-xs opacity-70 mt-0.5", children: "Mot de passe" })
                ] })
              ]
            }
          ),
          /* @__PURE__ */ jsxs(
            "button",
            {
              onClick: () => setActiveTab("delete"),
              className: `w-full flex items-center space-x-4 px-4 py-4 rounded-xl text-left transition-all duration-200 group ${activeTab === "delete" ? "bg-gradient-to-r from-red-50 to-pink-50 text-red-700 shadow-sm border border-red-100" : "hover:bg-gray-50 text-gray-700 hover:text-gray-900"}`,
              children: [
                /* @__PURE__ */ jsx("div", { className: `p-2 rounded-lg transition-colors ${activeTab === "delete" ? "bg-red-100 text-red-600" : "bg-gray-100 text-gray-500 group-hover:bg-gray-200"}`, children: /* @__PURE__ */ jsx(AlertTriangle, { className: "h-5 w-5" }) }),
                /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsx("span", { className: "font-semibold", children: "Supression de compte" }),
                  /* @__PURE__ */ jsx("p", { className: "text-xs opacity-70 mt-0.5", children: "Supprimer le compte" })
                ] })
              ]
            }
          )
        ] }) }),
        /* @__PURE__ */ jsx("div", { className: "p-6 bg-gradient-to-r from-green-50 to-emerald-50 border-t border-gray-100", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center", children: [
          /* @__PURE__ */ jsx("div", { className: "p-2 bg-green-100 rounded-lg mr-3", children: /* @__PURE__ */ jsx(Shield, { className: "h-5 w-5 text-green-600" }) }),
          /* @__PURE__ */ jsxs("div", { children: [
            /* @__PURE__ */ jsx("p", { className: "text-sm font-semibold text-green-800", children: "Compte sécurisé" }),
            /* @__PURE__ */ jsx("p", { className: "text-xs text-green-600", children: "Dernière connexion: Aujourd'hui" })
          ] })
        ] }) })
      ] }) }),
      /* @__PURE__ */ jsxs("div", { className: "flex-1", children: [
        activeTab === "profile" && /* @__PURE__ */ jsxs("div", { className: "bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden", children: [
          /* @__PURE__ */ jsx("div", { className: "p-8 border-b border-gray-100 bg-gradient-to-r from-gray-50 to-white", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center", children: [
            /* @__PURE__ */ jsx("div", { className: "p-4 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl mr-6 shadow-lg", children: /* @__PURE__ */ jsx(User$1, { className: "h-8 w-8 text-white" }) }),
            /* @__PURE__ */ jsxs("div", { children: [
              /* @__PURE__ */ jsx("h1", { className: "text-2xl font-bold text-gray-900 mb-2", children: "Informations personnelles" }),
              /* @__PURE__ */ jsx("p", { className: "text-gray-600", children: "Modifier votre nom, adresse email et informations de contact" })
            ] })
          ] }) }),
          /* @__PURE__ */ jsx("div", { className: "p-8", children: /* @__PURE__ */ jsx(UpdateProfileInformation, { status, className: "max-w-2xl" }) })
        ] }),
        activeTab === "security" && /* @__PURE__ */ jsxs("div", { className: "bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden", children: [
          /* @__PURE__ */ jsx("div", { className: "p-8 border-b border-gray-100 bg-gradient-to-r from-gray-50 to-white", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center", children: [
            /* @__PURE__ */ jsx("div", { className: "p-4 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl mr-6 shadow-lg", children: /* @__PURE__ */ jsx(Lock, { className: "h-8 w-8 text-white" }) }),
            /* @__PURE__ */ jsxs("div", { children: [
              /* @__PURE__ */ jsx("h1", { className: "text-2xl font-bold text-gray-900 mb-2", children: "Paramètres de sécurité" }),
              /* @__PURE__ */ jsx("p", { className: "text-gray-600", children: "Mettez à jour votre mot de passe pour sécuriser votre compte" })
            ] })
          ] }) }),
          /* @__PURE__ */ jsx("div", { className: "p-8", children: /* @__PURE__ */ jsx(UpdatePasswordForm, { className: "max-w-2xl" }) })
        ] }),
        activeTab === "delete" && /* @__PURE__ */ jsxs("div", { className: "bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden", children: [
          /* @__PURE__ */ jsx("div", { className: "p-8 border-b border-gray-100 bg-gradient-to-r from-red-50 to-pink-50", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center", children: [
            /* @__PURE__ */ jsx("div", { className: "p-4 bg-gradient-to-br from-red-500 to-red-600 rounded-2xl mr-6 shadow-lg", children: /* @__PURE__ */ jsx(AlertTriangle, { className: "h-8 w-8 text-white" }) }),
            /* @__PURE__ */ jsxs("div", { children: [
              /* @__PURE__ */ jsx("h1", { className: "text-2xl font-bold text-gray-900 mb-2", children: "Suppression du compte" }),
              /* @__PURE__ */ jsx("p", { className: "text-gray-600", children: "Supprimer définitivement votre compte et toutes vos données" })
            ] })
          ] }) }),
          /* @__PURE__ */ jsx("div", { className: "p-8", children: /* @__PURE__ */ jsx(DeleteUserForm, { className: "max-w-2xl" }) })
        ] })
      ] })
    ] }) }) }),
    /* @__PURE__ */ jsx(Footer$1, {})
  ] });
}
const __vite_glob_0_74 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: Edit
}, Symbol.toStringTag, { value: "Module" }));
function SitemapPage({ auth }) {
  const [dynamicRoutes, setDynamicRoutes] = useState([]);
  const [annonces, setAnnonces] = useState([]);
  const [appelsOffres, setAppelsOffres] = useState([]);
  const [isLoading, setIsLoading] = useState(true);
  const [loadError, setLoadError] = useState(null);
  const [showBackToTop, setShowBackToTop] = useState(false);
  const [searchQuery, setSearchQuery] = useState("");
  const [activeCategory, setActiveCategory] = useState(null);
  const [isFilterOpen, setIsFilterOpen] = useState(false);
  const [viewMode, setViewMode] = useState("grid");
  const [activeTab, setActiveTab] = useState("all");
  const [annoncesPagination, setAnnoncesPagination] = useState({
    currentPage: 1,
    itemsPerPage: 10,
    totalPages: 1
  });
  const [appelsPagination, setAppelsPagination] = useState({
    currentPage: 1,
    itemsPerPage: 10,
    totalPages: 1
  });
  useEffect(() => {
    setIsLoading(true);
    setLoadError(null);
    fetch("/api/sitemap-routes").then((res) => {
      if (!res.ok) {
        throw new Error("Failed to fetch sitemap routes");
      }
      return res.json();
    }).then((data) => {
      const annonceItems = data.annonces.map((item) => ({
        title: item.title,
        slug: item.slug,
        description: item.description || `Annonce légale: ${item.title}`,
        category: item.category || "OTHER",
        date: item.date || "Non spécifiée",
        nameSociete: item.nameSociete || "Non spécifiée",
        ville: item.ville || "Non spécifiée"
      }));
      const appelItems = data.appels.map((item) => ({
        titre: item.titre || item.title,
        title: item.titre || item.title,
        slug: item.slug,
        description: item.description || `Appel d'offre: ${item.titre || item.title}`,
        type: item.type || "Non spécifié",
        date: item.date || "Non spécifiée",
        secteur: item.secteur || "Non spécifié",
        ville: item.ville || "Non spécifiée"
      }));
      setAnnonces(annonceItems);
      setAppelsOffres(appelItems);
      setAnnoncesPagination((prev) => ({
        ...prev,
        totalPages: Math.ceil(annonceItems.length / prev.itemsPerPage) || 1
      }));
      setAppelsPagination((prev) => ({
        ...prev,
        totalPages: Math.ceil(appelItems.length / prev.itemsPerPage) || 1
      }));
      const annonceRoutes = annonceItems.map((item) => ({
        title: item.title,
        href: `/annonces-legales/${item.slug}`,
        icon: /* @__PURE__ */ jsx(FileText, { className: "w-4 h-4 text-red-500" }),
        description: item.description,
        category: "Annonces légales"
      }));
      const appelRoutes = appelItems.map((item) => ({
        title: item.titre,
        href: `/appels-offres/${item.slug}`,
        icon: /* @__PURE__ */ jsx(Briefcase, { className: "w-4 h-4 text-red-500" }),
        description: item.description,
        category: "Appels d'offres"
      }));
      setDynamicRoutes([...annonceRoutes, ...appelRoutes]);
      setIsLoading(false);
    }).catch((error) => {
      console.error("Error fetching sitemap routes:", error);
      setLoadError(error.message);
      setDynamicRoutes([]);
      setIsLoading(false);
    });
  }, []);
  useEffect(() => {
    const handleScroll = () => {
      setShowBackToTop(window.scrollY > 300);
    };
    window.addEventListener("scroll", handleScroll);
    return () => window.removeEventListener("scroll", handleScroll);
  }, []);
  const scrollToTop = () => {
    window.scrollTo({ top: 0, behavior: "smooth" });
  };
  const getPaginatedAnnonces = () => {
    const startIndex = (annoncesPagination.currentPage - 1) * annoncesPagination.itemsPerPage;
    const endIndex = startIndex + annoncesPagination.itemsPerPage;
    const filtered = searchQuery ? annonces.filter(
      (item) => {
        var _a2, _b, _c;
        return item.title.toLowerCase().includes(searchQuery.toLowerCase()) || ((_a2 = item.nameSociete) == null ? void 0 : _a2.toLowerCase().includes(searchQuery.toLowerCase())) || ((_b = item.ville) == null ? void 0 : _b.toLowerCase().includes(searchQuery.toLowerCase())) || ((_c = item.category) == null ? void 0 : _c.toLowerCase().includes(searchQuery.toLowerCase()));
      }
    ) : annonces;
    return filtered.slice(startIndex, endIndex);
  };
  const getPaginatedAppelsOffres = () => {
    const startIndex = (appelsPagination.currentPage - 1) * appelsPagination.itemsPerPage;
    const endIndex = startIndex + appelsPagination.itemsPerPage;
    const filtered = searchQuery ? appelsOffres.filter(
      (item) => (item.titre || "").toLowerCase().includes(searchQuery.toLowerCase()) || (item.secteur || "").toLowerCase().includes(searchQuery.toLowerCase()) || (item.ville || "").toLowerCase().includes(searchQuery.toLowerCase()) || (item.type || "").toLowerCase().includes(searchQuery.toLowerCase())
    ) : appelsOffres;
    return filtered.slice(startIndex, endIndex);
  };
  const handleAnnoncePageChange = (page) => {
    setAnnoncesPagination((prev) => ({
      ...prev,
      currentPage: page
    }));
  };
  const handleAppelsPageChange = (page) => {
    setAppelsPagination((prev) => ({
      ...prev,
      currentPage: page
    }));
  };
  const routes = [
    {
      title: "Accueil",
      href: "/",
      icon: /* @__PURE__ */ jsx(Home$1, { className: "w-4 h-4 text-red-500" }),
      description: "Page d'accueil principale du site",
      category: "Navigation principale"
    },
    {
      title: "Connexion",
      href: "/connexion",
      icon: /* @__PURE__ */ jsx(User$1, { className: "w-4 h-4 text-red-500" }),
      description: "Connectez-vous à votre compte",
      category: "Authentification"
    },
    {
      title: "Inscription",
      href: "/inscription",
      icon: /* @__PURE__ */ jsx(User$1, { className: "w-4 h-4 text-red-500" }),
      description: "Créez un nouveau compte utilisateur",
      category: "Authentification"
    },
    {
      title: "Consulter les annonces légales",
      href: "/annonces-legales",
      icon: /* @__PURE__ */ jsx(Briefcase, { className: "w-4 h-4 text-red-500" }),
      description: "Créez et publiez un nouvel appel d'offre",
      category: "Appels d'offres"
    },
    {
      title: "Consulter les appels d'offres",
      href: "/appels-offres",
      icon: /* @__PURE__ */ jsx(Briefcase, { className: "w-4 h-4 text-red-500" }),
      description: "Parcourez les appels d'offres disponibles",
      category: "Appels d'offres"
    },
    {
      title: "Consulter le journal",
      href: "/consulter-le-journal",
      icon: /* @__PURE__ */ jsx(Newspaper, { className: "w-4 h-4 text-red-500" }),
      description: "Accédez aux dernières éditions du journal",
      category: "Journal"
    },
    {
      title: "Informations bancaires",
      href: "/info",
      icon: /* @__PURE__ */ jsx(Building, { className: "w-4 h-4 text-red-500" }),
      description: "Informations bancaires et coordonnées",
      category: "Informations légales"
    },
    {
      title: "À propos",
      href: "/a-propos",
      icon: /* @__PURE__ */ jsx(User$1, { className: "w-4 h-4 text-red-500" }),
      description: "Découvrez notre entreprise et notre mission",
      category: "À propos"
    },
    {
      title: "Conditions de vente",
      href: "/condition-de-vente",
      icon: /* @__PURE__ */ jsx(FileText, { className: "w-4 h-4 text-red-500" }),
      description: "Consultez nos conditions générales de vente",
      category: "Informations légales"
    },
    {
      title: "Contact",
      href: "/contact",
      icon: /* @__PURE__ */ jsx(MessageCircle, { className: "w-4 h-4 text-red-500" }),
      description: "Contactez-nous pour toute question ou demande",
      category: "Contact"
    },
    {
      title: "Politique de confidentialité",
      href: "/politique-confidentialite",
      icon: /* @__PURE__ */ jsx(FileText, { className: "w-4 h-4 text-red-500" }),
      description: "Notre politique de protection des données personnelles",
      category: "Informations légales"
    },
    {
      title: "Mentions légales",
      href: "/mentions-legales",
      icon: /* @__PURE__ */ jsx(FileText, { className: "w-4 h-4 text-red-500" }),
      description: "Mentions légales et informations sur l'éditeur du site",
      category: "Informations légales"
    },
    {
      title: "Conditions d'utilisation",
      href: "/conditions-utilisation",
      icon: /* @__PURE__ */ jsx(Globe, { className: "w-4 h-4 text-red-500" }),
      description: "Conditions générales d'utilisation du site",
      category: "Informations légales"
    }
  ];
  const routeCategories = {
    "Navigation principale": [routes[0]],
    Authentification: [routes[1], routes[2]],
    "Annonces légales": [routes[3]],
    "Appels d'offres": [routes[4], routes[5]],
    Journal: [routes[6]],
    "À propos": [routes[7]],
    // A-propos route
    "Contact": [routes[10]],
    // Contact route
    "Informations légales": [routes[8], routes[9], routes[11], routes[12], routes[13]]
    // Legal pages
  };
  const allRoutes = [...routes, ...dynamicRoutes];
  const dynamicRouteCategories = { ...routeCategories };
  dynamicRoutes.forEach((route2) => {
    if (route2.category) {
      if (!dynamicRouteCategories[route2.category]) {
        dynamicRouteCategories[route2.category] = [];
      }
      dynamicRouteCategories[route2.category].push(route2);
    }
  });
  searchQuery ? allRoutes.filter(
    (route2) => route2.title.toLowerCase().includes(searchQuery.toLowerCase()) || route2.description && route2.description.toLowerCase().includes(searchQuery.toLowerCase())
  ) : allRoutes;
  const containerVariants = {
    hidden: { opacity: 0 },
    visible: {
      opacity: 1,
      transition: {
        staggerChildren: 0.05
      }
    }
  };
  const itemVariants = {
    hidden: { y: 20, opacity: 0 },
    visible: {
      y: 0,
      opacity: 1,
      transition: {
        type: "spring",
        stiffness: 100,
        damping: 12
      }
    }
  };
  const PaginationControls = ({
    currentPage,
    totalPages,
    onPageChange
  }) => {
    return /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between mt-4 px-2", children: [
      /* @__PURE__ */ jsxs("div", { className: "flex items-center text-sm text-gray-500", children: [
        "Page ",
        currentPage,
        " sur ",
        totalPages
      ] }),
      /* @__PURE__ */ jsxs("div", { className: "flex items-center space-x-2", children: [
        /* @__PURE__ */ jsx(
          "button",
          {
            onClick: () => onPageChange(Math.max(1, currentPage - 1)),
            disabled: currentPage === 1,
            className: `p-2 rounded-md ${currentPage === 1 ? "text-gray-300 cursor-not-allowed" : "text-gray-600 hover:bg-red-50 hover:text-red-500"}`,
            "aria-label": "Page précédente",
            children: /* @__PURE__ */ jsx(ChevronLeft, { className: "w-5 h-5" })
          }
        ),
        /* @__PURE__ */ jsx("div", { className: "hidden sm:flex space-x-1", children: Array.from({ length: Math.min(5, totalPages) }, (_, i2) => {
          let pageNum = currentPage;
          if (currentPage <= 3) {
            pageNum = i2 + 1;
          } else if (currentPage >= totalPages - 2) {
            pageNum = totalPages - 4 + i2;
          } else {
            pageNum = currentPage - 2 + i2;
          }
          if (pageNum > 0 && pageNum <= totalPages) {
            return /* @__PURE__ */ jsx(
              "button",
              {
                onClick: () => onPageChange(pageNum),
                className: `w-8 h-8 flex items-center justify-center rounded-md ${currentPage === pageNum ? "bg-red-500 text-white" : "text-gray-600 hover:bg-red-50 hover:text-red-500"}`,
                children: pageNum
              },
              i2
            );
          }
          return null;
        }) }),
        /* @__PURE__ */ jsx(
          "button",
          {
            onClick: () => onPageChange(Math.min(totalPages, currentPage + 1)),
            disabled: currentPage === totalPages,
            className: `p-2 rounded-md ${currentPage === totalPages ? "text-gray-300 cursor-not-allowed" : "text-gray-600 hover:bg-red-50 hover:text-red-500"}`,
            "aria-label": "Page suivante",
            children: /* @__PURE__ */ jsx(ChevronRight, { className: "w-5 h-5" })
          }
        )
      ] })
    ] });
  };
  return /* @__PURE__ */ jsxs(Fragment, { children: [
    /* @__PURE__ */ jsxs(Head, { children: [
      /* @__PURE__ */ jsx("title", { children: "Plan du site – Explorez toutes les pages | WePress" }),
      /* @__PURE__ */ jsx(
        "meta",
        {
          name: "description",
          content: "Consultez le plan du site de WePress pour accéder rapidement à toutes les pages importantes : espace client, annonces légales, appels d'offres, support, et plus encore."
        }
      )
    ] }),
    /* @__PURE__ */ jsx(Header, { auth }),
    /* @__PURE__ */ jsx("div", { className: "bg-gradient-to-b from-gray-50 via-white to-gray-50 min-h-screen pt-16", children: /* @__PURE__ */ jsxs("main", { className: "max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8 relative z-10", children: [
      /* @__PURE__ */ jsxs(
        motion.div,
        {
          initial: { opacity: 0, y: -20 },
          animate: { opacity: 1, y: 0 },
          transition: { duration: 0.6 },
          className: "relative mb-16",
          children: [
            /* @__PURE__ */ jsx("div", { className: "absolute inset-0 bg-red-500 rounded-3xl opacity-5 blur-3xl transform -rotate-3" }),
            /* @__PURE__ */ jsx("div", { className: "absolute inset-0 bg-blue-500 rounded-3xl opacity-5 blur-3xl transform rotate-3" }),
            /* @__PURE__ */ jsx("div", { className: "absolute inset-0 bg-gradient-to-br from-red-500/10 to-red-400/5 rounded-3xl" }),
            /* @__PURE__ */ jsxs("div", { className: "relative backdrop-blur-sm bg-white/80 rounded-3xl shadow-xl border border-gray-100 p-8 sm:p-12 overflow-hidden", children: [
              /* @__PURE__ */ jsx("div", { className: "absolute top-0 right-0 w-96 h-96 bg-gradient-to-br from-red-100 to-red-50 rounded-full opacity-20 blur-3xl -translate-y-1/2 translate-x-1/2" }),
              /* @__PURE__ */ jsx("div", { className: "absolute bottom-0 left-0 w-64 h-64 bg-gradient-to-tr from-blue-100 to-blue-50 rounded-full opacity-20 blur-3xl translate-y-1/2 -translate-x-1/2" }),
              /* @__PURE__ */ jsxs("div", { className: "relative z-10 text-center max-w-3xl mx-auto", children: [
                /* @__PURE__ */ jsx(
                  motion.div,
                  {
                    initial: { scale: 0.9, opacity: 0 },
                    animate: { scale: 1, opacity: 1 },
                    transition: { duration: 0.5, delay: 0.2 },
                    children: /* @__PURE__ */ jsx("h1", { className: "text-4xl sm:text-5xl md:text-6xl font-extrabold tracking-tight mb-6", children: /* @__PURE__ */ jsx("span", { className: "bg-clip-text text-transparent bg-gradient-to-r from-red-600 via-red-500 to-red-400", children: "Plan du site" }) })
                  }
                ),
                /* @__PURE__ */ jsx(
                  motion.p,
                  {
                    initial: { opacity: 0, y: 10 },
                    animate: { opacity: 1, y: 0 },
                    transition: { duration: 0.5, delay: 0.4 },
                    className: "text-lg md:text-xl text-gray-600 leading-relaxed max-w-2xl mx-auto font-light",
                    children: "Explorez notre site et trouvez facilement les pages qui vous intéressent"
                  }
                ),
                /* @__PURE__ */ jsxs(
                  motion.div,
                  {
                    initial: { opacity: 0, y: 10 },
                    animate: { opacity: 1, y: 0 },
                    transition: { duration: 0.5, delay: 0.6 },
                    className: "mt-8 relative max-w-md mx-auto",
                    children: [
                      /* @__PURE__ */ jsx("div", { className: "absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none", children: /* @__PURE__ */ jsx(Search, { className: "h-5 w-5 text-gray-400" }) }),
                      /* @__PURE__ */ jsx(
                        "input",
                        {
                          type: "text",
                          className: "block w-full pl-11 pr-10 py-4 border-0 bg-white/90 backdrop-blur-sm rounded-full shadow-md ring-1 ring-gray-200 focus:ring-2 focus:ring-red-500 focus:outline-none text-gray-900 transition-all duration-300",
                          placeholder: "Rechercher une page...",
                          value: searchQuery,
                          onChange: (e2) => {
                            setSearchQuery(e2.target.value);
                            setAnnoncesPagination((prev) => ({ ...prev, currentPage: 1 }));
                            setAppelsPagination((prev) => ({ ...prev, currentPage: 1 }));
                          },
                          "aria-label": "Rechercher une page"
                        }
                      ),
                      searchQuery && /* @__PURE__ */ jsx(
                        "button",
                        {
                          className: "absolute inset-y-0 right-0 pr-4 flex items-center",
                          onClick: () => setSearchQuery(""),
                          "aria-label": "Effacer la recherche",
                          children: /* @__PURE__ */ jsx(X, { className: "h-5 w-5 text-gray-400 hover:text-gray-600" })
                        }
                      )
                    ]
                  }
                )
              ] })
            ] })
          ]
        }
      ),
      isLoading && /* @__PURE__ */ jsx("div", { className: "flex justify-center items-center py-12", children: /* @__PURE__ */ jsxs("div", { className: "flex flex-col items-center", children: [
        /* @__PURE__ */ jsx(Loader, { className: "w-10 h-10 text-red-500 animate-spin mb-4" }),
        /* @__PURE__ */ jsx("p", { className: "text-gray-600", children: "Chargement des pages..." })
      ] }) }),
      loadError && /* @__PURE__ */ jsxs("div", { className: "bg-red-50 border border-red-200 rounded-xl p-6 mb-8 text-center", children: [
        /* @__PURE__ */ jsx("div", { className: "mx-auto w-12 h-12 rounded-full bg-red-100 flex items-center justify-center mb-4", children: /* @__PURE__ */ jsx(X, { className: "w-6 h-6 text-red-500" }) }),
        /* @__PURE__ */ jsx("h3", { className: "text-lg font-medium text-red-800 mb-2", children: "Erreur de chargement" }),
        /* @__PURE__ */ jsx("p", { className: "text-red-600 mb-4", children: loadError }),
        /* @__PURE__ */ jsx(
          "button",
          {
            onClick: () => window.location.reload(),
            className: "inline-flex items-center px-4 py-2 rounded-lg bg-red-100 text-red-700 hover:bg-red-200 transition-colors",
            children: "Réessayer"
          }
        )
      ] }),
      !isLoading && !loadError && /* @__PURE__ */ jsxs(Fragment, { children: [
        /* @__PURE__ */ jsxs("div", { className: "flex border-b border-gray-200 mb-8", children: [
          /* @__PURE__ */ jsx(
            "button",
            {
              onClick: () => setActiveTab("all"),
              className: `py-3 px-4 font-medium text-sm sm:text-base border-b-2 ${activeTab === "all" ? "border-red-500 text-red-600" : "border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,
              children: "Toutes les pages"
            }
          ),
          /* @__PURE__ */ jsx(
            "button",
            {
              onClick: () => setActiveTab("annonces"),
              className: `py-3 px-4 font-medium text-sm sm:text-base border-b-2 ${activeTab === "annonces" ? "border-red-500 text-red-600" : "border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,
              children: "Annonces Légales"
            }
          ),
          /* @__PURE__ */ jsx(
            "button",
            {
              onClick: () => setActiveTab("appels"),
              className: `py-3 px-4 font-medium text-sm sm:text-base border-b-2 ${activeTab === "appels" ? "border-red-500 text-red-600" : "border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,
              children: "Appels d'Offres"
            }
          )
        ] }),
        activeTab === "annonces" && /* @__PURE__ */ jsxs(
          motion.div,
          {
            initial: { opacity: 0, y: 20 },
            animate: { opacity: 1, y: 0 },
            exit: { opacity: 0, y: -20 },
            transition: { duration: 0.5 },
            className: "bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl border border-gray-100 overflow-hidden mb-8",
            children: [
              /* @__PURE__ */ jsx("div", { className: "p-6 border-b border-gray-100", children: /* @__PURE__ */ jsxs("h2", { className: "text-xl font-bold text-gray-900 flex items-center", children: [
                /* @__PURE__ */ jsx(FileText, { className: "w-5 h-5 mr-2 text-red-500" }),
                "Annonces Légales",
                /* @__PURE__ */ jsxs("span", { className: "ml-2 text-sm font-normal text-gray-500", children: [
                  "(",
                  annonces.length,
                  " ",
                  annonces.length === 1 ? "annonce" : "annonces",
                  ")"
                ] })
              ] }) }),
              /* @__PURE__ */ jsx("div", { className: "overflow-x-auto", children: /* @__PURE__ */ jsxs("table", { className: "min-w-full divide-y divide-gray-200", children: [
                /* @__PURE__ */ jsx("thead", { className: "bg-gray-50", children: /* @__PURE__ */ jsxs("tr", { children: [
                  /* @__PURE__ */ jsx(
                    "th",
                    {
                      scope: "col",
                      className: "px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",
                      children: "Titre"
                    }
                  ),
                  /* @__PURE__ */ jsx(
                    "th",
                    {
                      scope: "col",
                      className: "px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",
                      children: "Action"
                    }
                  )
                ] }) }),
                /* @__PURE__ */ jsx("tbody", { className: "bg-white divide-y divide-gray-200", children: getPaginatedAnnonces().length > 0 ? getPaginatedAnnonces().map((annonce, index2) => /* @__PURE__ */ jsxs("tr", { className: "hover:bg-gray-50 transition-colors", children: [
                  /* @__PURE__ */ jsx("td", { className: "px-6 py-4 whitespace-nowrap", children: /* @__PURE__ */ jsx("div", { className: "text-sm font-medium text-gray-900 truncate max-w-xs", children: annonce.title }) }),
                  /* @__PURE__ */ jsx("td", { className: "px-6 py-4 whitespace-nowrap text-right text-sm font-medium", children: /* @__PURE__ */ jsxs(
                    Link,
                    {
                      href: `/annonces-legales/${annonce.slug}`,
                      className: "text-red-600 hover:text-red-900 flex items-center",
                      children: [
                        "Voir",
                        /* @__PURE__ */ jsx(ChevronRight, { className: "w-4 h-4 ml-1" })
                      ]
                    }
                  ) })
                ] }, index2)) : /* @__PURE__ */ jsx("tr", { children: /* @__PURE__ */ jsx("td", { colSpan: 6, className: "px-6 py-10 text-center text-gray-500", children: searchQuery ? /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsx("p", { className: "font-medium text-gray-600 mb-1", children: "Aucune annonce ne correspond à votre recherche" }),
                  /* @__PURE__ */ jsx("p", { className: "text-sm", children: "Essayez avec d'autres termes" })
                ] }) : /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsx("p", { className: "font-medium text-gray-600 mb-1", children: "Aucune annonce disponible" }),
                  /* @__PURE__ */ jsx("p", { className: "text-sm", children: "Les annonces apparaîtront ici une fois publiées" })
                ] }) }) }) })
              ] }) }),
              annonces.length > 0 && /* @__PURE__ */ jsx("div", { className: "border-t border-gray-200 px-4 py-4", children: /* @__PURE__ */ jsx(
                PaginationControls,
                {
                  currentPage: annoncesPagination.currentPage,
                  totalPages: annoncesPagination.totalPages,
                  onPageChange: handleAnnoncePageChange
                }
              ) })
            ]
          }
        ),
        activeTab === "appels" && /* @__PURE__ */ jsxs(
          motion.div,
          {
            initial: { opacity: 0, y: 20 },
            animate: { opacity: 1, y: 0 },
            exit: { opacity: 0, y: -20 },
            transition: { duration: 0.5 },
            className: "bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl border border-gray-100 overflow-hidden mb-8",
            children: [
              /* @__PURE__ */ jsx("div", { className: "p-6 border-b border-gray-100", children: /* @__PURE__ */ jsxs("h2", { className: "text-xl font-bold text-gray-900 flex items-center", children: [
                /* @__PURE__ */ jsx(Briefcase, { className: "w-5 h-5 mr-2 text-red-500" }),
                "Appels d'Offres",
                /* @__PURE__ */ jsxs("span", { className: "ml-2 text-sm font-normal text-gray-500", children: [
                  "(",
                  appelsOffres.length,
                  " ",
                  appelsOffres.length === 1 ? "appel d'offre" : "appels d'offres",
                  ")"
                ] })
              ] }) }),
              /* @__PURE__ */ jsx("div", { className: "overflow-x-auto", children: /* @__PURE__ */ jsxs("table", { className: "min-w-full divide-y divide-gray-200", children: [
                /* @__PURE__ */ jsx("thead", { className: "bg-gray-50", children: /* @__PURE__ */ jsxs("tr", { children: [
                  /* @__PURE__ */ jsx(
                    "th",
                    {
                      scope: "col",
                      className: "px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",
                      children: "Titre"
                    }
                  ),
                  /* @__PURE__ */ jsx(
                    "th",
                    {
                      scope: "col",
                      className: "px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",
                      children: "Action"
                    }
                  )
                ] }) }),
                /* @__PURE__ */ jsx("tbody", { className: "bg-white divide-y divide-gray-200", children: getPaginatedAppelsOffres().length > 0 ? getPaginatedAppelsOffres().map((appel, index2) => /* @__PURE__ */ jsxs("tr", { className: "hover:bg-gray-50 transition-colors", children: [
                  /* @__PURE__ */ jsx("td", { className: "px-6 py-4 whitespace-nowrap", children: /* @__PURE__ */ jsx("div", { className: "text-sm font-medium text-gray-900 truncate max-w-xs", children: appel.titre || appel.title }) }),
                  /* @__PURE__ */ jsx("td", { className: "px-6 py-4 whitespace-nowrap text-right text-sm font-medium", children: /* @__PURE__ */ jsxs(
                    Link,
                    {
                      href: `/appels-offres/${appel.slug}`,
                      className: "text-red-600 hover:text-red-900 flex items-center",
                      children: [
                        "Voir",
                        /* @__PURE__ */ jsx(ChevronRight, { className: "w-4 h-4 ml-1" })
                      ]
                    }
                  ) })
                ] }, index2)) : /* @__PURE__ */ jsx("tr", { children: /* @__PURE__ */ jsx("td", { colSpan: 6, className: "px-6 py-10 text-center text-gray-500", children: searchQuery ? /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsx("p", { className: "font-medium text-gray-600 mb-1", children: "Aucun appel d'offre ne correspond à votre recherche" }),
                  /* @__PURE__ */ jsx("p", { className: "text-sm", children: "Essayez avec d'autres termes" })
                ] }) : /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsx("p", { className: "font-medium text-gray-600 mb-1", children: "Aucun appel d'offre disponible" }),
                  /* @__PURE__ */ jsx("p", { className: "text-sm", children: "Les appels d'offres apparaîtront ici une fois publiés" })
                ] }) }) }) })
              ] }) }),
              appelsOffres.length > 0 && /* @__PURE__ */ jsx("div", { className: "border-t border-gray-200 px-4 py-4", children: /* @__PURE__ */ jsx(
                PaginationControls,
                {
                  currentPage: appelsPagination.currentPage,
                  totalPages: appelsPagination.totalPages,
                  onPageChange: handleAppelsPageChange
                }
              ) })
            ]
          }
        ),
        activeTab === "all" && /* @__PURE__ */ jsxs(
          motion.div,
          {
            initial: { opacity: 0, y: 20 },
            animate: { opacity: 1, y: 0 },
            transition: { delay: 0.3, duration: 0.5 },
            className: "backdrop-blur-sm bg-white/90 rounded-2xl shadow-lg p-8 border border-gray-100",
            children: [
              /* @__PURE__ */ jsxs("h2", { className: "text-2xl font-bold text-gray-900 mb-8 pb-4 border-b border-gray-100 flex items-center", children: [
                /* @__PURE__ */ jsx(Sparkles, { className: "w-5 h-5 mr-2 text-red-400" }),
                "Toutes les pages"
              ] }),
              /* @__PURE__ */ jsx(
                motion.div,
                {
                  variants: containerVariants,
                  initial: "hidden",
                  animate: "visible",
                  className: "grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",
                  children: routes.map((route2, index2) => /* @__PURE__ */ jsx(motion.div, { variants: itemVariants, children: /* @__PURE__ */ jsxs(
                    Link,
                    {
                      href: route2.href,
                      className: "flex items-center p-4 rounded-xl hover:bg-red-50 transition-all duration-300 group hover:scale-[1.02] hover:shadow-md bg-white/60 border border-gray-50",
                      children: [
                        /* @__PURE__ */ jsx("div", { className: "w-12 h-12 rounded-xl bg-gradient-to-br from-red-50 to-red-100 flex items-center justify-center group-hover:from-red-100 group-hover:to-red-200 transition-colors duration-300 shadow-sm", children: React__default.cloneElement(route2.icon, {
                          className: "w-5 h-5 text-red-500 group-hover:text-red-600 transition-colors"
                        }) }),
                        /* @__PURE__ */ jsxs("div", { className: "ml-4 flex-1", children: [
                          /* @__PURE__ */ jsx("span", { className: "text-gray-800 group-hover:text-red-600 font-medium transition-colors duration-300 block", children: route2.title }),
                          route2.description && /* @__PURE__ */ jsx("span", { className: "text-sm text-gray-500 mt-1 block", children: route2.description })
                        ] }),
                        /* @__PURE__ */ jsx(ExternalLink, { className: "w-4 h-4 text-gray-300 group-hover:text-red-400 transition-colors duration-300 opacity-0 group-hover:opacity-100" })
                      ]
                    }
                  ) }, index2))
                }
              )
            ]
          }
        )
      ] })
    ] }) }),
    /* @__PURE__ */ jsx(AnimatePresence, { children: showBackToTop && /* @__PURE__ */ jsx(
      motion.button,
      {
        initial: { opacity: 0, y: 20 },
        animate: { opacity: 1, y: 0 },
        exit: { opacity: 0, y: 20 },
        transition: { duration: 0.2 },
        onClick: scrollToTop,
        className: "fixed bottom-8 right-8 z-50 w-12 h-12 rounded-full bg-white shadow-lg flex items-center justify-center hover:bg-red-50 transition-colors duration-300 border border-gray-100 group",
        "aria-label": "Retour en haut",
        children: /* @__PURE__ */ jsx(ArrowUp, { className: "w-5 h-5 text-gray-500 group-hover:text-red-500 transition-colors duration-300" })
      }
    ) }),
    /* @__PURE__ */ jsx(
      Link,
      {
        href: "/",
        className: "fixed bottom-8 left-8 z-50 backdrop-blur-sm bg-white/90 shadow-lg rounded-full p-3 border border-gray-100 hover:bg-red-50 transition-colors duration-300 group",
        "aria-label": "Retour à l'accueil",
        children: /* @__PURE__ */ jsx(Home$1, { className: "w-5 h-5 text-gray-500 group-hover:text-red-500 transition-colors duration-300" })
      }
    ),
    /* @__PURE__ */ jsx(Footer$1, {})
  ] });
}
const __vite_glob_0_78 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: SitemapPage
}, Symbol.toStringTag, { value: "Module" }));
const User = () => {
  const tempEntries = [1, 2, 3, 4, 5];
  const dataLine = [
    {
      name: "Jan",
      purchased: 4e3,
      wishlisted: 2400,
      amt: 2400
    },
    {
      name: "Feb",
      purchased: 3e3,
      wishlisted: 1398,
      amt: 2210
    },
    {
      name: "Mar",
      purchased: 2e3,
      wishlisted: 9800,
      amt: 2290
    },
    {
      name: "Apr",
      purchased: 2780,
      wishlisted: 3908,
      amt: 2e3
    },
    {
      name: "May",
      purchased: 1890,
      wishlisted: 4800,
      amt: 2181
    },
    {
      name: "Jun",
      purchased: 2390,
      wishlisted: 3800,
      amt: 2500
    },
    {
      name: "Jul",
      purchased: 3490,
      wishlisted: 4300,
      amt: 2100
    }
  ];
  const { id } = useParams();
  const { isLoading, isError, data, isSuccess } = useQuery({
    queryKey: ["user", id],
    queryFn: () => fetchSingleUser(id || "")
  });
  React__default.useEffect(() => {
    if (isLoading) {
      toast.loading("Loading...", { id: "promiseRead" });
    }
    if (isError) {
      toast.error("Error while getting the data!", {
        id: "promiseRead"
      });
    }
    if (isSuccess) {
      toast.success("Read the data successfully!", {
        id: "promiseRead"
      });
    }
  }, [isError, isLoading, isSuccess]);
  return (
    // screen
    /* @__PURE__ */ jsx("div", { id: "singleUser", className: "w-full p-0 m-0", children: /* @__PURE__ */ jsxs("div", { className: "w-full grid xl:grid-cols-2 gap-10 mt-5 xl:mt-0", children: [
      /* @__PURE__ */ jsxs("div", { className: "w-full flex flex-col items-start gap-10", children: [
        /* @__PURE__ */ jsxs("div", { className: "w-full flex flex-col items-start gap-5", children: [
          /* @__PURE__ */ jsx("div", { className: "w-full flex items-center gap-3", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-3 xl:gap-8 xl:mb-4", children: [
            /* @__PURE__ */ jsx("div", { className: "avatar", children: isLoading ? /* @__PURE__ */ jsx("div", { className: "w-24 xl:w-36 h-24 xl:h-36 rounded-full skeleton dark:bg-neutral" }) : isSuccess ? /* @__PURE__ */ jsx("div", { className: "w-24 xl:w-36 rounded-full", children: /* @__PURE__ */ jsx("img", { src: data.img, alt: "avatar" }) }) : "" }),
            /* @__PURE__ */ jsxs("div", { className: "flex flex-col items-start gap-1", children: [
              isLoading ? /* @__PURE__ */ jsx("div", { className: "w-[200px] h-[36px] skeleton dark:bg-neutral" }) : isSuccess ? /* @__PURE__ */ jsxs("h3", { className: "font-semibold text-xl xl:text-3xl dark:text-white", children: [
                data.firstName,
                " ",
                data.lastName
              ] }) : /* @__PURE__ */ jsx("div", { className: "w-[200px] h-[36px] skeleton dark:bg-neutral" }),
              /* @__PURE__ */ jsx("span", { className: "font-normal text-base", children: "Member" })
            ] })
          ] }) }),
          /* @__PURE__ */ jsx("div", { className: "w-full flex gap-8", children: isLoading ? /* @__PURE__ */ jsx("div", { className: "w-full xl:w-[50%} h-52 skeleton dark:bg-neutral" }) : isSuccess ? /* @__PURE__ */ jsxs("div", { className: "w-full grid grid-cols-3 xl:flex gap-5 xl:gap-8", children: [
            /* @__PURE__ */ jsxs("div", { className: "col-span-1 flex flex-col items-start gap-3 xl:gap-5", children: [
              /* @__PURE__ */ jsx("span", { children: "First Name" }),
              /* @__PURE__ */ jsx("span", { children: "Last Name" }),
              /* @__PURE__ */ jsx("span", { children: "Email" }),
              /* @__PURE__ */ jsx("span", { children: "Phone" }),
              /* @__PURE__ */ jsx("span", { children: "Status" })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "col-span-2 flex flex-col items-start gap-3 xl:gap-5", children: [
              /* @__PURE__ */ jsx("span", { className: "font-semibold", children: data.firstName }),
              /* @__PURE__ */ jsx("span", { className: "font-semibold", children: data.lastName }),
              /* @__PURE__ */ jsx("span", { className: "font-semibold", children: data.email }),
              /* @__PURE__ */ jsx("span", { className: "font-semibold", children: data.phone }),
              /* @__PURE__ */ jsx("span", { className: "font-semibold", children: data.verified ? "Verified" : "Not Verified" })
            ] })
          ] }) : /* @__PURE__ */ jsx("div", { className: "w-full xl:w-[50%} h-52 skeleton dark:bg-neutral" }) })
        ] }),
        /* @__PURE__ */ jsx("div", { className: "w-full h-[2px] bg-base-300 dark:bg-slate-700" }),
        isLoading ? /* @__PURE__ */ jsx("div", { className: "w-full min-h-[300px] skeleton dark:bg-neutral" }) : isSuccess ? /* @__PURE__ */ jsx("div", { className: "w-full min-h-[300px]", children: /* @__PURE__ */ jsx(ResponsiveContainer, { width: "100%", height: "100%", children: /* @__PURE__ */ jsxs(LineChart, { data: dataLine, children: [
          /* @__PURE__ */ jsx(XAxis, { dataKey: "name" }),
          /* @__PURE__ */ jsx(YAxis, {}),
          /* @__PURE__ */ jsx(Tooltip, {}),
          /* @__PURE__ */ jsx(Legend, {}),
          /* @__PURE__ */ jsx(
            Line,
            {
              type: "monotone",
              dataKey: "purchased",
              stroke: "#8884d8"
            }
          ),
          /* @__PURE__ */ jsx(
            Line,
            {
              type: "monotone",
              dataKey: "wishlisted",
              stroke: "#82ca9d"
            }
          )
        ] }) }) }) : /* @__PURE__ */ jsx("div", { className: "w-full min-h-[300px] skeleton dark:bg-neutral" })
      ] }),
      /* @__PURE__ */ jsxs(
        "div",
        {
          id: "activities",
          className: "w-full flex flex-col items-start gap-5",
          children: [
            /* @__PURE__ */ jsx("h2", { className: "text-2xl font-semibold dark:text-white", children: "Latest Activities" }),
            isLoading && tempEntries.map((index2) => /* @__PURE__ */ jsx(
              "div",
              {
                className: "w-full h-20 skeleton dark:bg-neutral"
              },
              index2
            )),
            isSuccess && /* @__PURE__ */ jsxs("ul", { children: [
              /* @__PURE__ */ jsx("li", { children: /* @__PURE__ */ jsxs("div", { className: "ml-[1px] relative p-4 bg-base-200 dark:bg-neutral dark:text-neutral-50 min-w-[85vw] xl:min-w-[480px] flex flex-col items-start gap-3", children: [
                /* @__PURE__ */ jsxs("span", { children: [
                  data.firstName,
                  " ",
                  data.lastName,
                  " purchased Playstation 5 Digital Edition"
                ] }),
                /* @__PURE__ */ jsx("span", { className: "text-xs", children: "3 days ago" })
              ] }) }),
              /* @__PURE__ */ jsx("li", { children: /* @__PURE__ */ jsxs("div", { className: "ml-[1px] relative p-4 bg-base-200 dark:bg-neutral dark:text-neutral-50 min-w-[85vw] xl:min-w-[480px] flex flex-col items-start gap-3", children: [
                /* @__PURE__ */ jsxs("span", { children: [
                  data.firstName,
                  " ",
                  data.lastName,
                  " added 3 items into wishlist"
                ] }),
                /* @__PURE__ */ jsx("span", { className: "text-xs", children: "1 week ago" })
              ] }) }),
              /* @__PURE__ */ jsx("li", { children: /* @__PURE__ */ jsxs("div", { className: "ml-[1px] relative p-4 bg-base-200 dark:bg-neutral dark:text-neutral-50 min-w-[85vw] xl:min-w-[480px] flex flex-col items-start gap-3", children: [
                /* @__PURE__ */ jsxs("span", { children: [
                  data.firstName,
                  " ",
                  data.lastName,
                  " purchased Samsung 4K UHD SmartTV"
                ] }),
                /* @__PURE__ */ jsx("span", { className: "text-xs", children: "2 weeks ago" })
              ] }) }),
              /* @__PURE__ */ jsx("li", { children: /* @__PURE__ */ jsxs("div", { className: "ml-[1px] relative p-4 bg-base-200 dark:bg-neutral dark:text-neutral-50 min-w-[85vw] xl:min-w-[480px] flex flex-col items-start gap-3", children: [
                /* @__PURE__ */ jsxs("span", { children: [
                  data.firstName,
                  " ",
                  data.lastName,
                  " commented a post"
                ] }),
                /* @__PURE__ */ jsx("span", { className: "text-xs", children: "3 weeks ago" })
              ] }) }),
              /* @__PURE__ */ jsx("li", { children: /* @__PURE__ */ jsxs("div", { className: "ml-[1px] relative p-4 bg-base-200 dark:bg-neutral dark:text-neutral-50 min-w-[85vw] xl:min-w-[480px] flex flex-col items-start gap-3", children: [
                /* @__PURE__ */ jsxs("span", { children: [
                  data.firstName,
                  " ",
                  data.lastName,
                  " added 1 item into wishlist"
                ] }),
                /* @__PURE__ */ jsx("span", { className: "text-xs", children: "1 month ago" })
              ] }) })
            ] }),
            isError && tempEntries.map((index2) => /* @__PURE__ */ jsx(
              "div",
              {
                className: "w-full h-20 skeleton dark:bg-neutral"
              },
              index2
            ))
          ]
        }
      )
    ] }) })
  );
};
const __vite_glob_0_79 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: User
}, Symbol.toStringTag, { value: "Module" }));
function Create() {
  const { data, setData, errors, processing, post } = useForm({
    name: "",
    email: "",
    password: "",
    password_confirmation: "",
    roles: []
  });
  const createUser = (ev) => {
    ev.preventDefault();
    post(route("user.store"), {
      preserveScroll: true,
      onSuccess: () => {
      },
      onError: (errors2) => {
        console.log("Creation Error:", errors2);
      }
    });
  };
  return /* @__PURE__ */ jsx(
    AuthenticatedLayout,
    {
      header: /* @__PURE__ */ jsxs("div", { className: "flex items-center space-x-3", children: [
        /* @__PURE__ */ jsx("div", { className: "p-2 bg-indigo-100 dark:bg-indigo-900/50 rounded-lg", children: /* @__PURE__ */ jsx(HiOutlineUser, { className: "w-6 h-6 text-indigo-600 dark:text-indigo-400" }) }),
        /* @__PURE__ */ jsx("h2", { className: "text-2xl font-bold leading-tight text-gray-800 dark:text-gray-200", children: "Creer un nouvel utilisateur" })
      ] }),
      children: /* @__PURE__ */ jsx("div", { className: "py-6", children: /* @__PURE__ */ jsxs("div", { className: "max-w-3xl mx-auto", children: [
        /* @__PURE__ */ jsxs(
          Link,
          {
            href: route("user.index"),
            className: "inline-flex items-center mb-6 text-sm font-medium text-indigo-600 hover:text-indigo-500 dark:text-indigo-400 dark:hover:text-indigo-300 transition-colors duration-200",
            children: [
              /* @__PURE__ */ jsx(HiOutlineArrowLeft, { className: "w-4 h-4 mr-1" }),
              "Retour a la liste des utilisateurs"
            ]
          }
        ),
        /* @__PURE__ */ jsxs("div", { className: "bg-white dark:bg-gray-800 shadow-sm sm:rounded-xl overflow-hidden", children: [
          /* @__PURE__ */ jsx("div", { className: "border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50 px-8 py-6", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center space-x-4", children: [
            /* @__PURE__ */ jsx("div", { className: "w-16 h-16 rounded-full bg-indigo-100 dark:bg-indigo-900/30 flex items-center justify-center overflow-hidden border-2 border-white dark:border-gray-700 shadow-md", children: /* @__PURE__ */ jsx(HiOutlineUser, { className: "w-8 h-8 text-indigo-600 dark:text-indigo-400" }) }),
            /* @__PURE__ */ jsxs("div", { children: [
              /* @__PURE__ */ jsx("h3", { className: "text-xl font-bold text-gray-900 dark:text-gray-100", children: "Nouveau compte utilisateur" }),
              /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 dark:text-gray-400", children: "Créez un nouveau compte utilisateur avec les rôles appropriés" })
            ] })
          ] }) }),
          /* @__PURE__ */ jsx("div", { className: "p-8", children: /* @__PURE__ */ jsxs("form", { onSubmit: createUser, className: "space-y-8", children: [
            /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-8", children: [
              /* @__PURE__ */ jsxs("div", { className: "space-y-2", children: [
                /* @__PURE__ */ jsxs(
                  InputLabel,
                  {
                    htmlFor: "name",
                    value: "Nom complet",
                    className: "text-gray-700 dark:text-gray-300 font-medium flex items-center",
                    children: [
                      /* @__PURE__ */ jsx(HiOutlineUser, { className: "w-4 h-4 mr-2 text-gray-500 dark:text-gray-400" }),
                      "Nom complet"
                    ]
                  }
                ),
                /* @__PURE__ */ jsx(
                  TextInput,
                  {
                    id: "name",
                    className: "mt-1 block w-full border-gray-300 dark:border-gray-600 focus:border-indigo-500 focus:ring-indigo-500 rounded-lg shadow-sm transition-all duration-200",
                    value: data.name,
                    onChange: (e2) => setData("name", e2.target.value),
                    required: true
                  }
                ),
                /* @__PURE__ */ jsx(InputError, { className: "mt-2", message: errors.name })
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "space-y-2", children: [
                /* @__PURE__ */ jsxs(
                  InputLabel,
                  {
                    htmlFor: "email",
                    value: "Addresse e-mail",
                    className: "text-gray-700 dark:text-gray-300 font-medium flex items-center",
                    children: [
                      /* @__PURE__ */ jsx(HiOutlineMap, { className: "w-4 h-4 mr-2 text-gray-500 dark:text-gray-400" }),
                      "Adresse e-mail"
                    ]
                  }
                ),
                /* @__PURE__ */ jsx(
                  TextInput,
                  {
                    id: "email",
                    type: "email",
                    className: "mt-1 block w-full border-gray-300 dark:border-gray-600 focus:border-indigo-500 focus:ring-indigo-500 rounded-lg shadow-sm transition-all duration-200",
                    value: data.email,
                    onChange: (e2) => setData("email", e2.target.value),
                    required: true
                  }
                ),
                /* @__PURE__ */ jsx(InputError, { className: "mt-2", message: errors.email })
              ] })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-8", children: [
              /* @__PURE__ */ jsxs("div", { className: "space-y-2", children: [
                /* @__PURE__ */ jsxs(
                  InputLabel,
                  {
                    htmlFor: "password",
                    value: "Mot de passe",
                    className: "text-gray-700 dark:text-gray-300 font-medium flex items-center",
                    children: [
                      /* @__PURE__ */ jsx(HiOutlineLockClosed, { className: "w-4 h-4 mr-2 text-gray-500 dark:text-gray-400" }),
                      "Mot de passe"
                    ]
                  }
                ),
                /* @__PURE__ */ jsx(
                  TextInput,
                  {
                    id: "password",
                    type: "password",
                    className: "mt-1 block w-full border-gray-300 dark:border-gray-600 focus:border-indigo-500 focus:ring-indigo-500 rounded-lg shadow-sm transition-all duration-200",
                    value: data.password,
                    onChange: (e2) => setData("password", e2.target.value),
                    required: true
                  }
                ),
                /* @__PURE__ */ jsx(InputError, { className: "mt-2", message: errors.password })
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "space-y-2", children: [
                /* @__PURE__ */ jsxs(
                  InputLabel,
                  {
                    htmlFor: "password_confirmation",
                    value: "Confirmer le mot de passe",
                    className: "text-gray-700 dark:text-gray-300 font-medium flex items-center",
                    children: [
                      /* @__PURE__ */ jsx(HiOutlineLockClosed, { className: "w-4 h-4 mr-2 text-gray-500 dark:text-gray-400" }),
                      "Confirmer le mot de passe"
                    ]
                  }
                ),
                /* @__PURE__ */ jsx(
                  TextInput,
                  {
                    id: "password_confirmation",
                    type: "password",
                    className: "mt-1 block w-full border-gray-300 dark:border-gray-600 focus:border-indigo-500 focus:ring-indigo-500 rounded-lg shadow-sm transition-all duration-200",
                    value: data.password_confirmation,
                    onChange: (e2) => setData("password_confirmation", e2.target.value),
                    required: true
                  }
                ),
                /* @__PURE__ */ jsx(InputError, { className: "mt-2", message: errors.password_confirmation })
              ] })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "space-y-2", children: [
              /* @__PURE__ */ jsxs(
                InputLabel,
                {
                  htmlFor: "roles",
                  value: "Roles de l'utilisateur",
                  className: "text-gray-700 dark:text-gray-300 font-medium flex items-center",
                  children: [
                    /* @__PURE__ */ jsx(HiOutlineUserGroup, { className: "w-4 h-4 mr-2 text-gray-500 dark:text-gray-400" }),
                    "Rôles de l'utilisateur"
                  ]
                }
              ),
              /* @__PURE__ */ jsxs("div", { className: "relative", children: [
                /* @__PURE__ */ jsxs(
                  "select",
                  {
                    id: "roles",
                    className: "mt-1 block w-full border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring focus:ring-indigo-300 focus:border-indigo-500 bg-white dark:bg-gray-800 pr-10 py-2.5 appearance-none transition-all duration-200",
                    value: data.roles,
                    onChange: (e2) => setData(
                      "roles",
                      Array.from(e2.target.selectedOptions, (option) => option.value)
                    ),
                    required: true,
                    multiple: true,
                    children: [
                      /* @__PURE__ */ jsx("option", { value: "user", children: "Utilisateur" }),
                      /* @__PURE__ */ jsx("option", { value: "moderator", children: "Modérateur" }),
                      /* @__PURE__ */ jsx("option", { value: "admin", children: "Administrateur" })
                    ]
                  }
                ),
                /* @__PURE__ */ jsx("div", { className: "pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700 dark:text-gray-300", children: /* @__PURE__ */ jsx("svg", { className: "fill-current h-4 w-4", xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 20 20", children: /* @__PURE__ */ jsx("path", { d: "M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z" }) }) })
              ] }),
              /* @__PURE__ */ jsx(InputError, { className: "mt-2", message: errors.roles }),
              /* @__PURE__ */ jsx("p", { className: "text-xs text-gray-500 dark:text-gray-400 mt-1", children: "Sélectionnez le(s) rôle(s) approprié(s) pour cet utilisateur afin de contrôler ses autorisations" })
            ] }),
            /* @__PURE__ */ jsx("div", { className: "pt-5 border-t border-gray-200 dark:border-gray-700", children: /* @__PURE__ */ jsxs("div", { className: "flex justify-end", children: [
              /* @__PURE__ */ jsx(
                Link,
                {
                  href: route("user.index"),
                  className: "inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors duration-200 mr-4",
                  children: "Annuler"
                }
              ),
              /* @__PURE__ */ jsxs(
                "button",
                {
                  type: "submit",
                  disabled: processing,
                  className: "inline-flex items-center px-6 py-2.5 border border-transparent rounded-md font-medium text-white bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-500 hover:to-purple-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 shadow-md hover:shadow-lg transition-all duration-200 transform hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",
                  children: [
                    /* @__PURE__ */ jsx(HiOutlinePlus, { className: "w-5 h-5 mr-2" }),
                    processing ? "Creating..." : "Créer l'utilisateur"
                  ]
                }
              )
            ] }) })
          ] }) })
        ] })
      ] }) })
    }
  );
}
const __vite_glob_0_80 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: Create
}, Symbol.toStringTag, { value: "Module" }));
function Show({ user }) {
  const { data, setData, errors, processing, put } = useForm({
    name: user.name,
    email: user.email,
    role: user.role || ""
  });
  console.log("Submitting data:", data);
  const updateUser = (ev) => {
    ev.preventDefault(), put(route("user.update", user.id), {
      preserveScroll: true,
      onSuccess: ({ props }) => {
        if (props == null ? void 0 : props.user) {
          setData("role", props.user.role || "");
        } else {
          console.error("Error: user data is missing in response.", props);
        }
      },
      onError: (errors2) => {
        console.log("Update Error:", errors2);
      }
    });
  };
  return /* @__PURE__ */ jsx(
    AuthenticatedLayout,
    {
      header: /* @__PURE__ */ jsxs("div", { className: "flex items-center space-x-3", children: [
        /* @__PURE__ */ jsx("div", { className: "p-2 bg-indigo-100 dark:bg-indigo-900/50 rounded-lg", children: /* @__PURE__ */ jsx(HiOutlineUser, { className: "w-6 h-6 text-indigo-600 dark:text-indigo-400" }) }),
        /* @__PURE__ */ jsx("h2", { className: "text-2xl font-bold leading-tight text-gray-800 dark:text-gray-200", children: "Edit User" })
      ] }),
      children: /* @__PURE__ */ jsx("div", { className: "py-6", children: /* @__PURE__ */ jsxs("div", { className: "max-w-3xl mx-auto", children: [
        /* @__PURE__ */ jsxs(
          Link,
          {
            href: route("user.index"),
            className: "inline-flex items-center mb-6 text-sm font-medium text-indigo-600 hover:text-indigo-500 dark:text-indigo-400 dark:hover:text-indigo-300 transition-colors duration-200",
            children: [
              /* @__PURE__ */ jsx(HiOutlineArrowLeft, { className: "w-4 h-4 mr-1" }),
              "Retour à la liste des utilisateurs"
            ]
          }
        ),
        /* @__PURE__ */ jsxs("div", { className: "bg-white dark:bg-gray-800 shadow-sm sm:rounded-xl overflow-hidden", children: [
          /* @__PURE__ */ jsx("div", { className: "border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50 px-8 py-6", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center space-x-4", children: [
            /* @__PURE__ */ jsx("div", { className: "relative", children: /* @__PURE__ */ jsx("div", { className: "w-16 h-16 rounded-full bg-indigo-100 dark:bg-indigo-900/30 flex items-center justify-center overflow-hidden border-2 border-white dark:border-gray-700 shadow-md", children: user.avatar ? /* @__PURE__ */ jsx(
              "img",
              {
                src: user.avatar || "/placeholder.svg",
                alt: user.name,
                className: "w-full h-full object-cover"
              }
            ) : /* @__PURE__ */ jsx(HiOutlineUser, { className: "w-8 h-8 text-indigo-600 dark:text-indigo-400" }) }) }),
            /* @__PURE__ */ jsxs("div", { children: [
              /* @__PURE__ */ jsx("h3", { className: "text-xl font-bold text-gray-900 dark:text-gray-100", children: user.name }),
              /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 dark:text-gray-400", children: user.email })
            ] })
          ] }) }),
          /* @__PURE__ */ jsx("div", { className: "p-8", children: /* @__PURE__ */ jsxs("form", { onSubmit: updateUser, className: "space-y-8", children: [
            /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-8", children: [
              /* @__PURE__ */ jsxs("div", { className: "space-y-2", children: [
                /* @__PURE__ */ jsxs(
                  InputLabel,
                  {
                    htmlFor: "name",
                    value: "Full Name",
                    className: "text-gray-700 dark:text-gray-300 font-medium flex items-center",
                    children: [
                      /* @__PURE__ */ jsx(HiOutlineUser, { className: "w-4 h-4 mr-2 text-gray-500 dark:text-gray-400" }),
                      "Nom complet"
                    ]
                  }
                ),
                /* @__PURE__ */ jsx(
                  TextInput,
                  {
                    id: "name",
                    className: "mt-1 block w-full border-gray-300 dark:border-gray-600 focus:border-indigo-500 focus:ring-indigo-500 rounded-lg shadow-sm transition-all duration-200",
                    value: data.name,
                    onChange: (e2) => setData("name", e2.target.value),
                    required: true
                  }
                ),
                /* @__PURE__ */ jsx(InputError, { className: "mt-2", message: errors.name })
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "space-y-2", children: [
                /* @__PURE__ */ jsxs(
                  InputLabel,
                  {
                    htmlFor: "email",
                    value: "Adresse e-mail",
                    className: "text-gray-700 dark:text-gray-300 font-medium flex items-center",
                    children: [
                      /* @__PURE__ */ jsx(HiOutlineMap, { className: "w-4 h-4 mr-2 text-gray-500 dark:text-gray-400" }),
                      "Adresse e-mail"
                    ]
                  }
                ),
                /* @__PURE__ */ jsx(
                  TextInput,
                  {
                    id: "email",
                    type: "email",
                    className: "mt-1 block w-full border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-500 dark:text-gray-400 rounded-lg shadow-sm",
                    value: user.email,
                    disabled: true,
                    readOnly: true
                  }
                ),
                /* @__PURE__ */ jsx("p", { className: "text-xs text-gray-500 dark:text-gray-400 mt-1", children: "L'adresse e-mail ne peut pas être modifiée" })
              ] })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "space-y-2", children: [
              /* @__PURE__ */ jsxs(
                InputLabel,
                {
                  htmlFor: "roles",
                  value: "Rôles de l'utilisateur",
                  className: "text-gray-700 dark:text-gray-300 font-medium flex items-center",
                  children: [
                    /* @__PURE__ */ jsx(HiOutlineUserGroup, { className: "w-4 h-4 mr-2 text-gray-500 dark:text-gray-400" }),
                    "Rôles de l'utilisateur"
                  ]
                }
              ),
              /* @__PURE__ */ jsxs("div", { className: "relative", children: [
                /* @__PURE__ */ jsxs(
                  "select",
                  {
                    id: "roles",
                    className: "mt-1 block w-full border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring focus:ring-indigo-300 focus:border-indigo-500 bg-white dark:bg-gray-800 pr-10 py-2.5 appearance-none transition-all duration-200",
                    value: data.role,
                    onChange: (e2) => setData("role", e2.target.value),
                    required: true,
                    children: [
                      /* @__PURE__ */ jsx("option", { value: "", children: "Sélectionner un rôle" }),
                      /* @__PURE__ */ jsx("option", { value: "user", children: "Utilisateur" }),
                      /* @__PURE__ */ jsx("option", { value: "moderator", children: "Modérateur" }),
                      /* @__PURE__ */ jsx("option", { value: "admin", children: "Administrateur" })
                    ]
                  }
                ),
                /* @__PURE__ */ jsx("div", { className: "pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700 dark:text-gray-300", children: /* @__PURE__ */ jsx("svg", { className: "fill-current h-4 w-4", xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 20 20", children: /* @__PURE__ */ jsx("path", { d: "M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z" }) }) })
              ] }),
              /* @__PURE__ */ jsx(InputError, { className: "mt-2", message: errors.role }),
              /* @__PURE__ */ jsx("p", { className: "text-xs text-gray-500 dark:text-gray-400 mt-1", children: "Select the appropriate role for this user to control their permissions" })
            ] }),
            /* @__PURE__ */ jsx("div", { className: "pt-5 border-t border-gray-200 dark:border-gray-700", children: /* @__PURE__ */ jsxs("div", { className: "flex justify-end", children: [
              /* @__PURE__ */ jsx(
                Link,
                {
                  href: route("user.index"),
                  className: "inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors duration-200 mr-4",
                  children: "Annuler"
                }
              ),
              /* @__PURE__ */ jsxs(
                "button",
                {
                  type: "submit",
                  disabled: processing,
                  className: "inline-flex items-center px-6 py-2.5 border border-transparent rounded-md font-medium text-white bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-500 hover:to-purple-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 shadow-md hover:shadow-lg transition-all duration-200 transform hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",
                  children: [
                    /* @__PURE__ */ jsx(HiOutlineScale, { className: "w-5 h-5 mr-2" }),
                    processing ? "Enregistrement..." : "Enregistrer les modifications"
                  ]
                }
              )
            ] }) })
          ] }) })
        ] })
      ] }) })
    }
  );
}
const __vite_glob_0_81 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: Show
}, Symbol.toStringTag, { value: "Module" }));
function FavoriteUsers({ users }) {
  const [windowWidth, setWindowWidth] = useState(typeof window !== "undefined" ? window.innerWidth : 1200);
  useEffect(() => {
    const handleResize = () => setWindowWidth(window.innerWidth);
    window.addEventListener("resize", handleResize);
    return () => window.removeEventListener("resize", handleResize);
  }, []);
  const removeFromFavorites = (id) => {
    router.post(`/user/${id}/toggle-favorite`, {}, {
      preserveScroll: true,
      onSuccess: () => toast.success("User removed from favorites!"),
      onError: () => toast.error("Error removing from favorites.")
    });
  };
  const columns = [
    {
      field: "name",
      headerName: "Name",
      minWidth: 120,
      flex: 1.5,
      headerClassName: "table-header",
      renderCell: (params) => /* @__PURE__ */ jsx("span", { className: "font-medium text-gray-800 dark:text-gray-200 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors duration-200", children: params.row.name })
    },
    {
      field: "email",
      headerName: "Email",
      minWidth: 200,
      flex: 1.5,
      headerClassName: "table-header",
      renderCell: (params) => /* @__PURE__ */ jsx("div", { className: "flex items-center gap-1 whitespace-normal break-words", children: /* @__PURE__ */ jsx("span", { className: "text-gray-700 dark:text-gray-300", children: params.row.email }) })
    },
    {
      field: "city",
      headerName: "Ville",
      minWidth: 150,
      flex: 1,
      headerClassName: "table-header",
      renderCell: (params) => {
        var _a2;
        return /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-1 whitespace-normal break-words", children: [
          /* @__PURE__ */ jsx(HiOutlineMap, { className: "text-gray-500 dark:text-gray-400 flex-shrink-0" }),
          /* @__PURE__ */ jsx("span", { className: "text-gray-700 dark:text-gray-300", children: ((_a2 = params.row.city) == null ? void 0 : _a2.trim()) ? params.row.city : "N/A" })
        ] });
      }
    },
    {
      field: "roles",
      headerName: "Role",
      minWidth: 120,
      flex: 1,
      headerClassName: "table-header",
      renderCell: (params) => /* @__PURE__ */ jsx("div", { className: "flex gap-1 flex-wrap", children: params.row.roles && params.row.roles.length > 0 ? params.row.roles.map((role, index2) => /* @__PURE__ */ jsx(
        "span",
        {
          className: "px-2 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200",
          children: role
        },
        index2
      )) : /* @__PURE__ */ jsx("span", { className: "px-2 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200", children: "No role" }) })
    },
    // Actions column
    {
      field: "actions",
      headerName: "Actions",
      minWidth: 180,
      flex: 1,
      headerClassName: "table-header",
      renderCell: (params) => /* @__PURE__ */ jsx("div", { className: "flex gap-3", children: /* @__PURE__ */ jsx(
        "button",
        {
          onClick: () => removeFromFavorites(params.row.id),
          className: "p-2 rounded-full bg-red-50 text-red-600 hover:bg-red-100 hover:text-red-700 transition-all",
          title: "Remove from Favorites",
          children: /* @__PURE__ */ jsx(HiOutlineStar, { className: "w-5 h-5 fill-current" })
        }
      ) })
    }
  ];
  const favoriteUsers = users.data.filter((user) => user.is_favorite);
  return /* @__PURE__ */ jsx(
    AuthenticatedLayout,
    {
      header: /* @__PURE__ */ jsxs("div", { className: "flex items-center space-x-3", children: [
        /* @__PURE__ */ jsx("div", { className: "p-2 bg-rose-100 dark:bg-rose-900/50 rounded-lg", children: /* @__PURE__ */ jsx(HiOutlineHeart, { className: "w-6 h-6 text-rose-600 dark:text-rose-400" }) }),
        /* @__PURE__ */ jsx("h2", { className: "text-2xl font-bold leading-tight text-gray-800 dark:text-gray-200", children: "Utilisateurs Favoris" })
      ] }),
      children: /* @__PURE__ */ jsx("div", { className: "bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden", children: /* @__PURE__ */ jsxs("div", { className: "p-6 border-b border-gray-200 dark:border-gray-700", children: [
        /* @__PURE__ */ jsx("div", { className: "flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6", children: /* @__PURE__ */ jsxs("div", { className: "space-y-1", children: [
          /* @__PURE__ */ jsx("h3", { className: "text-xl font-semibold text-gray-800 dark:text-gray-200", children: "Utilisateurs Favoris" }),
          /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-600 dark:text-gray-400", children: "Gérez votre liste d'utilisateurs favoris pour un accès rapide" })
        ] }) }),
        /* @__PURE__ */ jsx("style", { children: `
            .table-header {
              font-weight: 600 !important;
              color: #f9fafb !important;
              background-color: #1f2937 !important;
            }
            
            .dark .table-header {
              color: #e5e7eb !important;
              background-color: #1f2937 !important;
            }
            
            .MuiDataGrid-root {
              border: none !important;
              border-radius: 0.5rem !important;
              overflow: hidden !important;
            }
            
            .MuiDataGrid-row:hover {
              background-color: rgba(99, 102, 241, 0.04) !important;
            }
            
            .dark .MuiDataGrid-row:hover {
              background-color: rgba(99, 102, 241, 0.08) !important;
            }
            
            .MuiDataGrid-cell {
              border-bottom-color: rgba(209, 213, 219, 0.5) !important;
            }
            
            .dark .MuiDataGrid-cell {
              border-bottom-color: rgba(55, 65, 81, 0.5) !important;
            }
            
            /* Custom scrollbar for better appearance */
            .MuiDataGrid-virtualScroller::-webkit-scrollbar {
              width: 8px;
              height: 8px;
            }
            
            .MuiDataGrid-virtualScroller::-webkit-scrollbar-track {
              background: #f1f1f1;
              border-radius: 4px;
            }
            
            .MuiDataGrid-virtualScroller::-webkit-scrollbar-thumb {
              background: #c1c1c1;
              border-radius: 4px;
            }
            
            .MuiDataGrid-virtualScroller::-webkit-scrollbar-thumb:hover {
              background: #a1a1a1;
            }
            
            /* Allow text wrapping in cells */
            .MuiDataGrid-cell {
              white-space: normal !important;
              line-height: 1.5 !important;
              padding: 12px 16px !important;
            }
          ` }),
        favoriteUsers.length > 0 ? /* @__PURE__ */ jsx("div", { className: "rounded-lg overflow-hidden border border-gray-200 dark:border-gray-700", children: /* @__PURE__ */ jsx(DataTable, { slug: "favorite-users", columns, rows: favoriteUsers, includeActionColumn: false }) }) : /* @__PURE__ */ jsxs("div", { className: "text-center py-12", children: [
          /* @__PURE__ */ jsx(HiOutlineHeart, { className: "mx-auto h-12 w-12 text-gray-400" }),
          /* @__PURE__ */ jsx("h3", { className: "mt-2 text-sm font-medium text-gray-900 dark:text-gray-100", children: "Aucun utilisateur favori" }),
          /* @__PURE__ */ jsx("p", { className: "mt-1 text-sm text-gray-500 dark:text-gray-400", children: "Vous n'avez pas encore ajouté d'utilisateurs à vos favoris." }),
          /* @__PURE__ */ jsx("div", { className: "mt-6", children: /* @__PURE__ */ jsx(
            "button",
            {
              onClick: () => router.visit("/user"),
              className: "inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",
              children: "Voir tous les utilisateurs"
            }
          ) })
        ] })
      ] }) })
    }
  );
}
const __vite_glob_0_82 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: FavoriteUsers
}, Symbol.toStringTag, { value: "Module" }));
const FavoriteBadge = ({ size = "sm", showText = true }) => {
  const sizeClasses = {
    xs: "px-1.5 py-0.5 text-xs",
    sm: "px-2 py-1 text-xs",
    md: "px-2.5 py-1.5 text-sm",
    lg: "px-3 py-2 text-base"
  };
  const iconSizes = {
    xs: "w-3 h-3",
    sm: "w-3.5 h-3.5",
    md: "w-4 h-4",
    lg: "w-5 h-5"
  };
  return /* @__PURE__ */ jsxs(
    "span",
    {
      title: "Utilisateur favori - Client privilégié",
      className: `inline-flex items-center font-semibold rounded-full bg-gradient-to-r from-amber-100 to-yellow-100 text-amber-800 border border-amber-200 shadow-sm hover:shadow-md transition-all duration-200 ${sizeClasses[size]} ${!showText ? "aspect-square justify-center" : ""}`,
      children: [
        /* @__PURE__ */ jsx(HiStar, { className: `${iconSizes[size]} text-amber-500 ${showText ? "mr-1" : ""}` }),
        showText && "Favori"
      ]
    }
  );
};
const FavoriteIndicator = () => /* @__PURE__ */ jsx("div", { className: "relative inline-block", children: /* @__PURE__ */ jsx("div", { className: "absolute -top-1 -right-1 w-4 h-4 bg-gradient-to-r from-amber-400 to-yellow-400 rounded-full flex items-center justify-center shadow-lg border-2 border-white z-10", children: /* @__PURE__ */ jsx(HiStar, { className: "w-2.5 h-2.5 text-white" }) }) });
function Index$1({ users }) {
  const [windowWidth, setWindowWidth] = useState(typeof window !== "undefined" ? window.innerWidth : 1200);
  const [search, setSearch] = useState("");
  const [selectedIds, setSelectedIds] = useState([]);
  const [isDeleting, setIsDeleting] = useState(false);
  const handleSearch = (e2) => {
    e2.preventDefault();
    router.get("/user", { search }, { preserveState: true });
  };
  useEffect(() => {
    const handleResize = () => setWindowWidth(window.innerWidth);
    window.addEventListener("resize", handleResize);
    return () => window.removeEventListener("resize", handleResize);
  }, []);
  const handleDelete = (id) => {
    if (confirm("Are you sure you want to delete this user?")) {
      router.delete(`/user/${id}`, {
        onSuccess: () => toast.success("User deleted successfully!"),
        onError: () => toast.error("Error deleting user!")
      });
    }
  };
  const columns = [
    {
      field: "name",
      headerName: "Name",
      minWidth: 70,
      flex: 0.8,
      headerClassName: "table-header",
      renderCell: (params) => /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2 w-full", children: [
        /* @__PURE__ */ jsxs("div", { className: "relative", children: [
          params.row.is_favorite && /* @__PURE__ */ jsx(FavoriteIndicator, {}),
          /* @__PURE__ */ jsx("span", { className: "font-medium text-gray-800 dark:text-gray-200 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors duration-200", children: params.row.name })
        ] }),
        params.row.is_favorite && /* @__PURE__ */ jsx(FavoriteBadge, { size: "xs", showText: false })
      ] })
    },
    {
      field: "email",
      headerName: "Email",
      minWidth: 200,
      flex: 1.5,
      headerClassName: "table-header",
      renderCell: (params) => /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-1 whitespace-normal break-words", children: [
        /* @__PURE__ */ jsx(HiOutlineMap, { className: "text-gray-500 dark:text-gray-400 flex-shrink-0" }),
        /* @__PURE__ */ jsx("span", { className: "text-gray-700 dark:text-gray-300", children: params.row.email })
      ] })
    },
    {
      field: "city",
      headerName: "Ville",
      minWidth: 150,
      flex: 1,
      headerClassName: "table-header",
      renderCell: (params) => {
        var _a2;
        return /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-1 whitespace-normal break-words", children: [
          /* @__PURE__ */ jsx(HiOutlineMap, { className: "text-gray-500 dark:text-gray-400 flex-shrink-0" }),
          /* @__PURE__ */ jsx("span", { className: "text-gray-700 dark:text-gray-300", children: ((_a2 = params.row.city) == null ? void 0 : _a2.trim()) ? params.row.city : "N/A" })
        ] });
      }
    },
    {
      field: "phone",
      headerName: "Téléphone",
      minWidth: 180,
      flex: 1,
      headerClassName: "table-header",
      renderCell: (params) => /* @__PURE__ */ jsx("div", { className: "flex items-center gap-1 whitespace-normal break-words", children: /* @__PURE__ */ jsx("span", { className: "text-gray-700 dark:text-gray-300", children: params.row.phone ?? "—" }) })
    },
    {
      field: "roles",
      headerName: "Role",
      minWidth: 100,
      flex: 0.8,
      headerClassName: "table-header",
      renderCell: (params) => /* @__PURE__ */ jsx("div", { className: "flex gap-1 flex-wrap", children: params.row.roles && params.row.roles.length > 0 ? params.row.roles.map((role, index2) => /* @__PURE__ */ jsxs(
        "span",
        {
          className: "px-2 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200",
          children: [
            role.name,
            " "
          ]
        },
        index2
      )) : /* @__PURE__ */ jsx("span", { className: "px-2 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200", children: "No role" }) })
    },
    // Add Edit & Delete actions
    {
      field: "actions",
      headerName: "Actions",
      minWidth: 120,
      flex: 0.8,
      headerClassName: "table-header",
      renderCell: (params) => /* @__PURE__ */ jsxs("div", { className: "flex gap-3", children: [
        /* @__PURE__ */ jsx(
          "button",
          {
            onClick: () => router.post(
              `/user/${params.row.id}/toggle-favorite`,
              {},
              {
                preserveScroll: true,
                onSuccess: () => toast.success("Toggled favorite!"),
                onError: () => toast.error("Error toggling favorite.")
              }
            ),
            className: `p-2 rounded-full transition-all ${params.row.is_favorite ? "bg-amber-50 text-amber-600 hover:bg-amber-100 hover:text-amber-700 border border-amber-200" : "bg-yellow-50 text-yellow-600 hover:bg-yellow-100 hover:text-yellow-700"}`,
            title: "Toggle Favorite",
            children: /* @__PURE__ */ jsx(HiOutlineStar, { className: "w-5 h-5" })
          }
        ),
        /* @__PURE__ */ jsx(
          "button",
          {
            onClick: () => router.visit(`/user/${params.row.id}/edit`),
            className: "p-2 rounded-full bg-blue-50 text-blue-600 hover:bg-blue-100 hover:text-blue-700 transition-all duration-200 dark:bg-blue-900/30 dark:text-blue-400 dark:hover:bg-blue-900/50 dark:hover:text-blue-300",
            title: "Edit User",
            children: /* @__PURE__ */ jsx(HiOutlinePencilSquare, { className: "w-5 h-5" })
          }
        ),
        /* @__PURE__ */ jsx(
          "button",
          {
            onClick: () => handleDelete(params.row.id),
            className: "p-2 rounded-full bg-red-50 text-red-600 hover:bg-red-100 hover:text-red-700 transition-all duration-200 dark:bg-red-900/30 dark:text-red-400 dark:hover:bg-red-900/50 dark:hover:text-red-300",
            title: "Delete User",
            children: /* @__PURE__ */ jsx(HiOutlineTrash, { className: "w-5 h-5" })
          }
        )
      ] })
    }
  ];
  return /* @__PURE__ */ jsx(
    AuthenticatedLayout,
    {
      header: /* @__PURE__ */ jsxs("div", { className: "flex items-center space-x-3", children: [
        /* @__PURE__ */ jsx("div", { className: "p-2 bg-indigo-100 dark:bg-indigo-900/50 rounded-lg", children: /* @__PURE__ */ jsx(HiOutlineUserCircle, { className: "w-6 h-6 text-indigo-600 dark:text-indigo-400" }) }),
        /* @__PURE__ */ jsx("h2", { className: "text-2xl font-bold leading-tight text-gray-800 dark:text-gray-200", children: "User Management" })
      ] }),
      children: /* @__PURE__ */ jsx("div", { className: "bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden", children: /* @__PURE__ */ jsxs("div", { className: "p-6 border-b border-gray-200 dark:border-gray-700", children: [
        /* @__PURE__ */ jsxs("div", { className: "flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6", children: [
          /* @__PURE__ */ jsxs("div", { className: "space-y-1", children: [
            /* @__PURE__ */ jsx("h3", { className: "text-xl font-semibold text-gray-800 dark:text-gray-200", children: "Users Directory" }),
            /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-600 dark:text-gray-400", children: "Manage your organization's user accounts" })
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "flex gap-3 items-center", children: [
            selectedIds.length > 0 && /* @__PURE__ */ jsxs(
              "button",
              {
                type: "button",
                className: `inline-flex items-center rounded-lg bg-red-600 hover:bg-red-700 px-6 py-2.5 text-sm font-medium text-white transition-colors duration-200 ${isDeleting ? "opacity-60 cursor-not-allowed" : ""}`,
                disabled: isDeleting,
                onClick: async () => {
                  if (confirm(`Delete ${selectedIds.length} selected users?`)) {
                    setIsDeleting(true);
                    router.delete(route("user.massDelete"), {
                      data: { ids: selectedIds },
                      onSuccess: () => {
                        toast.success("Users deleted successfully!");
                        setSelectedIds([]);
                      },
                      onError: () => toast.error("Error deleting users!"),
                      onFinish: () => setIsDeleting(false)
                    });
                  }
                },
                children: [
                  /* @__PURE__ */ jsx("svg", { className: "w-5 h-5 mr-2", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M6 18L18 6M6 6l12 12" }) }),
                  "Delete Selected"
                ]
              }
            ),
            /* @__PURE__ */ jsxs(
              Link,
              {
                href: route("user.create"),
                className: "inline-flex items-center rounded-lg bg-[#1f2937] hover:bg-[#1f2937]/80 px-6 py-2.5 text-sm font-medium text-white",
                children: [
                  /* @__PURE__ */ jsx(
                    "svg",
                    {
                      className: "w-5 h-5 mr-2",
                      fill: "none",
                      stroke: "currentColor",
                      viewBox: "0 0 24 24",
                      xmlns: "http://www.w3.org/2000/svg",
                      children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M12 6v6m0 0v6m0-6h6m-6 0H6" })
                    }
                  ),
                  "Nouveau User"
                ]
              }
            )
          ] })
        ] }),
        /* @__PURE__ */ jsx("style", { children: `
            .table-header {
              font-weight: 600 !important;
              color: #f9fafb !important;
              background-color: #1f2937 !important;
            }
            
            .dark .table-header {
              color: #e5e7eb !important;
              background-color: #1f2937 !important;
            }
            
            .MuiDataGrid-root {
              border: none !important;
              border-radius: 0.5rem !important;
              overflow: hidden !important;
            }
            
            /* Added gradient background for favorite user rows */
            .MuiDataGrid-row.favorite-user-row {
              background: linear-gradient(to right, rgba(251, 191, 36, 0.08), rgba(250, 204, 21, 0.08)) !important;
            }
            
            .MuiDataGrid-row.favorite-user-row:hover {
              background: linear-gradient(to right, rgba(251, 191, 36, 0.15), rgba(250, 204, 21, 0.15)) !important;
            }
            
            .dark .MuiDataGrid-row.favorite-user-row {
              background: linear-gradient(to right, rgba(251, 191, 36, 0.12), rgba(250, 204, 21, 0.12)) !important;
            }
            
            .dark .MuiDataGrid-row.favorite-user-row:hover {
              background: linear-gradient(to right, rgba(251, 191, 36, 0.2), rgba(250, 204, 21, 0.2)) !important;
            }
            
            .MuiDataGrid-row:hover {
              background-color: rgba(99, 102, 241, 0.04) !important;
            }
            
            .dark .MuiDataGrid-row:hover {
              background-color: rgba(99, 102, 241, 0.08) !important;
            }
            
            .MuiDataGrid-cell {
              border-bottom-color: rgba(209, 213, 219, 0.5) !important;
            }
            
            .dark .MuiDataGrid-cell {
              border-bottom-color: rgba(55, 65, 81, 0.5) !important;
            }
            
            /* Custom scrollbar for better appearance */
            .MuiDataGrid-virtualScroller::-webkit-scrollbar {
              width: 8px;
              height: 8px;
            }
            
            .MuiDataGrid-virtualScroller::-webkit-scrollbar-track {
              background: #f1f1f1;
              border-radius: 4px;
            }
            
            .MuiDataGrid-virtualScroller::-webkit-scrollbar-thumb {
              background: #c1c1c1;
              border-radius: 4px;
            }
            
            .MuiDataGrid-virtualScroller::-webkit-scrollbar-thumb:hover {
              background: #a1a1a1;
            }
            
            .MuiDataGrid-cell {
              white-space: normal !important;
              line-height: 1.5 !important;
              padding: 12px 16px !important;
            }
          ` }),
        /* @__PURE__ */ jsxs("div", { className: "rounded-lg overflow-hidden border border-gray-200 dark:border-gray-700", children: [
          /* @__PURE__ */ jsx("div", { className: "p-4 bg-gray-50 dark:bg-gray-700/50 border-b border-gray-200 dark:border-gray-600", children: /* @__PURE__ */ jsxs("form", { onSubmit: handleSearch, className: "flex flex-col sm:flex-row gap-3", children: [
            /* @__PURE__ */ jsx("div", { className: "flex-1", children: /* @__PURE__ */ jsxs("div", { className: "relative", children: [
              /* @__PURE__ */ jsx("div", { className: "absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none", children: /* @__PURE__ */ jsx(
                "svg",
                {
                  className: "h-5 w-5 text-gray-400 dark:text-gray-500",
                  fill: "none",
                  stroke: "currentColor",
                  viewBox: "0 0 24 24",
                  children: /* @__PURE__ */ jsx(
                    "path",
                    {
                      strokeLinecap: "round",
                      strokeLinejoin: "round",
                      strokeWidth: 2,
                      d: "M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                    }
                  )
                }
              ) }),
              /* @__PURE__ */ jsx(
                "input",
                {
                  type: "text",
                  value: search,
                  onChange: (e2) => setSearch(e2.target.value),
                  placeholder: "Search users by name, email, or city...",
                  className: "block w-full pl-10 pr-3 py-2.5 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 dark:focus:ring-indigo-400 dark:focus:border-indigo-400 transition-colors duration-200"
                }
              )
            ] }) }),
            /* @__PURE__ */ jsxs(
              "button",
              {
                type: "submit",
                className: "inline-flex items-center justify-center px-6 py-2.5 bg-indigo-600 hover:bg-indigo-700 dark:bg-indigo-500 dark:hover:bg-indigo-600 text-white font-medium rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 min-w-[100px]",
                children: [
                  /* @__PURE__ */ jsx("svg", { className: "w-4 h-4 mr-2", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: /* @__PURE__ */ jsx(
                    "path",
                    {
                      strokeLinecap: "round",
                      strokeLinejoin: "round",
                      strokeWidth: 2,
                      d: "M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                    }
                  ) }),
                  "Search"
                ]
              }
            )
          ] }) }),
          /* @__PURE__ */ jsx(
            DataTable,
            {
              slug: "users",
              columns,
              rows: users.data,
              includeActionColumn: false,
              checkboxSelection: true,
              selectionModel: selectedIds,
              onSelectionModelChange: (ids) => setSelectedIds(ids.map((id) => Number(id)))
            }
          ),
          /* @__PURE__ */ jsx("div", { className: "flex justify-center mt-6", children: users.links.map((link, index2) => /* @__PURE__ */ jsx(
            Link,
            {
              href: link.url || "#",
              preserveScroll: true,
              preserveState: true,
              className: `px-3 py-1 border mx-1 rounded ${link.active ? "bg-indigo-600 text-white" : "bg-white text-gray-700 hover:bg-gray-100"}`,
              dangerouslySetInnerHTML: { __html: link.label }
            },
            index2
          )) })
        ] })
      ] }) })
    }
  );
}
const __vite_glob_0_83 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: Index$1
}, Symbol.toStringTag, { value: "Module" }));
function Index({ users }) {
  const formatDate2 = (dateString) => {
    return dateString ? new Date(dateString).toLocaleDateString() : "N/A";
  };
  const handleDelete = (id) => {
    if (confirm("Are you sure you want to delete this user?")) {
      Inertia$1.delete(`/user/${id}`);
    }
  };
  const columns = [
    {
      field: "id",
      headerName: "ID",
      width: 90,
      headerClassName: "table-header",
      cellClassName: "font-medium text-gray-700 dark:text-gray-300",
      renderCell: (params) => /* @__PURE__ */ jsxs("span", { className: "bg-[#00377f]/10 text-[#00377f] font-medium px-2 py-1 rounded-lg", children: [
        "#",
        params.value
      ] })
    },
    {
      field: "name",
      headerName: "Name",
      minWidth: 200,
      flex: 1,
      headerClassName: "table-header",
      renderCell: (params) => /* @__PURE__ */ jsxs("div", { className: "flex gap-3 items-center group", children: [
        /* @__PURE__ */ jsx("div", { className: "avatar transition-all duration-300 group-hover:scale-110", children: /* @__PURE__ */ jsx("div", { className: "w-10 h-10 rounded-full ring-2 ring-[#00377f]/10 overflow-hidden shadow-md", children: /* @__PURE__ */ jsx(
          "img",
          {
            src: params.row.profile_picture || "/Portrait_Placeholder.png",
            alt: "user-picture",
            className: "object-cover w-full h-full"
          }
        ) }) }),
        /* @__PURE__ */ jsx("span", { className: "font-medium text-[#00377f] group-hover:text-[#00377f]/80 transition-colors duration-200", children: params.row.name })
      ] })
    },
    {
      field: "email",
      headerName: "Email",
      minWidth: 220,
      flex: 1,
      headerClassName: "table-header",
      renderCell: (params) => /* @__PURE__ */ jsx("div", { className: "text-[#00377f]/80 font-mono", children: params.row.email })
    },
    {
      field: "phone",
      // ✅ added
      headerName: "Téléphone",
      minWidth: 180,
      flex: 1,
      headerClassName: "table-header",
      renderCell: (params) => /* @__PURE__ */ jsx("span", { className: "text-gray-700 dark:text-gray-300", children: params.row.phone ?? "—" })
    },
    {
      field: "roles",
      headerName: "Role",
      minWidth: 150,
      flex: 1,
      headerClassName: "table-header",
      renderCell: (params) => /* @__PURE__ */ jsx("div", { className: "flex gap-1 flex-wrap", children: params.row.roles && params.row.roles.length > 0 ? params.row.roles.map((role, index2) => /* @__PURE__ */ jsx(
        "span",
        {
          className: "px-2.5 py-0.5 rounded-full text-xs font-medium bg-[#00377f]/10 text-[#00377f]",
          children: role
        },
        index2
      )) : /* @__PURE__ */ jsx("span", { className: "px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800", children: "No role" }) })
    },
    {
      field: "email_verified_at",
      headerName: "Verified",
      minWidth: 120,
      flex: 1,
      headerClassName: "table-header",
      renderCell: (params) => /* @__PURE__ */ jsx("div", { className: "flex items-center", children: params.row.email_verified_at ? /* @__PURE__ */ jsxs("span", { className: "inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 border border-green-200", children: [
        /* @__PURE__ */ jsx("div", { className: "w-2 h-2 rounded-full bg-green-500 mr-1.5" }),
        "Verified"
      ] }) : /* @__PURE__ */ jsxs("span", { className: "inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 border border-red-200", children: [
        /* @__PURE__ */ jsx("div", { className: "w-2 h-2 rounded-full bg-red-500 mr-1.5" }),
        "Not Verified"
      ] }) })
    },
    {
      field: "created_at",
      headerName: "Created At",
      minWidth: 150,
      flex: 1,
      headerClassName: "table-header",
      renderCell: (params) => /* @__PURE__ */ jsx("div", { className: "text-[#00377f]/80", children: formatDate2(params.row.created_at) })
    },
    // Add Edit & Delete actions
    {
      field: "actions",
      headerName: "Actions",
      width: 120,
      headerClassName: "table-header",
      renderCell: (params) => /* @__PURE__ */ jsxs("div", { className: "flex gap-3", children: [
        /* @__PURE__ */ jsx(
          "button",
          {
            onClick: () => Inertia$1.visit(`/user/${params.row.id}/edit`),
            className: "bg-[#00377f]/10 hover:bg-[#00377f] text-[#00377f] hover:text-white p-2 rounded-lg transition-colors duration-200",
            children: /* @__PURE__ */ jsx(HiOutlinePencilSquare, { className: "w-5 h-5" })
          }
        ),
        /* @__PURE__ */ jsx(
          "button",
          {
            onClick: () => handleDelete(params.row.id),
            className: "bg-[#e63946]/10 hover:bg-[#e63946] text-[#e63946] hover:text-white p-2 rounded-lg transition-colors duration-200",
            children: /* @__PURE__ */ jsx(HiOutlineTrash, { className: "w-5 h-5" })
          }
        )
      ] })
    }
  ];
  return /* @__PURE__ */ jsx(AdminLayout, { title: "User Management", titleIcon: /* @__PURE__ */ jsx(HiOutlineUserGroup, { className: "text-[#00377f] text-2xl" }), children: /* @__PURE__ */ jsxs("div", { className: "bg-white shadow-lg rounded-xl border border-[#00377f]/10 p-6 hover:shadow-xl transition-all duration-300 relative overflow-hidden", children: [
    /* @__PURE__ */ jsxs("div", { className: "relative z-10 flex flex-col sm:flex-row sm:items-center justify-between mb-6", children: [
      /* @__PURE__ */ jsxs("div", { className: "flex items-center mb-4 sm:mb-0", children: [
        /* @__PURE__ */ jsx("div", { className: "bg-[#00377f]/5 p-2.5 rounded-lg mr-4", children: /* @__PURE__ */ jsx(MdFilterList, { className: "text-[#00377f] text-2xl" }) }),
        /* @__PURE__ */ jsxs("div", { children: [
          /* @__PURE__ */ jsx("h3", { className: "text-xl font-bold text-[#00377f]", children: "Users Directory" }),
          /* @__PURE__ */ jsx("p", { className: "text-sm text-[#00377f]/60 mt-0.5", children: "Manage your organization's user accounts" })
        ] })
      ] }),
      /* @__PURE__ */ jsxs(
        "a",
        {
          href: "/user/create",
          className: "bg-[#e63946] hover:bg-[#e63946]/90 text-white px-5 py-2.5 rounded-lg text-sm font-medium transition-colors duration-200 flex items-center shadow-sm",
          children: [
            /* @__PURE__ */ jsx(HiOutlinePlus, { className: "mr-2" }),
            "New User"
          ]
        }
      )
    ] }),
    /* @__PURE__ */ jsx("div", { className: "relative z-10", children: /* @__PURE__ */ jsx(DataTable, { slug: "users", columns, rows: users.data, includeActionColumn: false }) })
  ] }) });
}
const __vite_glob_0_84 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: Index
}, Symbol.toStringTag, { value: "Module" }));
function VerificationForm() {
  const { data, setData, post, errors, processing } = useForm({
    code: ""
  });
  function handleSubmit(e2) {
    e2.preventDefault();
    post(window.route("verification.process"));
  }
  return /* @__PURE__ */ jsx("div", { className: "min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-gray-50 via-red-50 to-gray-100 px-4 relative overflow-hidden", children: /* @__PURE__ */ jsxs(
    motion.div,
    {
      initial: { opacity: 0, y: -20 },
      animate: { opacity: 1, y: 0 },
      transition: { duration: 0.7 },
      className: "w-full max-w-md z-10",
      children: [
        /* @__PURE__ */ jsx("div", { className: "flex justify-center mb-8", children: /* @__PURE__ */ jsx(
          motion.img,
          {
            src: "Logo.webp",
            alt: "Logo",
            className: "h-16 object-contain",
            initial: { scale: 0.8, opacity: 0 },
            animate: { scale: 1, opacity: 1 },
            transition: { delay: 0.3, type: "spring", stiffness: 100 }
          }
        ) }),
        /* @__PURE__ */ jsxs(
          motion.div,
          {
            initial: { opacity: 0, scale: 0.95 },
            animate: { opacity: 1, scale: 1 },
            transition: { delay: 0.2, duration: 0.5 },
            className: "backdrop-blur-sm bg-white/90 rounded-2xl shadow-2xl overflow-hidden border border-white/20",
            children: [
              /* @__PURE__ */ jsx("div", { className: "bg-gradient-to-r from-red-600 to-red-500 p-8 text-white relative", children: /* @__PURE__ */ jsxs(
                motion.div,
                {
                  initial: { y: 10, opacity: 0 },
                  animate: { y: 0, opacity: 1 },
                  transition: { delay: 0.4, duration: 0.5 },
                  className: "relative z-10",
                  children: [
                    /* @__PURE__ */ jsx("div", { className: "flex justify-center mb-4", children: /* @__PURE__ */ jsx("div", { className: "bg-white/20 p-3 rounded-full", children: /* @__PURE__ */ jsx(Shield, { className: "h-8 w-8 text-white" }) }) }),
                    /* @__PURE__ */ jsx("h1", { className: "text-2xl font-bold text-center", children: "Vérifier une annonce" }),
                    /* @__PURE__ */ jsx("p", { className: "text-center mt-3 text-red-100 max-w-xs mx-auto", children: "Entrez le code unique de l'annonce pour vérifier son authenticité et sa validité" })
                  ]
                }
              ) }),
              /* @__PURE__ */ jsxs("form", { onSubmit: handleSubmit, className: "p-8 space-y-6", children: [
                /* @__PURE__ */ jsxs(
                  motion.div,
                  {
                    className: "relative",
                    initial: { y: 10, opacity: 0 },
                    animate: { y: 0, opacity: 1 },
                    transition: { delay: 0.5, duration: 0.5 },
                    children: [
                      /* @__PURE__ */ jsx("div", { className: "absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none", children: /* @__PURE__ */ jsx(Search, { className: "h-5 w-5 text-red-500" }) }),
                      /* @__PURE__ */ jsx(
                        "input",
                        {
                          type: "text",
                          value: data.code,
                          onChange: (e2) => setData("code", e2.target.value),
                          placeholder: "Entrez votre code (ex: WP-154-2025)",
                          className: "pl-12 pr-4 py-4 w-full border-0 bg-gray-50/80 rounded-xl focus:ring-2 focus:ring-red-500 focus:bg-white transition-all duration-300 outline-none shadow-inner text-gray-700"
                        }
                      ),
                      /* @__PURE__ */ jsx(
                        motion.div,
                        {
                          className: "absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-red-500 to-red-300",
                          initial: { width: "0%" },
                          animate: { width: data.code ? "100%" : "0%" },
                          transition: { duration: 0.3 }
                        }
                      )
                    ]
                  }
                ),
                errors.code && /* @__PURE__ */ jsx(
                  motion.div,
                  {
                    initial: { opacity: 0, height: 0 },
                    animate: { opacity: 1, height: "auto" },
                    className: "text-red-500 text-sm px-2 bg-red-50 p-3 rounded-lg border-l-4 border-red-500",
                    children: /* @__PURE__ */ jsxs("div", { className: "flex items-start gap-2", children: [
                      /* @__PURE__ */ jsx(
                        "svg",
                        {
                          xmlns: "http://www.w3.org/2000/svg",
                          className: "h-5 w-5 mt-0.5 flex-shrink-0",
                          viewBox: "0 0 20 20",
                          fill: "currentColor",
                          children: /* @__PURE__ */ jsx(
                            "path",
                            {
                              fillRule: "evenodd",
                              d: "M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",
                              clipRule: "evenodd"
                            }
                          )
                        }
                      ),
                      /* @__PURE__ */ jsx("span", { children: errors.code })
                    ] })
                  }
                ),
                /* @__PURE__ */ jsx(
                  motion.button,
                  {
                    type: "submit",
                    disabled: processing,
                    className: "bg-gradient-to-r from-red-600 to-red-500 hover:from-red-700 hover:to-red-600 text-white font-medium px-6 py-4 rounded-xl w-full transition-all duration-300 flex items-center justify-center gap-2 shadow-lg hover:shadow-xl disabled:opacity-70",
                    whileHover: { scale: 1.02 },
                    whileTap: { scale: 0.98 },
                    initial: { y: 10, opacity: 0 },
                    animate: { y: 0, opacity: 1 },
                    transition: { delay: 0.6, duration: 0.5 },
                    children: processing ? /* @__PURE__ */ jsxs(Fragment, { children: [
                      /* @__PURE__ */ jsxs(
                        "svg",
                        {
                          className: "animate-spin -ml-1 mr-2 h-5 w-5 text-white",
                          xmlns: "http://www.w3.org/2000/svg",
                          fill: "none",
                          viewBox: "0 0 24 24",
                          children: [
                            /* @__PURE__ */ jsx(
                              "circle",
                              {
                                className: "opacity-25",
                                cx: "12",
                                cy: "12",
                                r: "10",
                                stroke: "currentColor",
                                strokeWidth: "4"
                              }
                            ),
                            /* @__PURE__ */ jsx(
                              "path",
                              {
                                className: "opacity-75",
                                fill: "currentColor",
                                d: "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
                              }
                            )
                          ]
                        }
                      ),
                      "Vérification en cours..."
                    ] }) : /* @__PURE__ */ jsxs(Fragment, { children: [
                      /* @__PURE__ */ jsx(CheckCircle, { className: "h-5 w-5" }),
                      "Vérifier maintenant"
                    ] })
                  }
                )
              ] }),
              /* @__PURE__ */ jsxs(
                motion.div,
                {
                  className: "bg-gray-50/80 px-8 py-6 border-t border-gray-100",
                  initial: { y: 10, opacity: 0 },
                  animate: { y: 0, opacity: 1 },
                  transition: { delay: 0.7, duration: 0.5 },
                  children: [
                    /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-center gap-2 mb-3", children: [
                      /* @__PURE__ */ jsx("div", { className: "h-px bg-gray-200 w-12" }),
                      /* @__PURE__ */ jsx("span", { className: "text-xs font-medium text-gray-400 uppercase tracking-wider", children: "Sécurité garantie" }),
                      /* @__PURE__ */ jsx("div", { className: "h-px bg-gray-200 w-12" })
                    ] }),
                    /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 text-center", children: "Chaque annonce publiée sur notre plateforme possède un code unique qui garantit son authenticité et sa traçabilité." })
                  ]
                }
              )
            ]
          }
        ),
        /* @__PURE__ */ jsxs(
          motion.div,
          {
            className: "mt-6 text-center text-xs text-gray-400",
            initial: { opacity: 0 },
            animate: { opacity: 1 },
            transition: { delay: 0.8 },
            children: [
              "© ",
              (/* @__PURE__ */ new Date()).getFullYear(),
              " Tous droits réservés"
            ]
          }
        )
      ]
    }
  ) });
}
const __vite_glob_0_85 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: VerificationForm
}, Symbol.toStringTag, { value: "Module" }));
function VerificationResult({ annonce }) {
  const containerVariants = {
    hidden: { opacity: 0 },
    visible: {
      opacity: 1,
      transition: {
        staggerChildren: 0.1
      }
    }
  };
  const itemVariants = {
    hidden: { y: 20, opacity: 0 },
    visible: {
      y: 0,
      opacity: 1,
      transition: { type: "spring", stiffness: 100 }
    }
  };
  return /* @__PURE__ */ jsxs("div", { className: "min-h-screen flex flex-col items-center justify-center bg-gradient-to-b from-gray-50 to-gray-100 px-4 py-10", children: [
    /* @__PURE__ */ jsx(
      motion.div,
      {
        initial: { opacity: 0, y: -20 },
        animate: { opacity: 1, y: 0 },
        transition: { duration: 0.5 },
        className: "w-full max-w-md mb-6",
        children: /* @__PURE__ */ jsx("div", { className: "flex justify-center mb-4", children: /* @__PURE__ */ jsx("img", { src: "/Logo.webp", alt: "Logo", className: "h-16" }) })
      }
    ),
    /* @__PURE__ */ jsx(
      motion.div,
      {
        initial: { opacity: 0, scale: 0.95 },
        animate: { opacity: 1, scale: 1 },
        transition: { duration: 0.5 },
        className: "w-full max-w-md",
        children: /* @__PURE__ */ jsxs("div", { className: "relative bg-white rounded-xl shadow-lg overflow-hidden border border-gray-100", children: [
          /* @__PURE__ */ jsxs("div", { className: "bg-gradient-to-r from-green-500 to-green-600 p-6 text-white relative overflow-hidden", children: [
            /* @__PURE__ */ jsx("div", { className: "absolute top-0 right-0 w-32 h-32 -mt-10 -mr-10 bg-white/10 rounded-full" }),
            /* @__PURE__ */ jsx("div", { className: "absolute bottom-0 left-0 w-24 h-24 -mb-10 -ml-10 bg-white/10 rounded-full" }),
            /* @__PURE__ */ jsxs("div", { className: "flex flex-col items-center justify-center relative z-10", children: [
              /* @__PURE__ */ jsx(
                motion.div,
                {
                  initial: { scale: 0 },
                  animate: { scale: 1 },
                  transition: {
                    type: "spring",
                    stiffness: 200,
                    delay: 0.2,
                    duration: 0.6
                  },
                  className: "bg-white rounded-full p-2 mb-3 shadow-lg",
                  children: /* @__PURE__ */ jsx(CheckCircle, { className: "h-10 w-10 text-green-500" })
                }
              ),
              /* @__PURE__ */ jsx("h1", { className: "text-2xl font-bold text-center", children: "Annonce Vérifiée!" }),
              /* @__PURE__ */ jsx("p", { className: "text-green-100 mt-1 text-center", children: "Cette annonce est authentique et a été publiée sur notre plateforme" })
            ] })
          ] }),
          /* @__PURE__ */ jsxs(motion.div, { className: "p-6", variants: containerVariants, initial: "hidden", animate: "visible", children: [
            /* @__PURE__ */ jsxs(
              motion.div,
              {
                variants: itemVariants,
                className: "bg-gray-50 rounded-lg p-4 mb-4 flex items-start hover:shadow-md transition-shadow duration-300",
                children: [
                  /* @__PURE__ */ jsx(FileText, { className: "h-5 w-5 text-gray-500 mt-0.5 mr-3 flex-shrink-0" }),
                  /* @__PURE__ */ jsxs("div", { className: "text-left", children: [
                    /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 mb-1", children: "Titre de l'annonce" }),
                    /* @__PURE__ */ jsx("p", { className: "font-medium text-gray-800", children: annonce.title })
                  ] })
                ]
              }
            ),
            /* @__PURE__ */ jsxs(
              motion.div,
              {
                variants: itemVariants,
                className: "bg-gray-50 rounded-lg p-4 mb-4 flex items-start hover:shadow-md transition-shadow duration-300",
                children: [
                  /* @__PURE__ */ jsx(Building, { className: "h-5 w-5 text-gray-500 mt-0.5 mr-3 flex-shrink-0" }),
                  /* @__PURE__ */ jsxs("div", { className: "text-left", children: [
                    /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 mb-1", children: "Société" }),
                    /* @__PURE__ */ jsx("p", { className: "font-medium text-gray-800", children: annonce.nameSociete })
                  ] })
                ]
              }
            ),
            /* @__PURE__ */ jsxs(
              motion.div,
              {
                variants: itemVariants,
                className: "bg-gray-50 rounded-lg p-4 mb-4 flex items-start hover:shadow-md transition-shadow duration-300",
                children: [
                  /* @__PURE__ */ jsx(Hash, { className: "h-5 w-5 text-gray-500 mt-0.5 mr-3 flex-shrink-0" }),
                  /* @__PURE__ */ jsxs("div", { className: "text-left", children: [
                    /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 mb-1", children: "ICE" }),
                    /* @__PURE__ */ jsx("p", { className: "font-medium text-gray-800", children: annonce.ICE })
                  ] })
                ]
              }
            ),
            /* @__PURE__ */ jsxs(
              motion.div,
              {
                variants: itemVariants,
                className: "bg-gray-50 rounded-lg p-4 mb-4 flex items-start hover:shadow-md transition-shadow duration-300",
                children: [
                  /* @__PURE__ */ jsx(Calendar$2, { className: "h-5 w-5 text-gray-500 mt-0.5 mr-3 flex-shrink-0" }),
                  /* @__PURE__ */ jsxs("div", { className: "text-left", children: [
                    /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 mb-1", children: "Date de publication" }),
                    /* @__PURE__ */ jsx("p", { className: "font-medium text-gray-800", children: annonce.date })
                  ] })
                ]
              }
            ),
            /* @__PURE__ */ jsxs(motion.div, { variants: itemVariants, className: "mt-6 flex flex-col sm:flex-row gap-3 justify-center", children: [
              /* @__PURE__ */ jsxs(
                Link,
                {
                  href: "/",
                  className: "flex items-center justify-center gap-2 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-medium px-4 py-3 rounded-lg transition-all duration-200 shadow-md hover:shadow-lg",
                  children: [
                    /* @__PURE__ */ jsx(Home$1, { className: "h-5 w-5" }),
                    "Retour à l'accueil"
                  ]
                }
              ),
              /* @__PURE__ */ jsxs(
                "button",
                {
                  className: "flex items-center justify-center gap-2 bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium px-4 py-3 rounded-lg transition-all duration-200",
                  onClick: () => window.print(),
                  children: [
                    /* @__PURE__ */ jsx(Download, { className: "h-5 w-5" }),
                    "Imprimer"
                  ]
                }
              )
            ] })
          ] }),
          /* @__PURE__ */ jsx("div", { className: "bg-gray-50 px-6 py-4 border-t border-gray-100", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-center gap-2", children: [
            /* @__PURE__ */ jsx("div", { className: "h-2 w-2 rounded-full bg-green-500" }),
            /* @__PURE__ */ jsxs("p", { className: "text-sm text-gray-500", children: [
              "Document vérifié le ",
              (/* @__PURE__ */ new Date()).toLocaleDateString()
            ] })
          ] }) })
        ] })
      }
    )
  ] });
}
const __vite_glob_0_86 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: VerificationResult
}, Symbol.toStringTag, { value: "Module" }));
function Welcome({
  auth,
  laravelVersion,
  phpVersion
}) {
  const handleImageError = () => {
    var _a2, _b, _c, _d;
    (_a2 = document.getElementById("screenshot-container")) == null ? void 0 : _a2.classList.add("!hidden");
    (_b = document.getElementById("docs-card")) == null ? void 0 : _b.classList.add("!row-span-1");
    (_c = document.getElementById("docs-card-content")) == null ? void 0 : _c.classList.add("!flex-row");
    (_d = document.getElementById("background")) == null ? void 0 : _d.classList.add("!hidden");
  };
  return /* @__PURE__ */ jsx(Fragment, { children: /* @__PURE__ */ jsxs("div", { className: "bg-gray-50 text-black/50 dark:bg-black dark:text-white/50", children: [
    /* @__PURE__ */ jsx(
      "img",
      {
        id: "background",
        className: "absolute -left-20 top-0 max-w-[877px]",
        src: "https://laravel.com/assets/img/welcome/background.svg"
      }
    ),
    /* @__PURE__ */ jsx("div", { className: "relative flex min-h-screen flex-col items-center justify-center selection:bg-[#FF2D20] selection:text-white", children: /* @__PURE__ */ jsxs("div", { className: "relative w-full max-w-2xl px-6 lg:max-w-7xl", children: [
      /* @__PURE__ */ jsxs("header", { className: "grid grid-cols-2 items-center gap-2 py-10 lg:grid-cols-3", children: [
        /* @__PURE__ */ jsx("div", { className: "flex lg:col-start-2 lg:justify-center", children: /* @__PURE__ */ jsx(
          "svg",
          {
            className: "h-12 w-auto text-white lg:h-16 lg:text-[#FF2D20]",
            viewBox: "0 0 62 65",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg",
            children: /* @__PURE__ */ jsx(
              "path",
              {
                d: "M61.8548 14.6253C61.8778 14.7102 61.8895 14.7978 61.8897 14.8858V28.5615C61.8898 28.737 61.8434 28.9095 61.7554 29.0614C61.6675 29.2132 61.5409 29.3392 61.3887 29.4265L49.9104 36.0351V49.1337C49.9104 49.4902 49.7209 49.8192 49.4118 49.9987L25.4519 63.7916C25.3971 63.8227 25.3372 63.8427 25.2774 63.8639C25.255 63.8714 25.2338 63.8851 25.2101 63.8913C25.0426 63.9354 24.8666 63.9354 24.6991 63.8913C24.6716 63.8838 24.6467 63.8689 24.6205 63.8589C24.5657 63.8389 24.5084 63.8215 24.456 63.7916L0.501061 49.9987C0.348882 49.9113 0.222437 49.7853 0.134469 49.6334C0.0465019 49.4816 0.000120578 49.3092 0 49.1337L0 8.10652C0 8.01678 0.0124642 7.92953 0.0348998 7.84477C0.0423783 7.8161 0.0598282 7.78993 0.0697995 7.76126C0.0884958 7.70891 0.105946 7.65531 0.133367 7.6067C0.152063 7.5743 0.179485 7.54812 0.20192 7.51821C0.230588 7.47832 0.256763 7.43719 0.290416 7.40229C0.319084 7.37362 0.356476 7.35243 0.388883 7.32751C0.425029 7.29759 0.457436 7.26518 0.498568 7.2415L12.4779 0.345059C12.6296 0.257786 12.8015 0.211853 12.9765 0.211853C13.1515 0.211853 13.3234 0.257786 13.475 0.345059L25.4531 7.2415H25.4556C25.4955 7.26643 25.5292 7.29759 25.5653 7.32626C25.5977 7.35119 25.6339 7.37362 25.6625 7.40104C25.6974 7.43719 25.7224 7.47832 25.7523 7.51821C25.7735 7.54812 25.8021 7.5743 25.8196 7.6067C25.8483 7.65656 25.8645 7.70891 25.8844 7.76126C25.8944 7.78993 25.9118 7.8161 25.9193 7.84602C25.9423 7.93096 25.954 8.01853 25.9542 8.10652V33.7317L35.9355 27.9844V14.8846C35.9355 14.7973 35.948 14.7088 35.9704 14.6253C35.9792 14.5954 35.9954 14.5692 36.0053 14.5405C36.0253 14.4882 36.0427 14.4346 36.0702 14.386C36.0888 14.3536 36.1163 14.3274 36.1375 14.2975C36.1674 14.2576 36.1923 14.2165 36.2272 14.1816C36.2559 14.1529 36.292 14.1317 36.3244 14.1068C36.3618 14.0769 36.3942 14.0445 36.4341 14.0208L48.4147 7.12434C48.5663 7.03694 48.7383 6.99094 48.9133 6.99094C49.0883 6.99094 49.2602 7.03694 49.4118 7.12434L61.3899 14.0208C61.4323 14.0457 61.4647 14.0769 61.5021 14.1055C61.5333 14.1305 61.5694 14.1529 61.5981 14.1803C61.633 14.2165 61.6579 14.2576 61.6878 14.2975C61.7103 14.3274 61.7377 14.3536 61.7551 14.386C61.7838 14.4346 61.8 14.4882 61.8199 14.5405C61.8312 14.5692 61.8474 14.5954 61.8548 14.6253ZM59.893 27.9844V16.6121L55.7013 19.0252L49.9104 22.3593V33.7317L59.8942 27.9844H59.893ZM47.9149 48.5566V37.1768L42.2187 40.4299L25.953 49.7133V61.2003L47.9149 48.5566ZM1.99677 9.83281V48.5566L23.9562 61.199V49.7145L12.4841 43.2219L12.4804 43.2194L12.4754 43.2169C12.4368 43.1945 12.4044 43.1621 12.3682 43.1347C12.3371 43.1097 12.3009 43.0898 12.2735 43.0624L12.271 43.0586C12.2386 43.0275 12.2162 42.9888 12.1887 42.9539C12.1638 42.9203 12.1339 42.8916 12.114 42.8567L12.1127 42.853C12.0903 42.8156 12.0766 42.7707 12.0604 42.7283C12.0442 42.6909 12.023 42.656 12.013 42.6161C12.0005 42.5688 11.998 42.5177 11.9931 42.4691C11.9881 42.4317 11.9781 42.3943 11.9781 42.3569V15.5801L6.18848 12.2446L1.99677 9.83281ZM12.9777 2.36177L2.99764 8.10652L12.9752 13.8513L22.9541 8.10527L12.9752 2.36177H12.9777ZM18.1678 38.2138L23.9574 34.8809V9.83281L19.7657 12.2459L13.9749 15.5801V40.6281L18.1678 38.2138ZM48.9133 9.14105L38.9344 14.8858L48.9133 20.6305L58.8909 14.8846L48.9133 9.14105ZM47.9149 22.3593L42.124 19.0252L37.9323 16.6121V27.9844L43.7219 31.3174L47.9149 33.7317V22.3593ZM24.9533 47.987L39.59 39.631L46.9065 35.4555L36.9352 29.7145L25.4544 36.3242L14.9907 42.3482L24.9533 47.987Z",
                fill: "currentColor"
              }
            )
          }
        ) }),
        /* @__PURE__ */ jsx("nav", { className: "-mx-3 flex flex-1 justify-end", children: auth.user ? /* @__PURE__ */ jsx(
          Link,
          {
            href: route("dashboard"),
            className: "rounded-md px-3 py-2 text-black ring-1 ring-transparent transition hover:text-black/70 focus:outline-none focus-visible:ring-[#FF2D20] dark:text-white dark:hover:text-white/80 dark:focus-visible:ring-white",
            children: "Dashboard"
          }
        ) : /* @__PURE__ */ jsxs(Fragment, { children: [
          /* @__PURE__ */ jsx(
            Link,
            {
              href: route("login"),
              className: "rounded-md px-3 py-2 text-black ring-1 ring-transparent transition hover:text-black/70 focus:outline-none focus-visible:ring-[#FF2D20] dark:text-white dark:hover:text-white/80 dark:focus-visible:ring-white",
              children: "Log in"
            }
          ),
          /* @__PURE__ */ jsx(
            Link,
            {
              href: route("register"),
              className: "rounded-md px-3 py-2 text-black ring-1 ring-transparent transition hover:text-black/70 focus:outline-none focus-visible:ring-[#FF2D20] dark:text-white dark:hover:text-white/80 dark:focus-visible:ring-white",
              children: "Register"
            }
          )
        ] }) })
      ] }),
      /* @__PURE__ */ jsx("main", { className: "mt-6", children: /* @__PURE__ */ jsxs("div", { className: "grid gap-6 lg:grid-cols-2 lg:gap-8", children: [
        /* @__PURE__ */ jsxs(
          "a",
          {
            href: "https://laravel.com/docs",
            id: "docs-card",
            className: "flex flex-col items-start gap-6 overflow-hidden rounded-lg bg-white p-6 shadow-[0px_14px_34px_0px_rgba(0,0,0,0.08)] ring-1 ring-white/[0.05] transition duration-300 hover:text-black/70 hover:ring-black/20 focus:outline-none focus-visible:ring-[#FF2D20] md:row-span-3 lg:p-10 lg:pb-10 dark:bg-zinc-900 dark:ring-zinc-800 dark:hover:text-white/70 dark:hover:ring-zinc-700 dark:focus-visible:ring-[#FF2D20]",
            children: [
              /* @__PURE__ */ jsxs(
                "div",
                {
                  id: "screenshot-container",
                  className: "relative flex w-full flex-1 items-stretch",
                  children: [
                    /* @__PURE__ */ jsx(
                      "img",
                      {
                        src: "https://laravel.com/assets/img/welcome/docs-light.svg",
                        alt: "Laravel documentation screenshot",
                        className: "aspect-video h-full w-full flex-1 rounded-[10px] object-cover object-top drop-shadow-[0px_4px_34px_rgba(0,0,0,0.06)] dark:hidden",
                        onError: handleImageError
                      }
                    ),
                    /* @__PURE__ */ jsx(
                      "img",
                      {
                        src: "https://laravel.com/assets/img/welcome/docs-dark.svg",
                        alt: "Laravel documentation screenshot",
                        className: "hidden aspect-video h-full w-full flex-1 rounded-[10px] object-cover object-top drop-shadow-[0px_4px_34px_rgba(0,0,0,0.25)] dark:block"
                      }
                    ),
                    /* @__PURE__ */ jsx("div", { className: "absolute -bottom-16 -left-16 h-40 w-[calc(100%+8rem)] bg-gradient-to-b from-transparent via-white to-white dark:via-zinc-900 dark:to-zinc-900" })
                  ]
                }
              ),
              /* @__PURE__ */ jsxs("div", { className: "relative flex items-center gap-6 lg:items-end", children: [
                /* @__PURE__ */ jsxs(
                  "div",
                  {
                    id: "docs-card-content",
                    className: "flex items-start gap-6 lg:flex-col",
                    children: [
                      /* @__PURE__ */ jsx("div", { className: "flex size-12 shrink-0 items-center justify-center rounded-full bg-[#FF2D20]/10 sm:size-16", children: /* @__PURE__ */ jsxs(
                        "svg",
                        {
                          className: "size-5 sm:size-6",
                          xmlns: "http://www.w3.org/2000/svg",
                          fill: "none",
                          viewBox: "0 0 24 24",
                          children: [
                            /* @__PURE__ */ jsx(
                              "path",
                              {
                                fill: "#FF2D20",
                                d: "M23 4a1 1 0 0 0-1.447-.894L12.224 7.77a.5.5 0 0 1-.448 0L2.447 3.106A1 1 0 0 0 1 4v13.382a1.99 1.99 0 0 0 1.105 1.79l9.448 4.728c.14.065.293.1.447.1.154-.005.306-.04.447-.105l9.453-4.724a1.99 1.99 0 0 0 1.1-1.789V4ZM3 6.023a.25.25 0 0 1 .362-.223l7.5 3.75a.251.251 0 0 1 .138.223v11.2a.25.25 0 0 1-.362.224l-7.5-3.75a.25.25 0 0 1-.138-.22V6.023Zm18 11.2a.25.25 0 0 1-.138.224l-7.5 3.75a.249.249 0 0 1-.329-.099.249.249 0 0 1-.033-.12V9.772a.251.251 0 0 1 .138-.224l7.5-3.75a.25.25 0 0 1 .362.224v11.2Z"
                              }
                            ),
                            /* @__PURE__ */ jsx(
                              "path",
                              {
                                fill: "#FF2D20",
                                d: "m3.55 1.893 8 4.048a1.008 1.008 0 0 0 .9 0l8-4.048a1 1 0 0 0-.9-1.785l-7.322 3.706a.506.506 0 0 1-.452 0L4.454.108a1 1 0 0 0-.9 1.785H3.55Z"
                              }
                            )
                          ]
                        }
                      ) }),
                      /* @__PURE__ */ jsxs("div", { className: "pt-3 sm:pt-5 lg:pt-0", children: [
                        /* @__PURE__ */ jsx("h2", { className: "text-xl font-semibold text-black dark:text-white", children: "Documentation" }),
                        /* @__PURE__ */ jsx("p", { className: "mt-4 text-sm/relaxed", children: "Laravel has wonderful documentation covering every aspect of the framework. Whether you are a newcomer or have prior experience with Laravel, we recommend reading our documentation from beginning to end." })
                      ] })
                    ]
                  }
                ),
                /* @__PURE__ */ jsx(
                  "svg",
                  {
                    className: "size-6 shrink-0 stroke-[#FF2D20]",
                    xmlns: "http://www.w3.org/2000/svg",
                    fill: "none",
                    viewBox: "0 0 24 24",
                    strokeWidth: "1.5",
                    children: /* @__PURE__ */ jsx(
                      "path",
                      {
                        strokeLinecap: "round",
                        strokeLinejoin: "round",
                        d: "M4.5 12h15m0 0l-6.75-6.75M19.5 12l-6.75 6.75"
                      }
                    )
                  }
                )
              ] })
            ]
          }
        ),
        /* @__PURE__ */ jsxs(
          "a",
          {
            href: "https://laracasts.com",
            className: "flex items-start gap-4 rounded-lg bg-white p-6 shadow-[0px_14px_34px_0px_rgba(0,0,0,0.08)] ring-1 ring-white/[0.05] transition duration-300 hover:text-black/70 hover:ring-black/20 focus:outline-none focus-visible:ring-[#FF2D20] lg:pb-10 dark:bg-zinc-900 dark:ring-zinc-800 dark:hover:text-white/70 dark:hover:ring-zinc-700 dark:focus-visible:ring-[#FF2D20]",
            children: [
              /* @__PURE__ */ jsx("div", { className: "flex size-12 shrink-0 items-center justify-center rounded-full bg-[#FF2D20]/10 sm:size-16", children: /* @__PURE__ */ jsx(
                "svg",
                {
                  className: "size-5 sm:size-6",
                  xmlns: "http://www.w3.org/2000/svg",
                  fill: "none",
                  viewBox: "0 0 24 24",
                  children: /* @__PURE__ */ jsx("g", { fill: "#FF2D20", children: /* @__PURE__ */ jsx("path", { d: "M24 8.25a.5.5 0 0 0-.5-.5H.5a.5.5 0 0 0-.5.5v12a2.5 2.5 0 0 0 2.5 2.5h19a2.5 2.5 0 0 0 2.5-2.5v-12Zm-7.765 5.868a1.221 1.221 0 0 1 0 2.264l-6.626 2.776A1.153 1.153 0 0 1 8 18.123v-5.746a1.151 1.151 0 0 1 1.609-1.035l6.626 2.776ZM19.564 1.677a.25.25 0 0 0-.177-.427H15.6a.106.106 0 0 0-.072.03l-4.54 4.543a.25.25 0 0 0 .177.427h3.783c.027 0 .054-.01.073-.03l4.543-4.543ZM22.071 1.318a.047.047 0 0 0-.045.013l-4.492 4.492a.249.249 0 0 0 .038.385.25.25 0 0 0 .14.042h5.784a.5.5 0 0 0 .5-.5v-2a2.5 2.5 0 0 0-1.925-2.432ZM13.014 1.677a.25.25 0 0 0-.178-.427H9.101a.106.106 0 0 0-.073.03l-4.54 4.543a.25.25 0 0 0 .177.427H8.4a.106.106 0 0 0 .073-.03l4.54-4.543ZM6.513 1.677a.25.25 0 0 0-.177-.427H2.5A2.5 2.5 0 0 0 0 3.75v2a.5.5 0 0 0 .5.5h1.4a.106.106 0 0 0 .073-.03l4.54-4.543Z" }) })
                }
              ) }),
              /* @__PURE__ */ jsxs("div", { className: "pt-3 sm:pt-5", children: [
                /* @__PURE__ */ jsx("h2", { className: "text-xl font-semibold text-black dark:text-white", children: "Laracasts" }),
                /* @__PURE__ */ jsx("p", { className: "mt-4 text-sm/relaxed", children: "Laracasts offers thousands of video tutorials on Laravel, PHP, and JavaScript development. Check them out, see for yourself, and massively level up your development skills in the process." })
              ] }),
              /* @__PURE__ */ jsx(
                "svg",
                {
                  className: "size-6 shrink-0 self-center stroke-[#FF2D20]",
                  xmlns: "http://www.w3.org/2000/svg",
                  fill: "none",
                  viewBox: "0 0 24 24",
                  strokeWidth: "1.5",
                  children: /* @__PURE__ */ jsx(
                    "path",
                    {
                      strokeLinecap: "round",
                      strokeLinejoin: "round",
                      d: "M4.5 12h15m0 0l-6.75-6.75M19.5 12l-6.75 6.75"
                    }
                  )
                }
              )
            ]
          }
        ),
        /* @__PURE__ */ jsxs(
          "a",
          {
            href: "https://laravel-news.com",
            className: "flex items-start gap-4 rounded-lg bg-white p-6 shadow-[0px_14px_34px_0px_rgba(0,0,0,0.08)] ring-1 ring-white/[0.05] transition duration-300 hover:text-black/70 hover:ring-black/20 focus:outline-none focus-visible:ring-[#FF2D20] lg:pb-10 dark:bg-zinc-900 dark:ring-zinc-800 dark:hover:text-white/70 dark:hover:ring-zinc-700 dark:focus-visible:ring-[#FF2D20]",
            children: [
              /* @__PURE__ */ jsx("div", { className: "flex size-12 shrink-0 items-center justify-center rounded-full bg-[#FF2D20]/10 sm:size-16", children: /* @__PURE__ */ jsx(
                "svg",
                {
                  className: "size-5 sm:size-6",
                  xmlns: "http://www.w3.org/2000/svg",
                  fill: "none",
                  viewBox: "0 0 24 24",
                  children: /* @__PURE__ */ jsxs("g", { fill: "#FF2D20", children: [
                    /* @__PURE__ */ jsx("path", { d: "M8.75 4.5H5.5c-.69 0-1.25.56-1.25 1.25v4.75c0 .69.56 1.25 1.25 1.25h3.25c.69 0 1.25-.56 1.25-1.25V5.75c0-.69-.56-1.25-1.25-1.25Z" }),
                    /* @__PURE__ */ jsx("path", { d: "M24 10a3 3 0 0 0-3-3h-2V2.5a2 2 0 0 0-2-2H2a2 2 0 0 0-2 2V20a3.5 3.5 0 0 0 3.5 3.5h17A3.5 3.5 0 0 0 24 20V10ZM3.5 21.5A1.5 1.5 0 0 1 2 20V3a.5.5 0 0 1 .5-.5h14a.5.5 0 0 1 .5.5v17c0 .295.037.588.11.874a.5.5 0 0 1-.484.625L3.5 21.5ZM22 20a1.5 1.5 0 1 1-3 0V9.5a.5.5 0 0 1 .5-.5H21a1 1 0 0 1 1 1v10Z" }),
                    /* @__PURE__ */ jsx("path", { d: "M12.751 6.047h2a.75.75 0 0 1 .75.75v.5a.75.75 0 0 1-.75.75h-2A.75.75 0 0 1 12 7.3v-.5a.75.75 0 0 1 .751-.753ZM12.751 10.047h2a.75.75 0 0 1 .75.75v.5a.75.75 0 0 1-.75.75h-2A.75.75 0 0 1 12 11.3v-.5a.75.75 0 0 1 .751-.753ZM4.751 14.047h10a.75.75 0 0 1 .75.75v.5a.75.75 0 0 1-.75.75h-10A.75.75 0 0 1 4 15.3v-.5a.75.75 0 0 1 .751-.753ZM4.75 18.047h7.5a.75.75 0 0 1 .75.75v.5a.75.75 0 0 1-.75.75h-7.5A.75.75 0 0 1 4 19.3v-.5a.75.75 0 0 1 .75-.753Z" })
                  ] })
                }
              ) }),
              /* @__PURE__ */ jsxs("div", { className: "pt-3 sm:pt-5", children: [
                /* @__PURE__ */ jsx("h2", { className: "text-xl font-semibold text-black dark:text-white", children: "Laravel News" }),
                /* @__PURE__ */ jsx("p", { className: "mt-4 text-sm/relaxed", children: "Laravel News is a community driven portal and newsletter aggregating all of the latest and most important news in the Laravel ecosystem, including new package releases and tutorials." })
              ] }),
              /* @__PURE__ */ jsx(
                "svg",
                {
                  className: "size-6 shrink-0 self-center stroke-[#FF2D20]",
                  xmlns: "http://www.w3.org/2000/svg",
                  fill: "none",
                  viewBox: "0 0 24 24",
                  strokeWidth: "1.5",
                  children: /* @__PURE__ */ jsx(
                    "path",
                    {
                      strokeLinecap: "round",
                      strokeLinejoin: "round",
                      d: "M4.5 12h15m0 0l-6.75-6.75M19.5 12l-6.75 6.75"
                    }
                  )
                }
              )
            ]
          }
        ),
        /* @__PURE__ */ jsxs("div", { className: "flex items-start gap-4 rounded-lg bg-white p-6 shadow-[0px_14px_34px_0px_rgba(0,0,0,0.08)] ring-1 ring-white/[0.05] lg:pb-10 dark:bg-zinc-900 dark:ring-zinc-800", children: [
          /* @__PURE__ */ jsx("div", { className: "flex size-12 shrink-0 items-center justify-center rounded-full bg-[#FF2D20]/10 sm:size-16", children: /* @__PURE__ */ jsx(
            "svg",
            {
              className: "size-5 sm:size-6",
              xmlns: "http://www.w3.org/2000/svg",
              fill: "none",
              viewBox: "0 0 24 24",
              children: /* @__PURE__ */ jsx("g", { fill: "#FF2D20", children: /* @__PURE__ */ jsx("path", { d: "M16.597 12.635a.247.247 0 0 0-.08-.237 2.234 2.234 0 0 1-.769-1.68c.001-.195.03-.39.084-.578a.25.25 0 0 0-.09-.267 8.8 8.8 0 0 0-4.826-1.66.25.25 0 0 0-.268.181 2.5 2.5 0 0 1-2.4 1.824.045.045 0 0 0-.045.037 12.255 12.255 0 0 0-.093 3.86.251.251 0 0 0 .208.214c2.22.366 4.367 1.08 6.362 2.118a.252.252 0 0 0 .32-.079 10.09 10.09 0 0 0 1.597-3.733ZM13.616 17.968a.25.25 0 0 0-.063-.407A19.697 19.697 0 0 0 8.91 15.98a.25.25 0 0 0-.287.325c.151.455.334.898.548 1.328.437.827.981 1.594 1.619 2.28a.249.249 0 0 0 .32.044 29.13 29.13 0 0 0 2.506-1.99ZM6.303 14.105a.25.25 0 0 0 .265-.274 13.048 13.048 0 0 1 .205-4.045.062.062 0 0 0-.022-.07 2.5 2.5 0 0 1-.777-.982.25.25 0 0 0-.271-.149 11 11 0 0 0-5.6 2.815.255.255 0 0 0-.075.163c-.008.135-.02.27-.02.406.002.8.084 1.598.246 2.381a.25.25 0 0 0 .303.193 19.924 19.924 0 0 1 5.746-.438ZM9.228 20.914a.25.25 0 0 0 .1-.393 11.53 11.53 0 0 1-1.5-2.22 12.238 12.238 0 0 1-.91-2.465.248.248 0 0 0-.22-.187 18.876 18.876 0 0 0-5.69.33.249.249 0 0 0-.179.336c.838 2.142 2.272 4 4.132 5.353a.254.254 0 0 0 .15.048c1.41-.01 2.807-.282 4.117-.802ZM18.93 12.957l-.005-.008a.25.25 0 0 0-.268-.082 2.21 2.21 0 0 1-.41.081.25.25 0 0 0-.217.2c-.582 2.66-2.127 5.35-5.75 7.843a.248.248 0 0 0-.09.299.25.25 0 0 0 .065.091 28.703 28.703 0 0 0 2.662 2.12.246.246 0 0 0 .209.037c2.579-.701 4.85-2.242 6.456-4.378a.25.25 0 0 0 .048-.189 13.51 13.51 0 0 0-2.7-6.014ZM5.702 7.058a.254.254 0 0 0 .2-.165A2.488 2.488 0 0 1 7.98 5.245a.093.093 0 0 0 .078-.062 19.734 19.734 0 0 1 3.055-4.74.25.25 0 0 0-.21-.41 12.009 12.009 0 0 0-10.4 8.558.25.25 0 0 0 .373.281 12.912 12.912 0 0 1 4.826-1.814ZM10.773 22.052a.25.25 0 0 0-.28-.046c-.758.356-1.55.635-2.365.833a.25.25 0 0 0-.022.48c1.252.43 2.568.65 3.893.65.1 0 .2 0 .3-.008a.25.25 0 0 0 .147-.444c-.526-.424-1.1-.917-1.673-1.465ZM18.744 8.436a.249.249 0 0 0 .15.228 2.246 2.246 0 0 1 1.352 2.054c0 .337-.08.67-.23.972a.25.25 0 0 0 .042.28l.007.009a15.016 15.016 0 0 1 2.52 4.6.25.25 0 0 0 .37.132.25.25 0 0 0 .096-.114c.623-1.464.944-3.039.945-4.63a12.005 12.005 0 0 0-5.78-10.258.25.25 0 0 0-.373.274c.547 2.109.85 4.274.901 6.453ZM9.61 5.38a.25.25 0 0 0 .08.31c.34.24.616.561.8.935a.25.25 0 0 0 .3.127.631.631 0 0 1 .206-.034c2.054.078 4.036.772 5.69 1.991a.251.251 0 0 0 .267.024c.046-.024.093-.047.141-.067a.25.25 0 0 0 .151-.23A29.98 29.98 0 0 0 15.957.764a.25.25 0 0 0-.16-.164 11.924 11.924 0 0 0-2.21-.518.252.252 0 0 0-.215.076A22.456 22.456 0 0 0 9.61 5.38Z" }) })
            }
          ) }),
          /* @__PURE__ */ jsxs("div", { className: "pt-3 sm:pt-5", children: [
            /* @__PURE__ */ jsx("h2", { className: "text-xl font-semibold text-black dark:text-white", children: "Vibrant Ecosystem" }),
            /* @__PURE__ */ jsxs("p", { className: "mt-4 text-sm/relaxed", children: [
              "Laravel's robust library of first-party tools and libraries, such as",
              " ",
              /* @__PURE__ */ jsx(
                "a",
                {
                  href: "https://forge.laravel.com",
                  className: "rounded-sm underline hover:text-black focus:outline-none focus-visible:ring-1 focus-visible:ring-[#FF2D20] dark:hover:text-white dark:focus-visible:ring-[#FF2D20]",
                  children: "Forge"
                }
              ),
              ",",
              " ",
              /* @__PURE__ */ jsx(
                "a",
                {
                  href: "https://vapor.laravel.com",
                  className: "rounded-sm underline hover:text-black focus:outline-none focus-visible:ring-1 focus-visible:ring-[#FF2D20] dark:hover:text-white",
                  children: "Vapor"
                }
              ),
              ",",
              " ",
              /* @__PURE__ */ jsx(
                "a",
                {
                  href: "https://nova.laravel.com",
                  className: "rounded-sm underline hover:text-black focus:outline-none focus-visible:ring-1 focus-visible:ring-[#FF2D20] dark:hover:text-white",
                  children: "Nova"
                }
              ),
              ",",
              " ",
              /* @__PURE__ */ jsx(
                "a",
                {
                  href: "https://envoyer.io",
                  className: "rounded-sm underline hover:text-black focus:outline-none focus-visible:ring-1 focus-visible:ring-[#FF2D20] dark:hover:text-white",
                  children: "Envoyer"
                }
              ),
              ", and",
              " ",
              /* @__PURE__ */ jsx(
                "a",
                {
                  href: "https://herd.laravel.com",
                  className: "rounded-sm underline hover:text-black focus:outline-none focus-visible:ring-1 focus-visible:ring-[#FF2D20] dark:hover:text-white",
                  children: "Herd"
                }
              ),
              " ",
              "help you take your projects to the next level. Pair them with powerful open source libraries like",
              " ",
              /* @__PURE__ */ jsx(
                "a",
                {
                  href: "https://laravel.com/docs/billing",
                  className: "rounded-sm underline hover:text-black focus:outline-none focus-visible:ring-1 focus-visible:ring-[#FF2D20] dark:hover:text-white",
                  children: "Cashier"
                }
              ),
              ",",
              " ",
              /* @__PURE__ */ jsx(
                "a",
                {
                  href: "https://laravel.com/docs/dusk",
                  className: "rounded-sm underline hover:text-black focus:outline-none focus-visible:ring-1 focus-visible:ring-[#FF2D20] dark:hover:text-white",
                  children: "Dusk"
                }
              ),
              ",",
              " ",
              /* @__PURE__ */ jsx(
                "a",
                {
                  href: "https://laravel.com/docs/broadcasting",
                  className: "rounded-sm underline hover:text-black focus:outline-none focus-visible:ring-1 focus-visible:ring-[#FF2D20] dark:hover:text-white",
                  children: "Echo"
                }
              ),
              ",",
              " ",
              /* @__PURE__ */ jsx(
                "a",
                {
                  href: "https://laravel.com/docs/horizon",
                  className: "rounded-sm underline hover:text-black focus:outline-none focus-visible:ring-1 focus-visible:ring-[#FF2D20] dark:hover:text-white",
                  children: "Horizon"
                }
              ),
              ",",
              " ",
              /* @__PURE__ */ jsx(
                "a",
                {
                  href: "https://laravel.com/docs/sanctum",
                  className: "rounded-sm underline hover:text-black focus:outline-none focus-visible:ring-1 focus-visible:ring-[#FF2D20] dark:hover:text-white",
                  children: "Sanctum"
                }
              ),
              ",",
              " ",
              /* @__PURE__ */ jsx(
                "a",
                {
                  href: "https://laravel.com/docs/telescope",
                  className: "rounded-sm underline hover:text-black focus:outline-none focus-visible:ring-1 focus-visible:ring-[#FF2D20] dark:hover:text-white",
                  children: "Telescope"
                }
              ),
              ", and more."
            ] })
          ] })
        ] })
      ] }) }),
      /* @__PURE__ */ jsxs("footer", { className: "py-16 text-center text-sm text-black dark:text-white/70", children: [
        "Laravel v",
        laravelVersion,
        " (PHP v",
        phpVersion,
        ")"
      ] })
    ] }) })
  ] }) });
}
const __vite_glob_0_87 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: Welcome
}, Symbol.toStringTag, { value: "Module" }));
const ZiggyJs = ZiggyImport;
globalThis.ZiggyJs = ZiggyJs;
const routeFn = ZiggyJs.route ?? ((_a = ZiggyJs.default) == null ? void 0 : _a.route) ?? ZiggyJs.default ?? ZiggyJs;
try {
  const envUrl = process.env.APP_URL;
  if (envUrl) {
    const u2 = new URL(envUrl);
    Ziggy$2.url = `${u2.protocol}//${u2.host}`;
  }
} catch {
}
globalThis.route = (name, params, absolute) => routeFn(name, params, absolute, Ziggy$2);
const formatHtml = (html) => process.env.NODE_ENV === "production" ? html : pretty(html, { ocd: true });
createServer(
  (page) => createInertiaApp({
    page,
    render: (el) => formatHtml(renderToString(el)),
    resolve: (name) => {
      const pages = /* @__PURE__ */ Object.assign({ "./Pages/Annonce/ApprovedAnnonces.tsx": __vite_glob_0_0, "./Pages/Annonce/Create.tsx": __vite_glob_0_1, "./Pages/Annonce/Edit.tsx": __vite_glob_0_2, "./Pages/Annonce/Index.tsx": __vite_glob_0_3, "./Pages/Annonce/Journal/Index.tsx": __vite_glob_0_4, "./Pages/Annonce/Livrer.tsx": __vite_glob_0_5, "./Pages/Annonce/Show.tsx": __vite_glob_0_6, "./Pages/Annonce/Ticket/Index.tsx": __vite_glob_0_7, "./Pages/Annonce/Ticket/Show.tsx": __vite_glob_0_8, "./Pages/Annonce/Ticket/createTicket.tsx": __vite_glob_0_9, "./Pages/Annonce/Ticket/edit.tsx": __vite_glob_0_10, "./Pages/Annonce/UserAnnonces.tsx": __vite_glob_0_11, "./Pages/Annonce/appel/Index.tsx": __vite_glob_0_12, "./Pages/Annonce/appel/appels-offres/Page.tsx": __vite_glob_0_13, "./Pages/Annonce/appel/create/Page.tsx": __vite_glob_0_14, "./Pages/Annonce/appel/edit/Page.tsx": __vite_glob_0_15, "./Pages/Annonce/appel/show/Page.tsx": __vite_glob_0_16, "./Pages/Annonce/paiement/Index.tsx": __vite_glob_0_17, "./Pages/Auth/ConfirmPassword.tsx": __vite_glob_0_18, "./Pages/Auth/EmailConfirmed.tsx": __vite_glob_0_19, "./Pages/Auth/ForgotPassword.tsx": __vite_glob_0_20, "./Pages/Auth/Login.tsx": __vite_glob_0_21, "./Pages/Auth/Register.tsx": __vite_glob_0_22, "./Pages/Auth/ResetPassword.tsx": __vite_glob_0_23, "./Pages/Auth/VerifyEmail.tsx": __vite_glob_0_24, "./Pages/Calendar.tsx": __vite_glob_0_25, "./Pages/Charts.tsx": __vite_glob_0_26, "./Pages/Client/Acceuil.tsx": __vite_glob_0_27, "./Pages/Client/AcceuilBackup.tsx": __vite_glob_0_28, "./Pages/Client/Apropos.tsx": __vite_glob_0_29, "./Pages/Client/Index.tsx": __vite_glob_0_30, "./Pages/Client/Info/Contact.tsx": __vite_glob_0_31, "./Pages/Client/Info/bank-info.tsx": __vite_glob_0_32, "./Pages/Client/Info/privacy-policy.tsx": __vite_glob_0_33, "./Pages/Client/Links/CGU.tsx": __vite_glob_0_34, "./Pages/Client/Links/Condtion-de-vente.tsx": __vite_glob_0_35, "./Pages/Client/Links/Mention-legale.tsx": __vite_glob_0_36, "./Pages/Client/Ticket/Create/create.tsx": __vite_glob_0_37, "./Pages/Client/Ticket/Show.tsx": __vite_glob_0_38, "./Pages/Client/Ticket/index.tsx": __vite_glob_0_39, "./Pages/Client/annonces/PaiementConfirmation.tsx": __vite_glob_0_40, "./Pages/Client/annonces/PurchaseNotComplete.tsx": __vite_glob_0_41, "./Pages/Client/annonces/mes-annonces/page.tsx": __vite_glob_0_42, "./Pages/Client/annonces/modifier/page.tsx": __vite_glob_0_43, "./Pages/Client/annonces/page.tsx": __vite_glob_0_44, "./Pages/Client/annonces/paiement/page.tsx": __vite_glob_0_45, "./Pages/Client/annonces/publier/Page.tsx": __vite_glob_0_46, "./Pages/Client/annonces/single-annonce/Page.tsx": __vite_glob_0_47, "./Pages/Client/appel-offre/Index.tsx": __vite_glob_0_48, "./Pages/Client/appel-offre/create/Page.tsx": __vite_glob_0_49, "./Pages/Client/appel-offre/edit/Page.tsx": __vite_glob_0_50, "./Pages/Client/appel-offre/mes/Page.tsx": __vite_glob_0_51, "./Pages/Client/appel-offre/paiement/Confirmation.tsx": __vite_glob_0_52, "./Pages/Client/appel-offre/paiement/Page.tsx": __vite_glob_0_53, "./Pages/Client/appel-offre/show/Page.tsx": __vite_glob_0_54, "./Pages/Client/contact.tsx": __vite_glob_0_55, "./Pages/Client/journaux/Index.tsx": __vite_glob_0_56, "./Pages/Client/payment/Historique.tsx": __vite_glob_0_57, "./Pages/Dashboard.tsx": __vite_glob_0_58, "./Pages/EditProfile.tsx": __vite_glob_0_59, "./Pages/Error.tsx": __vite_glob_0_60, "./Pages/Errors/Error403.tsx": __vite_glob_0_61, "./Pages/Errors/Error404.tsx": __vite_glob_0_62, "./Pages/Errors/Error500.tsx": __vite_glob_0_63, "./Pages/Home.tsx": __vite_glob_0_64, "./Pages/Login.tsx": __vite_glob_0_65, "./Pages/Logs.tsx": __vite_glob_0_66, "./Pages/Notes.tsx": __vite_glob_0_67, "./Pages/Orders.tsx": __vite_glob_0_68, "./Pages/Paiement/Confirmation.tsx": __vite_glob_0_69, "./Pages/Posts.tsx": __vite_glob_0_70, "./Pages/Product.tsx": __vite_glob_0_71, "./Pages/Products.tsx": __vite_glob_0_72, "./Pages/Profile.tsx": __vite_glob_0_73, "./Pages/Profile/Edit.tsx": __vite_glob_0_74, "./Pages/Profile/Partials/DeleteUserForm.tsx": __vite_glob_0_75, "./Pages/Profile/Partials/UpdatePasswordForm.tsx": __vite_glob_0_76, "./Pages/Profile/Partials/UpdateProfileInformationForm.tsx": __vite_glob_0_77, "./Pages/Sitemap/Index.tsx": __vite_glob_0_78, "./Pages/User.tsx": __vite_glob_0_79, "./Pages/User/Create.tsx": __vite_glob_0_80, "./Pages/User/Edit.tsx": __vite_glob_0_81, "./Pages/User/Favorite.tsx": __vite_glob_0_82, "./Pages/User/Index.tsx": __vite_glob_0_83, "./Pages/Users.tsx": __vite_glob_0_84, "./Pages/Verification/Index.tsx": __vite_glob_0_85, "./Pages/Verification/Result.tsx": __vite_glob_0_86, "./Pages/Welcome.tsx": __vite_glob_0_87 });
      return pages[`./Pages/${name}.tsx`];
    },
    setup: ({ App, props }) => /* @__PURE__ */ jsx(App, { ...props })
  })
);
